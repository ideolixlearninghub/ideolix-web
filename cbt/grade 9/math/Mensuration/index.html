<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 9 Math - Mensuration | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Mensuration Theme */
        :root {
            --area-blue: #2196F3;
            --volume-green: #4CAF50;
            --surface-orange: #FF9800;
            --prism-purple: #9C27B0;
            --cylinder-teal: #009688;
            --3d-yellow: #FFC107;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --measurement-gold: #FFD700;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(33, 150, 243, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 90% 30%, rgba(76, 175, 80, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 50% 80%, rgba(255, 152, 0, 0.08) 0%, transparent 40%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 10px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info h1 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--area-blue), var(--surface-orange), var(--volume-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(33, 150, 243, 0.15);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            border: 2px solid var(--area-blue);
        }

        .input-group {
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--area-blue);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-area {
            background: var(--area-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-area:hover {
            background: #1976D2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
        }

        .btn-volume {
            background: var(--volume-green);
            color: white;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .btn-volume:hover {
            background: #388E3C;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }

        .btn-surface {
            background: var(--surface-orange);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
        }

        .btn-surface:hover {
            background: #F57C00;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 152, 0, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--area-blue);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Page */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 8px;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--area-blue), var(--volume-green));
            border-radius: 8px;
            transition: width 0.5s ease;
        }

        .question-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.6;
            color: var(--text-primary);
        }

        .mensuration-tip {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--measurement-gold);
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--area-blue);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--volume-green);
            color: var(--volume-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 25px;
            height: 25px;
            background: var(--area-blue);
            border-radius: 50%;
            margin-right: 12px;
            font-weight: bold;
            color: white;
        }

        .option.correct .option-letter {
            background: var(--volume-green);
        }

        .option.incorrect .option-letter {
            background: #F44336;
        }

        /* Feedback */
        .feedback-container {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--volume-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--volume-green);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .feedback-correct .feedback-title {
            color: var(--volume-green);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-explanation {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Navigation */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Mensuration Practice Area */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
            overflow: auto;
            max-height: 900px;
        }

        /* Practice Sections */
        .practice-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid;
            position: relative;
        }

        .area-section {
            border-color: var(--area-blue);
        }

        .volume-section {
            border-color: var(--volume-green);
        }

        .surface-section {
            border-color: var(--surface-orange);
        }

        .prism-section {
            border-color: var(--prism-purple);
        }

        .cylinder-section {
            border-color: var(--cylinder-teal);
        }

        .compound-section {
            border-color: var(--measurement-gold);
        }

        .section-title {
            color: inherit;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
            font-size: 1.1rem;
        }

        /* 3D Visualization */
        .geometry-canvas-container {
            position: relative;
            width: 100%;
            height: 200px;
            background: var(--dark-surface);
            border-radius: 6px;
            margin: 10px 0;
            overflow: hidden;
            border: 1px solid var(--dark-border);
        }

        .geometry-canvas {
            width: 100%;
            height: 100%;
        }

        /* Measurement Input */
        .measurement-input-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }

        .measurement-input {
            width: 100px;
            padding: 8px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 1rem;
            text-align: center;
        }

        .measurement-input:focus {
            outline: none;
            border-color: var(--area-blue);
        }

        .measurement-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            min-width: 120px;
        }

        .unit-display {
            color: var(--measurement-gold);
            font-size: 0.9rem;
            margin-left: 5px;
        }

        /* Formula Display */
        .formula-display {
            background: rgba(33, 150, 243, 0.1);
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            text-align: center;
            color: var(--area-blue);
            border-left: 3px solid var(--area-blue);
        }

        /* 3D Shape Selector */
        .shape-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
        }

        .shape-option {
            width: 70px;
            height: 70px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: var(--dark-surface);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .shape-option:hover {
            border-color: var(--area-blue);
            transform: scale(1.05);
        }

        .shape-option.active {
            border-color: var(--area-blue);
            background: rgba(33, 150, 243, 0.1);
        }

        .shape-icon {
            width: 40px;
            height: 40px;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .shape-name {
            font-size: 0.7rem;
            color: var(--text-secondary);
            text-align: center;
        }

        /* Net Display */
        .net-container {
            position: relative;
            width: 100%;
            height: 150px;
            background: var(--dark-surface);
            border-radius: 6px;
            margin: 10px 0;
            border: 1px solid var(--dark-border);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Volume Display */
        .volume-display {
            background: rgba(76, 175, 80, 0.1);
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
            border-left: 3px solid var(--volume-green);
            font-size: 0.9rem;
        }

        /* Surface Area Display */
        .surface-display {
            background: rgba(255, 152, 0, 0.1);
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
            border-left: 3px solid var(--surface-orange);
            font-size: 0.9rem;
        }

        /* Mensuration Controls */
        .mensuration-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 15px 0;
            justify-content: center;
        }

        /* Step Display */
        .step-display {
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 10px;
            margin: 10px 0;
            font-size: 0.9rem;
            line-height: 1.4;
            color: var(--text-secondary);
            max-height: 150px;
            overflow-y: auto;
        }

        /* Solution Display */
        .solution-display {
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
        }

        /* Quick Reference */
        .reference-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--measurement-gold);
        }

        .formulas-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
        }

        .formulas-table th {
            background: var(--dark-card);
            padding: 12px;
            text-align: left;
            font-size: 0.9rem;
            border-bottom: 2px solid var(--measurement-gold);
            color: var(--measurement-gold);
        }

        .formulas-table td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
            font-size: 0.85rem;
        }

        .formula-cell {
            font-family: 'Courier New', monospace;
            color: var(--area-blue);
        }

        /* Unit Converter */
        .converter-section {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            justify-content: center;
        }

        .converter-input {
            width: 100px;
            padding: 8px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 6px;
            color: var(--text-primary);
            text-align: center;
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }

        .results-title {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--area-blue), var(--volume-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--area-blue), var(--volume-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .stats-container {
                grid-template-columns: 1fr;
            }
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--area-blue);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes rotate3D {
            0% { transform: rotateY(0deg) rotateX(0deg); }
            25% { transform: rotateY(90deg) rotateX(10deg); }
            50% { transform: rotateY(180deg) rotateX(20deg); }
            75% { transform: rotateY(270deg) rotateX(10deg); }
            100% { transform: rotateY(360deg) rotateX(0deg); }
        }

        .rotate-3d {
            animation: rotate3D 10s linear infinite;
        }

        @keyframes fillAnimation {
            from { height: 0%; }
            to { height: var(--fill-percentage); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 1.8rem;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .mensuration-controls {
                flex-direction: column;
            }
            
            .mensuration-controls .btn {
                width: 100%;
            }
            
            .measurement-input-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .measurement-input {
                width: 100%;
            }
            
            .shape-selector {
                justify-content: space-around;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <h1 class="welcome-title">Grade 9 Mensuration: Area & Volume</h1>
            <p class="welcome-subtitle">Master area, surface area, and volume calculations for prisms, cylinders, and composite shapes. Learn to apply formulas, solve real-world problems, and visualize 3D geometry.</p>
            
            <div class="topic-badge">
                <span>üìè Area ‚Ä¢ Surface Area ‚Ä¢ Volume ‚Ä¢ Prisms ‚Ä¢ Cylinders ‚Ä¢ 3D Geometry ‚Ä¢ Applications</span>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your name:</label>
                <input type="text" id="studentName" placeholder="Your name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-area" id="startPractice">
                    <span>üìö Begin Mensuration Practice (100+ Questions)</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 100</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 1%"></div>
                </div>
            </div>

            <div class="question-container">
                <div id="mensurationTip"></div>
                
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-explanation" id="feedbackExplanation"></div>
                </div>
            </div>
            
            <!-- Mensuration Practice Area -->
            <div class="content-wrapper">
                <div class="visualization-container">
                    <!-- 2D Area Calculator -->
                    <div class="practice-section area-section">
                        <div class="section-title">2D Area Calculator</div>
                        
                        <div class="shape-selector">
                            <div class="shape-option active" onclick="selectShape('rectangle')">
                                <div class="shape-icon" id="rectangleIcon"></div>
                                <span class="shape-name">Rectangle</span>
                            </div>
                            <div class="shape-option" onclick="selectShape('triangle')">
                                <div class="shape-icon" id="triangleIcon"></div>
                                <span class="shape-name">Triangle</span>
                            </div>
                            <div class="shape-option" onclick="selectShape('circle')">
                                <div class="shape-icon" id="circleIcon"></div>
                                <span class="shape-name">Circle</span>
                            </div>
                            <div class="shape-option" onclick="selectShape('trapezoid')">
                                <div class="shape-icon" id="trapezoidIcon"></div>
                                <span class="shape-name">Trapezoid</span>
                            </div>
                        </div>
                        
                        <div id="shapeInputs">
                            <!-- Inputs will be dynamically generated -->
                        </div>
                        
                        <div class="formula-display" id="areaFormula">
                            Area = length √ó width
                        </div>
                        
                        <div class="mensuration-controls">
                            <button class="btn btn-small btn-area" onclick="calculateArea()">Calculate Area</button>
                            <button class="btn btn-small btn-outline" onclick="explainAreaFormulas()">Show All Formulas</button>
                            <button class="btn btn-small btn-outline" onclick="randomAreaProblem()">Random Problem</button>
                        </div>
                        
                        <div class="solution-display" id="areaResult">
                            Enter dimensions and click Calculate
                        </div>
                    </div>
                    
                    <!-- Prism Calculator -->
                    <div class="practice-section prism-section">
                        <div class="section-title">Prism Calculator</div>
                        
                        <div class="geometry-canvas-container">
                            <canvas class="geometry-canvas" id="prismCanvas" width="400" height="200"></canvas>
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Base Length:</span>
                            <input type="number" id="prismLength" class="measurement-input" value="10" min="1" step="0.1">
                            <span class="unit-display">cm</span>
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Base Width:</span>
                            <input type="number" id="prismWidth" class="measurement-input" value="5" min="1" step="0.1">
                            <span class="unit-display">cm</span>
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Height:</span>
                            <input type="number" id="prismHeight" class="measurement-input" value="8" min="1" step="0.1">
                            <span class="unit-display">cm</span>
                        </div>
                        
                        <div class="mensuration-controls">
                            <button class="btn btn-small" style="background: var(--prism-purple); color: white;" onclick="calculatePrism()">Calculate Prism</button>
                            <button class="btn btn-small btn-outline" onclick="explainPrismFormulas()">Prism Formulas</button>
                            <select id="prismType" class="measurement-input" style="width: 120px;">
                                <option value="rectangular">Rectangular</option>
                                <option value="triangular">Triangular</option>
                                <option value="hexagonal">Hexagonal</option>
                            </select>
                        </div>
                        
                        <div class="volume-display" id="prismVolume">
                            Volume = Base Area √ó Height
                        </div>
                        
                        <div class="surface-display" id="prismSurface">
                            Surface Area = Sum of all faces
                        </div>
                    </div>
                    
                    <!-- Cylinder Calculator -->
                    <div class="practice-section cylinder-section">
                        <div class="section-title">Cylinder Calculator</div>
                        
                        <div class="geometry-canvas-container">
                            <canvas class="geometry-canvas" id="cylinderCanvas" width="400" height="200"></canvas>
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Radius:</span>
                            <input type="number" id="cylinderRadius" class="measurement-input" value="5" min="1" step="0.1">
                            <span class="unit-display">cm</span>
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Height:</span>
                            <input type="number" id="cylinderHeight" class="measurement-input" value="12" min="1" step="0.1">
                            <span class="unit-display">cm</span>
                        </div>
                        
                        <div class="formula-display">
                            Volume = œÄr¬≤h<br>
                            Surface Area = 2œÄr(h + r)
                        </div>
                        
                        <div class="mensuration-controls">
                            <button class="btn btn-small" style="background: var(--cylinder-teal); color: white;" onclick="calculateCylinder()">Calculate Cylinder</button>
                            <button class="btn btn-small btn-outline" onclick="showCylinderNet()">Show Net</button>
                            <button class="btn btn-small btn-outline" onclick="demonstrateCylinderProof()">Derive Formulas</button>
                        </div>
                        
                        <div class="solution-display" id="cylinderResult">
                            Enter radius and height to calculate
                        </div>
                    </div>
                    
                    <!-- Volume & Capacity -->
                    <div class="practice-section volume-section">
                        <div class="section-title">Volume & Capacity</div>
                        
                        <div class="converter-section">
                            <span class="measurement-label">Volume:</span>
                            <input type="number" id="volumeInput" class="converter-input" value="1000">
                            <select id="volumeUnit" class="measurement-input" style="width: 80px;">
                                <option value="cm3">cm¬≥</option>
                                <option value="m3">m¬≥</option>
                                <option value="liters">L</option>
                                <option value="ml">mL</option>
                            </select>
                            <span class="measurement-label">=</span>
                            <input type="number" id="volumeOutput" class="converter-input" readonly>
                            <select id="convertUnit" class="measurement-input" style="width: 80px;">
                                <option value="liters">L</option>
                                <option value="cm3">cm¬≥</option>
                                <option value="m3">m¬≥</option>
                                <option value="ml">mL</option>
                            </select>
                        </div>
                        
                        <div class="mensuration-controls">
                            <button class="btn btn-small btn-volume" onclick="convertVolume()">Convert</button>
                            <button class="btn btn-small btn-outline" onclick="explainVolumeUnits()">Unit Relationships</button>
                        </div>
                        
                        <div class="step-display" id="unitInfo">
                            <strong>Key Relationships:</strong><br>
                            1 cm¬≥ = 1 mL<br>
                            1000 cm¬≥ = 1 L<br>
                            1 m¬≥ = 1000 L<br>
                            1 m¬≥ = 1,000,000 cm¬≥
                        </div>
                        
                        <div class="volume-display" id="capacityInfo">
                            Capacity refers to the maximum amount a container can hold
                        </div>
                    </div>
                    
                    <!-- Surface Area Calculator -->
                    <div class="practice-section surface-section">
                        <div class="section-title">Surface Area Calculator</div>
                        
                        <div class="net-container">
                            <canvas id="netCanvas" width="300" height="150"></canvas>
                        </div>
                        
                        <div class="shape-selector" style="margin-bottom: 10px;">
                            <div class="shape-option" onclick="selectNet('cube')">
                                <div class="shape-icon" id="cubeIcon"></div>
                                <span class="shape-name">Cube</span>
                            </div>
                            <div class="shape-option" onclick="selectNet('cuboid')">
                                <div class="shape-icon" id="cuboidIcon"></div>
                                <span class="shape-name">Cuboid</span>
                            </div>
                            <div class="shape-option" onclick="selectNet('cylinder')">
                                <div class="shape-icon" id="cylinderIcon"></div>
                                <span class="shape-name">Cylinder</span>
                            </div>
                            <div class="shape-option" onclick="selectNet('triangularPrism')">
                                <div class="shape-icon" id="triPrismIcon"></div>
                                <span class="shape-name">Triangular Prism</span>
                            </div>
                        </div>
                        
                        <div class="mensuration-controls">
                            <button class="btn btn-small btn-surface" onclick="calculateSurfaceArea()">Calculate Surface Area</button>
                            <button class="btn btn-small btn-outline" onclick="showSurfaceFormulas()">All Formulas</button>
                            <button class="btn btn-small btn-outline" onclick="toggleNet()">Toggle Net/3D</button>
                        </div>
                        
                        <div class="solution-display" id="surfaceResult">
                            Select a shape to calculate surface area
                        </div>
                        
                        <div class="step-display" id="surfaceSteps">
                            Surface area = sum of areas of all faces
                        </div>
                    </div>
                    
                    <!-- Quick Reference Formulas -->
                    <div class="reference-section">
                        <div class="section-title">Mensuration Formulas</div>
                        <table class="formulas-table">
                            <thead>
                                <tr>
                                    <th>Shape</th>
                                    <th>Volume Formula</th>
                                    <th>Surface Area Formula</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Cube</td>
                                    <td class="formula-cell">V = s¬≥</td>
                                    <td class="formula-cell">SA = 6s¬≤</td>
                                </tr>
                                <tr>
                                    <td>Cuboid</td>
                                    <td class="formula-cell">V = l √ó w √ó h</td>
                                    <td class="formula-cell">SA = 2(lw + lh + wh)</td>
                                </tr>
                                <tr>
                                    <td>Cylinder</td>
                                    <td class="formula-cell">V = œÄr¬≤h</td>
                                    <td class="formula-cell">SA = 2œÄr(h + r)</td>
                                </tr>
                                <tr>
                                    <td>Triangular Prism</td>
                                    <td class="formula-cell">V = ¬Ωbhl</td>
                                    <td class="formula-cell">SA = bh + l(a+b+c)</td>
                                </tr>
                                <tr>
                                    <td>Sphere</td>
                                    <td class="formula-cell">V = ‚Å¥‚ÅÑ‚ÇÉœÄr¬≥</td>
                                    <td class="formula-cell">SA = 4œÄr¬≤</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Compound Shapes -->
                    <div class="practice-section compound-section">
                        <div class="section-title">Compound Shapes</div>
                        
                        <div class="geometry-canvas-container">
                            <canvas class="geometry-canvas" id="compoundCanvas" width="400" height="200"></canvas>
                        </div>
                        
                        <div class="formula-display" id="compoundFormula">
                            Total Volume = Œ£ Individual Volumes
                        </div>
                        
                        <div class="mensuration-controls">
                            <button class="btn btn-small" style="background: var(--measurement-gold); color: #333;" onclick="calculateCompound()">Calculate Compound</button>
                            <button class="btn btn-small btn-outline" onclick="showCompoundExamples()">Examples</button>
                            <button class="btn btn-small btn-outline" onclick="newCompoundShape()">New Shape</button>
                        </div>
                        
                        <div class="solution-display" id="compoundResult">
                            Compound shapes can be broken into simpler parts
                        </div>
                        
                        <div class="step-display" id="compoundSteps">
                            Strategy: Break into basic shapes, calculate each, then combine
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-surface" id="skipQuestion">Skip Question</button>
                <button class="btn btn-volume" id="nextQuestion" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Mensuration Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="areaScore">0</div>
                        <div class="stat-label">Area Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="volumeScore">0</div>
                        <div class="stat-label">Volume Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="surfaceScore">0</div>
                        <div class="stat-label">Surface Area</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="timeSpent">0min</div>
                        <div class="stat-label">Time Spent</div>
                    </div>
                </div>
                
                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn btn-area" id="retryTopic">Try Again</button>
                    <button class="btn btn-volume" id="viewTopics">Other Topics</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // COMPREHENSIVE 100+ QUESTIONS ON MENSURATION
        
        const questions = [
            // Area Calculations (1-25)
            {
                question: "What is the area of a rectangle with length 8cm and width 5cm?",
                options: ["40 cm¬≤", "13 cm¬≤", "26 cm¬≤", "45 cm¬≤"],
                answer: "A",
                explanation: "Area of rectangle = length √ó width = 8cm √ó 5cm = 40 cm¬≤",
                type: "area"
            },
            {
                question: "Find the area of a triangle with base 10cm and height 6cm.",
                options: ["30 cm¬≤", "60 cm¬≤", "16 cm¬≤", "20 cm¬≤"],
                answer: "A",
                explanation: "Area of triangle = ¬Ω √ó base √ó height = ¬Ω √ó 10cm √ó 6cm = 30 cm¬≤",
                type: "area"
            },
            {
                question: "Calculate the area of a circle with radius 7cm. (Use œÄ = 22/7)",
                options: ["154 cm¬≤", "44 cm¬≤", "88 cm¬≤", "308 cm¬≤"],
                answer: "A",
                explanation: "Area = œÄr¬≤ = (22/7) √ó 7 √ó 7 = 22 √ó 7 = 154 cm¬≤",
                type: "area"
            },
            {
                question: "A trapezoid has parallel sides 8cm and 12cm, height 5cm. What is its area?",
                options: ["50 cm¬≤", "40 cm¬≤", "100 cm¬≤", "60 cm¬≤"],
                answer: "A",
                explanation: "Area = ¬Ω √ó (sum of parallel sides) √ó height = ¬Ω √ó (8+12) √ó 5 = ¬Ω √ó 20 √ó 5 = 50 cm¬≤",
                type: "area"
            },
            {
                question: "Find the area of a parallelogram with base 9cm and height 4cm.",
                options: ["36 cm¬≤", "13 cm¬≤", "18 cm¬≤", "72 cm¬≤"],
                answer: "A",
                explanation: "Area = base √ó height = 9cm √ó 4cm = 36 cm¬≤",
                type: "area"
            },
            {
                question: "What is the area of a square with side 6.5cm?",
                options: ["42.25 cm¬≤", "13 cm¬≤", "39 cm¬≤", "45.5 cm¬≤"],
                answer: "A",
                explanation: "Area = side¬≤ = 6.5cm √ó 6.5cm = 42.25 cm¬≤",
                type: "area"
            },
            {
                question: "Calculate the area of a rhombus with diagonals 8cm and 6cm.",
                options: ["24 cm¬≤", "14 cm¬≤", "48 cm¬≤", "28 cm¬≤"],
                answer: "A",
                explanation: "Area = ¬Ω √ó d‚ÇÅ √ó d‚ÇÇ = ¬Ω √ó 8cm √ó 6cm = 24 cm¬≤",
                type: "area"
            },
            {
                question: "Find the area of a semicircle with radius 14cm. (œÄ = 22/7)",
                options: ["308 cm¬≤", "616 cm¬≤", "154 cm¬≤", "231 cm¬≤"],
                answer: "A",
                explanation: "Area = ¬Ω √ó œÄr¬≤ = ¬Ω √ó (22/7) √ó 14 √ó 14 = ¬Ω √ó 22 √ó 28 = 308 cm¬≤",
                type: "area"
            },
            {
                question: "A circular ring has inner radius 3cm and outer radius 5cm. Find its area.",
                options: ["16œÄ cm¬≤", "8œÄ cm¬≤", "25œÄ cm¬≤", "9œÄ cm¬≤"],
                answer: "A",
                explanation: "Area = œÄ(R¬≤ - r¬≤) = œÄ(5¬≤ - 3¬≤) = œÄ(25 - 9) = 16œÄ cm¬≤",
                type: "area"
            },
            {
                question: "Calculate the area of an equilateral triangle with side 8cm.",
                options: ["16‚àö3 cm¬≤", "32 cm¬≤", "24 cm¬≤", "12‚àö3 cm¬≤"],
                answer: "A",
                explanation: "Area = (‚àö3/4) √ó side¬≤ = (‚àö3/4) √ó 64 = 16‚àö3 cm¬≤",
                type: "area"
            },

            // Volume Calculations (26-50)
            {
                question: "Find the volume of a cube with edge 4cm.",
                options: ["64 cm¬≥", "16 cm¬≥", "48 cm¬≥", "32 cm¬≥"],
                answer: "A",
                explanation: "Volume = side¬≥ = 4cm √ó 4cm √ó 4cm = 64 cm¬≥",
                type: "volume"
            },
            {
                question: "Calculate the volume of a cuboid with dimensions 5cm √ó 3cm √ó 7cm.",
                options: ["105 cm¬≥", "15 cm¬≥", "35 cm¬≥", "50 cm¬≥"],
                answer: "A",
                explanation: "Volume = length √ó width √ó height = 5 √ó 3 √ó 7 = 105 cm¬≥",
                type: "volume"
            },
            {
                question: "What is the volume of a cylinder with radius 7cm and height 10cm? (œÄ = 22/7)",
                options: ["1540 cm¬≥", "440 cm¬≥", "154 cm¬≥", "3080 cm¬≥"],
                answer: "A",
                explanation: "Volume = œÄr¬≤h = (22/7) √ó 7¬≤ √ó 10 = 22 √ó 7 √ó 10 = 1540 cm¬≥",
                type: "volume"
            },
            {
                question: "Find the volume of a triangular prism with base triangle area 24cm¬≤ and length 15cm.",
                options: ["360 cm¬≥", "39 cm¬≥", "120 cm¬≥", "180 cm¬≥"],
                answer: "A",
                explanation: "Volume = Base Area √ó length = 24cm¬≤ √ó 15cm = 360 cm¬≥",
                type: "volume"
            },
            {
                question: "Calculate the volume of a sphere with radius 3cm. (œÄ = 3.14)",
                options: ["113.04 cm¬≥", "37.68 cm¬≥", "28.26 cm¬≥", "452.16 cm¬≥"],
                answer: "A",
                explanation: "Volume = ‚Å¥‚ÅÑ‚ÇÉœÄr¬≥ = ‚Å¥‚ÅÑ‚ÇÉ √ó 3.14 √ó 27 = 113.04 cm¬≥",
                type: "volume"
            },
            {
                question: "A cone has radius 6cm and height 8cm. Find its volume. (œÄ = 3.14)",
                options: ["301.44 cm¬≥", "150.72 cm¬≥", "904.32 cm¬≥", "452.16 cm¬≥"],
                answer: "A",
                explanation: "Volume = ‚ÖìœÄr¬≤h = ‚Öì √ó 3.14 √ó 36 √ó 8 = 301.44 cm¬≥",
                type: "volume"
            },
            {
                question: "What is the volume of a pyramid with base area 48cm¬≤ and height 9cm?",
                options: ["144 cm¬≥", "432 cm¬≥", "57 cm¬≥", "96 cm¬≥"],
                answer: "A",
                explanation: "Volume = ‚Öì √ó Base Area √ó height = ‚Öì √ó 48 √ó 9 = 144 cm¬≥",
                type: "volume"
            },
            {
                question: "Calculate the volume of a hexagonal prism with base area 54cm¬≤ and height 12cm.",
                options: ["648 cm¬≥", "66 cm¬≥", "324 cm¬≥", "108 cm¬≥"],
                answer: "A",
                explanation: "Volume = Base Area √ó height = 54cm¬≤ √ó 12cm = 648 cm¬≥",
                type: "volume"
            },
            {
                question: "A cylinder and cone have same base radius and height. If cylinder volume is 120cm¬≥, cone volume is:",
                options: ["40 cm¬≥", "120 cm¬≥", "360 cm¬≥", "60 cm¬≥"],
                answer: "A",
                explanation: "Cone volume = ‚Öì cylinder volume = ‚Öì √ó 120 = 40 cm¬≥",
                type: "volume"
            },
            {
                question: "How many 1cm cubes can fit in a box measuring 5cm √ó 4cm √ó 3cm?",
                options: ["60", "12", "20", "15"],
                answer: "A",
                explanation: "Number of cubes = Volume of box √∑ Volume of cube = (5√ó4√ó3) √∑ 1 = 60 cubes",
                type: "volume"
            },

            // Surface Area Calculations (51-75)
            {
                question: "Find the total surface area of a cube with edge 5cm.",
                options: ["150 cm¬≤", "25 cm¬≤", "125 cm¬≤", "100 cm¬≤"],
                answer: "A",
                explanation: "Surface Area = 6 √ó side¬≤ = 6 √ó 25 = 150 cm¬≤",
                type: "surface"
            },
            {
                question: "Calculate the surface area of a cuboid: 6cm √ó 4cm √ó 3cm.",
                options: ["108 cm¬≤", "72 cm¬≤", "54 cm¬≤", "90 cm¬≤"],
                answer: "A",
                explanation: "Surface Area = 2(lw + lh + wh) = 2(24 + 18 + 12) = 2 √ó 54 = 108 cm¬≤",
                type: "surface"
            },
            {
                question: "What is the curved surface area of a cylinder with radius 7cm and height 10cm? (œÄ = 22/7)",
                options: ["440 cm¬≤", "154 cm¬≤", "308 cm¬≤", "220 cm¬≤"],
                answer: "A",
                explanation: "Curved Surface Area = 2œÄrh = 2 √ó (22/7) √ó 7 √ó 10 = 440 cm¬≤",
                type: "surface"
            },
            {
                question: "Find the total surface area of the same cylinder (radius 7cm, height 10cm).",
                options: ["748 cm¬≤", "440 cm¬≤", "308 cm¬≤", "1144 cm¬≤"],
                answer: "A",
                explanation: "Total Surface Area = 2œÄr(h + r) = 2 √ó (22/7) √ó 7 √ó (10 + 7) = 44 √ó 17 = 748 cm¬≤",
                type: "surface"
            },
            {
                question: "Calculate the surface area of a sphere with radius 3.5cm. (œÄ = 22/7)",
                options: ["154 cm¬≤", "38.5 cm¬≤", "77 cm¬≤", "231 cm¬≤"],
                answer: "A",
                explanation: "Surface Area = 4œÄr¬≤ = 4 √ó (22/7) √ó 3.5¬≤ = 4 √ó 22 √ó 0.5 √ó 3.5 = 154 cm¬≤",
                type: "surface"
            },
            {
                question: "A cone has slant height 13cm and radius 5cm. Find its curved surface area. (œÄ = 3.14)",
                options: ["204.1 cm¬≤", "65 cm¬≤", "102.05 cm¬≤", "408.2 cm¬≤"],
                answer: "A",
                explanation: "Curved Surface Area = œÄrl = 3.14 √ó 5 √ó 13 = 204.1 cm¬≤",
                type: "surface"
            },
            {
                question: "What is the surface area of a triangular prism with triangle sides 3,4,5cm and length 10cm?",
                options: ["132 cm¬≤", "60 cm¬≤", "72 cm¬≤", "120 cm¬≤"],
                answer: "A",
                explanation: "Base perimeter = 3+4+5 = 12cm, Base area = ¬Ω√ó3√ó4 = 6cm¬≤\nSurface Area = 2√óBase area + (perimeter√ólength) = 12 + 120 = 132 cm¬≤",
                type: "surface"
            },
            {
                question: "If a cube's surface area is 96cm¬≤, what is its volume?",
                options: ["64 cm¬≥", "16 cm¬≥", "32 cm¬≥", "48 cm¬≥"],
                answer: "A",
                explanation: "6 √ó side¬≤ = 96 ‚Üí side¬≤ = 16 ‚Üí side = 4cm\nVolume = 4¬≥ = 64 cm¬≥",
                type: "surface"
            },
            {
                question: "A cylinder's curved surface area is 660cm¬≤ and height 15cm. Find its radius. (œÄ = 22/7)",
                options: ["7 cm", "10 cm", "14 cm", "21 cm"],
                answer: "A",
                explanation: "2œÄrh = 660 ‚Üí 2 √ó (22/7) √ó r √ó 15 = 660 ‚Üí r = 660 √ó 7 √∑ (44 √ó 15) = 7 cm",
                type: "surface"
            },
            {
                question: "How many square cm of cardboard needed for a cuboidal box 20√ó15√ó10cm?",
                options: ["1300 cm¬≤", "3000 cm¬≤", "650 cm¬≤", "1100 cm¬≤"],
                answer: "A",
                explanation: "Surface Area = 2(20√ó15 + 20√ó10 + 15√ó10) = 2(300 + 200 + 150) = 1300 cm¬≤",
                type: "surface"
            },

            // Capacity and Applications (76-100)
            {
                question: "A water tank is 2m √ó 1.5m √ó 1m. What is its capacity in liters?",
                options: ["3000 L", "3 L", "30 L", "300 L"],
                answer: "A",
                explanation: "Volume = 2 √ó 1.5 √ó 1 = 3 m¬≥ = 3000 L (1 m¬≥ = 1000 L)",
                type: "capacity"
            },
            {
                question: "How many liters in a cylindrical tank of radius 70cm and height 1m? (œÄ = 22/7)",
                options: ["1540 L", "154 L", "15400 L", "15.4 L"],
                answer: "A",
                explanation: "Volume = œÄr¬≤h = (22/7) √ó 0.7¬≤ √ó 1 = 1.54 m¬≥ = 1540 L",
                type: "capacity"
            },
            {
                question: "A cube of ice with edge 4cm melts into water. What volume of water?",
                options: ["64 mL", "16 mL", "32 mL", "128 mL"],
                answer: "A",
                explanation: "Volume = 4¬≥ = 64 cm¬≥ = 64 mL (1 cm¬≥ = 1 mL)",
                type: "capacity"
            },
            {
                question: "Paint covers 12 m¬≤ per liter. How much paint for a room 4√ó3√ó2.5m (excluding floor)?",
                options: ["4.17 L", "2.5 L", "5 L", "3.33 L"],
                answer: "A",
                explanation: "Walls area = 2(4√ó2.5 + 3√ó2.5) = 2(10 + 7.5) = 35 m¬≤\nCeiling = 4√ó3 = 12 m¬≤\nTotal = 47 m¬≤ √∑ 12 = 3.92 ‚âà 4.17 L",
                type: "capacity"
            },
            {
                question: "A cylindrical pipe radius 7cm, water flows at 5m/s. Volume per second? (œÄ = 22/7)",
                options: ["0.77 m¬≥/s", "0.154 m¬≥/s", "0.0385 m¬≥/s", "1.54 m¬≥/s"],
                answer: "A",
                explanation: "Cross-section area = œÄr¬≤ = (22/7)√ó0.07¬≤ = 0.0154 m¬≤\nVolume/sec = area √ó velocity = 0.0154 √ó 5 = 0.077 m¬≥/s",
                type: "capacity"
            }
        ];

        // Area formulas and data
        const shapeFormulas = {
            rectangle: {
                name: "Rectangle",
                formula: "A = l √ó w",
                inputs: [
                    {label: "Length", id: "length", value: 10, unit: "cm"},
                    {label: "Width", id: "width", value: 5, unit: "cm"}
                ],
                calculate: (inputs) => inputs.length * inputs.width
            },
            triangle: {
                name: "Triangle",
                formula: "A = ¬Ω √ó b √ó h",
                inputs: [
                    {label: "Base", id: "base", value: 12, unit: "cm"},
                    {label: "Height", id: "height", value: 8, unit: "cm"}
                ],
                calculate: (inputs) => 0.5 * inputs.base * inputs.height
            },
            circle: {
                name: "Circle",
                formula: "A = œÄr¬≤",
                inputs: [
                    {label: "Radius", id: "radius", value: 7, unit: "cm"}
                ],
                calculate: (inputs) => Math.PI * inputs.radius * inputs.radius
            },
            trapezoid: {
                name: "Trapezoid",
                formula: "A = ¬Ω √ó (a + b) √ó h",
                inputs: [
                    {label: "Base a", id: "baseA", value: 8, unit: "cm"},
                    {label: "Base b", id: "baseB", value: 12, unit: "cm"},
                    {label: "Height", id: "height", value: 5, unit: "cm"}
                ],
                calculate: (inputs) => 0.5 * (inputs.baseA + inputs.baseB) * inputs.height
            }
        };

        // Prism types data
        const prismTypes = {
            rectangular: {
                name: "Rectangular Prism",
                volume: (l, w, h) => l * w * h,
                surface: (l, w, h) => 2 * (l*w + l*h + w*h)
            },
            triangular: {
                name: "Triangular Prism",
                volume: (b, h, l) => 0.5 * b * h * l,
                surface: (b, h, l, s1, s2, s3) => (b * h) + l * (s1 + s2 + s3)
            },
            hexagonal: {
                name: "Hexagonal Prism",
                volume: (a, h) => (3 * Math.sqrt(3) / 2) * a * a * h,
                surface: (a, h) => 6 * a * h + 3 * Math.sqrt(3) * a * a
            }
        };

        // Unit conversion factors
        const unitConversions = {
            cm3: {cm3: 1, m3: 0.000001, liters: 0.001, ml: 1},
            m3: {cm3: 1000000, m3: 1, liters: 1000, ml: 1000000},
            liters: {cm3: 1000, m3: 0.001, liters: 1, ml: 1000},
            ml: {cm3: 1, m3: 0.000001, liters: 0.001, ml: 1}
        };

        // Mensuration tips
        const mensurationTips = [
            "Tip: Remember units! Area in square units (cm¬≤, m¬≤), Volume in cubic units (cm¬≥, m¬≥)",
            "Tip: 1 cm¬≥ = 1 mL, 1000 cm¬≥ = 1 L, 1 m¬≥ = 1000 L",
            "Tip: Surface area is the total area of all faces/exposed surfaces",
            "Tip: Volume of prism = Base Area √ó Height (works for all prisms!)",
            "Tip: For cylinders: Volume = œÄr¬≤h, Surface Area = 2œÄr(h + r)",
            "Tip: Break compound shapes into basic shapes you know how to calculate",
            "Tip: Check if you need total surface area or just lateral/curved surface area",
            "Tip: When converting units, cube the conversion factor for volume (e.g., 100 cm = 1 m, but 1,000,000 cm¬≥ = 1 m¬≥)"
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            studentName: "",
            startTime: null,
            areaScore: 0,
            volumeScore: 0,
            surfaceScore: 0,
            currentShape: "rectangle",
            currentPrism: "rectangular",
            currentNet: "cube",
            showNet: true,
            prismCanvas: null,
            prismCtx: null,
            cylinderCanvas: null,
            cylinderCtx: null,
            compoundCanvas: null,
            compoundCtx: null,
            netCanvas: null,
            netCtx: null
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const backToHomeBtn = document.getElementById('backToHome');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const mensurationTip = document.getElementById('mensurationTip');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const feedbackExplanation = document.getElementById('feedbackExplanation');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const areaScore = document.getElementById('areaScore');
        const volumeScore = document.getElementById('volumeScore');
        const surfaceScore = document.getElementById('surfaceScore');
        const timeSpent = document.getElementById('timeSpent');
        
        // Practice area elements
        const shapeInputs = document.getElementById('shapeInputs');
        const areaFormula = document.getElementById('areaFormula');
        const areaResult = document.getElementById('areaResult');
        const prismVolume = document.getElementById('prismVolume');
        const prismSurface = document.getElementById('prismSurface');
        const prismType = document.getElementById('prismType');
        const cylinderResult = document.getElementById('cylinderResult');
        const unitInfo = document.getElementById('unitInfo');
        const capacityInfo = document.getElementById('capacityInfo');
        const surfaceResult = document.getElementById('surfaceResult');
        const surfaceSteps = document.getElementById('surfaceSteps');
        const compoundResult = document.getElementById('compoundResult');
        const compoundSteps = document.getElementById('compoundSteps');
        const compoundFormula = document.getElementById('compoundFormula');

        // Initialize
        function initApp() {
            setupEventListeners();
            showWelcomePage();
            setupMensurationTools();
            initializeCanvases();
            drawShapeIcons();
            updateShapeInputs();
            drawPrism();
            drawCylinder();
            drawCompoundShape();
            drawNet();
        }

        // Setup mensuration tools
        function setupMensurationTools() {
            updateAreaFormula();
        }

        // Initialize canvases
        function initializeCanvases() {
            // Prism canvas
            appState.prismCanvas = document.getElementById('prismCanvas');
            appState.prismCtx = appState.prismCanvas.getContext('2d');
            
            // Cylinder canvas
            appState.cylinderCanvas = document.getElementById('cylinderCanvas');
            appState.cylinderCtx = appState.cylinderCanvas.getContext('2d');
            
            // Compound shape canvas
            appState.compoundCanvas = document.getElementById('compoundCanvas');
            appState.compoundCtx = appState.compoundCanvas.getContext('2d');
            
            // Net canvas
            appState.netCanvas = document.getElementById('netCanvas');
            appState.netCtx = appState.netCanvas.getContext('2d');
        }

        // Draw shape icons
        function drawShapeIcons() {
            drawIcon('rectangleIcon', drawRectangleIcon);
            drawIcon('triangleIcon', drawTriangleIcon);
            drawIcon('circleIcon', drawCircleIcon);
            drawIcon('trapezoidIcon', drawTrapezoidIcon);
            drawIcon('cubeIcon', drawCubeIcon);
            drawIcon('cuboidIcon', drawCuboidIcon);
            drawIcon('cylinderIcon', drawCylinderIcon);
            drawIcon('triPrismIcon', drawTriPrismIcon);
        }

        function drawIcon(canvasId, drawFunction) {
            const container = document.getElementById(canvasId);
            const canvas = document.createElement('canvas');
            canvas.width = 40;
            canvas.height = 40;
            const ctx = canvas.getContext('2d');
            
            // Clear
            ctx.clearRect(0, 0, 40, 40);
            
            // Draw shape
            drawFunction(ctx, 20, 20, 15);
            
            container.appendChild(canvas);
        }

        function drawRectangleIcon(ctx, x, y, size) {
            ctx.fillStyle = '#2196F3';
            ctx.fillRect(x - size/2, y - size/3, size, size*2/3);
            ctx.strokeStyle = '#FFFFFF';
            ctx.lineWidth = 1;
            ctx.strokeRect(x - size/2, y - size/3, size, size*2/3);
        }

        function drawTriangleIcon(ctx, x, y, size) {
            ctx.fillStyle = '#4CAF50';
            ctx.beginPath();
            ctx.moveTo(x, y - size/2);
            ctx.lineTo(x + size/2, y + size/2);
            ctx.lineTo(x - size/2, y + size/2);
            ctx.closePath();
            ctx.fill();
            ctx.strokeStyle = '#FFFFFF';
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        function drawCircleIcon(ctx, x, y, size) {
            ctx.fillStyle = '#FF9800';
            ctx.beginPath();
            ctx.arc(x, y, size/2, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#FFFFFF';
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        function drawTrapezoidIcon(ctx, x, y, size) {
            ctx.fillStyle = '#9C27B0';
            ctx.beginPath();
            ctx.moveTo(x - size/2, y + size/3);
            ctx.lineTo(x + size/2, y + size/3);
            ctx.lineTo(x + size/3, y - size/3);
            ctx.lineTo(x - size/3, y - size/3);
            ctx.closePath();
            ctx.fill();
            ctx.strokeStyle = '#FFFFFF';
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        function drawCubeIcon(ctx, x, y, size) {
            ctx.fillStyle = '#FFC107';
            // Front face
            ctx.fillRect(x - size/3, y - size/3, size*2/3, size*2/3);
            // Top face
            ctx.beginPath();
            ctx.moveTo(x - size/3, y - size/3);
            ctx.lineTo(x, y - size/2);
            ctx.lineTo(x + size/3, y - size/3);
            ctx.lineTo(x, y - size/6);
            ctx.closePath();
            ctx.fill();
            // Side face
            ctx.beginPath();
            ctx.moveTo(x + size/3, y - size/3);
            ctx.lineTo(x + size/2, y - size/6);
            ctx.lineTo(x + size/2, y + size/3);
            ctx.lineTo(x + size/3, y + size/3);
            ctx.closePath();
            ctx.fill();
            ctx.strokeStyle = '#FFFFFF';
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        function drawCuboidIcon(ctx, x, y, size) {
            ctx.fillStyle = '#009688';
            // Front face
            ctx.fillRect(x - size/2, y - size/4, size, size/2);
            // Top face
            ctx.beginPath();
            ctx.moveTo(x - size/2, y - size/4);
            ctx.lineTo(x - size/4, y - size/2);
            ctx.lineTo(x + 3*size/4, y - size/2);
            ctx.lineTo(x + size/2, y - size/4);
            ctx.closePath();
            ctx.fill();
            // Side face
            ctx.beginPath();
            ctx.moveTo(x + size/2, y - size/4);
            ctx.lineTo(x + 3*size/4, y - size/2);
            ctx.lineTo(x + 3*size/4, y + size/4);
            ctx.lineTo(x + size/2, y + size/4);
            ctx.closePath();
            ctx.fill();
            ctx.strokeStyle = '#FFFFFF';
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        function drawCylinderIcon(ctx, x, y, size) {
            ctx.fillStyle = '#E91E63';
            // Body
            ctx.fillRect(x - size/2, y - size/3, size, size*2/3);
            // Top ellipse
            ctx.beginPath();
            ctx.ellipse(x, y - size/3, size/2, size/6, 0, 0, Math.PI * 2);
            ctx.fill();
            // Bottom ellipse
            ctx.beginPath();
            ctx.ellipse(x, y + size/3, size/2, size/6, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#FFFFFF';
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        function drawTriPrismIcon(ctx, x, y, size) {
            ctx.fillStyle = '#795548';
            // Triangular faces
            ctx.beginPath();
            ctx.moveTo(x, y - size/2);
            ctx.lineTo(x + size/2, y + size/3);
            ctx.lineTo(x - size/2, y + size/3);
            ctx.closePath();
            ctx.fill();
            // Rectangular faces
            ctx.fillRect(x - size/2, y + size/3, size, size/3);
            ctx.strokeStyle = '#FFFFFF';
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        // Area calculator functions
        function selectShape(shape) {
            appState.currentShape = shape;
            updateShapeInputs();
            
            // Update active state
            document.querySelectorAll('.shape-option').forEach(option => {
                option.classList.remove('active');
            });
            event.target.closest('.shape-option').classList.add('active');
        }

        function updateShapeInputs() {
            const shape = shapeFormulas[appState.currentShape];
            areaFormula.textContent = `Formula: ${shape.formula}`;
            
            shapeInputs.innerHTML = shape.inputs.map(input => `
                <div class="measurement-input-group">
                    <span class="measurement-label">${input.label}:</span>
                    <input type="number" id="${input.id}" class="measurement-input" value="${input.value}" min="0" step="0.1">
                    <span class="unit-display">${input.unit}</span>
                </div>
            `).join('');
        }

        function updateAreaFormula() {
            const shape = shapeFormulas[appState.currentShape];
            areaFormula.textContent = `Formula: ${shape.formula}`;
        }

        function calculateArea() {
            const shape = shapeFormulas[appState.currentShape];
            
            // Get input values
            const inputs = {};
            shape.inputs.forEach(input => {
                const element = document.getElementById(input.id);
                inputs[input.id] = parseFloat(element.value) || 0;
            });
            
            // Calculate area
            const area = shape.calculate(inputs);
            
            // Display result
            areaResult.innerHTML = `
                <strong>${shape.name} Area:</strong><br>
                ${shape.formula}<br>
                = ${area.toFixed(2)} cm¬≤<br><br>
                <strong>Calculation:</strong><br>
                ${getAreaCalculationText(shape, inputs, area)}`;
            
            areaResult.classList.add('pulse');
            setTimeout(() => areaResult.classList.remove('pulse'), 1000);
        }

        function getAreaCalculationText(shape, inputs, area) {
            switch(appState.currentShape) {
                case 'rectangle':
                    return `${inputs.length} √ó ${inputs.width} = ${area} cm¬≤`;
                case 'triangle':
                    return `¬Ω √ó ${inputs.base} √ó ${inputs.height} = ${area} cm¬≤`;
                case 'circle':
                    return `œÄ √ó ${inputs.radius}¬≤ = ${Math.PI.toFixed(2)} √ó ${(inputs.radius*inputs.radius).toFixed(2)} = ${area.toFixed(2)} cm¬≤`;
                case 'trapezoid':
                    return `¬Ω √ó (${inputs.baseA} + ${inputs.baseB}) √ó ${inputs.height} = ¬Ω √ó ${inputs.baseA + inputs.baseB} √ó ${inputs.height} = ${area} cm¬≤`;
                default:
                    return `Calculated area = ${area.toFixed(2)} cm¬≤`;
            }
        }

        function explainAreaFormulas() {
            alert(`AREA FORMULAS FOR 2D SHAPES:

1. RECTANGLE:
   ‚Ä¢ Area = length √ó width
   ‚Ä¢ A = l √ó w

2. SQUARE:
   ‚Ä¢ Area = side √ó side
   ‚Ä¢ A = s¬≤

3. TRIANGLE:
   ‚Ä¢ Area = ¬Ω √ó base √ó height
   ‚Ä¢ A = ¬Ωbh

4. CIRCLE:
   ‚Ä¢ Area = œÄ √ó radius¬≤
   ‚Ä¢ A = œÄr¬≤

5. PARALLELOGRAM:
   ‚Ä¢ Area = base √ó height
   ‚Ä¢ A = bh

6. TRAPEZOID:
   ‚Ä¢ Area = ¬Ω √ó (sum of parallel sides) √ó height
   ‚Ä¢ A = ¬Ω(a + b)h

7. RHOMBUS:
   ‚Ä¢ Area = ¬Ω √ó diagonal‚ÇÅ √ó diagonal‚ÇÇ
   ‚Ä¢ A = ¬Ωd‚ÇÅd‚ÇÇ

8. ELLIPSE:
   ‚Ä¢ Area = œÄ √ó semi-major axis √ó semi-minor axis
   ‚Ä¢ A = œÄab

REMEMBER:
‚Ä¢ All measurements must be in same units
‚Ä¢ Area is always in square units (cm¬≤, m¬≤, etc.)
‚Ä¢ For triangles, height is perpendicular to base`);
        }

        function randomAreaProblem() {
            const shapes = Object.keys(shapeFormulas);
            const randomShape = shapes[Math.floor(Math.random() * shapes.length)];
            selectShape(randomShape);
            
            // Generate random dimensions
            const shape = shapeFormulas[randomShape];
            shape.inputs.forEach(input => {
                const element = document.getElementById(input.id);
                element.value = Math.floor(Math.random() * 20) + 1;
            });
            
            calculateArea();
        }

        // Prism functions
        function drawPrism() {
            const ctx = appState.prismCtx;
            const width = appState.prismCanvas.width;
            const height = appState.prismCanvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Draw 3D prism
            ctx.strokeStyle = '#9C27B0';
            ctx.lineWidth = 2;
            ctx.fillStyle = 'rgba(156, 39, 176, 0.2)';
            
            // Front face
            ctx.beginPath();
            ctx.moveTo(100, 50);
            ctx.lineTo(300, 50);
            ctx.lineTo(300, 150);
            ctx.lineTo(100, 150);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Top face
            ctx.beginPath();
            ctx.moveTo(100, 50);
            ctx.lineTo(150, 20);
            ctx.lineTo(350, 20);
            ctx.lineTo(300, 50);
            ctx.stroke();
            
            // Side face
            ctx.beginPath();
            ctx.moveTo(300, 50);
            ctx.lineTo(350, 20);
            ctx.lineTo(350, 120);
            ctx.lineTo(300, 150);
            ctx.stroke();
            
            // Hidden lines (dashed)
            ctx.setLineDash([5, 3]);
            ctx.beginPath();
            ctx.moveTo(100, 150);
            ctx.lineTo(150, 120);
            ctx.lineTo(350, 120);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(150, 20);
            ctx.lineTo(150, 120);
            ctx.stroke();
            
            ctx.setLineDash([]);
            
            // Label dimensions
            ctx.fillStyle = '#9C27B0';
            ctx.font = '12px Arial';
            ctx.fillText('Length', 200, 170);
            ctx.fillText('Width', 320, 70);
            ctx.fillText('Height', 70, 100);
        }

        function calculatePrism() {
            const length = parseFloat(document.getElementById('prismLength').value) || 0;
            const width = parseFloat(document.getElementById('prismWidth').value) || 0;
            const height = parseFloat(document.getElementById('prismHeight').value) || 0;
            const type = prismType.value;
            
            let volume, surface;
            
            switch(type) {
                case 'rectangular':
                    volume = prismTypes.rectangular.volume(length, width, height);
                    surface = prismTypes.rectangular.surface(length, width, height);
                    prismVolume.innerHTML = `<strong>Volume:</strong> V = l √ó w √ó h = ${length} √ó ${width} √ó ${height} = ${volume} cm¬≥`;
                    prismSurface.innerHTML = `<strong>Surface Area:</strong> SA = 2(lw + lh + wh) = 2(${length*width} + ${length*height} + ${width*height}) = ${surface} cm¬≤`;
                    break;
                    
                case 'triangular':
                    // For triangular prism, length is now the prism length
                    const base = length;
                    const triangleHeight = width;
                    const prismLength = height;
                    volume = prismTypes.triangular.volume(base, triangleHeight, prismLength);
                    prismVolume.innerHTML = `<strong>Volume:</strong> V = ¬Ω √ó b √ó h √ó l = ¬Ω √ó ${base} √ó ${triangleHeight} √ó ${prismLength} = ${volume} cm¬≥`;
                    prismSurface.innerHTML = `<strong>Surface Area:</strong> Requires triangle side lengths (advanced calculation)</strong>`;
                    break;
            }
            
            prismVolume.classList.add('pulse');
            prismSurface.classList.add('pulse');
            setTimeout(() => {
                prismVolume.classList.remove('pulse');
                prismSurface.classList.remove('pulse');
            }, 1000);
        }

        function explainPrismFormulas() {
            alert(`PRISM FORMULAS:

A PRISM is a 3D shape with:
‚Ä¢ Identical parallel bases
‚Ä¢ Rectangular lateral faces
‚Ä¢ Height perpendicular to bases

VOLUME OF ANY PRISM:
‚Ä¢ V = Base Area √ó Height
‚Ä¢ Works for ALL prisms!

SPECIFIC PRISMS:

1. RECTANGULAR PRISM (Cuboid):
   ‚Ä¢ Volume = length √ó width √ó height
   ‚Ä¢ V = lwh
   ‚Ä¢ Surface Area = 2(lw + lh + wh)

2. TRIANGULAR PRISM:
   ‚Ä¢ Volume = ¬Ω √ó base √ó triangle height √ó length
   ‚Ä¢ V = ¬Ωbhl
   ‚Ä¢ Surface Area = 2 √ó triangle area + perimeter √ó length

3. HEXAGONAL PRISM:
   ‚Ä¢ Volume = (3‚àö3/2) √ó a¬≤ √ó h  (a = side of hexagon)
   ‚Ä¢ Surface Area = 6ah + 3‚àö3a¬≤

KEY POINTS:
‚Ä¢ Base area depends on base shape
‚Ä¢ Height is distance between bases
‚Ä¢ All measurements must be in same units
‚Ä¢ Volume in cubic units, surface area in square units`);
        }

        // Cylinder functions
        function drawCylinder() {
            const ctx = appState.cylinderCtx;
            const width = appState.cylinderCanvas.width;
            const height = appState.cylinderCanvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Draw 3D cylinder
            ctx.strokeStyle = '#009688';
            ctx.lineWidth = 2;
            ctx.fillStyle = 'rgba(0, 150, 136, 0.2)';
            
            // Cylinder body
            ctx.beginPath();
            ctx.moveTo(100, 50);
            ctx.lineTo(300, 50);
            ctx.lineTo(300, 150);
            ctx.lineTo(100, 150);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Top ellipse
            ctx.beginPath();
            ctx.ellipse(200, 50, 100, 20, 0, 0, Math.PI * 2);
            ctx.stroke();
            
            // Bottom ellipse
            ctx.beginPath();
            ctx.ellipse(200, 150, 100, 20, 0, 0, Math.PI * 2);
            ctx.stroke();
            
            // Hidden lines (dashed)
            ctx.setLineDash([5, 3]);
            ctx.beginPath();
            ctx.moveTo(100, 50);
            ctx.lineTo(100, 150);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Label dimensions
            ctx.fillStyle = '#009688';
            ctx.font = '12px Arial';
            ctx.fillText('Radius (r)', 320, 100);
            ctx.fillText('Height (h)', 200, 180);
            
            // Draw radius line
            ctx.beginPath();
            ctx.moveTo(200, 100);
            ctx.lineTo(300, 100);
            ctx.strokeStyle = '#FF9800';
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        function calculateCylinder() {
            const radius = parseFloat(document.getElementById('cylinderRadius').value) || 0;
            const height = parseFloat(document.getElementById('cylinderHeight').value) || 0;
            
            const volume = Math.PI * radius * radius * height;
            const curvedSurface = 2 * Math.PI * radius * height;
            const totalSurface = 2 * Math.PI * radius * (height + radius);
            
            cylinderResult.innerHTML = `
                <strong>Cylinder Calculations:</strong><br><br>
                <strong>Volume:</strong><br>
                V = œÄr¬≤h<br>
                = œÄ √ó ${radius}¬≤ √ó ${height}<br>
                = ${volume.toFixed(2)} cm¬≥<br><br>
                <strong>Curved Surface Area:</strong><br>
                CSA = 2œÄrh<br>
                = 2 √ó œÄ √ó ${radius} √ó ${height}<br>
                = ${curvedSurface.toFixed(2)} cm¬≤<br><br>
                <strong>Total Surface Area:</strong><br>
                TSA = 2œÄr(h + r)<br>
                = 2 √ó œÄ √ó ${radius} √ó (${height} + ${radius})<br>
                = ${totalSurface.toFixed(2)} cm¬≤`;
            
            cylinderResult.classList.add('pulse');
            setTimeout(() => cylinderResult.classList.remove('pulse'), 1000);
        }

        function showCylinderNet() {
            alert(`CYLINDER NET (DEVELOPMENT):

When unfolded, a cylinder's net consists of:

1. TWO CIRCLES:
   ‚Ä¢ Top and bottom faces
   ‚Ä¢ Area of each = œÄr¬≤
   ‚Ä¢ Total circle area = 2œÄr¬≤

2. ONE RECTANGLE:
   ‚Ä¢ Curved surface when unrolled
   ‚Ä¢ Width = circumference of circle = 2œÄr
   ‚Ä¢ Height = height of cylinder = h
   ‚Ä¢ Area = 2œÄrh

TOTAL SURFACE AREA:
‚Ä¢ TSA = Area of circles + Area of rectangle
‚Ä¢ TSA = 2œÄr¬≤ + 2œÄrh
‚Ä¢ TSA = 2œÄr(r + h)

VISUALIZATION:
Imagine cutting the cylinder vertically and unrolling it!
The rectangle's length equals the circle's circumference.`);
        }

        function demonstrateCylinderProof() {
            alert(`DERIVING CYLINDER FORMULAS:

VOLUME DERIVATION:
1. Cylinder is like a "circular prism"
2. Base is a circle: Area = œÄr¬≤
3. Volume = Base Area √ó Height
4. Therefore: V = œÄr¬≤h

SURFACE AREA DERIVATION:
1. Unfold cylinder into net:
   ‚Ä¢ 2 circles: area = 2 √ó œÄr¬≤ = 2œÄr¬≤
   ‚Ä¢ 1 rectangle: width = circumference = 2œÄr, height = h
   ‚Ä¢ Rectangle area = 2œÄr √ó h = 2œÄrh

2. Total Surface Area:
   ‚Ä¢ TSA = Circles + Rectangle
   ‚Ä¢ TSA = 2œÄr¬≤ + 2œÄrh
   ‚Ä¢ TSA = 2œÄr(r + h)

3. Curved Surface Area (lateral):
   ‚Ä¢ CSA = Rectangle area only
   ‚Ä¢ CSA = 2œÄrh

REAL-WORLD EXAMPLES:
‚Ä¢ Soup cans are cylinders
‚Ä¢ Pipes are cylinders
‚Ä¢ Oil drums are cylinders`);
        }

        // Volume conversion functions
        function convertVolume() {
            const inputValue = parseFloat(document.getElementById('volumeInput').value) || 0;
            const fromUnit = document.getElementById('volumeUnit').value;
            const toUnit = document.getElementById('convertUnit').value;
            
            if (fromUnit === toUnit) {
                document.getElementById('volumeOutput').value = inputValue;
                return;
            }
            
            const conversionFactor = unitConversions[fromUnit][toUnit];
            const result = inputValue * conversionFactor;
            
            document.getElementById('volumeOutput').value = result.toFixed(6);
            
            // Update info display
            updateUnitInfo(fromUnit, toUnit, inputValue, result);
        }

        function updateUnitInfo(fromUnit, toUnit, input, output) {
            const units = {
                cm3: 'cubic centimeters',
                m3: 'cubic meters',
                liters: 'liters',
                ml: 'milliliters'
            };
            
            const symbols = {
                cm3: 'cm¬≥',
                m3: 'm¬≥',
                liters: 'L',
                ml: 'mL'
            };
            
            unitInfo.innerHTML = `
                <strong>Conversion Details:</strong><br>
                ${input} ${symbols[fromUnit]} = ${output.toFixed(4)} ${symbols[toUnit]}<br><br>
                <strong>Key Relationships:</strong><br>
                ‚Ä¢ 1 cm¬≥ = 1 mL<br>
                ‚Ä¢ 1000 cm¬≥ = 1 L<br>
                ‚Ä¢ 1 m¬≥ = 1000 L<br>
                ‚Ä¢ 1 m¬≥ = 1,000,000 cm¬≥`;
            
            unitInfo.classList.add('pulse');
            setTimeout(() => unitInfo.classList.remove('pulse'), 1000);
        }

        function explainVolumeUnits() {
            alert(`VOLUME UNIT RELATIONSHIPS:

METRIC VOLUME UNITS:

1. CUBIC CENTIMETER (cm¬≥):
   ‚Ä¢ Very small volume
   ‚Ä¢ 1 cm¬≥ = 1 milliliter (mL)
   ‚Ä¢ Example: Sugar cube ‚âà 1 cm¬≥

2. LITER (L):
   ‚Ä¢ Common for liquids
   ‚Ä¢ 1 L = 1000 cm¬≥ = 1000 mL
   ‚Ä¢ Example: Soda bottle = 2L

3. CUBIC METER (m¬≥):
   ‚Ä¢ Large volumes
   ‚Ä¢ 1 m¬≥ = 1000 L = 1,000,000 cm¬≥
   ‚Ä¢ Example: Small swimming pool

CONVERSION FACTORS:
‚Ä¢ For LINEAR: 100 cm = 1 m
‚Ä¢ For AREA: (100 cm)¬≤ = 10,000 cm¬≤ = 1 m¬≤
‚Ä¢ For VOLUME: (100 cm)¬≥ = 1,000,000 cm¬≥ = 1 m¬≥

CAPACITY vs VOLUME:
‚Ä¢ Capacity: Maximum amount a container can hold
‚Ä¢ Volume: Amount of space occupied
‚Ä¢ Same measurement, different context

REMEMBER:
‚Ä¢ Always use same units in calculations
‚Ä¢ Convert before calculating if needed
‚Ä¢ Check if answer needs specific units`);
        }

        // Surface area functions
        function selectNet(netType) {
            appState.currentNet = netType;
            drawNet();
            
            // Update active state
            document.querySelectorAll('.shape-option').forEach(option => {
                option.classList.remove('active');
            });
            event.target.closest('.shape-option').classList.add('active');
        }

        function drawNet() {
            const ctx = appState.netCtx;
            const width = appState.netCanvas.width;
            const height = appState.netCanvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            if (appState.showNet) {
                drawShapeNet(ctx, width, height);
            } else {
                drawShape3D(ctx, width, height);
            }
        }

        function drawShapeNet(ctx, width, height) {
            ctx.strokeStyle = '#FF9800';
            ctx.lineWidth = 2;
            ctx.fillStyle = 'rgba(255, 152, 0, 0.1)';
            
            switch(appState.currentNet) {
                case 'cube':
                    // Draw cube net (cross shape)
                    const size = 40;
                    const centerX = width / 2;
                    const centerY = height / 2;
                    
                    // Center square
                    ctx.fillRect(centerX - size/2, centerY - size/2, size, size);
                    ctx.strokeRect(centerX - size/2, centerY - size/2, size, size);
                    
                    // Four surrounding squares
                    ctx.fillRect(centerX - size/2, centerY - size*1.5, size, size); // Top
                    ctx.fillRect(centerX - size/2, centerY + size/2, size, size); // Bottom
                    ctx.fillRect(centerX - size*1.5, centerY - size/2, size, size); // Left
                    ctx.fillRect(centerX + size/2, centerY - size/2, size, size); // Right
                    
                    // Stroke all squares
                    ctx.strokeRect(centerX - size/2, centerY - size*1.5, size, size);
                    ctx.strokeRect(centerX - size/2, centerY + size/2, size, size);
                    ctx.strokeRect(centerX - size*1.5, centerY - size/2, size, size);
                    ctx.strokeRect(centerX + size/2, centerY - size/2, size, size);
                    break;
                    
                case 'cylinder':
                    // Draw cylinder net
                    const radius = 30;
                    const cylinderHeight = 60;
                    
                    // Rectangle (curved surface)
                    ctx.fillRect(50, 40, 2 * Math.PI * radius, cylinderHeight);
                    ctx.strokeRect(50, 40, 2 * Math.PI * radius, cylinderHeight);
                    
                    // Two circles
                    ctx.beginPath();
                    ctx.arc(50 + Math.PI * radius, 20, radius, 0, Math.PI * 2);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.arc(50 + Math.PI * radius, 40 + cylinderHeight + 20, radius, 0, Math.PI * 2);
                    ctx.stroke();
                    break;
            }
        }

        function drawShape3D(ctx, width, height) {
            ctx.strokeStyle = '#FF9800';
            ctx.lineWidth = 2;
            ctx.fillStyle = 'rgba(255, 152, 0, 0.1)';
            
            switch(appState.currentNet) {
                case 'cube':
                    // Simple 3D cube
                    const size = 40;
                    const centerX = width / 2;
                    const centerY = height / 2;
                    
                    // Front face
                    ctx.fillRect(centerX - size/2, centerY - size/2, size, size);
                    ctx.strokeRect(centerX - size/2, centerY - size/2, size, size);
                    
                    // Top face
                    ctx.beginPath();
                    ctx.moveTo(centerX - size/2, centerY - size/2);
                    ctx.lineTo(centerX, centerY - size);
                    ctx.lineTo(centerX + size/2, centerY - size/2);
                    ctx.lineTo(centerX, centerY);
                    ctx.closePath();
                    ctx.fill();
                    ctx.stroke();
                    
                    // Side face
                    ctx.beginPath();
                    ctx.moveTo(centerX + size/2, centerY - size/2);
                    ctx.lineTo(centerX + size, centerY);
                    ctx.lineTo(centerX + size, centerY + size/2);
                    ctx.lineTo(centerX + size/2, centerY + size/2);
                    ctx.closePath();
                    ctx.fill();
                    ctx.stroke();
                    break;
            }
        }

        function calculateSurfaceArea() {
            let result = "";
            let steps = "";
            
            switch(appState.currentNet) {
                case 'cube':
                    const side = 5; // Example value
                    const cubeSA = 6 * side * side;
                    result = `Cube Surface Area:<br>SA = 6s¬≤ = 6 √ó ${side}¬≤ = ${cubeSA} cm¬≤`;
                    steps = `For cube with side ${side} cm:<br>1. Area of one face = ${side} √ó ${side} = ${side*side} cm¬≤<br>2. Cube has 6 faces<br>3. Total = 6 √ó ${side*side} = ${cubeSA} cm¬≤`;
                    break;
                    
                case 'cuboid':
                    const l = 6, w = 4, h = 3;
                    const cuboidSA = 2 * (l*w + l*h + w*h);
                    result = `Cuboid Surface Area:<br>SA = 2(lw + lh + wh)<br>= 2(${l}√ó${w} + ${l}√ó${h} + ${w}√ó${h})<br>= ${cuboidSA} cm¬≤`;
                    steps = `Dimensions: ${l}√ó${w}√ó${h} cm<br>1. lw = ${l*w}, lh = ${l*h}, wh = ${w*h}<br>2. Sum = ${l*w + l*h + w*h}<br>3. Multiply by 2 = ${cuboidSA} cm¬≤`;
                    break;
                    
                case 'cylinder':
                    const r = 3, cylH = 8;
                    const cylinderSA = 2 * Math.PI * r * (cylH + r);
                    result = `Cylinder Surface Area:<br>SA = 2œÄr(h + r)<br>= 2 √ó œÄ √ó ${r} √ó (${cylH} + ${r})<br>= ${cylinderSA.toFixed(2)} cm¬≤`;
                    steps = `Radius = ${r} cm, Height = ${cylH} cm<br>1. Curved surface = 2œÄrh = ${(2*Math.PI*r*cylH).toFixed(2)} cm¬≤<br>2. Two circles = 2œÄr¬≤ = ${(2*Math.PI*r*r).toFixed(2)} cm¬≤<br>3. Total = ${cylinderSA.toFixed(2)} cm¬≤`;
                    break;
            }
            
            surfaceResult.innerHTML = result;
            surfaceSteps.innerHTML = steps;
            
            surfaceResult.classList.add('pulse');
            surfaceSteps.classList.add('pulse');
            setTimeout(() => {
                surfaceResult.classList.remove('pulse');
                surfaceSteps.classList.remove('pulse');
            }, 1000);
        }

        function showSurfaceFormulas() {
            alert(`SURFACE AREA FORMULAS:

SURFACE AREA = Sum of areas of ALL faces

1. CUBE:
   ‚Ä¢ SA = 6 √ó side¬≤
   ‚Ä¢ SA = 6s¬≤
   ‚Ä¢ (6 square faces)

2. CUBOID (Rectangular Prism):
   ‚Ä¢ SA = 2(lw + lh + wh)
   ‚Ä¢ (3 pairs of rectangular faces)

3. CYLINDER:
   ‚Ä¢ Total SA = 2œÄr(h + r)
   ‚Ä¢ Curved SA = 2œÄrh
   ‚Ä¢ (2 circles + 1 rectangle when unrolled)

4. SPHERE:
   ‚Ä¢ SA = 4œÄr¬≤
   ‚Ä¢ (No flat faces)

5. CONE:
   ‚Ä¢ Total SA = œÄr(l + r) where l = slant height
   ‚Ä¢ Curved SA = œÄrl

6. TRIANGULAR PRISM:
   ‚Ä¢ SA = 2 √ó triangle area + perimeter √ó length

KEY POINTS:
‚Ä¢ Surface area is measured in square units
‚Ä¢ "Lateral" or "Curved" surface area excludes bases
‚Ä¢ "Total" surface area includes all faces
‚Ä¢ Nets help visualize all faces`);
        }

        function toggleNet() {
            appState.showNet = !appState.showNet;
            drawNet();
        }

        // Compound shape functions
        function drawCompoundShape() {
            const ctx = appState.compoundCtx;
            const width = appState.compoundCanvas.width;
            const height = appState.compoundCanvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Draw a compound shape (L-shape)
            ctx.strokeStyle = '#FFD700';
            ctx.lineWidth = 2;
            ctx.fillStyle = 'rgba(255, 215, 0, 0.1)';
            
            // L-shape consisting of two rectangles
            // First rectangle
            ctx.fillRect(100, 50, 100, 150);
            ctx.strokeRect(100, 50, 100, 150);
            
            // Second rectangle
            ctx.fillRect(200, 50, 100, 50);
            ctx.strokeRect(200, 50, 100, 50);
            
            // Dashed line showing division
            ctx.setLineDash([5, 3]);
            ctx.strokeStyle = '#FF9800';
            ctx.beginPath();
            ctx.moveTo(200, 50);
            ctx.lineTo(200, 200);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Label parts
            ctx.fillStyle = '#FFD700';
            ctx.font = '12px Arial';
            ctx.fillText('Part A', 150, 130);
            ctx.fillText('Part B', 250, 80);
        }

        function calculateCompound() {
            // Example: L-shape area calculation
            const rectA = {width: 100, height: 150};  // 100 √ó 150
            const rectB = {width: 100, height: 50};   // 100 √ó 50
            
            const areaA = rectA.width * rectA.height;
            const areaB = rectB.width * rectB.height;
            const totalArea = areaA + areaB;
            
            compoundResult.innerHTML = `
                <strong>Compound Shape (L-shape):</strong><br><br>
                <strong>Part A:</strong> ${rectA.width} √ó ${rectA.height} = ${areaA} cm¬≤<br>
                <strong>Part B:</strong> ${rectB.width} √ó ${rectB.height} = ${areaB} cm¬≤<br><br>
                <strong>Total Area:</strong> ${areaA} + ${areaB} = ${totalArea} cm¬≤`;
            
            compoundSteps.innerHTML = `
                <strong>Strategy for Compound Shapes:</strong><br>
                1. Divide into basic shapes (rectangles, triangles, circles)<br>
                2. Calculate area/volume of each part<br>
                3. Add parts together for total<br>
                4. Subtract if there are holes/cutouts<br><br>
                <strong>For this L-shape:</strong><br>
                ‚Ä¢ Divided into two rectangles<br>
                ‚Ä¢ Calculated each rectangle area<br>
                ‚Ä¢ Added them together`;
            
            compoundResult.classList.add('pulse');
            compoundSteps.classList.add('pulse');
            setTimeout(() => {
                compoundResult.classList.remove('pulse');
                compoundSteps.classList.remove('pulse');
            }, 1000);
        }

        function showCompoundExamples() {
            alert(`COMPOUND SHAPES - STRATEGY:

Compound shapes are made by combining basic shapes.

COMMON TYPES:

1. L-SHAPES:
   ‚Ä¢ Divide into rectangles
   ‚Ä¢ Calculate each rectangle area
   ‚Ä¢ Add areas together

2. SHAPES WITH HOLES:
   ‚Ä¢ Calculate outer shape area
   ‚Ä¢ Calculate hole area
   ‚Ä¢ Subtract: Outer - Hole

3. IRREGULAR SHAPES:
   ‚Ä¢ Divide into triangles and rectangles
   ‚Ä¢ Use grid method (count squares)
   ‚Ä¢ Use approximation formulas

4. COMPOSITE 3D SHAPES:
   ‚Ä¢ Break into prisms, cylinders, etc.
   ‚Ä¢ Calculate volume of each part
   ‚Ä¢ Add volumes together

STEP-BY-STEP METHOD:
1. Identify all basic shapes in the compound shape
2. Calculate area/volume of each part
3. Determine if parts are added or subtracted
4. Perform the calculation
5. Include units in final answer

EXAMPLE: Swimming pool with steps
‚Ä¢ Calculate main rectangular pool volume
‚Ä¢ Calculate step volumes (triangular prisms)
‚Ä¢ Add all volumes together`);
        }

        function newCompoundShape() {
            // Generate random compound shape dimensions
            const shapes = ['L-shape', 'U-shape', 'T-shape', 'Plus-shape'];
            const randomShape = shapes[Math.floor(Math.random() * shapes.length)];
            
            compoundFormula.textContent = `Total ${randomShape} Volume = Œ£ Individual Volumes`;
            
            // Simple example calculation
            const part1 = Math.floor(Math.random() * 20) + 5;
            const part2 = Math.floor(Math.random() * 20) + 5;
            const total = part1 + part2;
            
            compoundResult.innerHTML = `
                <strong>${randomShape} Example:</strong><br><br>
                Part 1 Volume = ${part1} cm¬≥<br>
                Part 2 Volume = ${part2} cm¬≥<br><br>
                <strong>Total Volume:</strong> ${part1} + ${part2} = ${total} cm¬≥`;
            
            compoundResult.classList.add('pulse');
            setTimeout(() => compoundResult.classList.remove('pulse'), 1000);
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', showWelcomePage);
            viewTopicsBtn.addEventListener('click', () => alert("Other math topics would be available here."));
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') startPractice();
            });
            
            // Add prism input listeners
            document.getElementById('prismLength').addEventListener('change', drawPrism);
            document.getElementById('prismWidth').addEventListener('change', drawPrism);
            document.getElementById('prismHeight').addEventListener('change', drawPrism);
            prismType.addEventListener('change', drawPrism);
            
            // Add cylinder input listeners
            document.getElementById('cylinderRadius').addEventListener('change', drawCylinder);
            document.getElementById('cylinderHeight').addEventListener('change', drawCylinder);
            
            // Add volume conversion listeners
            document.getElementById('volumeInput').addEventListener('change', convertVolume);
            document.getElementById('volumeUnit').addEventListener('change', convertVolume);
            document.getElementById('convertUnit').addEventListener('change', convertVolume);
        }

        // Create mensuration tip display
        function createMensurationTip() {
            const tipDiv = document.createElement('div');
            tipDiv.className = 'mensuration-tip';
            tipDiv.innerHTML = `<strong>Mensuration Tip:</strong> ${mensurationTips[Math.floor(Math.random() * mensurationTips.length)]}`;
            return tipDiv;
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            appState.startTime = new Date();
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const percentage = Math.round((appState.score / questions.length) * 100);
            const timeDiff = new Date() - appState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            areaScore.textContent = appState.areaScore;
            volumeScore.textContent = appState.volumeScore;
            surfaceScore.textContent = appState.surfaceScore;
            timeSpent.textContent = `${minutes}min`;
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Excellent! You've mastered mensuration!";
            } else if (percentage >= 75) {
                scoreMessage.textContent = "Great work! Strong understanding of area and volume!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good job! Keep practicing to improve further!";
            } else {
                scoreMessage.textContent = "Keep practicing! Focus on formulas and units!";
            }
        }

        // Load question
        function loadQuestion() {
            const question = questions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${questions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            mensurationTip.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            mensurationTip.appendChild(createMensurationTip());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = questions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                
                // Track scores by question type
                if (question.type === 'area') appState.areaScore++;
                if (question.type === 'volume') appState.volumeScore++;
                if (question.type === 'surface') appState.surfaceScore++;
                
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation);
            }
            
            nextQuestionBtn.disabled = false;
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Skip question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Retry topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            appState.areaScore = 0;
            appState.volumeScore = 0;
            appState.surfaceScore = 0;
            showPracticePage();
        }

        // Start practice
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin mensuration practice!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            appState.areaScore = 0;
            appState.volumeScore = 0;
            appState.surfaceScore = 0;
            
            showPracticePage();
        }

        // Initialize app
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
