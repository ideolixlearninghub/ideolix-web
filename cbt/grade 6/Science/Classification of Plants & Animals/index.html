<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 6 Science - Classification of Plants & Animals | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Biology Theme */
        :root {
            --primary-green: #4CAF50;
            --secondary-blue: #2196F3;
            --accent-teal: #009688;
            --accent-orange: #FF9800;
            --accent-purple: #9C27B0;
            --accent-yellow: #FFC107;
            --accent-brown: #795548;
            --accent-pink: #E91E63;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(76, 175, 80, 0.3);
            --plant-glow: 0 0 15px rgba(76, 175, 80, 0.2);
            --animal-glow: 0 0 15px rgba(33, 150, 243, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Nature Pattern Background */
        .nature-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: 
                radial-gradient(circle at 20% 30%, rgba(76, 175, 80, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(33, 150, 243, 0.1) 0%, transparent 50%),
                repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(0, 150, 136, 0.05) 2px, rgba(0, 150, 136, 0.05) 4px);
            opacity: 0.3;
        }

        .floating-leaf {
            position: absolute;
            color: rgba(255, 255, 255, 0.05);
            font-size: 3rem;
            animation: floatLeaf 20s linear infinite;
        }

        .floating-paw {
            position: absolute;
            color: rgba(255, 255, 255, 0.05);
            font-size: 3rem;
            animation: floatPaw 15s linear infinite;
        }

        @keyframes floatLeaf {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 0.1; }
            25% { transform: translate(-100px, -50px) rotate(90deg); opacity: 0.05; }
            50% { transform: translate(50px, -100px) rotate(180deg); opacity: 0.1; }
            75% { transform: translate(100px, 50px) rotate(270deg); opacity: 0.05; }
            100% { transform: translate(0, 0) rotate(360deg); opacity: 0.1; }
        }

        @keyframes floatPaw {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 0.1; }
            25% { transform: translate(80px, -60px) rotate(-90deg); opacity: 0.05; }
            50% { transform: translate(-40px, -80px) rotate(-180deg); opacity: 0.1; }
            75% { transform: translate(-80px, 60px) rotate(-270deg); opacity: 0.05; }
            100% { transform: translate(0, 0) rotate(-360deg); opacity: 0.1; }
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(76, 175, 80, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 25px;
            border: 1px solid var(--primary-green);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-green);
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-green);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-primary:hover {
            background: #388E3C;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-blue);
            color: white;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);
        }

        .btn-secondary:hover {
            background: #1976D2;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-green);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Mode */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-green), var(--secondary-blue));
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .science-fact {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-teal);
            font-style: italic;
            color: var(--text-secondary);
        }

        /* Content Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .question-side {
            display: flex;
            flex-direction: column;
        }

        .visualization-side {
            display: flex;
            flex-direction: column;
        }

        .concept-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .concept-box {
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-blue));
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .concept-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .concept-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 5px;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-green);
            background: rgba(76, 175, 80, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-card);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            background: var(--secondary-blue);
        }

        .option.correct .option-letter {
            background: var(--primary-green);
            color: white;
        }

        .option.incorrect .option-letter {
            background: #F44336;
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 5px solid var(--primary-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-green);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-green);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Visualization Components */
        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            height: 100%;
            border: 1px solid var(--dark-border);
            overflow: auto;
            backdrop-filter: blur(5px);
        }

        /* Classification Tree */
        .classification-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border: 2px solid var(--accent-teal);
            box-shadow: var(--glow);
        }

        .display-title {
            color: var(--primary-green);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
            font-size: 1.3rem;
        }

        .classification-tree {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }

        .tree-level {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .tree-node {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            min-width: 120px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tree-node:hover {
            transform: translateY(-5px);
        }

        .tree-node.plant {
            border-color: var(--primary-green);
            background: rgba(76, 175, 80, 0.1);
        }

        .tree-node.animal {
            border-color: var(--secondary-blue);
            background: rgba(33, 150, 243, 0.1);
        }

        .tree-node.kingdom {
            border-color: var(--accent-purple);
            background: rgba(156, 39, 176, 0.1);
        }

        .tree-connector {
            width: 2px;
            height: 20px;
            background: var(--text-secondary);
            margin: 0 auto;
        }

        .node-icon {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .node-label {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .node-description {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Plant Classification */
        .plants-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--primary-green);
        }

        .plants-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .plants-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .plant-card {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid var(--primary-green);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .plant-card:hover {
            transform: scale(1.05);
            box-shadow: var(--plant-glow);
        }

        .plant-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .plant-name {
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--primary-green);
        }

        .plant-characteristics {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .plant-examples {
            font-size: 0.7rem;
            color: var(--text-muted);
            font-style: italic;
        }

        /* Animal Classification */
        .animals-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--secondary-blue);
        }

        .animals-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .animals-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .animal-card {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid var(--secondary-blue);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .animal-card:hover {
            transform: scale(1.05);
            box-shadow: var(--animal-glow);
        }

        .animal-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .animal-name {
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--secondary-blue);
        }

        .animal-characteristics {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .animal-examples {
            font-size: 0.7rem;
            color: var(--text-muted);
            font-style: italic;
        }

        /* Dichotomous Key */
        .dichotomous-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-orange);
        }

        .dichotomous-key {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }

        .key-step {
            margin: 10px 0;
            padding: 10px;
            border-left: 3px solid var(--accent-orange);
            background: rgba(255, 152, 0, 0.05);
        }

        .step-number {
            color: var(--accent-orange);
            font-weight: bold;
            margin-right: 10px;
        }

        /* Characteristic Comparison */
        .comparison-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-purple);
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .comparison-table th {
            background: var(--dark-card);
            padding: 12px;
            text-align: left;
            color: var(--accent-purple);
            border-bottom: 2px solid var(--accent-purple);
        }

        .comparison-table td {
            padding: 10px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
        }

        .comparison-table tr:hover {
            background: rgba(156, 39, 176, 0.05);
        }

        /* Interactive Classification */
        .interactive-classification {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--accent-teal);
        }

        .classification-controls {
            display: flex;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .classification-button {
            padding: 10px 15px;
            background: var(--dark-surface);
            border: 2px solid var(--accent-teal);
            border-radius: 6px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .classification-button:hover {
            background: rgba(0, 150, 136, 0.1);
            transform: translateY(-2px);
        }

        .classification-area {
            background: var(--dark-surface);
            min-height: 150px;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }

        .draggable-item {
            background: var(--dark-card);
            padding: 10px 15px;
            border-radius: 6px;
            border: 2px solid transparent;
            cursor: move;
            transition: all 0.3s ease;
        }

        .draggable-item.plant-item {
            border-color: var(--primary-green);
            background: rgba(76, 175, 80, 0.1);
        }

        .draggable-item.animal-item {
            border-color: var(--secondary-blue);
            background: rgba(33, 150, 243, 0.1);
        }

        .drop-zone {
            background: rgba(255, 255, 255, 0.05);
            border: 2px dashed var(--text-muted);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
        }

        .drop-zone.active {
            border-color: var(--accent-teal);
            background: rgba(0, 150, 136, 0.05);
        }

        /* Habitat Display */
        .habitat-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-brown);
        }

        .habitat-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .habitat-grid {
                grid-template-columns: 1fr;
            }
        }

        .habitat-card {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid var(--accent-brown);
        }

        .habitat-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .habitat-name {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--accent-brown);
        }

        .habitat-organisms {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Adaptation Display */
        .adaptation-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-yellow);
        }

        .adaptation-examples {
            display: flex;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .adaptation-card {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            flex: 1;
            min-width: 200px;
            border: 2px solid var(--accent-yellow);
        }

        /* Interactive Practice */
        .interactive-practice {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--accent-teal);
        }

        .practice-title {
            color: var(--accent-teal);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .practice-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .practice-button {
            padding: 10px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--accent-teal);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .practice-button:hover {
            background: rgba(0, 150, 136, 0.1);
            transform: translateY(-2px);
        }

        .practice-display {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--text-secondary);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-green);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .concept-box {
                min-width: 140px;
                font-size: 1.5rem;
                padding: 15px 20px;
            }
            
            .animals-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .plants-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes grow {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .grow {
            animation: grow 0.5s ease forwards;
        }
        
        @keyframes leafFloat {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(10deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }
        
        .leaf-float {
            animation: leafFloat 3s ease-in-out infinite;
        }
        
        @keyframes animalWalk {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(5px); }
        }
        
        .animal-walk {
            animation: animalWalk 2s ease-in-out infinite;
        }
        
        @keyframes plantGlow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.2); }
            50% { box-shadow: 0 0 15px 5px rgba(76, 175, 80, 0.1); }
        }
        
        .plant-glow {
            animation: plantGlow 2s ease-in-out infinite;
        }
        
        @keyframes animalGlow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(33, 150, 243, 0.3); }
            50% { box-shadow: 0 0 15px 5px rgba(33, 150, 243, 0.1); }
        }
        
        .animal-glow {
            animation: animalGlow 2s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <!-- Nature Pattern Background -->
    <div class="nature-bg" id="natureBg">
        <!-- Leaves and paws will be generated by JavaScript -->
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 6 Science</h1>
            <p class="welcome-subtitle">Explore the incredible diversity of life on Earth! Learn how scientists classify plants and animals into organized groups. Discover the characteristics of different kingdoms, phyla, and classes, and understand how living things are connected through classification!</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üåøüêæüî¨</span>
                <span class="topic-name">Classification of Plants & Animals</span>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>Start Biological Exploration</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 120</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0.8%"></div>
                </div>
            </div>

            <div class="question-container">
                <!-- Science fact display -->
                <div id="scienceFact"></div>
                
                <!-- Concept display area -->
                <div id="conceptDisplay"></div>
                
                <!-- Content Wrapper: Questions on left, Visualizations on right -->
                <div class="content-wrapper" id="contentWrapper">
                    <!-- Left side: Question and Options -->
                    <div class="question-side">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                    </div>
                    
                    <!-- Right side: Visualizations -->
                    <div class="visualization-side">
                        <div class="visualization-container" id="visualizationContainer">
                            <!-- All visualizations will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                    <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Biological Explorer Mastery Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Try Again</button>
                <button class="btn btn-secondary" id="viewTopics">Explore Other Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize background
        function initBackground() {
            const natureBg = document.getElementById('natureBg');
            
            // Create floating leaves
            const leaves = ['üçÉ', 'üåø', 'üçÇ', 'üçÅ', 'üå±'];
            for (let i = 0; i < 15; i++) {
                const leaf = document.createElement('div');
                leaf.className = 'floating-leaf';
                leaf.textContent = leaves[Math.floor(Math.random() * leaves.length)];
                leaf.style.left = `${Math.random() * 100}%`;
                leaf.style.top = `${Math.random() * 100}%`;
                leaf.style.animationDelay = `${Math.random() * 20}s`;
                leaf.style.fontSize = `${2 + Math.random() * 2}rem`;
                leaf.style.color = 'rgba(76, 175, 80, 0.1)';
                natureBg.appendChild(leaf);
            }
            
            // Create floating paws
            const paws = ['üêæ', 'üêï', 'üêà', 'üêÖ', 'üêÜ', 'üêæ'];
            for (let i = 0; i < 10; i++) {
                const paw = document.createElement('div');
                paw.className = 'floating-paw';
                paw.textContent = paws[Math.floor(Math.random() * paws.length)];
                paw.style.left = `${Math.random() * 100}%`;
                paw.style.top = `${Math.random() * 100}%`;
                paw.style.animationDelay = `${Math.random() * 15}s`;
                paw.style.fontSize = `${2 + Math.random() * 2}rem`;
                paw.style.color = 'rgba(33, 150, 243, 0.1)';
                natureBg.appendChild(paw);
            }
        }

        // Questions array - 120+ Grade 6 Plant & Animal Classification questions
        const questions = [
            // Classification Basics (1-20)
            {
                type: "classification_basics",
                question: "Why do scientists classify organisms?",
                options: ["To organize and study diversity", "To make them look pretty", "To change their names", "To keep them in zoos"],
                answer: "A",
                explanation: "Classification helps scientists organize the incredible diversity of life, study relationships, and communicate about organisms consistently."
            },
            {
                type: "classification_basics",
                question: "What is taxonomy?",
                options: ["Science of classification", "Study of plant growth", "Animal behavior study", "Cell structure analysis"],
                answer: "A",
                explanation: "Taxonomy is the science of naming, describing, and classifying organisms into groups based on similarities."
            },
            {
                type: "classification_basics",
                question: "Who developed modern classification system?",
                options: ["Carl Linnaeus", "Charles Darwin", "Gregor Mendel", "Louis Pasteur"],
                answer: "A",
                explanation: "Carl Linnaeus, an 18th-century Swedish scientist, developed the binomial nomenclature system (Genus species) still used today."
            },
            {
                type: "classification_basics",
                question: "Basic classification unit is?",
                options: ["Species", "Kingdom", "Family", "Phylum"],
                answer: "A",
                explanation: "Species is the most basic unit of classification. Members of the same species can interbreed and produce fertile offspring."
            },
            {
                type: "classification_basics",
                question: "Classification hierarchy from broad to specific?",
                options: ["Kingdom ‚Üí Phylum ‚Üí Class ‚Üí Order ‚Üí Family ‚Üí Genus ‚Üí Species", "Species ‚Üí Genus ‚Üí Family ‚Üí Order ‚Üí Class ‚Üí Phylum ‚Üí Kingdom", "Kingdom ‚Üí Class ‚Üí Phylum ‚Üí Order ‚Üí Family ‚Üí Genus ‚Üí Species", "Phylum ‚Üí Kingdom ‚Üí Class ‚Üí Order ‚Üí Family ‚Üí Genus ‚Üí Species"],
                answer: "A",
                explanation: "Remember: King Philip Came Over For Good Soup (Kingdom, Phylum, Class, Order, Family, Genus, Species)."
            },
            // Kingdoms (21-40)
            {
                type: "kingdoms",
                question: "How many main kingdoms of life?",
                options: ["5", "3", "7", "10"],
                answer: "A",
                explanation: "Five main kingdoms: Animalia, Plantae, Fungi, Protista, and Monera (Bacteria). Some systems use 6 kingdoms."
            },
            {
                type: "kingdoms",
                question: "Which kingdom includes mushrooms?",
                options: ["Fungi", "Plantae", "Animalia", "Protista"],
                answer: "A",
                explanation: "Mushrooms, molds, and yeasts belong to Kingdom Fungi. They absorb nutrients from their surroundings."
            },
            {
                type: "kingdoms",
                question: "Animals belong to which kingdom?",
                options: ["Animalia", "Plantae", "Fungi", "Protista"],
                answer: "A",
                explanation: "All animals - from insects to mammals - belong to Kingdom Animalia."
            },
            {
                type: "kingdoms",
                question: "Plants make their own food through?",
                options: ["Photosynthesis", "Absorption", "Eating other organisms", "Digestion"],
                answer: "A",
                explanation: "Plants use sunlight, water, and carbon dioxide to make food (photosynthesis). This is a key characteristic of Kingdom Plantae."
            },
            {
                type: "kingdoms",
                question: "Single-celled organisms with nucleus belong to?",
                options: ["Protista", "Monera", "Fungi", "Plantae"],
                answer: "A",
                explanation: "Protista includes single-celled organisms with nuclei, like amoeba and paramecium. Monera includes bacteria without nuclei."
            },
            // Plant Classification (41-60)
            {
                type: "plant_classification",
                question: "Plants are divided into two main groups:",
                options: ["Flowering and non-flowering", "Green and non-green", "Tall and short", "Water and land"],
                answer: "A",
                explanation: "Main plant groups: Flowering plants (angiosperms) and non-flowering plants (includes ferns, mosses, conifers)."
            },
            {
                type: "plant_classification",
                question: "What are vascular plants?",
                options: ["Plants with transport tubes", "Plants without transport tubes", "Only flowering plants", "Only trees"],
                answer: "A",
                explanation: "Vascular plants have special tissues (xylem and phloem) to transport water and nutrients. Examples: trees, ferns, flowering plants."
            },
            {
                type: "plant_classification",
                question: "Which are non-vascular plants?",
                options: ["Mosses", "Trees", "Flowers", "Ferns"],
                answer: "A",
                explanation: "Mosses are non-vascular plants - they don't have transport tubes and absorb water directly through their surfaces."
            },
            {
                type: "plant_classification",
                question: "Conifers are plants that produce:",
                options: ["Cones", "Flowers", "Spores", "Fruits"],
                answer: "A",
                explanation: "Conifers (like pine trees) produce cones instead of flowers. They are gymnosperms - non-flowering seed plants."
            },
            {
                type: "plant_classification",
                question: "Ferns reproduce using:",
                options: ["Spores", "Seeds", "Cones", "Flowers"],
                answer: "A",
                explanation: "Ferns reproduce using spores (tiny reproductive cells) found on the underside of their fronds."
            },
            // Animal Classification (61-80)
            {
                type: "animal_classification",
                question: "Animals are divided into two main groups:",
                options: ["Vertebrates and invertebrates", "Big and small", "Land and water", "Furry and non-furry"],
                answer: "A",
                explanation: "Main animal groups: Vertebrates (with backbones) and invertebrates (without backbones)."
            },
            {
                type: "animal_classification",
                question: "Percentage of animals that are invertebrates?",
                options: ["About 97%", "About 50%", "About 25%", "About 10%"],
                answer: "A",
                explanation: "Approximately 97% of all animal species are invertebrates - insects, spiders, worms, mollusks, etc."
            },
            {
                type: "animal_classification",
                question: "Which are vertebrates?",
                options: ["Fish, amphibians, reptiles, birds, mammals", "Insects, spiders, worms", "Only mammals", "Only fish and birds"],
                answer: "A",
                explanation: "Five main vertebrate groups: fish, amphibians, reptiles, birds, and mammals. All have backbones."
            },
            // Vertebrate Groups (81-100)
            {
                type: "vertebrates",
                question: "Fish breathe through?",
                options: ["Gills", "Lungs", "Skin", "Spiracles"],
                answer: "A",
                explanation: "Fish use gills to extract oxygen from water. They live in water, have scales, and are cold-blooded."
            },
            {
                type: "vertebrates",
                question: "Amphibians can live?",
                options: ["Both land and water", "Only water", "Only land", "Only trees"],
                answer: "A",
                explanation: "Amphibians (like frogs) live part of life in water (as tadpoles) and part on land (as adults)."
            },
            {
                type: "vertebrates",
                question: "Reptiles are:",
                options: ["Cold-blooded with scales", "Warm-blooded with fur", "Cold-blooded with feathers", "Warm-blooded with scales"],
                answer: "A",
                explanation: "Reptiles (snakes, lizards, turtles) are cold-blooded, have scales, and lay eggs on land."
            },
            {
                type: "vertebrates",
                question: "Birds have:",
                options: ["Feathers and lay eggs", "Fur and give live birth", "Scales and live in water", "Smooth skin and live in water"],
                answer: "A",
                explanation: "Birds have feathers, lay hard-shelled eggs, are warm-blooded, and most can fly."
            },
            {
                type: "vertebrates",
                question: "Mammals are characterized by:",
                options: ["Having hair/fur and feeding milk to young", "Having scales and laying eggs", "Having feathers and flying", "Having gills and living in water"],
                answer: "A",
                explanation: "Mammals have hair/fur, are warm-blooded, feed milk to their young, and most give live birth."
            },
            // Invertebrate Groups (101-120)
            {
                type: "invertebrates",
                question: "Largest group of invertebrates?",
                options: ["Insects", "Spiders", "Worms", "Snails"],
                answer: "A",
                explanation: "Insects are the largest invertebrate group and the largest animal group overall - millions of species!"
            },
            {
                type: "invertebrates",
                question: "Insects have how many body parts?",
                options: ["3", "2", "4", "5"],
                answer: "A",
                explanation: "Insects have 3 body parts: head, thorax, and abdomen. They also have 6 legs."
            },
            {
                type: "invertebrates",
                question: "Arachnids (spiders) have how many legs?",
                options: ["8", "6", "10", "4"],
                answer: "A",
                explanation: "Arachnids (spiders, scorpions, ticks) have 8 legs and 2 body parts (cephalothorax and abdomen)."
            },
            // Dichotomous Keys (121-140)
            {
                type: "dichotomous_keys",
                question: "What is a dichotomous key?",
                options: ["Tool to identify organisms using choices", "A type of animal", "Plant reproduction method", "Animal behavior pattern"],
                answer: "A",
                explanation: "A dichotomous key is an identification tool that uses a series of paired choices to identify organisms."
            },
            // Characteristics & Adaptations (141-160)
            {
                type: "characteristics",
                question: "What adaptation helps desert plants conserve water?",
                options: ["Thick stems and reduced leaves", "Broad leaves", "Thin stems", "Many flowers"],
                answer: "A",
                explanation: "Desert plants like cacti have thick stems to store water and reduced leaves (spines) to minimize water loss."
            },
            {
                type: "characteristics",
                question: "What helps birds fly?",
                options: ["Light bones and feathers", "Heavy bones and fur", "Gills and scales", "Webbed feet and smooth skin"],
                answer: "A",
                explanation: "Birds have lightweight hollow bones, feathers for flight and insulation, and strong breast muscles."
            },
            // Real-world Applications (161-180)
            {
                type: "real_world",
                question: "Why is classification important for conservation?",
                options: ["Helps identify endangered species", "Makes animals look better", "Changes animal names", "Only for scientists"],
                answer: "A",
                explanation: "Classification helps identify which species are endangered, understand their relationships, and plan conservation efforts."
            },
            // Mixed Practice (181-200)
            {
                type: "mixed",
                question: "A whale is classified as a:",
                options: ["Mammal", "Fish", "Reptile", "Bird"],
                answer: "A",
                explanation: "Whales are mammals - they have hair (though minimal), are warm-blooded, breathe air with lungs, and feed milk to their young."
            }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            currentQuestions: [],
            studentName: "",
            classificationData: {},
            currentKingdom: "all"
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent biological classification!",
            "Perfect taxonomic thinking!",
            "Great organism identification!",
            "Amazing! You're a classification expert!",
            "Perfect understanding of kingdoms!",
            "You're a biodiversity champion!",
            "Outstanding adaptation recognition!",
            "Brilliant characteristic analysis!",
            "You think like a taxonomist!",
            "Classification mastery achieved!"
        ];

        // Biological classification terms
        const classificationTerms = [
            {
                term: "Taxonomy",
                definition: "Science of naming and classifying organisms",
                example: "Carl Linnaeus developed modern taxonomy"
            },
            {
                term: "Species",
                definition: "Most specific classification level",
                characteristic: "Can interbreed and produce fertile offspring"
            },
            {
                term: "Binomial Nomenclature",
                definition: "Two-part naming system (Genus species)",
                example: "Homo sapiens for humans"
            },
            {
                term: "Kingdom",
                definition: "Broadest classification level",
                examples: "Animalia, Plantae, Fungi"
            },
            {
                term: "Phylum",
                definition: "Major group within a kingdom",
                example: "Chordata (animals with backbones)"
            },
            {
                term: "Vertebrate",
                definition: "Animal with a backbone",
                examples: "Fish, mammals, birds, reptiles, amphibians"
            },
            {
                term: "Invertebrate",
                definition: "Animal without a backbone",
                examples: "Insects, spiders, worms, mollusks"
            }
        ];

        // Kingdoms of life
        const kingdoms = [
            {
                name: "Animalia",
                description: "Multicellular organisms that consume other organisms",
                characteristics: "Heterotrophic, mobile (most), no cell walls",
                examples: "Mammals, birds, fish, insects, worms",
                icon: "üêò",
                color: "#2196F3"
            },
            {
                name: "Plantae",
                description: "Multicellular organisms that make their own food",
                characteristics: "Autotrophic (photosynthesis), cell walls with cellulose",
                examples: "Trees, flowers, grasses, ferns, mosses",
                icon: "üå≥",
                color: "#4CAF50"
            },
            {
                name: "Fungi",
                description: "Organisms that absorb nutrients from surroundings",
                characteristics: "Cell walls with chitin, heterotrophic, reproduce via spores",
                examples: "Mushrooms, molds, yeasts",
                icon: "üçÑ",
                color: "#795548"
            },
            {
                name: "Protista",
                description: "Mostly single-celled organisms with nuclei",
                characteristics: "Eukaryotic, diverse modes of nutrition",
                examples: "Amoeba, paramecium, algae",
                icon: "ü¶†",
                color: "#9C27B0"
            },
            {
                name: "Monera",
                description: "Single-celled organisms without nuclei (bacteria)",
                characteristics: "Prokaryotic, microscopic, diverse habitats",
                examples: "Bacteria, cyanobacteria",
                icon: "üß´",
                color: "#607D8B"
            }
        ];

        // Plant classification
        const plantGroups = [
            {
                name: "Flowering Plants",
                type: "Angiosperms",
                characteristics: "Produce flowers and fruits, seeds enclosed in ovary",
                examples: "Rose, apple tree, grass, oak tree",
                icon: "üå∏",
                color: "#E91E63"
            },
            {
                name: "Conifers",
                type: "Gymnosperms",
                characteristics: "Produce cones, needle-like leaves, seeds not enclosed",
                examples: "Pine, spruce, fir, cedar",
                icon: "üå≤",
                color: "#388E3C"
            },
            {
                name: "Ferns",
                type: "Pteridophytes",
                characteristics: "Vascular, reproduce via spores, feathery fronds",
                examples: "Boston fern, maidenhair fern, bracken",
                icon: "üåø",
                color: "#009688"
            },
            {
                name: "Mosses",
                type: "Bryophytes",
                characteristics: "Non-vascular, small, moist habitats, reproduce via spores",
                examples: "Sphagnum moss, cushion moss",
                icon: "üçÉ",
                color: "#8BC34A"
            }
        ];

        // Animal classification - Vertebrates
        const vertebrateGroups = [
            {
                name: "Mammals",
                characteristics: "Hair/fur, warm-blooded, feed milk to young, most give live birth",
                examples: "Human, dog, whale, bat, elephant",
                icon: "üêò",
                color: "#FF9800"
            },
            {
                name: "Birds",
                characteristics: "Feathers, wings, beaks, lay hard-shelled eggs, warm-blooded",
                examples: "Eagle, penguin, ostrich, hummingbird",
                icon: "ü¶Ö",
                color: "#2196F3"
            },
            {
                name: "Reptiles",
                characteristics: "Scales, cold-blooded, lay leathery eggs on land",
                examples: "Snake, lizard, turtle, crocodile",
                icon: "üêç",
                color: "#4CAF50"
            },
            {
                name: "Amphibians",
                characteristics: "Moist skin, live both land/water, lay jelly-like eggs in water",
                examples: "Frog, toad, salamander, newt",
                icon: "üê∏",
                color: "#8BC34A"
            },
            {
                name: "Fish",
                characteristics: "Scales, gills, live in water, lay many eggs, cold-blooded",
                examples: "Goldfish, shark, salmon, clownfish",
                icon: "üê†",
                color: "#03A9F4"
            }
        ];

        // Animal classification - Invertebrates
        const invertebrateGroups = [
            {
                name: "Insects",
                characteristics: "6 legs, 3 body parts, antennae, often have wings",
                examples: "Butterfly, ant, bee, beetle",
                icon: "ü¶ã",
                color: "#FFC107"
            },
            {
                name: "Arachnids",
                characteristics: "8 legs, 2 body parts, no antennae",
                examples: "Spider, scorpion, tick, mite",
                icon: "üï∑Ô∏è",
                color: "#795548"
            },
            {
                name: "Mollusks",
                characteristics: "Soft bodies, often have shells",
                examples: "Snail, octopus, clam, squid",
                icon: "üêå",
                color: "#9C27B0"
            },
            {
                name: "Crustaceans",
                characteristics: "Hard exoskeleton, jointed limbs, aquatic",
                examples: "Crab, lobster, shrimp, barnacle",
                icon: "ü¶Ä",
                color: "#F44336"
            },
            {
                name: "Worms",
                characteristics: "Long, soft bodies, no legs",
                examples: "Earthworm, leech, tapeworm",
                icon: "üêõ",
                color: "#795548"
            }
        ];

        // Interesting science facts about classification
        const scienceFacts = [
            "There are estimated 8.7 million species on Earth, but only about 1.2 million have been classified and named!",
            "Carl Linnaeus published his classification system in 1735 - it's still the basis for modern taxonomy!",
            "The blue whale is not only the largest animal alive today but also the largest animal that has EVER lived!",
            "Insects make up about 75% of all animal species - there are over 1 million known insect species!",
            "The tallest tree species is the coast redwood, reaching heights over 115 meters (379 feet)!",
            "Some fungi can break down plastic and oil spills - they're nature's recyclers!",
            "The platypus is so unusual that when first discovered, scientists thought it was a hoax!",
            "The smallest known flowering plant is Wolffia (watermeal) - about the size of a grain of rice!"
        ];

        // Dichotomous key examples
        const dichotomousKeys = [
            {
                title: "Identify Vertebrate Groups",
                steps: [
                    "1a. Has feathers ‚Üí Bird",
                    "1b. No feathers ‚Üí Go to 2",
                    "2a. Has hair/fur ‚Üí Mammal",
                    "2b. No hair/fur ‚Üí Go to 3",
                    "3a. Has scales and lives in water ‚Üí Fish",
                    "3b. Has scales and lives on land ‚Üí Reptile",
                    "3c. Moist skin, lives both land/water ‚Üí Amphibian"
                ]
            },
            {
                title: "Identify Plant Groups",
                steps: [
                    "1a. Produces flowers ‚Üí Flowering plant",
                    "1b. No flowers ‚Üí Go to 2",
                    "2a. Produces cones ‚Üí Conifer",
                    "2b. No cones ‚Üí Go to 3",
                    "3a. Has feathery fronds, reproduces by spores ‚Üí Fern",
                    "3b. Small, green, moist habitat ‚Üí Moss"
                ]
            }
        ];

        // Adaptations examples
        const adaptations = [
            {
                organism: "Cactus",
                adaptation: "Spines instead of leaves",
                purpose: "Reduce water loss, protect from animals"
            },
            {
                organism: "Penguin",
                adaptation: "Dense feathers and fat layer",
                purpose: "Insulation in cold climates"
            },
            {
                organism: "Chameleon",
                adaptation: "Color-changing skin",
                purpose: "Camouflage and communication"
            },
            {
                organism: "Venus flytrap",
                adaptation: "Trap leaves that close quickly",
                purpose: "Capture insects for nutrients"
            }
        ];

        // Habitats and their organisms
        const habitats = [
            {
                name: "Rainforest",
                description: "Hot, wet, high biodiversity",
                plants: "Orchids, bromeliads, mahogany trees",
                animals: "Monkeys, toucans, jaguars, tree frogs",
                icon: "üå¥"
            },
            {
                name: "Desert",
                description: "Dry, extreme temperatures",
                plants: "Cacti, succulents, creosote bush",
                animals: "Camels, scorpions, rattlesnakes, fennec foxes",
                icon: "üèúÔ∏è"
            },
            {
                name: "Ocean",
                description: "Salty water, various depths",
                plants: "Seaweed, kelp, phytoplankton",
                animals: "Fish, whales, dolphins, corals, sharks",
                icon: "üåä"
            },
            {
                name: "Grassland",
                description: "Mostly grasses, few trees",
                plants: "Grasses, wildflowers, acacia trees",
                animals: "Lions, zebras, elephants, gazelles",
                icon: "üåæ"
            }
        ];

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const scienceFact = document.getElementById('scienceFact');
        const conceptDisplay = document.getElementById('conceptDisplay');
        const visualizationContainer = document.getElementById('visualizationContainer');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const highestScore = document.getElementById('highestScore');

        // Initialize the app
        function initApp() {
            initBackground();
            loadStateFromStorage();
            setupEventListeners();
            
            if (appState.studentName && appState.currentQuestions.length > 0) {
                showPracticePage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade6ScienceClassification');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
                appState.score = parsed.score || 0;
                appState.skipped = parsed.skipped || 0;
                appState.answered = parsed.answered || 0;
                appState.currentQuestions = parsed.currentQuestions || [];
                
                if (appState.currentQuestions.length === 0) {
                    initializeQuestions();
                }
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade6ScienceClassification', JSON.stringify(appState));
        }

        // Initialize and shuffle questions
        function initializeQuestions() {
            appState.currentQuestions = [...questions];
            shuffleArray(appState.currentQuestions);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            viewTopicsBtn.addEventListener('click', backToTopics);
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startPractice();
                }
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const totalQuestions = appState.currentQuestions.length;
            const percentage = Math.round((appState.score / totalQuestions) * 100);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            
            const highest = localStorage.getItem('ideolixGrade6ScienceClassification_highestScore') || 0;
            highestScore.textContent = Math.max(highest, appState.score);
            
            if (appState.score > highest) {
                localStorage.setItem('ideolixGrade6ScienceClassification_highestScore', appState.score);
            }
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a classification expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You have excellent biological knowledge!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! Keep learning to master biological classification!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Practice more with plant and animal groups!";
            } else {
                scoreMessage.textContent = "Keep learning! Understanding classification helps us appreciate biodiversity!";
            }
        }

        // Create science fact display
        function createScienceFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'science-fact';
            
            factDiv.innerHTML = `<strong>Amazing Biology Fact:</strong> ${scienceFacts[Math.floor(Math.random() * scienceFacts.length)]}`;
            
            return factDiv;
        }

        // Create concept display
        function createConceptDisplay() {
            const display = document.createElement('div');
            display.className = 'concept-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            const conceptIcons = {
                "classification_basics": "üî¨",
                "kingdoms": "üëë",
                "plant_classification": "üåø",
                "animal_classification": "üêæ",
                "vertebrates": "ü¶¥",
                "invertebrates": "üêõ",
                "dichotomous_keys": "üîë",
                "characteristics": "üìã",
                "real_world": "üåç",
                "mixed": "üéØ"
            };
            
            let conceptName = "Classification Basics";
            let conceptIcon = "üî¨";
            
            if (question.type.includes("classification_basics")) {
                conceptName = "Classification Basics";
                conceptIcon = conceptIcons.classification_basics;
            } else if (question.type.includes("kingdoms")) {
                conceptName = "Kingdoms of Life";
                conceptIcon = conceptIcons.kingdoms;
            } else if (question.type.includes("plant_classification")) {
                conceptName = "Plant Classification";
                conceptIcon = conceptIcons.plant_classification;
            } else if (question.type.includes("animal_classification")) {
                conceptName = "Animal Classification";
                conceptIcon = conceptIcons.animal_classification;
            } else if (question.type.includes("vertebrates")) {
                conceptName = "Vertebrate Groups";
                conceptIcon = conceptIcons.vertebrates;
            } else if (question.type.includes("invertebrates")) {
                conceptName = "Invertebrate Groups";
                conceptIcon = conceptIcons.invertebrates;
            } else if (question.type.includes("dichotomous_keys")) {
                conceptName = "Dichotomous Keys";
                conceptIcon = conceptIcons.dichotomous_keys;
            } else if (question.type.includes("characteristics")) {
                conceptName = "Characteristics & Adaptations";
                conceptIcon = conceptIcons.characteristics;
            } else if (question.type.includes("real_world")) {
                conceptName = "Real-World Applications";
                conceptIcon = conceptIcons.real_world;
            } else if (question.type.includes("mixed")) {
                conceptName = "Mixed Practice";
                conceptIcon = conceptIcons.mixed;
            }
            
            const conceptBox = document.createElement('div');
            conceptBox.className = 'concept-box grow';
            conceptBox.innerHTML = `
                <div class="concept-icon">${conceptIcon}</div>
                <div class="concept-text">${conceptName.toUpperCase()}</div>
            `;
            
            const label = document.createElement('div');
            label.className = 'concept-label';
            
            if (question.type.includes("classification_basics")) {
                label.textContent = "Understanding taxonomy, classification hierarchy, and scientific naming";
            } else if (question.type.includes("kingdoms")) {
                label.textContent = "The five main kingdoms of life and their characteristics";
            } else if (question.type.includes("plant_classification")) {
                label.textContent = "Major plant groups, characteristics, and examples";
            } else if (question.type.includes("animal_classification")) {
                label.textContent = "Vertebrate and invertebrate classification";
            } else if (question.type.includes("vertebrates")) {
                label.textContent = "Five vertebrate groups: mammals, birds, reptiles, amphibians, fish";
            } else if (question.type.includes("invertebrates")) {
                label.textContent = "Major invertebrate groups: insects, arachnids, mollusks, etc.";
            } else if (question.type.includes("dichotomous_keys")) {
                label.textContent = "Using identification keys to classify organisms";
            } else if (question.type.includes("characteristics")) {
                label.textContent = "Adaptations and distinguishing characteristics";
            } else if (question.type.includes("real_world")) {
                label.textContent = "Importance of classification in conservation and research";
            } else if (question.type.includes("mixed")) {
                label.textContent = "Mixed review of all classification concepts";
            }
            
            display.appendChild(conceptBox);
            display.appendChild(label);
            
            return display;
        }

        // Create biology visualization
        function createBiologyVisualization() {
            const vizDiv = document.createElement('div');
            vizDiv.className = 'visualization-container';
            
            vizDiv.innerHTML = `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--primary-green);">Classification of Plants & Animals</h3>
                
                <div class="classification-container">
                    <div class="display-title">Biological Classification Tree</div>
                    <div class="classification-tree">
                        <div class="tree-level">
                            <div class="tree-node kingdom" onclick="showKingdomInfo('all')">
                                <div class="node-icon">üåç</div>
                                <div class="node-label">All Life</div>
                                <div class="node-description">8.7 million species</div>
                            </div>
                        </div>
                        <div class="tree-connector"></div>
                        <div class="tree-level">
                            ${kingdoms.map(kingdom => `
                                <div class="tree-node kingdom" onclick="showKingdomInfo('${kingdom.name.toLowerCase()}')">
                                    <div class="node-icon">${kingdom.icon}</div>
                                    <div class="node-label">${kingdom.name}</div>
                                    <div class="node-description">${kingdom.description}</div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="tree-connector"></div>
                        <div class="tree-level">
                            <div class="tree-node plant" onclick="showPlantClassification()">
                                <div class="node-icon">üå±</div>
                                <div class="node-label">Plant Groups</div>
                                <div class="node-description">Click to explore</div>
                            </div>
                            <div class="tree-node animal" onclick="showAnimalClassification()">
                                <div class="node-icon">üêæ</div>
                                <div class="node-label">Animal Groups</div>
                                <div class="node-description">Click to explore</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Plant Classification Section -->
                <div class="plants-container" id="plantsSection">
                    <div class="display-title">Plant Classification</div>
                    <div class="plants-grid">
                        ${plantGroups.map(plant => `
                            <div class="plant-card" onclick="showPlantDetails('${plant.name}')">
                                <div class="plant-icon">${plant.icon}</div>
                                <div class="plant-name">${plant.name}</div>
                                <div class="plant-characteristics">${plant.type}</div>
                                <div class="plant-examples">${plant.examples.split(',')[0]}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div id="plantDetails" style="margin-top: 20px; padding: 15px; background: var(--dark-surface); border-radius: 8px; display: none;">
                        <!-- Plant details will appear here -->
                    </div>
                </div>
                
                <!-- Animal Classification Section -->
                <div class="animals-container" id="animalsSection">
                    <div class="display-title">Animal Classification</div>
                    <div style="margin-bottom: 20px;">
                        <div style="color: var(--secondary-blue); font-weight: bold; margin-bottom: 10px;">Vertebrates</div>
                        <div class="animals-grid">
                            ${vertebrateGroups.map(animal => `
                                <div class="animal-card" onclick="showAnimalDetails('${animal.name}', 'vertebrate')">
                                    <div class="animal-icon">${animal.icon}</div>
                                    <div class="animal-name">${animal.name}</div>
                                    <div class="animal-characteristics">${animal.characteristics.split(',')[0]}</div>
                                    <div class="animal-examples">${animal.examples.split(',')[0]}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <div style="color: var(--accent-orange); font-weight: bold; margin-bottom: 10px;">Invertebrates (97% of animals!)</div>
                        <div class="animals-grid">
                            ${invertebrateGroups.map(animal => `
                                <div class="animal-card" onclick="showAnimalDetails('${animal.name}', 'invertebrate')">
                                    <div class="animal-icon">${animal.icon}</div>
                                    <div class="animal-name">${animal.name}</div>
                                    <div class="animal-characteristics">${animal.characteristics.split(',')[0]}</div>
                                    <div class="animal-examples">${animal.examples.split(',')[0]}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div id="animalDetails" style="margin-top: 20px; padding: 15px; background: var(--dark-surface); border-radius: 8px; display: none;">
                        <!-- Animal details will appear here -->
                    </div>
                </div>
                
                <div class="dichotomous-container">
                    <div class="display-title">Dichotomous Keys - Identification Tools</div>
                    <div class="dichotomous-key">
                        ${dichotomousKeys.map(key => `
                            <div style="margin-bottom: 20px;">
                                <div style="color: var(--accent-orange); font-weight: bold; margin-bottom: 10px;">${key.title}</div>
                                ${key.steps.map(step => `
                                    <div class="key-step">
                                        <span class="step-number">${step.split(' ‚Üí ')[0]}</span>
                                        <span>${step.split(' ‚Üí ')[1]}</span>
                                    </div>
                                `).join('')}
                            </div>
                        `).join('')}
                    </div>
                    <div style="text-align: center; margin-top: 15px;">
                        <button class="btn btn-small btn-primary" onclick="practiceDichotomousKey()">Practice Using Key</button>
                    </div>
                </div>
                
                <div class="comparison-container">
                    <div class="display-title">Characteristic Comparison</div>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Group</th>
                                <th>Body Covering</th>
                                <th>Breathing</th>
                                <th>Reproduction</th>
                                <th>Body Temperature</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="font-weight: bold; color: var(--accent-orange);">Mammals</td>
                                <td>Hair/Fur</td>
                                <td>Lungs</td>
                                <td>Live birth (mostly)</td>
                                <td>Warm-blooded</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold; color: var(--secondary-blue);">Birds</td>
                                <td>Feathers</td>
                                <td>Lungs</td>
                                <td>Hard-shelled eggs</td>
                                <td>Warm-blooded</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold; color: var(--primary-green);">Reptiles</td>
                                <td>Scales</td>
                                <td>Lungs</td>
                                <td>Leathery eggs</td>
                                <td>Cold-blooded</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold; color: #8BC34A;">Amphibians</td>
                                <td>Moist skin</td>
                                <td>Gills ‚Üí Lungs</td>
                                <td>Jelly-like eggs</td>
                                <td>Cold-blooded</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold; color: #03A9F4;">Fish</td>
                                <td>Scales</td>
                                <td>Gills</td>
                                <td>Many eggs</td>
                                <td>Cold-blooded</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="interactive-classification">
                    <div class="display-title">Interactive Classification Activity</div>
                    <div class="classification-controls">
                        <div class="classification-button" onclick="classifyOrganisms()">Classify Organisms</div>
                        <div class="classification-button" onclick="matchCharacteristics()">Match Characteristics</div>
                        <div class="classification-button" onclick="sortByHabitat()">Sort by Habitat</div>
                        <div class="classification-button" onclick="resetActivity()">Reset Activity</div>
                    </div>
                    <div class="classification-area" id="classificationArea">
                        <div class="drop-zone" id="plantZone">Plants üåø</div>
                        <div class="drop-zone" id="animalZone">Animals üêæ</div>
                    </div>
                    <div id="activityResult" style="text-align: center; margin-top: 15px; min-height: 30px; color: var(--text-secondary);">
                        Drag organisms to correct groups
                    </div>
                </div>
                
                <div class="habitat-container">
                    <div class="display-title">Habitats & Their Organisms</div>
                    <div class="habitat-grid">
                        ${habitats.map(habitat => `
                            <div class="habitat-card">
                                <div class="habitat-icon">${habitat.icon}</div>
                                <div class="habitat-name">${habitat.name}</div>
                                <div class="habitat-organisms">
                                    <strong>Plants:</strong> ${habitat.plants.split(',')[0]}...<br>
                                    <strong>Animals:</strong> ${habitat.animals.split(',')[0]}...
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="adaptation-container">
                    <div class="display-title">Amazing Adaptations</div>
                    <div class="adaptation-examples">
                        ${adaptations.map(adaptation => `
                            <div class="adaptation-card">
                                <div style="font-weight: bold; color: var(--accent-yellow); margin-bottom: 10px;">${adaptation.organism}</div>
                                <div style="margin-bottom: 8px;"><strong>Adaptation:</strong> ${adaptation.adaptation}</div>
                                <div style="font-size: 0.9rem; color: var(--text-secondary);">${adaptation.purpose}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Classification Term</th>
                            <th>Definition</th>
                            <th>Example/Note</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${classificationTerms.map(term => `
                            <tr>
                                <td style="font-weight: bold; color: var(--accent-teal);">${term.term}</td>
                                <td>${term.definition}</td>
                                <td>${term.example || term.characteristic || term.examples}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
                
                <div class="interactive-practice">
                    <div class="practice-title">Interactive Practice</div>
                    <div class="practice-controls">
                        <div class="practice-button" onclick="practiceKingdomID()">Identify Kingdoms</div>
                        <div class="practice-button" onclick="practiceVertebrateID()">Classify Vertebrates</div>
                        <div class="practice-button" onclick="practicePlantID()">Identify Plant Groups</div>
                        <div class="practice-button" onclick="practiceAdaptations()">Match Adaptations</div>
                    </div>
                    <div class="practice-display" id="practiceDisplay">
                        Click buttons above to practice classification skills
                    </div>
                </div>
                
                <div style="background: var(--dark-card); padding: 15px; border-radius: 8px; margin-top: 20px; border-left: 4px solid var(--accent-orange);">
                    <div style="color: var(--accent-orange); font-weight: bold; margin-bottom: 10px;">Quick Practice:</div>
                    <div style="color: var(--text-secondary); font-size: 0.9rem;">
                        1. Name the 5 vertebrate groups<br>
                        2. What kingdom do mushrooms belong to?<br>
                        3. How do ferns reproduce?<br>
                        4. Difference between vertebrates and invertebrates?<br>
                        5. Why do scientists classify organisms?
                    </div>
                </div>
                
                <div style="background: var(--dark-card); padding: 15px; border-radius: 8px; margin-top: 20px; border: 2px solid var(--accent-teal);">
                    <div style="color: var(--accent-teal); font-weight: bold; margin-bottom: 10px; text-align: center;">Classification Tips</div>
                    <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">
                        <strong>Kingdoms:</strong> Animalia, Plantae, Fungi, Protista, Monera<br>
                        <strong>Vertebrates:</strong> Mammals, Birds, Reptiles, Amphibians, Fish<br>
                        <strong>Plants:</strong> Flowering, Conifers, Ferns, Mosses<br>
                        <strong>Invertebrates:</strong> 97% of animals (insects, spiders, worms)
                    </div>
                </div>
            `;
            
            // Initialize interactive classification
            setTimeout(() => {
                setupDragAndDrop();
            }, 100);
            
            return vizDiv;
        }

        // Interactive functions
        function showKingdomInfo(kingdomName) {
            const kingdom = kingdoms.find(k => k.name.toLowerCase() === kingdomName);
            
            if (kingdom) {
                alert(`Kingdom: ${kingdom.name}\n\nDescription: ${kingdom.description}\n\nCharacteristics: ${kingdom.characteristics}\n\nExamples: ${kingdom.examples}`);
            } else if (kingdomName === 'all') {
                let info = "Five Kingdoms of Life:\n\n";
                kingdoms.forEach(k => {
                    info += `${k.icon} ${k.name}: ${k.description}\nExamples: ${k.examples.split(',')[0]}\n\n`;
                });
                alert(info);
            }
        }

        function showPlantClassification() {
            const plantsSection = document.getElementById('plantsSection');
            const animalsSection = document.getElementById('animalsSection');
            
            if (plantsSection && animalsSection) {
                plantsSection.scrollIntoView({ behavior: 'smooth' });
                plantsSection.style.borderColor = 'var(--accent-orange)';
                plantsSection.style.boxShadow = 'var(--plant-glow)';
                
                setTimeout(() => {
                    plantsSection.style.borderColor = 'var(--primary-green)';
                    plantsSection.style.boxShadow = 'none';
                }, 2000);
            }
        }

        function showAnimalClassification() {
            const animalsSection = document.getElementById('animalsSection');
            const plantsSection = document.getElementById('plantsSection');
            
            if (animalsSection && plantsSection) {
                animalsSection.scrollIntoView({ behavior: 'smooth' });
                animalsSection.style.borderColor = 'var(--accent-orange)';
                animalsSection.style.boxShadow = 'var(--animal-glow)';
                
                setTimeout(() => {
                    animalsSection.style.borderColor = 'var(--secondary-blue)';
                    animalsSection.style.boxShadow = 'none';
                }, 2000);
            }
        }

        function showPlantDetails(plantName) {
            const plantDetails = document.getElementById('plantDetails');
            const plant = plantGroups.find(p => p.name === plantName);
            
            if (plantDetails && plant) {
                plantDetails.innerHTML = `
                    <div style="display: flex; gap: 15px; align-items: center;">
                        <div style="font-size: 3rem;">${plant.icon}</div>
                        <div>
                            <div style="font-size: 1.3rem; font-weight: bold; color: ${plant.color};">${plant.name} (${plant.type})</div>
                            <div style="margin-top: 10px;"><strong>Characteristics:</strong> ${plant.characteristics}</div>
                            <div style="margin-top: 5px;"><strong>Examples:</strong> ${plant.examples}</div>
                        </div>
                    </div>
                `;
                plantDetails.style.display = 'block';
            }
        }

        function showAnimalDetails(animalName, type) {
            const animalDetails = document.getElementById('animalDetails');
            let animal;
            
            if (type === 'vertebrate') {
                animal = vertebrateGroups.find(a => a.name === animalName);
            } else {
                animal = invertebrateGroups.find(a => a.name === animalName);
            }
            
            if (animalDetails && animal) {
                animalDetails.innerHTML = `
                    <div style="display: flex; gap: 15px; align-items: center;">
                        <div style="font-size: 3rem;">${animal.icon}</div>
                        <div>
                            <div style="font-size: 1.3rem; font-weight: bold; color: ${animal.color || '#2196F3'};">${animal.name} (${type})</div>
                            <div style="margin-top: 10px;"><strong>Characteristics:</strong> ${animal.characteristics}</div>
                            <div style="margin-top: 5px;"><strong>Examples:</strong> ${animal.examples}</div>
                            <div style="margin-top: 10px; font-size: 0.9rem; color: var(--text-secondary);">
                                ${type === 'invertebrate' ? 'Invertebrates make up 97% of all animal species!' : ''}
                            </div>
                        </div>
                    </div>
                `;
                animalDetails.style.display = 'block';
            }
        }

        function setupDragAndDrop() {
            const classificationArea = document.getElementById('classificationArea');
            const plantZone = document.getElementById('plantZone');
            const animalZone = document.getElementById('animalZone');
            
            if (!classificationArea || !plantZone || !animalZone) return;
            
            // Clear existing content
            classificationArea.innerHTML = '';
            
            // Create draggable organisms
            const organisms = [
                {name: "Oak Tree", type: "plant", emoji: "üå≥"},
                {name: "Rose", type: "plant", emoji: "üåπ"},
                {name: "Fern", type: "plant", emoji: "üåø"},
                {name: "Moss", type: "plant", emoji: "üçÉ"},
                {name: "Dog", type: "animal", emoji: "üêï"},
                {name: "Eagle", type: "animal", emoji: "ü¶Ö"},
                {name: "Frog", type: "animal", emoji: "üê∏"},
                {name: "Butterfly", type: "animal", emoji: "ü¶ã"}
            ];
            
            // Add organisms to classification area
            organisms.forEach(org => {
                const item = document.createElement('div');
                item.className = `draggable-item ${org.type}-item`;
                item.textContent = `${org.emoji} ${org.name}`;
                item.draggable = true;
                item.dataset.type = org.type;
                
                item.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', org.name);
                    e.dataTransfer.setData('type', org.type);
                });
                
                classificationArea.appendChild(item);
            });
            
            // Add drop zones
            const plantZoneDiv = document.createElement('div');
            plantZoneDiv.className = 'drop-zone';
            plantZoneDiv.id = 'plantZone';
            plantZoneDiv.textContent = 'Plants üåø';
            
            const animalZoneDiv = document.createElement('div');
            animalZoneDiv.className = 'drop-zone';
            animalZoneDiv.id = 'animalZone';
            animalZoneDiv.textContent = 'Animals üêæ';
            
            classificationArea.appendChild(plantZoneDiv);
            classificationArea.appendChild(animalZoneDiv);
            
            // Add drop event listeners
            [plantZoneDiv, animalZoneDiv].forEach(zone => {
                zone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('active');
                });
                
                zone.addEventListener('dragleave', function() {
                    this.classList.remove('active');
                });
                
                zone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('active');
                    
                    const orgName = e.dataTransfer.getData('text/plain');
                    const orgType = e.dataTransfer.getData('type');
                    const targetType = this.id === 'plantZone' ? 'plant' : 'animal';
                    
                    if (orgType === targetType) {
                        this.innerHTML += `<div class="draggable-item ${orgType}-item" style="margin: 5px;">${orgName}</div>`;
                        updateActivityResult(`Correct! ${orgName} is a ${orgType}.`);
                    } else {
                        updateActivityResult(`Try again! ${orgName} is not a ${targetType}.`);
                    }
                });
            });
        }

        function updateActivityResult(message) {
            const resultDiv = document.getElementById('activityResult');
            if (resultDiv) {
                resultDiv.textContent = message;
                resultDiv.style.color = message.includes('Correct') ? 'var(--primary-green)' : 'var(--accent-red)';
            }
        }

        // Interactive practice functions
        function practiceKingdomID() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            const questions = [
                {
                    organism: "Lion",
                    description: "Hunts other animals, has fur, feeds milk to young",
                    answer: "Animalia"
                },
                {
                    organism: "Oak Tree",
                    description: "Makes own food using sunlight, has leaves and roots",
                    answer: "Plantae"
                },
                {
                    organism: "Mushroom",
                    description: "Absorbs nutrients from dead matter, reproduces with spores",
                    answer: "Fungi"
                },
                {
                    organism: "Amoeba",
                    description: "Single-celled, moves using pseudopodia, lives in water",
                    answer: "Protista"
                }
            ];
            
            const question = questions[Math.floor(Math.random() * questions.length)];
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--primary-green);">Identify the Kingdom</div>
                    <div style="margin-bottom: 15px;">
                        <strong>Organism:</strong> ${question.organism}
                    </div>
                    <div style="margin-bottom: 20px; font-style: italic;">
                        "${question.description}"
                    </div>
                    <div style="background: var(--dark-card); padding: 20px; border-radius: 8px; margin: 15px 0;">
                        <div style="font-size: 1.3rem; color: var(--accent-orange);">
                            Kingdom: ${question.answer}
                        </div>
                    </div>
                    <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                        <strong>Kingdom Characteristics:</strong><br>
                        Animalia: Consume other organisms<br>
                        Plantae: Make own food (photosynthesis)<br>
                        Fungi: Absorb nutrients<br>
                        Protista: Single-celled with nucleus
                    </div>
                </div>
            `;
        }

        function practiceVertebrateID() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            const questions = [
                {
                    animal: "Dolphin",
                    characteristics: "Breathes air with lungs, has hair (small amount), feeds milk to young",
                    answer: "Mammal"
                },
                {
                    animal: "Penguin",
                    characteristics: "Has feathers and wings, lays hard-shelled eggs, lives in cold climates",
                    answer: "Bird"
                },
                {
                    animal: "Frog",
                    characteristics: "Moist skin, starts life in water as tadpole, lays jelly-like eggs",
                    answer: "Amphibian"
                },
                {
                    animal: "Snake",
                    characteristics: "Has scales, lays leathery eggs on land, cold-blooded",
                    answer: "Reptile"
                }
            ];
            
            const question = questions[Math.floor(Math.random() * questions.length)];
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--secondary-blue);">Classify the Vertebrate</div>
                    <div style="margin-bottom: 15px;">
                        <strong>Animal:</strong> ${question.animal}
                    </div>
                    <div style="margin-bottom: 20px;">
                        <strong>Characteristics:</strong> ${question.characteristics}
                    </div>
                    <div style="background: var(--dark-card); padding: 20px; border-radius: 8px; margin: 15px 0;">
                        <div style="font-size: 1.3rem; color: var(--accent-orange);">
                            Classification: ${question.answer}
                        </div>
                    </div>
                    <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                        <strong>Vertebrate Groups:</strong><br>
                        Mammals: Hair/fur, milk for young<br>
                        Birds: Feathers, hard-shelled eggs<br>
                        Reptiles: Scales, leathery eggs<br>
                        Amphibians: Moist skin, jelly-like eggs in water<br>
                        Fish: Scales, gills, live in water
                    </div>
                </div>
            `;
        }

        function practicePlantID() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            const questions = [
                {
                    plant: "Rose",
                    characteristics: "Produces beautiful flowers, seeds enclosed in fruits",
                    answer: "Flowering Plant"
                },
                {
                    plant: "Pine Tree",
                    characteristics: "Has needle-like leaves, produces cones, seeds not enclosed",
                    answer: "Conifer"
                },
                {
                    plant: "Fern",
                    characteristics: "Has feathery fronds, reproduces using spores on underside",
                    answer: "Fern"
                },
                {
                    plant: "Moss",
                    characteristics: "Small green plant, grows in moist areas, no vascular tissue",
                    answer: "Moss"
                }
            ];
            
            const question = questions[Math.floor(Math.random() * questions.length)];
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--primary-green);">Identify the Plant Group</div>
                    <div style="margin-bottom: 15px;">
                        <strong>Plant:</strong> ${question.plant}
                    </div>
                    <div style="margin-bottom: 20px;">
                        <strong>Characteristics:</strong> ${question.characteristics}
                    </div>
                    <div style="background: var(--dark-card); padding: 20px; border-radius: 8px; margin: 15px 0;">
                        <div style="font-size: 1.3rem; color: var(--accent-orange);">
                            Plant Group: ${question.answer}
                        </div>
                    </div>
                    <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                        <strong>Plant Groups:</strong><br>
                        Flowering Plants: Produce flowers and fruits<br>
                        Conifers: Produce cones, needle-like leaves<br>
                        Ferns: Reproduce with spores, feathery fronds<br>
                        Mosses: Non-vascular, moist habitats
                    </div>
                </div>
            `;
        }

        function practiceAdaptations() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            const adaptations = [
                {
                    organism: "Cactus",
                    adaptation: "Spines instead of leaves",
                    purpose: "Reduce water loss in desert"
                },
                {
                    organism: "Penguin",
                    adaptation: "Dense feathers and fat layer",
                    purpose: "Insulation in cold climates"
                },
                {
                    organism: "Chameleon",
                    adaptation: "Color-changing skin",
                    purpose: "Camouflage and communication"
                },
                {
                    organism: "Duck",
                    adaptation: "Webbed feet",
                    purpose: "Swimming efficiently"
                }
            ];
            
            const adaptation = adaptations[Math.floor(Math.random() * adaptations.length)];
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--accent-yellow);">Understanding Adaptations</div>
                    <div style="margin-bottom: 15px;">
                        <strong>Organism:</strong> ${adaptation.organism}
                    </div>
                    <div style="margin-bottom: 20px;">
                        <strong>Adaptation:</strong> ${adaptation.adaptation}
                    </div>
                    <div style="background: var(--dark-card); padding: 20px; border-radius: 8px; margin: 15px 0;">
                        <div style="font-size: 1.3rem; color: var(--accent-orange);">
                            Purpose: ${adaptation.purpose}
                        </div>
                    </div>
                    <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                        <strong>Adaptations help organisms:</strong><br>
                        ‚Ä¢ Survive in their environment<br>
                        ‚Ä¢ Find food and avoid predators<br>
                        ‚Ä¢ Reproduce successfully<br>
                        ‚Ä¢ Cope with climate conditions
                    </div>
                </div>
            `;
        }

        function practiceDichotomousKey() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--accent-orange);">Practice Using a Dichotomous Key</div>
                    <div style="margin-bottom: 20px;">
                        <strong>Organism to identify:</strong> An animal with feathers and wings
                    </div>
                    <div style="background: var(--dark-surface); padding: 15px; border-radius: 8px; margin: 15px 0; text-align: left;">
                        <div style="margin-bottom: 10px;"><strong>Dichotomous Key:</strong></div>
                        <div>1a. Has feathers ‚Üí Bird</div>
                        <div>1b. No feathers ‚Üí Go to 2</div>
                        <div>2a. Has hair/fur ‚Üí Mammal</div>
                        <div>2b. No hair/fur ‚Üí Go to 3</div>
                        <div>3a. Has scales and lives in water ‚Üí Fish</div>
                        <div>3b. Has scales and lives on land ‚Üí Reptile</div>
                        <div>3c. Moist skin, lives both land/water ‚Üí Amphibian</div>
                    </div>
                    <div style="background: var(--dark-card); padding: 20px; border-radius: 8px; margin: 15px 0;">
                        <div style="font-size: 1.3rem; color: var(--accent-orange);">
                            Identification: Bird (matches 1a: Has feathers)
                        </div>
                    </div>
                    <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                        <strong>How to use a dichotomous key:</strong><br>
                        1. Start at step 1<br>
                        2. Choose the statement that matches your organism<br>
                        3. Follow the instruction (go to next step or get identification)<br>
                        4. Continue until you reach an identification
                    </div>
                </div>
            `;
        }

        // Global functions for interactive controls
        window.classifyOrganisms = function() {
            setupDragAndDrop();
            document.getElementById('activityResult').textContent = "Drag organisms to correct groups (Plants or Animals)";
        };

        window.matchCharacteristics = function() {
            const classificationArea = document.getElementById('classificationArea');
            const activityResult = document.getElementById('activityResult');
            
            if (!classificationArea || !activityResult) return;
            
            classificationArea.innerHTML = `
                <div style="width: 100%; text-align: center; padding: 20px;">
                    <div style="margin-bottom: 15px;">Match the characteristic to the group:</div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div class="draggable-item plant-item" draggable="true">Has leaves and roots üåø</div>
                        <div class="draggable-item animal-item" draggable="true">Consumes other organisms üêæ</div>
                        <div class="draggable-item plant-item" draggable="true">Makes food using sunlight ‚òÄÔ∏è</div>
                        <div class="draggable-item animal-item" draggable="true">Can move from place to place üèÉ</div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px;">
                        <div class="drop-zone">Plant Characteristics</div>
                        <div class="drop-zone">Animal Characteristics</div>
                    </div>
                </div>
            `;
            
            activityResult.textContent = "Drag characteristics to correct groups";
        };

        window.sortByHabitat = function() {
            const classificationArea = document.getElementById('classificationArea');
            const activityResult = document.getElementById('activityResult');
            
            if (!classificationArea || !activityResult) return;
            
            classificationArea.innerHTML = `
                <div style="width: 100%; text-align: center; padding: 20px;">
                    <div style="margin-bottom: 15px;">Sort organisms by habitat:</div>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px;">
                        <div class="draggable-item" draggable="true" style="border-color: var(--primary-green);">Cactus üåµ</div>
                        <div class="draggable-item" draggable="true" style="border-color: var(--secondary-blue);">Penguin üêß</div>
                        <div class="draggable-item" draggable="true" style="border-color: var(--accent-teal);">Monkey üêí</div>
                        <div class="draggable-item" draggable="true" style="border-color: #03A9F4;">Shark ü¶à</div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="drop-zone" style="border-color: var(--accent-brown);">Desert üèúÔ∏è</div>
                        <div class="drop-zone" style="border-color: var(--secondary-blue);">Polar üßä</div>
                        <div class="drop-zone" style="border-color: var(--primary-green);">Rainforest üå¥</div>
                        <div class="drop-zone" style="border-color: #03A9F4;">Ocean üåä</div>
                    </div>
                </div>
            `;
            
            activityResult.textContent = "Drag organisms to their correct habitats";
        };

        window.resetActivity = function() {
            setupDragAndDrop();
        };

        // Load current question
        function loadQuestion() {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${appState.currentQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / appState.currentQuestions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            scienceFact.innerHTML = '';
            conceptDisplay.innerHTML = '';
            visualizationContainer.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            scienceFact.appendChild(createScienceFact());
            conceptDisplay.appendChild(createConceptDisplay());
            visualizationContainer.appendChild(createBiologyVisualization());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation, question.answer);
            }
            
            nextQuestionBtn.disabled = false;
            saveStateToStorage();
        }

        // Show feedback
        function showFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    const correctOption = String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65));
                    const correctText = questions.find(q => 
                        appState.currentQuestions[appState.currentQuestionIndex].question === q.question
                    )?.options[correctAnswer.charCodeAt(0) - 65];
                    
                    feedbackMessage.textContent = `Correct answer: ${correctOption} (${correctText})`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Move to next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions();
            
            saveStateToStorage();
            showPracticePage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            alert("In a complete implementation, this would navigate to the topics selection page.");
        }

        // Start practice session
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            if (appState.currentQuestions.length === 0) {
                initializeQuestions();
            }
            
            saveStateToStorage();
            showPracticePage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
