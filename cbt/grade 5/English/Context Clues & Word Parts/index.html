<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 5 English - Context Clues & Word Parts | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for English/Language Arts Theme */
        :root {
            --primary-indigo: #3F51B5;
            --secondary-teal: #009688;
            --accent-orange: #FF9800;
            --accent-pink: #E91E63;
            --accent-purple: #9C27B0;
            --accent-green: #4CAF50;
            --accent-amber: #FFC107;
            --accent-blue: #2196F3;
            --accent-lime: #CDDC39;
            --accent-deep-orange: #FF5722;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(63, 81, 181, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Slideshow */
        .slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        /* Topic Selection */
        .topic-selection {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
            width: 100%;
            max-width: 800px;
        }

        @media (max-width: 768px) {
            .topic-selection {
                grid-template-columns: 1fr;
            }
        }

        .topic-card {
            background: var(--dark-surface);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 280px;
        }

        .topic-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
        }

        .topic-card.active {
            border-color: var(--accent-orange);
            background: rgba(255, 152, 0, 0.1);
        }

        .topic-card.context {
            border-color: var(--accent-orange);
        }

        .topic-card.prefix-suffix {
            border-color: var(--accent-purple);
        }

        .topic-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .topic-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .topic-card.context .topic-title {
            color: var(--accent-orange);
        }

        .topic-card.prefix-suffix .topic-title {
            color: var(--accent-purple);
        }

        .topic-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .topic-examples {
            text-align: left;
            font-size: 0.85rem;
            color: var(--text-muted);
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            padding: 10px;
            border-radius: 8px;
        }

        .topic-examples div {
            margin: 5px 0;
            padding-left: 10px;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 152, 0, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 25px;
            border: 1px solid var(--accent-orange);
        }

        .topic-icon-small {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--accent-orange);
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--accent-orange);
            box-shadow: 0 0 0 3px rgba(255, 152, 0, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-indigo);
            color: white;
            box-shadow: 0 4px 15px rgba(63, 81, 181, 0.4);
        }

        .btn-primary:hover {
            background: #303F9F;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(63, 81, 181, 0.5);
        }

        .btn-context {
            background: var(--accent-orange);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.4);
        }

        .btn-context:hover {
            background: #F57C00;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 152, 0, 0.5);
        }

        .btn-prefix-suffix {
            background: var(--accent-purple);
            color: white;
            box-shadow: 0 4px 15px rgba(156, 39, 176, 0.4);
        }

        .btn-prefix-suffix:hover {
            background: #7B1FA2;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(156, 39, 176, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-teal);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 150, 136, 0.4);
        }

        .btn-secondary:hover {
            background: #00796B;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 150, 136, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--accent-orange);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Mode */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(255, 152, 0, 0.5);
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .vocabulary-fact {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-green);
            font-style: italic;
            color: var(--text-secondary);
        }

        /* Content Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .question-side {
            display: flex;
            flex-direction: column;
        }

        .visualization-side {
            display: flex;
            flex-direction: column;
        }

        .concept-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .concept-box {
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .concept-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .concept-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 5px;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--accent-orange);
            background: rgba(255, 152, 0, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: var(--accent-red);
            color: var(--accent-red);
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-card);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            background: var(--secondary-teal);
        }

        .option.correct .option-letter {
            background: var(--accent-green);
            color: white;
        }

        .option.incorrect .option-letter {
            background: var(--accent-red);
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 5px solid var(--accent-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid var(--accent-red);
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--accent-green);
        }

        .feedback-incorrect .feedback-icon {
            background: var(--accent-red);
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--accent-green);
        }

        .feedback-incorrect .feedback-title {
            color: var(--accent-red);
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Visualization Components */
        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            height: 100%;
            border: 1px solid var(--dark-border);
            overflow: auto;
        }

        /* Sentence Analysis Display */
        .sentence-analysis {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid var(--accent-blue);
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .analysis-title {
            color: var(--accent-blue);
            margin-bottom: 15px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sentence-text {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            font-style: italic;
            position: relative;
        }

        .unknown-word {
            background: rgba(255, 152, 0, 0.2);
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
            color: var(--accent-orange);
        }

        .clue-word {
            background: rgba(33, 150, 243, 0.2);
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
            color: var(--accent-blue);
        }

        .clue-explanation {
            margin: 10px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 6px;
            font-size: 0.95rem;
            color: var(--text-secondary);
        }

        /* Word Parts Display */
        .word-parts {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .word-part {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            min-width: 100px;
            border: 2px solid transparent;
        }

        .word-part.prefix {
            border-color: var(--accent-purple);
            background: rgba(156, 39, 176, 0.1);
        }

        .word-part.root {
            border-color: var(--accent-green);
            background: rgba(76, 175, 80, 0.1);
        }

        .word-part.suffix {
            border-color: var(--accent-orange);
            background: rgba(255, 152, 0, 0.1);
        }

        .part-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .part-text {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--text-primary);
        }

        .word-part.prefix .part-text {
            color: var(--accent-purple);
        }

        .word-part.root .part-text {
            color: var(--accent-green);
        }

        .word-part.suffix .part-text {
            color: var(--accent-orange);
        }

        .part-connector {
            font-size: 1.5rem;
            color: var(--text-secondary);
        }

        /* Comparison Display */
        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .comparison-container {
                grid-template-columns: 1fr;
            }
        }

        .comparison-column {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            border: 2px solid transparent;
        }

        .comparison-column.context {
            border-color: var(--accent-orange);
        }

        .comparison-column.word-parts {
            border-color: var(--accent-purple);
        }

        .column-title {
            color: var(--accent-orange);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .comparison-column.word-parts .column-title {
            color: var(--accent-purple);
        }

        /* Clue Types Display */
        .clue-types {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .clue-types {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .clue-types {
                grid-template-columns: 1fr;
            }
        }

        .clue-type {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .clue-icon {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--accent-blue);
        }

        .clue-title {
            font-weight: bold;
            color: var(--accent-orange);
            margin-bottom: 8px;
        }

        .clue-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* Prefix/Suffix Grid */
        .word-parts-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .word-parts-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .word-parts-grid {
                grid-template-columns: 1fr;
            }
        }

        .part-item {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .part-symbol {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--accent-purple);
        }

        .part-name {
            font-weight: bold;
            color: var(--accent-purple);
            margin-bottom: 5px;
        }

        .part-meaning {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .part-example {
            font-size: 0.85rem;
            color: var(--accent-green);
            font-style: italic;
        }

        /* Word Building Display */
        .word-building {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--accent-green);
        }

        .building-title {
            color: var(--accent-green);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .building-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .building-step {
            text-align: center;
            min-width: 100px;
        }

        .step-connector {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin: 0 10px;
        }

        /* Examples Table */
        .examples-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--dark-card);
            border-radius: 8px;
            overflow: hidden;
        }

        .examples-table th {
            background: var(--dark-surface);
            padding: 12px;
            text-align: left;
            color: var(--accent-blue);
            border-bottom: 2px solid var(--accent-blue);
        }

        .examples-table td {
            padding: 10px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
        }

        .examples-table tr:hover {
            background: rgba(255, 152, 0, 0.05);
        }

        .context-cell {
            border-left: 4px solid var(--accent-orange);
        }

        .prefix-cell {
            border-left: 4px solid var(--accent-purple);
        }

        .suffix-cell {
            border-left: 4px solid var(--accent-orange);
        }

        /* Practice Challenge */
        .practice-challenge {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .challenge-title {
            color: var(--accent-deep-orange);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .challenge-area {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .challenge-sentence {
            font-style: italic;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .challenge-question {
            font-weight: bold;
            color: var(--accent-orange);
            margin-bottom: 15px;
        }

        .challenge-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        @media (max-width: 768px) {
            .challenge-options {
                grid-template-columns: 1fr;
            }
        }

        .challenge-option {
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .challenge-option:hover {
            background: rgba(255, 152, 0, 0.1);
            transform: translateY(-2px);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .concept-box {
                min-width: 140px;
                font-size: 1.5rem;
                padding: 15px 20px;
            }
            
            .clue-types {
                grid-template-columns: 1fr;
            }
            
            .word-parts-grid {
                grid-template-columns: 1fr;
            }
            
            .comparison-container {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes grow {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .grow {
            animation: grow 0.5s ease forwards;
        }
        
        @keyframes clueHighlight {
            0% { background-color: rgba(33, 150, 243, 0); }
            50% { background-color: rgba(33, 150, 243, 0.3); }
            100% { background-color: rgba(33, 150, 243, 0); }
        }
        
        .clue-highlight {
            animation: clueHighlight 1.5s ease-in-out;
        }
        
        @keyframes wordBuild {
            0% { transform: translateX(-20px); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }
        
        .word-build {
            animation: wordBuild 0.8s ease forwards;
        }
        
        @keyframes partConnect {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .part-connect {
            animation: partConnect 0.5s ease forwards;
        }
        
        @keyframes contextFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .context-flow {
            background: linear-gradient(90deg, var(--accent-orange), var(--accent-blue), var(--accent-purple));
            background-size: 200% 200%;
            animation: contextFlow 3s ease infinite;
        }
    </style>
</head>
<body>
    <!-- Background Slideshow -->
    <div class="slideshow" id="slideshow">
        <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1456513080510-34499c43696c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Word Detective Skills</h1>
            <p class="welcome-subtitle">Become a word detective! Learn to figure out unknown words using context clues and understand how prefixes and suffixes change word meanings. Master the skills to unlock any vocabulary!</p>
            
            <div class="topic-selection" id="topicSelection">
                <!-- Context Clues Card -->
                <div class="topic-card context" id="contextCard">
                    <div class="topic-icon">üîçüìñ</div>
                    <div class="topic-title">Context Clues</div>
                    <div class="topic-description">Learn to figure out word meanings from surrounding text. Discover different types of context clues that help you understand unfamiliar words.</div>
                    <div class="topic-examples">
                        <div><strong>Definition:</strong> "An <strong>aquarium</strong>, a tank for fish, was in the lobby."</div>
                        <div><strong>Example:</strong> "<strong>Pets</strong> like dogs, cats, and birds need care."</div>
                        <div><strong>Contrast:</strong> "Unlike her <strong>garrulous</strong> sister, she was quiet."</div>
                    </div>
                </div>
                
                <!-- Prefixes & Suffixes Card -->
                <div class="topic-card prefix-suffix" id="prefixSuffixCard">
                    <div class="topic-icon">üß©üî§</div>
                    <div class="topic-title">Prefixes & Suffixes</div>
                    <div class="topic-description">Learn how word parts change meanings. Understand prefixes (beginnings) and suffixes (endings) to build vocabulary and understand complex words.</div>
                    <div class="topic-examples">
                        <div><strong>Prefix:</strong> <strong>Un</strong> + happy = <strong>Unhappy</strong> (not happy)</div>
                        <div><strong>Suffix:</strong> Quick + <strong>ly</strong> = <strong>Quickly</strong> (in a quick way)</div>
                        <div><strong>Both:</strong> <strong>Re</strong> + write + <strong>able</strong> = <strong>Rewritable</strong></div>
                    </div>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-context" id="startContext">
                    <span>Start Context Clues Challenge</span>
                </button>
                <button class="btn btn-prefix-suffix" id="startPrefixSuffix">
                    <span>Start Prefix/Suffix Challenge</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 65</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 2%"></div>
                </div>
            </div>

            <div class="question-container">
                <!-- Vocabulary fact display -->
                <div id="vocabularyFact"></div>
                
                <!-- Concept display area -->
                <div id="conceptDisplay"></div>
                
                <!-- Content Wrapper: Questions on left, Visualizations on right -->
                <div class="content-wrapper" id="contentWrapper">
                    <!-- Left side: Question and Options -->
                    <div class="question-side">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                    </div>
                    
                    <!-- Right side: Visualizations -->
                    <div class="visualization-side">
                        <div class="visualization-container" id="visualizationContainer">
                            <!-- All visualizations will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                    <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Word Detective Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Try Again</button>
                <button class="btn btn-secondary" id="viewTopics">Explore Other Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize slideshow
        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 5000);
        }

        // Context Clues Questions (65 questions)
        const contextCluesQuestions = [
            // Definition Clues (1-15)
            {
                type: "definition_clues",
                question: "What does 'aquarium' mean in: 'We visited an aquarium, a large tank for fish.'",
                options: ["A tank for fish", "A zoo for birds", "A garden for plants", "A cage for animals"],
                answer: "A",
                explanation: "The sentence defines 'aquarium' as 'a large tank for fish'."
            },
            {
                type: "definition_clues",
                question: "What does 'herbivore' mean in: 'A herbivore, an animal that eats only plants, grazed quietly.'",
                options: ["Plant-eating animal", "Meat-eating animal", "Water animal", "Flying animal"],
                answer: "A",
                explanation: "The definition is given: 'an animal that eats only plants'."
            },
            {
                type: "definition_clues",
                question: "What does 'nocturnal' mean in: 'Bats are nocturnal, which means they are active at night.'",
                options: ["Active at night", "Active during day", "Sleeping all day", "Very colorful"],
                answer: "A",
                explanation: "The word 'means' introduces a definition: 'active at night'."
            },
            {
                type: "definition_clues",
                question: "What does 'durable' mean in: 'The backpack was durable, meaning it was strong and long-lasting.'",
                options: ["Strong and long-lasting", "Light and colorful", "Small and compact", "Expensive and fancy"],
                answer: "A",
                explanation: "'Meaning' introduces the definition: 'strong and long-lasting'."
            },
            {
                type: "definition_clues",
                question: "What does 'transparent' mean in: 'The glass was transparent, or see-through.'",
                options: ["See-through", "Colorful", "Strong", "Fragile"],
                answer: "A",
                explanation: "The word 'or' gives a synonym definition: 'see-through'."
            },

            // Example Clues (16-30)
            {
                type: "example_clues",
                question: "What does 'pets' include in: 'Common pets include dogs, cats, and birds.'",
                options: ["Domestic animals", "Wild animals", "Farm animals", "Sea animals"],
                answer: "A",
                explanation: "Examples (dogs, cats, birds) show what 'pets' are."
            },
            {
                type: "example_clues",
                question: "What does 'citrus' mean in: 'Oranges, lemons, and limes are all citrus fruits.'",
                options: ["Type of fruit", "Type of vegetable", "Type of nut", "Type of grain"],
                answer: "A",
                explanation: "Examples show what 'citrus' includes."
            },
            {
                type: "example_clues",
                question: "What does 'aquatic' mean in: 'Fish, whales, and dolphins are aquatic animals.'",
                options: ["Living in water", "Living on land", "Flying in air", "Living in trees"],
                answer: "A",
                explanation: "Examples (fish, whales, dolphins) all live in water."
            },
            {
                type: "example_clues",
                question: "What does 'reptiles' include in: 'Snakes, lizards, and turtles are reptiles.'",
                options: ["Cold-blooded animals", "Warm-blooded animals", "Flying animals", "Swimming animals"],
                answer: "A",
                explanation: "Examples help define the category."
            },
            {
                type: "example_clues",
                question: "What does 'stationery' include in: 'Pens, pencils, and paper are stationery items.'",
                options: ["Writing materials", "Kitchen tools", "Garden tools", "Sports equipment"],
                answer: "A",
                explanation: "Examples define the category of items."

```html
            },

            // Contrast Clues (31-45)
            {
                type: "contrast_clues",
                question: "What does 'garrulous' mean in: 'Unlike his garrulous brother, Tom was very quiet.'",
                options: ["Talkative", "Quiet", "Smart", "Tall"],
                answer: "A",
                explanation: "'Unlike' shows contrast: quiet vs talkative."
            },
            {
                type: "contrast_clues",
                question: "What does 'opaque' mean in: 'The window was opaque, not transparent like the others.'",
                options: ["Not see-through", "See-through", "Clean", "Dirty"],
                answer: "A",
                explanation: "'Not transparent' shows it's the opposite of see-through."
            },
            {
                type: "contrast_clues",
                question: "What does 'industrious' mean in: 'While Sarah was industrious, her brother was lazy.'",
                options: ["Hard-working", "Lazy", "Funny", "Serious"],
                answer: "A",
                explanation: "Contrast with 'lazy' suggests 'hard-working'."
            },
            {
                type: "contrast_clues",
                question: "What does 'benevolent' mean in: ",
                options: ["Kind", "Mean", "Quiet", "Loud"],
                answer: "A",
                explanation: "Contrast with 'cruel' suggests the opposite: kind."
            },
            {
                type: "contrast_clues",
                question: "What does 'frugal' mean in: 'He was frugal, not wasteful with his money.'",
                options: ["Careful with money", "Wasteful with money", "Generous", "Selfish"],
                answer: "A",
                explanation: "'Not wasteful' suggests careful with money."
            },

            // Synonym Clues (46-55)
            {
                type: "synonym_clues",
                question: "What does 'enormous' mean in: 'The elephant was enormous, truly gigantic.'",
                options: ["Very large", "Very small", "Very fast", "Very slow"],
                answer: "A",
                explanation: "'Gigantic' is a synonym meaning very large."
            },
            {
                type: "synonym_clues",
                question: "What does 'joyful' mean in: 'She felt joyful, happy about her success.'",
                options: ["Happy", "Sad", "Angry", "Tired"],
                answer: "A",
                explanation: "'Happy' is a synonym clue."
            },
            {
                type: "synonym_clues",
                question: "What does 'rapid' mean in: 'The river had a rapid, fast current.'",
                options: ["Fast", "Slow", "Deep", "Shallow"],
                answer: "A",
                explanation: "'Fast' is a synonym clue."
            },
            {
                type: "synonym_clues",
                question: "What does 'diligent' mean in: 'He was diligent, working hard every day.'",
                options: ["Hard-working", "Lazy", "Smart", "Funny"],
                answer: "A",
                explanation: "'Working hard' is a synonym clue."
            },
            {
                type: "synonym_clues",
                question: "What does 'ancient' mean in: 'They studied ancient, very old civilizations.'",
                options: ["Very old", "Very new", "Very large", "Very small"],
                answer: "A",
                explanation: "'Very old' is a synonym clue."
            },

            // Inference Clues (56-65)
            {
                type: "inference_clues",
                question: "What does 'famished' mean in: 'After hiking all day without food, we were famished.'",
                options: ["Very hungry", "Very tired", "Very happy", "Very cold"],
                answer: "A",
                explanation: "Context of hiking without food suggests extreme hunger."
            },
            {
                type: "inference_clues",
                question: "What does 'trepidation' mean in: 'With trepidation, she approached the dark, scary house.'",
                options: ["Fear", "Excitement", "Happiness", "Boredom"],
                answer: "A",
                explanation: "Dark, scary house context suggests fear."
            },
            {
                type: "inference_clues",
                question: "What does 'exhausted' mean in: 'After running the marathon, he was exhausted.'",
                options: ["Very tired", "Very happy", "Very hungry", "Very clean"],
                answer: "A",
                explanation: "Running a marathon context suggests extreme tiredness."
            },
            {
                type: "inference_clues",
                question: "What does 'arid' mean in: 'Cacti grow well in arid regions with little rainfall.'",
                options: ["Dry", "Wet", "Cold", "Mountainous"],
                answer: "A",
                explanation: "'Little rainfall' suggests dry conditions."
            },
            {
                type: "inference_clues",
                question: "What does 'solitude' mean in: 'She enjoyed the solitude of her mountain cabin.'",
                options: ["Being alone", "Being busy", "Being noisy", "Being crowded"],
                answer: "A",
                explanation: "Mountain cabin context suggests being alone."
            }
        ];

        // Prefixes & Suffixes Questions (65 questions)
        const prefixesSuffixesQuestions = [
            // Common Prefixes (1-20)
            {
                type: "common_prefixes",
                question: "What does 'unhappy' mean?",
                options: ["Not happy", "Very happy", "Happy again", "Before happy"],
                answer: "A",
                explanation: "'Un-' is a prefix meaning 'not'."
            },
            {
                type: "common_prefixes",
                question: "What does 'rewrite' mean?",
                options: ["Write again", "Write before", "Write wrongly", "Write together"],
                answer: "A",
                explanation: "'Re-' is a prefix meaning 'again'."
            },
            {
                type: "common_prefixes",
                question: "What does 'preheat' mean?",
                options: ["Heat before", "Heat again", "Heat wrongly", "Heat too much"],
                answer: "A",
                explanation: "'Pre-' is a prefix meaning 'before'."
            },
            {
                type: "common_prefixes",
                question: "What does 'misunderstand' mean?",
                options: ["Understand wrongly", "Understand again", "Understand before", "Understand together"],
                answer: "A",
                explanation: "'Mis-' is a prefix meaning 'wrongly'."
            },
            {
                type: "common_prefixes",
                question: "What does 'disagree' mean?",
                options: ["Not agree", "Agree again", "Agree before", "Agree wrongly"],
                answer: "A",
                explanation: "'Dis-' is a prefix meaning 'not' or 'opposite'."
            },
            {
                type: "common_prefixes",
                question: "What does 'submarine' mean?",
                options: ["Underwater vessel", "Flying vessel", "Space vessel", "Land vehicle"],
                answer: "A",
                explanation: "'Sub-' means 'under' and 'marine' means 'sea'."
            },
            {
                type: "common_prefixes",
                question: "What does 'international' mean?",
                options: ["Between nations", "Within a nation", "Against nations", "Before nations"],
                answer: "A",
                explanation: "'Inter-' means 'between'."
            },
            {
                type: "common_prefixes",
                question: "What does 'bicycle' mean?",
                options: ["Two-wheeled vehicle", "Three-wheeled vehicle", "One-wheeled vehicle", "Four-wheeled vehicle"],
                answer: "A",
                explanation: "'Bi-' means 'two' and 'cycle' means 'wheel'."
            },
            {
                type: "common_prefixes",
                question: "What does 'triangle' mean?",
                options: ["Three-sided shape", "Four-sided shape", "Round shape", "Many-sided shape"],
                answer: "A",
                explanation: "'Tri-' means 'three'."
            },
            {
                type: "common_prefixes",
                question: "What does 'semicircle' mean?",
                options: ["Half circle", "Full circle", "Quarter circle", "Double circle"],
                answer: "A",
                explanation: "'Semi-' means 'half'."
            },

            // Common Suffixes (21-40)
            {
                type: "common_suffixes",
                question: "What does 'quickly' mean?",
                options: ["In a quick way", "Without quickness", "Before quick", "Full of quick"],
                answer: "A",
                explanation: "'-ly' makes an adverb meaning 'in that way'."
            },
            {
                type: "common_suffixes",
                question: "What does 'happiness' mean?",
                options: ["State of being happy", "Without happiness", "Full of happy", "Before happy"],
                answer: "A",
                explanation: "'-ness' makes a noun meaning 'state or quality'."
            },
            {
                type: "common_suffixes",
                question: "What does 'colorful' mean?",
                options: ["Full of color", "Without color", "In a colorful way", "State of color"],
                answer: "A",
                explanation: "'-ful' means 'full of'."
            },
            {
                type: "common_suffixes",
                question: "What does 'careless' mean?",
                options: ["Without care", "Full of care", "In a careful way", "State of care"],
                answer: "A",
                explanation: "'-less' means 'without'."
            },
            {
                type: "common_suffixes",
                question: "What does 'teacher' mean?",
                options: ["One who teaches", "Place for teaching", "State of teaching", "Full of teaching"],
                answer: "A",
                explanation: "'-er' means 'one who does'."
            },
            {
                type: "common_suffixes",
                question: "What does 'smallest' mean?",
                options: ["Most small", "Without small", "Full of small", "State of small"],
                answer: "A",
                explanation: "'-est' makes the superlative degree."
            },
            {
                type: "common_suffixes",
                question: "What does 'kindness' mean?",
                options: ["Quality of being kind", "Without kindness", "Full of kind", "One who is kind"],
                answer: "A",
                explanation: "'-ness' makes a noun meaning 'quality or state'."
            },
            {
                type: "common_suffixes",
                question: "What does 'movement' mean?",
                options: ["Act of moving", "Without moving", "Full of moving", "One who moves"],
                answer: "A",
                explanation: "'-ment' makes a noun meaning 'action or process'."
            },
            {
                type: "common_suffixes",
                question: "What does 'childish' mean?",
                options: ["Like a child", "Without child", "Full of children", "State of childhood"],
                answer: "A",
                explanation: "'-ish' means 'having the quality of'."
            },
            {
                type: "common_suffixes",
                question: "What does 'readable' mean?",
                options: ["Able to be read", "Without reading", "Full of reading", "One who reads"],
                answer: "A",
                explanation: "'-able' means 'able to be'."
            },

            // Combined Prefixes & Suffixes (41-55)
            {
                type: "combined_parts",
                question: "What does 'unhappiness' mean?",
                options: ["State of not being happy", "State of being happy", "Able to be unhappy", "Without happiness"],
                answer: "A",
                explanation: "'Un-' (not) + happy + '-ness' (state) = state of not being happy."
            },
            {
                type: "combined_parts",
                question: "What does 'rewritable' mean?",
                options: ["Able to be written again", "Not able to write", "Full of writing", "State of rewriting"],
                answer: "A",
                explanation: "'Re-' (again) + write + '-able' (able to be)."
            },
            {
                type: "combined_parts",
                question: "What does 'misunderstanding' mean?",
                options: ["Act of understanding wrongly", "Act of understanding", "Without understanding", "Full of understanding"],
                answer: "A",
                explanation: "'Mis-' (wrongly) + understand + '-ing' (action)."
            },
            {
                type: "combined_parts",
                question: "What does 'disagreement' mean?",
                options: ["Act of not agreeing", "Act of agreeing", "State of agreement", "Without agreement"],
                answer: "A",
                explanation: "'Dis-' (not) + agree + '-ment' (action)."
            },
            {
                type: "combined_parts",
                question: "What does 'prepayment' mean?",
                options: ["Payment made before", "Payment made again", "Payment made wrongly", "Unable to pay"],
                answer: "A",
                explanation: "'Pre-' (before) + pay + '-ment' (action)."
            },
            {
                type: "combined_parts",
                question: "What does 'unbreakable' mean?",
                options: ["Not able to be broken", "Able to be broken", "Full of breaking", "State of being broken"],
                answer: "A",
                explanation: "'Un-' (not) + break + '-able' (able to be)."
            },
            {
                type: "combined_parts",
                question: "What does 'misleading' mean?",
                options: ["Leading wrongly", "Leading again", "Not leading", "Before leading"],
                answer: "A",
                explanation: "'Mis-' (wrongly) + lead + '-ing' (action)."
            },
            {
                type: "combined_parts",
                question: "What does 'disappearance' mean?",
                options: ["Act of not appearing", "Act of appearing", "State of appearance", "Full of appearing"],
                answer: "A",
                explanation: "'Dis-' (not) + appear + '-ance' (action)."
            },
            {
                type: "combined_parts",
                question: "What does 'unforgettable' mean?",
                options: ["Not able to be forgotten", "Able to be forgotten", "Forgetting again", "Before forgetting"],
                answer: "A",
                explanation: "'Un-' (not) + forget + '-able' (able to be)."
            },
            {
                type: "combined_parts",
                question: "What does 'reusable' mean?",
                options: ["Able to be used again", "Not able to use", "Full of use", "State of using"],
                answer: "A",
                explanation: "'Re-' (again) + use + '-able' (able to be)."
            },

            // Word Building (56-65)
            {
                type: "word_building",
                question: "If 'play' means to have fun, what does 'replay' mean?",
                options: ["Play again", "Not play", "Play before", "Play wrongly"],
                answer: "A",
                explanation: "'Re-' means 'again', so 'replay' means 'play again'."
            },
            {
                type: "word_building",
                question: "If 'write' means to form letters, what does 'writer' mean?",
                options: ["One who writes", "Place for writing", "State of writing", "Without writing"],
                answer: "A",
                explanation: "'-er' means 'one who does', so 'writer' means 'one who writes'."
            },
            {
                type: "word_building",
                question: "If 'happy' means feeling joy, what does 'unhappily' mean?",
                options: ["In a not happy way", "In a happy way", "State of unhappiness", "Full of happiness"],
                answer: "A",
                explanation: "'Un-' (not) + happy + '-ly' (in that way)."
            },
            {
                type: "word_building",
                question: "If 'agree' means to have same opinion, what does 'disagreeable' mean?",
                options: ["Not pleasant to agree with", "Easy to agree with", "State of agreement", "Act of disagreeing"],
                answer: "A",
                explanation: "'Dis-' (not) + agree + '-able' (able to be) = not pleasant."
            },
            {
                type: "word_building",
                question: "If 'place' means location, what does 'replace' mean?",
                options: ["Put in place again", "Put in wrong place", "Remove from place", "Before placing"],
                answer: "A",
                explanation: "'Re-' (again) + place = put in place again."
            },
            {
                type: "word_building",
                question: "If 'view' means to look at, what does 'preview' mean?",
                options: ["View before", "View again", "View wrongly", "Not view"],
                answer: "A",
                explanation: "'Pre-' (before) + view = view before."
            },
            {
                type: "word_building",
                question: "If 'charge' means to load or fill, what does 'recharge' mean?",
                options: ["Charge again", "Not charge", "Charge before", "Charge wrongly"],
                answer: "A",
                explanation: "'Re-' (again) + charge = charge again."
            },
            {
                type: "word_building",
                question: "If 'build' means to construct, what does 'rebuild' mean?",
                options: ["Build again", "Build before", "Not build", "Build wrongly"],
                answer: "A",
                explanation: "'Re-' (again) + build = build again."
            },
            {
                type: "word_building",
                question: "If 'read' means to look at words, what does 'reread' mean?",
                options: ["Read again", "Not read", "Read before", "Read wrongly"],
                answer: "A",
                explanation: "'Re-' (again) + read = read again."
            },
            {
                type: "word_building",
                question: "If 'do' means to perform, what does 'undo' mean?",
                options: ["Reverse doing", "Do again", "Do before", "Do wrongly"],
                answer: "A",
                explanation: "'Un-' can mean 'reverse action', so 'undo' means reverse doing."
            }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            currentQuestions: [],
            studentName: "",
            topicType: "" // "context" or "prefix-suffix"
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent word detective skills!",
            "Fantastic understanding of word parts!",
            "Great job! You're a vocabulary expert!",
            "Amazing! Perfect context clue identification!",
            "Well done! You understand word structure perfectly!",
            "You're a context clues champion!",
            "Perfect! You think like a language detective!",
            "Outstanding vocabulary analysis skills!",
            "Brilliant! You understand word construction!",
            "You're on fire! Great word analysis!"
        ];

        // Vocabulary facts for display
        const vocabularyFacts = [
            "The English language has over 1 million words - the largest vocabulary of any language!",
            "Context clues were first formally studied in the 1920s by vocabulary researchers!",
            "Prefixes and suffixes come from Latin, Greek, and Old English roots!",
            "Knowing just 20 prefixes can help you understand over 100,000 words!",
            "The most common prefix in English is 'un-' meaning 'not' or 'opposite'!",
            "Shakespeare invented many words by adding prefixes and suffixes to existing words!",
            "Context clues are used by your brain automatically when you encounter new words!",
            "Learning word parts can help you understand words you've never seen before!"
        ];

        // Sample sentences for context clues
        const contextExamples = [
            {
                sentence: "The teacher was <span class='unknown-word'>lenient</span>, allowing students to turn in homework late.",
                clues: ["allowing students to turn in homework late"],
                explanation: "The action shows the teacher is not strict."
            },
            {
                sentence: "Cats, dogs, and rabbits are common <span class='unknown-word'>domestic</span> animals.",
                clues: ["Cats, dogs, and rabbits"],
                explanation: "Examples show animals that live with people."
            },
            {
                sentence: "Unlike her <span class='unknown-word'>garrulous</span> friend, Maria spoke very little.",
                clues: ["Unlike", "spoke very little"],
                explanation: "Contrast with 'spoke very little' suggests opposite meaning."
            },
            {
                sentence: "The glass was <span class='unknown-word'>transparent</span>, or see-through.",
                clues: ["or see-through"],
                explanation: "'Or' introduces a definition."
            }
        ];

        // Common prefixes and suffixes
        const wordParts = {
            prefixes: [
                {prefix: "un-", meaning: "not", example: "unhappy"},
                {prefix: "re-", meaning: "again", example: "rewrite"},
                {prefix: "pre-", meaning: "before", example: "preheat"},
                {prefix: "mis-", meaning: "wrongly", example: "misunderstand"},
                {prefix: "dis-", meaning: "not/opposite", example: "disagree"},
                {prefix: "sub-", meaning: "under", example: "submarine"},
                {prefix: "inter-", meaning: "between", example: "international"},
                {prefix: "bi-", meaning: "two", example: "bicycle"},
                {prefix: "tri-", meaning: "three", example: "triangle"},
                {prefix: "semi-", meaning: "half", example: "semicircle"}
            ],
            suffixes: [
                {suffix: "-ly", meaning: "in that way", example: "quickly"},
                {suffix: "-ness", meaning: "state/quality", example: "happiness"},
                {suffix: "-ful", meaning: "full of", example: "colorful"},
                {suffix: "-less", meaning: "without", example: "careless"},
                {suffix: "-er", meaning: "one who", example: "teacher"},
                {suffix: "-est", meaning: "most", example: "biggest"},
                {suffix: "-ment", meaning: "action/process", example: "movement"},
                {suffix: "-ish", meaning: "having quality of", example: "childish"},
                {suffix: "-able", meaning: "able to be", example: "readable"},
                {suffix: "-tion", meaning: "action/state", example: "education"}
            ]
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startContextBtn = document.getElementById('startContext');
        const startPrefixSuffixBtn = document.getElementById('startPrefixSuffix');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const vocabularyFact = document.getElementById('vocabularyFact');
        const conceptDisplay = document.getElementById('conceptDisplay');
        const visualizationContainer = document.getElementById('visualizationContainer');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const highestScore = document.getElementById('highestScore');
        
        // Topic cards
        const contextCard = document.getElementById('contextCard');
        const prefixSuffixCard = document.getElementById('prefixSuffixCard');

        // Initialize the app
        function initApp() {
            initSlideshow();
            loadStateFromStorage();
            setupEventListeners();
            
            if (appState.studentName && appState.currentQuestions.length > 0) {
                showPracticePage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade5ContextClues');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
                appState.score = parsed.score || 0;
                appState.skipped = parsed.skipped || 0;
                appState.answered = parsed.answered || 0;
                appState.currentQuestions = parsed.currentQuestions || [];
                appState.topicType = parsed.topicType || "";
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade5ContextClues', JSON.stringify(appState));
        }

        // Initialize questions based on topic type
        function initializeQuestions(topicType) {
            appState.topicType = topicType;
            
            switch(topicType) {
                case "context":
                    appState.currentQuestions = [...contextCluesQuestions];
                    break;
                case "prefix-suffix":
                    appState.currentQuestions = [...prefixesSuffixesQuestions];
                    break;
            }
            
            shuffleArray(appState.currentQuestions);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Setup event listeners
        function setupEventListeners() {
            startContextBtn.addEventListener('click', () => startPractice("context"));
            startPrefixSuffixBtn.addEventListener('click', () => startPractice("prefix-suffix"));
            
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            viewTopicsBtn.addEventListener('click', backToTopics);
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startPractice("context");
                }
            });
            
            // Add click events to topic cards
            contextCard.addEventListener('click', () => {
                clearActiveCards();
                contextCard.classList.add('active');
                startContextBtn.classList.add('btn-context');
            });
            
            prefixSuffixCard.addEventListener('click', () => {
                clearActiveCards();
                prefixSuffixCard.classList.add('active');
                startPrefixSuffixBtn.classList.add('btn-prefix-suffix');
            });
        }
        
        function clearActiveCards() {
            contextCard.classList.remove('active');
            prefixSuffixCard.classList.remove('active');
            startContextBtn.classList.remove('btn-context');
            startPrefixSuffixBtn.classList.remove('btn-prefix-suffix');
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            
            // Set progress bar color based on topic type
            switch(appState.topicType) {
                case "context":
                    progressFill.style.background = "linear-gradient(to right, var(--accent-orange), #F57C00)";
                    break;
                case "prefix-suffix":
                    progressFill.style.background = "linear-gradient(to right, var(--accent-purple), #7B1FA2)";
                    break;
                default:
                    progressFill.style.background = "linear-gradient(to right, var(--accent-orange), var(--accent-purple))";
            }
            
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const totalQuestions = appState.currentQuestions.length;
            const percentage = Math.round((appState.score / totalQuestions) * 100);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            
            const highest = localStorage.getItem(`ideolixGrade5WordDetective_${appState.topicType}_highestScore`) || 0;
            highestScore.textContent = Math.max(highest, appState.score);
            
            if (appState.score > highest) {
                localStorage.setItem(`ideolixGrade5WordDetective_${appState.topicType}_highestScore`, appState.score);
            }
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a word detective expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You have excellent word analysis skills!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! Keep practicing to become a vocabulary master!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review word analysis techniques and try again!";
            } else {
                scoreMessage.textContent = "Keep learning! Word skills grow with practice!";
            }
        }

        // Create vocabulary fact display
        function createVocabularyFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'vocabulary-fact';
            
            factDiv.innerHTML = `<strong>Word Fact:</strong> ${vocabularyFacts[Math.floor(Math.random() * vocabularyFacts.length)]}`;
            
            return factDiv;
        }

        // Create concept display based on topic type
        function createConceptDisplay() {
            const display = document.createElement('div');
            display.className = 'concept-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            let conceptName = "";
            let conceptIcon = "";
            let conceptColor = "";
            
            switch(appState.topicType) {
                case "context":
                    conceptName = "Context Clues";
                    conceptIcon = "üîçüìñ";
                    conceptColor = "var(--accent-orange)";
                    break;
                case "prefix-suffix":
                    conceptName = "Prefixes & Suffixes";
                    conceptIcon = "üß©üî§";
                    conceptColor = "var(--accent-purple)";
                    break;
            }
            
            const conceptBox = document.createElement('div');
            conceptBox.className = 'concept-box grow';
            conceptBox.style.background = `linear-gradient(135deg, ${conceptColor}, ${conceptColor}80)`;
            conceptBox.innerHTML = `
                <div class="concept-icon">${conceptIcon}</div>
                <div class="concept-text">${conceptName.toUpperCase()}</div>
            `;
            
            const label = document.createElement('div');
            label.className = 'concept-label';
            
            // Add specific label based on question type
            if (question.type.includes("definition_clues")) {
                label.textContent = "Definition Context Clues";
            } else if (question.type.includes("example_clues")) {
                label.textContent = "Example Context Clues";
            } else if (question.type.includes("contrast_clues")) {
                label.textContent = "Contrast Context Clues";
            } else if (question.type.includes("synonym_clues")) {
                label.textContent = "Synonym Context Clues";
            } else if (question.type.includes("inference_clues")) {
                label.textContent = "Inference Context Clues";
            } else if (question.type.includes("common_prefixes")) {
                label.textContent = "Common Prefixes";
            } else if (question.type.includes("common_suffixes")) {
                label.textContent = "Common Suffixes";
            } else if (question.type.includes("combined_parts")) {
                label.textContent = "Combined Word Parts";
            } else if (question.type.includes("word_building")) {
                label.textContent = "Word Building";
            } else {
                label.textContent = "Vocabulary Analysis";
            }
            
            display.appendChild(conceptBox);
            display.appendChild(label);
            
            return display;
        }

        // Create visualization based on topic type
        function createVocabularyVisualization() {
            const vizDiv = document.createElement('div');
            vizDiv.className = 'visualization-container';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            switch(appState.topicType) {
                case "context":
                    vizDiv.innerHTML = createContextCluesVisualization(question);
                    break;
                case "prefix-suffix":
                    vizDiv.innerHTML = createPrefixSuffixVisualization(question);
                    break;
            }
            
            return vizDiv;
        }

        // Context clues visualization
        function createContextCluesVisualization(question) {
            const example = contextExamples[Math.floor(Math.random() * contextExamples.length)];
            
            return `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-orange);">Context Clues: Word Detective Skills</h3>
                
                <div class="sentence-analysis">
                    <div class="analysis-title">Sentence Analysis</div>
                    <div class="sentence-text">
                        ${example.sentence}
                    </div>
                    <div class="clue-explanation">
                        <strong>Clue Words Found:</strong> 
                        ${example.clues.map(clue => `<span class="clue-word">${clue}</span>`).join(', ')}
                    </div>
                    <div class="clue-explanation">
                        <strong>How to Use Clues:</strong> ${example.explanation}
                    </div>
                </div>
                
                <div class="comparison-container">
                    <div class="comparison-column context">
                        <div class="column-title">What Are Context Clues?</div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-orange);">Definition:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                Hints in the text that help you figure out unknown words.
                            </div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-orange);">Why Important:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                Helps understand new vocabulary without a dictionary.
                            </div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-orange);">When to Use:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                When you encounter unfamiliar words while reading.
                            </div>
                        </div>
                    </div>
                    
                    <div class="comparison-column context">
                        <div class="column-title">Context Clue Strategy</div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-orange);">Step 1:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                Read the whole sentence with the unknown word.
                            </div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-orange);">Step 2:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                Look for clue words or phrases nearby.
                            </div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-orange);">Step 3:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                Make an educated guess about the word's meaning.
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="clue-types">
                    <div class="clue-type">
                        <div class="clue-icon">üìñ</div>
                        <div class="clue-title">Definition Clues</div>
                        <div class="clue-description">The meaning is explained right in the sentence.</div>
                    </div>
                    <div class="clue-type">
                        <div class="clue-icon">üîç</div>
                        <div class="clue-title">Example Clues</div>
                        <div class="clue-description">Examples show what the word means.</div>
                    </div>
                    <div class="clue-type">
                        <div class="clue-icon">‚öñÔ∏è</div>
                        <div class="clue-title">Contrast Clues</div>
                        <div class="clue-description">Opposite meaning is given for contrast.</div>
                    </div>
                    <div class="clue-type">
                        <div class="clue-icon">üîÑ</div>
                        <div class="clue-title">Synonym Clues</div>
                        <div class="clue-description">A similar word with same meaning is given.</div>
                    </div>
                    <div class="clue-type">
                        <div class="clue-icon">üí°</div>
                        <div class="clue-title">Inference Clues</div>
                        <div class="clue-description">You figure it out from the situation.</div>
                    </div>
                    <div class="clue-type">
                        <div class="clue-icon">üß†</div>
                        <div class="clue-title">Experience Clues</div>
                        <div class="clue-description">Use what you already know about the topic.</div>
                    </div>
                </div>
                
                <table class="examples-table">
                    <thead>
                        <tr>
                            <th>Clue Type</th>
                            <th>Signal Words</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="context-cell">Definition</td>
                            <td>means, is, or, which is</td>
                            <td>"A <strong>herbivore</strong> is an animal that eats plants."</td>
                        </tr>
                        <tr>
                            <td class="context-cell">Example</td>
                            <td>such as, for example, including</td>
                            <td>"<strong>Pets</strong> such as dogs and cats need care."</td>
                        </tr>
                        <tr>
                            <td class="context-cell">Contrast</td>
                            <td>but, however, unlike, although</td>
                            <td>"Unlike her <strong>garrulous</strong> friend, she was quiet."</td>
                        </tr>
                        <tr>
                            <td class="context-cell">Synonym</td>
                            <td>or, like, similarly</td>
                            <td>"The glass was <strong>transparent</strong> or see-through."</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="practice-challenge">
                    <div class="challenge-title">Practice Challenge</div>
                    <div class="challenge-area">
                        <div class="challenge-sentence">
                            "After the long hike without water, the explorers were <strong>parched</strong>."
                        </div>
                        <div class="challenge-question">What does "parched" probably mean?</div>
                        <div class="challenge-options">
                            <div class="challenge-option">Very thirsty</div>
                            <div class="challenge-option">Very tired</div>
                            <div class="challenge-option">Very happy</div>
                            <div class="challenge-option">Very lost</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Prefixes & suffixes visualization
        function createPrefixSuffixVisualization(question) {
            const prefixes = wordParts.prefixes.slice(0, 6);
            const suffixes = wordParts.suffixes.slice(0, 6);
            
            return `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-purple);">Prefixes & Suffixes: Word Building Blocks</h3>
                
                <div class="word-building">
                    <div class="building-title">How Words Are Built</div>
                    <div class="building-steps">
                        <div class="building-step">
                            <div class="word-part prefix">
                                <div class="part-label">Prefix</div>
                                <div class="part-text">Un</div>
                            </div>
                            <div>+</div>
                        </div>
                        <div class="building-step">
                            <div class="word-part root">
                                <div class="part-label">Root Word</div>
                                <div class="part-text">Happy</div>
                            </div>
                            <div>=</div>
                        </div>
                        <div class="building-step">
                            <div class="word-part suffix">
                                <div class="part-label">Word</div>
                                <div class="part-text">Unhappy</div>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 15px; color: var(--text-secondary); font-size: 0.9rem;">
                        Prefix "Un-" (not) + Root "Happy" = "Unhappy" (not happy)
                    </div>
                </div>
                
                <div class="comparison-container">
                    <div class="comparison-column word-parts">
                        <div class="column-title">What Are Prefixes?</div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Location:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                Added to the beginning of a word.
                            </div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Function:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                Changes the word's meaning.
                            </div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Examples:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                Un- (not), Re- (again), Pre- (before)
                            </div>
                        </div>
                    </div>
                    
                    <div class="comparison-column word-parts">
                        <div class="column-title">What Are Suffixes?</div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Location:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                Added to the end of a word.
                            </div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Function:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                Changes the word's part of speech or meaning.
                            </div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Examples:</div>
                            <div style="color: var(--text-secondary); font-size: 0.95rem; margin: 10px 0;">
                                -ful (full of), -less (without), -ly (in that way)
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="word-parts-grid">
                    ${prefixes.map(prefix => `
                        <div class="part-item">
                            <div class="part-symbol">${prefix.prefix}</div>
                            <div class="part-name">${prefix.prefix}</div>
                            <div class="part-meaning">${prefix.meaning}</div>
                            <div class="part-example">${prefix.example}</div>
                        </div>
                    `).join('')}
                    
                    ${suffixes.map(suffix => `
                        <div class="part-item">
                            <div class="part-symbol">${suffix.suffix}</div>
                            <div class="part-name">${suffix.suffix}</div>
                            <div class="part-meaning">${suffix.meaning}</div>
                            <div class="part-example">${suffix.example}</div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="word-building">
                    <div class="building-title">Word Building Examples</div>
                    <div class="building-steps">
                        <div class="building-step">
                            <div class="word-part prefix">
                                <div class="part-label">Re</div>
                                <div class="part-text">(again)</div>
                            </div>
                            <div class="step-connector">+</div>
                        </div>
                        <div class="building-step">
                            <div class="word-part root">
                                <div class="part-label">Write</div>
                            </div>
                            <div class="step-connector">+</div>
                        </div>
                        <div class="building-step">
                            <div class="word-part suffix">
                                <div class="part-label">Able</div>
                                <div class="part-text">(able to be)</div>
                            </div>
                            <div class="step-connector">=</div>
                        </div>
                        <div class="building-step">
                            <div style="font-weight: bold; color: var(--accent-green); font-size: 1.2rem;">
                                Rewritable<br>
                                <span style="font-size: 0.9rem; color: var(--text-secondary);">(able to be written again)</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="building-steps" style="margin-top: 20px;">
                        <div class="building-step">
                            <div class="word-part prefix">
                                <div class="part-label">Un</div>
                                <div class="part-text">(not)</div>
                            </div>
                            <div class="step-connector">+</div>
                        </div>
                        <div class="building-step">
                            <div class="word-part root">
                                <div class="part-label">Forget</div>
                            </div>
                            <div class="step-connector">+</div>
                        </div>
                        <div class="building-step">
                            <div class="word-part suffix">
                                <div class="part-label">Able</div>
                                <div class="part-text">(able to be)</div>
                            </div>
                            <div class="step-connector">=</div>
                        </div>
                        <div class="building-step">
                            <div style="font-weight: bold; color: var(--accent-green); font-size: 1.2rem;">
                                Unforgettable<br>
                                <span style="font-size: 0.9rem; color: var(--text-secondary);">(not able to be forgotten)</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <table class="examples-table">
                    <thead>
                        <tr>
                            <th>Word Part</th>
                            <th>Meaning</th>
                            <th>Example Words</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="prefix-cell">Un-</td>
                            <td>Not</td>
                            <td>Unhappy, Unkind, Unable</td>
                        </tr>
                        <tr>
                            <td class="prefix-cell">Re-</td>
                            <td>Again</td>
                            <td>Rewrite, Replay, Return</td>
                        </tr>
                        <tr>
                            <td class="suffix-cell">-ful</td>
                            <td>Full of</td>
                            <td>Colorful, Joyful, Careful</td>
                        </tr>
                        <tr>
                            <td class="suffix-cell">-less</td>
                            <td>Without</td>
                            <td>Careless, Homeless, Endless</td>
                        </tr>
                        <tr>
                            <td class="suffix-cell">-ly</td>
                            <td>In that way</td>
                            <td>Quickly, Slowly, Happily</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="practice-challenge">
                    <div class="challenge-title">Practice Challenge</div>
                    <div class="challenge-area">
                        <div class="challenge-question">What does "misplace" mean?</div>
                        <div class="challenge-options">
                            <div class="challenge-option">Put in wrong place</div>
                            <div class="challenge-option">Place again</div>
                            <div class="challenge-option">Before placing</div>
                            <div class="challenge-option">Without placing</div>
                        </div>
                        <div style="margin-top: 15px; color: var(--text-secondary); font-size: 0.9rem;">
                            <strong>Break it down:</strong> Mis- (wrongly) + place = put in wrong place
                        </div>
                    </div>
                </div>
            `;
        }

        // Load current question
        function loadQuestion() {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${appState.currentQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / appState.currentQuestions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            vocabularyFact.innerHTML = '';
            conceptDisplay.innerHTML = '';
            visualizationContainer.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            vocabularyFact.appendChild(createVocabularyFact());
            conceptDisplay.appendChild(createConceptDisplay());
            visualizationContainer.appendChild(createVocabularyVisualization());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation, question.answer);
            }
            
            nextQuestionBtn.disabled = false;
            saveStateToStorage();
        }

        // Show feedback
        function showFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    const correctOption = String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65));
                    feedbackMessage.textContent = `Correct answer: ${correctOption}`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Move to next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions(appState.topicType);
            
            saveStateToStorage();
            showPracticePage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            showWelcomePage();
        }

        // Start practice session
        function startPractice(topicType) {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions(topicType);
            
            saveStateToStorage();
            showPracticePage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
