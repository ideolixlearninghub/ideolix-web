<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 9 Math - Pythagoras & Trigonometry | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Trigonometry Theme */
        :root {
            --pythagoras-blue: #2196F3;
            --sine-green: #4CAF50;
            --cosine-orange: #FF9800;
            --tangent-purple: #9C27B0;
            --trig-yellow: #FFC107;
            --triangle-teal: #009688;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --right-angle-red: #F44336;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(33, 150, 243, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 90% 30%, rgba(76, 175, 80, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 50% 80%, rgba(255, 152, 0, 0.08) 0%, transparent 40%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 10px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info h1 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--pythagoras-blue), var(--tangent-purple), var(--trig-yellow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(33, 150, 243, 0.15);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            border: 2px solid var(--pythagoras-blue);
        }

        .input-group {
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--pythagoras-blue);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-pythagoras {
            background: var(--pythagoras-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-pythagoras:hover {
            background: #1976D2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
        }

        .btn-sine {
            background: var(--sine-green);
            color: white;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .btn-sine:hover {
            background: #388E3C;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }

        .btn-cosine {
            background: var(--cosine-orange);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
        }

        .btn-cosine:hover {
            background: #F57C00;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 152, 0, 0.4);
        }

        .btn-tangent {
            background: var(--tangent-purple);
            color: white;
            box-shadow: 0 4px 12px rgba(156, 39, 176, 0.3);
        }

        .btn-tangent:hover {
            background: #7B1FA2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(156, 39, 176, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--pythagoras-blue);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Page */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 8px;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--pythagoras-blue), var(--tangent-purple));
            border-radius: 8px;
            transition: width 0.5s ease;
        }

        .question-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.6;
            color: var(--text-primary);
        }

        .trig-tip {
            background: rgba(255, 193, 7, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--trig-yellow);
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--pythagoras-blue);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--sine-green);
            color: var(--sine-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 25px;
            height: 25px;
            background: var(--pythagoras-blue);
            border-radius: 50%;
            margin-right: 12px;
            font-weight: bold;
            color: white;
        }

        .option.correct .option-letter {
            background: var(--sine-green);
        }

        .option.incorrect .option-letter {
            background: #F44336;
        }

        /* Feedback */
        .feedback-container {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--sine-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--sine-green);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .feedback-correct .feedback-title {
            color: var(--sine-green);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-explanation {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Navigation */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Trigonometry Practice Area */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
            overflow: auto;
            max-height: 900px;
        }

        /* Practice Sections */
        .practice-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid;
            position: relative;
        }

        .pythagoras-section {
            border-color: var(--pythagoras-blue);
        }

        .sine-section {
            border-color: var(--sine-green);
        }

        .cosine-section {
            border-color: var(--cosine-orange);
        }

        .tangent-section {
            border-color: var(--tangent-purple);
        }

        .sohcahtoa-section {
            border-color: var(--trig-yellow);
        }

        .triangle-section {
            border-color: var(--triangle-teal);
        }

        .unit-circle-section {
            border-color: var(--right-angle-red);
        }

        .section-title {
            color: inherit;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
            font-size: 1.1rem;
        }

        /* Triangle Canvas */
        .triangle-canvas-container {
            position: relative;
            width: 100%;
            height: 200px;
            background: var(--dark-surface);
            border-radius: 6px;
            margin: 10px 0;
            overflow: hidden;
            border: 1px solid var(--dark-border);
        }

        .triangle-canvas {
            width: 100%;
            height: 100%;
        }

        /* Measurement Input */
        .measurement-input-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }

        .measurement-input {
            width: 100px;
            padding: 8px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 1rem;
            text-align: center;
        }

        .measurement-input:focus {
            outline: none;
            border-color: var(--pythagoras-blue);
        }

        .measurement-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            min-width: 100px;
        }

        .unit-display {
            color: var(--trig-yellow);
            font-size: 0.9rem;
            margin-left: 5px;
        }

        .angle-input {
            width: 80px;
        }

        /* Right Triangle Diagram */
        .right-triangle-diagram {
            position: relative;
            width: 180px;
            height: 120px;
            margin: 15px auto;
        }

        /* SOHCAHTOA Display */
        .sohcahtoa-display {
            background: rgba(255, 193, 7, 0.1);
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            text-align: center;
            color: var(--trig-yellow);
            border-left: 3px solid var(--trig-yellow);
        }

        /* Formula Display */
        .formula-display {
            background: rgba(33, 150, 243, 0.1);
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            text-align: center;
            color: var(--pythagoras-blue);
            border-left: 3px solid var(--pythagoras-blue);
        }

        /* Trigonometric Values Display */
        .trig-values-display {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .trig-value-item {
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 10px;
            text-align: center;
            border: 1px solid var(--dark-border);
        }

        .trig-function {
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .trig-value {
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            color: var(--text-primary);
        }

        /* Angle Slider */
        .angle-slider-container {
            margin: 15px 0;
        }

        .angle-slider {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--dark-surface);
            border-radius: 3px;
            outline: none;
        }

        .angle-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--pythagoras-blue);
            cursor: pointer;
        }

        .angle-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--pythagoras-blue);
            cursor: pointer;
            border: none;
        }

        /* Unit Circle */
        .unit-circle-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 15px auto;
            border: 2px solid var(--right-angle-red);
            border-radius: 50%;
            background: rgba(244, 67, 54, 0.05);
        }

        /* Trig Controls */
        .trig-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 15px 0;
            justify-content: center;
        }

        /* Step Display */
        .step-display {
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 10px;
            margin: 10px 0;
            font-size: 0.9rem;
            line-height: 1.4;
            color: var(--text-secondary);
            max-height: 150px;
            overflow-y: auto;
        }

        /* Solution Display */
        .solution-display {
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
        }

        /* Quick Reference */
        .reference-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--trig-yellow);
        }

        .formulas-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
        }

        .formulas-table th {
            background: var(--dark-card);
            padding: 12px;
            text-align: left;
            font-size: 0.9rem;
            border-bottom: 2px solid var(--trig-yellow);
            color: var(--trig-yellow);
        }

        .formulas-table td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
            font-size: 0.85rem;
        }

        .formula-cell {
            font-family: 'Courier New', monospace;
            color: var(--pythagoras-blue);
        }

        /* Trigonometric Ratios Display */
        .ratios-display {
            display: flex;
            justify-content: space-around;
            margin: 15px 0;
        }

        .ratio-item {
            text-align: center;
            padding: 10px;
        }

        .ratio-name {
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .ratio-formula {
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }

        .results-title {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--pythagoras-blue), var(--tangent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--pythagoras-blue), var(--tangent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .trig-values-display {
                grid-template-columns: 1fr;
            }
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--pythagoras-blue);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .rotate {
            animation: rotate 10s linear infinite;
        }

        @keyframes highlight {
            0% { background-color: transparent; }
            50% { background-color: rgba(33, 150, 243, 0.3); }
            100% { background-color: transparent; }
        }

        .highlight {
            animation: highlight 1.5s ease;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 1.8rem;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .trig-controls {
                flex-direction: column;
            }
            
            .trig-controls .btn {
                width: 100%;
            }
            
            .measurement-input-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .measurement-input {
                width: 100%;
            }
            
            .ratios-display {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <h1 class="welcome-title">Pythagoras & Trigonometry</h1>
            <p class="welcome-subtitle">Master right triangles with Pythagoras' theorem and trigonometric ratios. Learn to calculate unknown sides, angles, and solve real-world problems using sine, cosine, and tangent.</p>
            
            <div class="topic-badge">
                <span>üìê Pythagoras' Theorem ‚Ä¢ SOHCAHTOA ‚Ä¢ Sine ‚Ä¢ Cosine ‚Ä¢ Tangent ‚Ä¢ Right Triangles</span>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your name:</label>
                <input type="text" id="studentName" placeholder="Your name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-pythagoras" id="startPractice">
                    <span>üìö Begin Trigonometry Practice (100+ Questions)</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 100</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 1%"></div>
                </div>
            </div>

            <div class="question-container">
                <div id="trigTip"></div>
                
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-explanation" id="feedbackExplanation"></div>
                </div>
            </div>
            
            <!-- Trigonometry Practice Area -->
            <div class="content-wrapper">
                <div class="visualization-container">
                    <!-- Pythagoras' Theorem -->
                    <div class="practice-section pythagoras-section">
                        <div class="section-title">Pythagoras' Theorem</div>
                        
                        <div class="triangle-canvas-container">
                            <canvas class="triangle-canvas" id="pythagorasCanvas" width="400" height="200"></canvas>
                        </div>
                        
                        <div class="formula-display">
                            a¬≤ + b¬≤ = c¬≤
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Side a (adjacent):</span>
                            <input type="number" id="sideA" class="measurement-input" value="3" min="1" step="0.1">
                            <span class="unit-display">units</span>
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Side b (opposite):</span>
                            <input type="number" id="sideB" class="measurement-input" value="4" min="1" step="0.1">
                            <span class="unit-display">units</span>
                        </div>
                        
                        <div class="trig-controls">
                            <button class="btn btn-small btn-pythagoras" onclick="calculateHypotenuse()">Calculate Hypotenuse</button>
                            <button class="btn btn-small btn-outline" onclick="provePythagoras()">Visual Proof</button>
                            <button class="btn btn-small btn-outline" onclick="randomRightTriangle()">Random Triangle</button>
                        </div>
                        
                        <div class="solution-display" id="pythagorasResult">
                            Enter sides a and b to find hypotenuse c
                        </div>
                        
                        <div class="step-display" id="pythagorasSteps">
                            c = ‚àö(a¬≤ + b¬≤)
                        </div>
                    </div>
                    
                    <!-- SOHCAHTOA Memory Aid -->
                    <div class="practice-section sohcahtoa-section">
                        <div class="section-title">SOHCAHTOA</div>
                        
                        <div class="sohcahtoa-display">
                            SOH: Sine = Opposite/Hypotenuse<br>
                            CAH: Cosine = Adjacent/Hypotenuse<br>
                            TOA: Tangent = Opposite/Adjacent
                        </div>
                        
                        <div class="right-triangle-diagram">
                            <canvas id="sohcahtoaCanvas" width="180" height="120"></canvas>
                        </div>
                        
                        <div class="ratios-display">
                            <div class="ratio-item">
                                <div class="ratio-name">Sine (Œ∏)</div>
                                <div class="ratio-formula">opp/hyp</div>
                            </div>
                            <div class="ratio-item">
                                <div class="ratio-name">Cosine (Œ∏)</div>
                                <div class="ratio-formula">adj/hyp</div>
                            </div>
                            <div class="ratio-item">
                                <div class="ratio-name">Tangent (Œ∏)</div>
                                <div class="ratio-formula">opp/adj</div>
                            </div>
                        </div>
                        
                        <div class="trig-controls">
                            <button class="btn btn-small" style="background: var(--trig-yellow); color: #333;" onclick="explainSOHCAHTOA()">Learn SOHCAHTOA</button>
                            <button class="btn btn-small btn-outline" onclick="showMnemonics()">Memory Tips</button>
                        </div>
                    </div>
                    
                    <!-- Sine Calculator -->
                    <div class="practice-section sine-section">
                        <div class="section-title">Sine Ratio Calculator</div>
                        
                        <div class="triangle-canvas-container">
                            <canvas class="triangle-canvas" id="sineCanvas" width="400" height="200"></canvas>
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Angle Œ∏:</span>
                            <input type="number" id="sineAngle" class="measurement-input angle-input" value="30" min="0" max="90" step="1">
                            <span class="unit-display">¬∞</span>
                        </div>
                        
                        <div class="formula-display">
                            sin(Œ∏) = Opposite √∑ Hypotenuse
                        </div>
                        
                        <div class="angle-slider-container">
                            <input type="range" id="sineSlider" class="angle-slider" min="0" max="90" value="30" step="1">
                        </div>
                        
                        <div class="trig-controls">
                            <button class="btn btn-small btn-sine" onclick="calculateSine()">Calculate sin(Œ∏)</button>
                            <button class="btn btn-small btn-outline" onclick="showSineTable()">Common Values</button>
                            <button class="btn btn-small btn-outline" onclick="useSineToSolve()">Solve Triangle</button>
                        </div>
                        
                        <div class="solution-display" id="sineResult">
                            sin(30¬∞) = 0.5
                        </div>
                    </div>
                    
                    <!-- Cosine Calculator -->
                    <div class="practice-section cosine-section">
                        <div class="section-title">Cosine Ratio Calculator</div>
                        
                        <div class="triangle-canvas-container">
                            <canvas class="triangle-canvas" id="cosineCanvas" width="400" height="200"></canvas>
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Angle Œ∏:</span>
                            <input type="number" id="cosineAngle" class="measurement-input angle-input" value="60" min="0" max="90" step="1">
                            <span class="unit-display">¬∞</span>
                        </div>
                        
                        <div class="formula-display">
                            cos(Œ∏) = Adjacent √∑ Hypotenuse
                        </div>
                        
                        <div class="angle-slider-container">
                            <input type="range" id="cosineSlider" class="angle-slider" min="0" max="90" value="60" step="1">
                        </div>
                        
                        <div class="trig-controls">
                            <button class="btn btn-small btn-cosine" onclick="calculateCosine()">Calculate cos(Œ∏)</button>
                            <button class="btn btn-small btn-outline" onclick="showCosineTable()">Common Values</button>
                            <button class="btn btn-small btn-outline" onclick="useCosineToSolve()">Solve Triangle</button>
                        </div>
                        
                        <div class="solution-display" id="cosineResult">
                            cos(60¬∞) = 0.5
                        </div>
                    </div>
                    
                    <!-- Tangent Calculator -->
                    <div class="practice-section tangent-section">
                        <div class="section-title">Tangent Ratio Calculator</div>
                        
                        <div class="triangle-canvas-container">
                            <canvas class="triangle-canvas" id="tangentCanvas" width="400" height="200"></canvas>
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Angle Œ∏:</span>
                            <input type="number" id="tangentAngle" class="measurement-input angle-input" value="45" min="0" max="90" step="1">
                            <span class="unit-display">¬∞</span>
                        </div>
                        
                        <div class="formula-display">
                            tan(Œ∏) = Opposite √∑ Adjacent
                        </div>
                        
                        <div class="angle-slider-container">
                            <input type="range" id="tangentSlider" class="angle-slider" min="0" max="90" value="45" step="1">
                        </div>
                        
                        <div class="trig-controls">
                            <button class="btn btn-small btn-tangent" onclick="calculateTangent()">Calculate tan(Œ∏)</button>
                            <button class="btn btn-small btn-outline" onclick="showTangentTable()">Common Values</button>
                            <button class="btn btn-small btn-outline" onclick="useTangentToSolve()">Solve Triangle</button>
                        </div>
                        
                        <div class="solution-display" id="tangentResult">
                            tan(45¬∞) = 1
                        </div>
                    </div>
                    
                    <!-- Trigonometric Values Table -->
                    <div class="reference-section">
                        <div class="section-title">Common Trigonometric Values</div>
                        <table class="formulas-table">
                            <thead>
                                <tr>
                                    <th>Angle</th>
                                    <th>sin(Œ∏)</th>
                                    <th>cos(Œ∏)</th>
                                    <th>tan(Œ∏)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>0¬∞</td>
                                    <td class="formula-cell">0</td>
                                    <td class="formula-cell">1</td>
                                    <td class="formula-cell">0</td>
                                </tr>
                                <tr>
                                    <td>30¬∞</td>
                                    <td class="formula-cell">¬Ω = 0.5</td>
                                    <td class="formula-cell">‚àö3/2 ‚âà 0.866</td>
                                    <td class="formula-cell">1/‚àö3 ‚âà 0.577</td>
                                </tr>
                                <tr>
                                    <td>45¬∞</td>
                                    <td class="formula-cell">‚àö2/2 ‚âà 0.707</td>
                                    <td class="formula-cell">‚àö2/2 ‚âà 0.707</td>
                                    <td class="formula-cell">1</td>
                                </tr>
                                <tr>
                                    <td>60¬∞</td>
                                    <td class="formula-cell">‚àö3/2 ‚âà 0.866</td>
                                    <td class="formula-cell">¬Ω = 0.5</td>
                                    <td class="formula-cell">‚àö3 ‚âà 1.732</td>
                                </tr>
                                <tr>
                                    <td>90¬∞</td>
                                    <td class="formula-cell">1</td>
                                    <td class="formula-cell">0</td>
                                    <td class="formula-cell">‚àû</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Right Triangle Solver -->
                    <div class="practice-section triangle-section">
                        <div class="section-title">Right Triangle Solver</div>
                        
                        <div class="triangle-canvas-container">
                            <canvas class="triangle-canvas" id="solverCanvas" width="400" height="200"></canvas>
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Known side 1:</span>
                            <input type="number" id="known1" class="measurement-input" value="5" step="0.1">
                            <select id="sideType1" class="measurement-input" style="width: 100px;">
                                <option value="opposite">Opposite</option>
                                <option value="adjacent">Adjacent</option>
                                <option value="hypotenuse">Hypotenuse</option>
                            </select>
                        </div>
                        
                        <div class="measurement-input-group">
                            <span class="measurement-label">Known side 2/angle:</span>
                            <input type="number" id="known2" class="measurement-input" value="37" step="0.1">
                            <select id="type2" class="measurement-input" style="width: 100px;">
                                <option value="angle">Angle (degrees)</option>
                                <option value="side">Another side</option>
                            </select>
                        </div>
                        
                        <div class="trig-controls">
                            <button class="btn btn-small" style="background: var(--triangle-teal); color: white;" onclick="solveRightTriangle()">Solve Triangle</button>
                            <button class="btn btn-small btn-outline" onclick="clearTriangleSolver()">Clear</button>
                            <button class="btn btn-small btn-outline" onclick="generateTriangleProblem()">Random Problem</button>
                        </div>
                        
                        <div class="solution-display" id="triangleSolution">
                            Enter two known values to solve the triangle
                        </div>
                        
                        <div class="step-display" id="triangleSteps">
                            Steps will appear here
                        </div>
                    </div>
                    
                    <!-- Unit Circle Introduction -->
                    <div class="practice-section unit-circle-section">
                        <div class="section-title">Unit Circle Introduction</div>
                        
                        <div class="unit-circle-container" id="unitCircle">
                            <!-- Unit circle will be drawn with JavaScript -->
                        </div>
                        
                        <div class="formula-display">
                            Radius = 1 unit<br>
                            x = cos(Œ∏), y = sin(Œ∏)
                        </div>
                        
                        <div class="trig-controls">
                            <button class="btn btn-small" style="background: var(--right-angle-red); color: white;" onclick="drawUnitCircle()">Draw Unit Circle</button>
                            <button class="btn btn-small btn-outline" onclick="explainUnitCircle()">Learn Unit Circle</button>
                            <input type="number" id="circleAngle" class="measurement-input" value="30" min="0" max="360" step="15" style="width: 80px;">
                        </div>
                        
                        <div class="trig-values-display" id="unitCircleValues">
                            <div class="trig-value-item">
                                <div class="trig-function">sin(Œ∏)</div>
                                <div class="trig-value">0.5</div>
                            </div>
                            <div class="trig-value-item">
                                <div class="trig-function">cos(Œ∏)</div>
                                <div class="trig-value">0.866</div>
                            </div>
                            <div class="trig-value-item">
                                <div class="trig-function">tan(Œ∏)</div>
                                <div class="trig-value">0.577</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-sine" id="skipQuestion">Skip Question</button>
                <button class="btn btn-cosine" id="nextQuestion" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Trigonometry Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="pythagorasScore">0</div>
                        <div class="stat-label">Pythagoras Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="sineScore">0</div>
                        <div class="stat-label">Sine Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="cosineScore">0</div>
                        <div class="stat-label">Cosine Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="tangentScore">0</div>
                        <div class="stat-label">Tangent Questions</div>
                    </div>
                </div>
                
                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn btn-pythagoras" id="retryTopic">Try Again</button>
                    <button class="btn btn-sine" id="viewTopics">Other Topics</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // COMPREHENSIVE 100+ QUESTIONS ON PYTHAGORAS & TRIGONOMETRY
        
        const questions = [
            // Pythagoras' Theorem (1-25)
            {
                question: "In a right triangle, if a=3 and b=4, what is c?",
                options: ["5", "7", "25", "12"],
                answer: "A",
                explanation: "c¬≤ = a¬≤ + b¬≤ = 3¬≤ + 4¬≤ = 9 + 16 = 25, so c = ‚àö25 = 5",
                type: "pythagoras"
            },
            {
                question: "A ladder 10m long leans against a wall. The foot is 6m from wall. How high up wall?",
                options: ["8m", "4m", "12m", "16m"],
                answer: "A",
                explanation: "Height¬≤ = 10¬≤ - 6¬≤ = 100 - 36 = 64, Height = ‚àö64 = 8m",
                type: "pythagoras"
            },
            {
                question: "Find hypotenuse of triangle with legs 5cm and 12cm.",
                options: ["13cm", "17cm", "7cm", "25cm"],
                answer: "A",
                explanation: "c¬≤ = 5¬≤ + 12¬≤ = 25 + 144 = 169, c = ‚àö169 = 13cm",
                type: "pythagoras"
            },
            {
                question: "If hypotenuse is 15cm and one leg is 9cm, find other leg.",
                options: ["12cm", "6cm", "18cm", "24cm"],
                answer: "A",
                explanation: "b¬≤ = 15¬≤ - 9¬≤ = 225 - 81 = 144, b = ‚àö144 = 12cm",
                type: "pythagoras"
            },
            {
                question: "Diagonal of 8cm √ó 15cm rectangle is:",
                options: ["17cm", "23cm", "13cm", "20cm"],
                answer: "A",
                explanation: "Diagonal¬≤ = 8¬≤ + 15¬≤ = 64 + 225 = 289, d = ‚àö289 = 17cm",
                type: "pythagoras"
            },
            {
                question: "Is triangle with sides 7, 24, 25 a right triangle?",
                options: ["Yes", "No", "Maybe", "Cannot determine"],
                answer: "A",
                explanation: "Check: 7¬≤ + 24¬≤ = 49 + 576 = 625 = 25¬≤, so yes",
                type: "pythagoras"
            },
            {
                question: "Shortest distance from (0,0) to (3,4) is:",
                options: ["5 units", "7 units", "1 unit", "12 units"],
                answer: "A",
                explanation: "Distance = ‚àö(3¬≤ + 4¬≤) = ‚àö(9 + 16) = ‚àö25 = 5",
                type: "pythagoras"
            },
            {
                question: "If legs are equal and hypotenuse is 10‚àö2, each leg is:",
                options: ["10", "5‚àö2", "20", "5"],
                answer: "A",
                explanation: "In 45-45-90 triangle, legs = hypotenuse/‚àö2 = 10‚àö2/‚àö2 = 10",
                type: "pythagoras"
            },
            {
                question: "Height of equilateral triangle side 10cm is:",
                options: ["5‚àö3 cm", "5 cm", "10‚àö3 cm", "10 cm"],
                answer: "A",
                explanation: "Height = (side √ó ‚àö3)/2 = (10 √ó ‚àö3)/2 = 5‚àö3 cm",
                type: "pythagoras"
            },
            {
                question: "Find distance between (-3, 2) and (1, -1)",
                options: ["5", "4", "3", "7"],
                answer: "A",
                explanation: "Distance = ‚àö[(1 - (-3))¬≤ + (-1 - 2)¬≤] = ‚àö(4¬≤ + (-3)¬≤) = ‚àö(16+9) = ‚àö25 = 5",
                type: "pythagoras"
            },

            // Sine Ratio (26-50)
            {
                question: "sin(30¬∞) equals:",
                options: ["¬Ω", "‚àö3/2", "1", "0"],
                answer: "A",
                explanation: "sin(30¬∞) = 0.5 = ¬Ω",
                type: "sine"
            },
            {
                question: "sin(90¬∞) equals:",
                options: ["1", "0", "¬Ω", "‚àö3/2"],
                answer: "A",
                explanation: "sin(90¬∞) = 1",
                type: "sine"
            },
            {
                question: "sin(0¬∞) equals:",
                options: ["0", "1", "¬Ω", "‚àö2/2"],
                answer: "A",
                explanation: "sin(0¬∞) = 0",
                type: "sine"
            },
            {
                question: "If opposite=3 and hypotenuse=5, sin(Œ∏) =",
                options: ["0.6", "0.8", "0.75", "1.67"],
                answer: "A",
                explanation: "sin(Œ∏) = opposite/hypotenuse = 3/5 = 0.6",
                type: "sine"
            },
            {
                question: "In triangle, sin(Œ∏)=0.8, hypotenuse=10, find opposite side.",
                options: ["8", "6", "12.5", "10"],
                answer: "A",
                explanation: "opposite = sin(Œ∏) √ó hypotenuse = 0.8 √ó 10 = 8",
                type: "sine"
            },
            {
                question: "Which angle has sin(Œ∏)=‚àö3/2?",
                options: ["60¬∞", "30¬∞", "45¬∞", "90¬∞"],
                answer: "A",
                explanation: "sin(60¬∞) = ‚àö3/2 ‚âà 0.866",
                type: "sine"
            },
            {
                question: "sin(45¬∞) =",
                options: ["‚àö2/2", "¬Ω", "1", "‚àö3/2"],
                answer: "A",
                explanation: "sin(45¬∞) = ‚àö2/2 ‚âà 0.707",
                type: "sine"
            },
            {
                question: "If sin(Œ∏)=0.6, find Œ∏ (nearest degree)",
                options: ["37¬∞", "53¬∞", "30¬∞", "45¬∞"],
                answer: "A",
                explanation: "sin(37¬∞) ‚âà 0.6018, so Œ∏ ‚âà 37¬∞",
                type: "sine"
            },
            {
                question: "In 30-60-90 triangle, side opposite 30¬∞=5, hypotenuse=?",
                options: ["10", "5‚àö3", "5/‚àö3", "15"],
                answer: "A",
                explanation: "In 30-60-90 triangle, side opposite 30¬∞ = ¬Ω hypotenuse, so hypotenuse = 2√ó5 = 10",
                type: "sine"
            },
            {
                question: "Angle of elevation when sin(Œ∏)=0.5 is:",
                options: ["30¬∞", "45¬∞", "60¬∞", "90¬∞"],
                answer: "A",
                explanation: "sin(30¬∞) = 0.5",
                type: "sine"
            },

            // Cosine Ratio (51-75)
            {
                question: "cos(60¬∞) equals:",
                options: ["¬Ω", "‚àö3/2", "1", "0"],
                answer: "A",
                explanation: "cos(60¬∞) = 0.5 = ¬Ω",
                type: "cosine"
            },
            {
                question: "cos(0¬∞) equals:",
                options: ["1", "0", "¬Ω", "‚àö2/2"],
                answer: "A",
                explanation: "cos(0¬∞) = 1",
                type: "cosine"
            },
            {
                question: "cos(90¬∞) equals:",
                options: ["0", "1", "¬Ω", "‚àö3/2"],
                answer: "A",
                explanation: "cos(90¬∞) = 0",
                type: "cosine"
            },
            {
                question: "If adjacent=4 and hypotenuse=5, cos(Œ∏) =",
                options: ["0.8", "0.6", "1.25", "0.75"],
                answer: "A",
                explanation: "cos(Œ∏) = adjacent/hypotenuse = 4/5 = 0.8",
                type: "cosine"
            },
            {
                question: "In triangle, cos(Œ∏)=0.6, hypotenuse=15, find adjacent.",
                options: ["9", "12", "25", "10"],
                answer: "A",
                explanation: "adjacent = cos(Œ∏) √ó hypotenuse = 0.6 √ó 15 = 9",
                type: "cosine"
            },
            {
                question: "Which angle has cos(Œ∏)=‚àö3/2?",
                options: ["30¬∞", "60¬∞", "45¬∞", "90¬∞"],
                answer: "A",
                explanation: "cos(30¬∞) = ‚àö3/2 ‚âà 0.866",
                type: "cosine"
            },
            {
                question: "cos(45¬∞) =",
                options: ["‚àö2/2", "¬Ω", "1", "‚àö3/2"],
                answer: "A",
                explanation: "cos(45¬∞) = ‚àö2/2 ‚âà 0.707",
                type: "cosine"
            },
            {
                question: "If cos(Œ∏)=0.8, find Œ∏ (nearest degree)",
                options: ["37¬∞", "53¬∞", "30¬∞", "45¬∞"],
                answer: "A",
                explanation: "cos(37¬∞) ‚âà 0.7986, so Œ∏ ‚âà 37¬∞",
                type: "cosine"
            },
            {
                question: "In 30-60-90 triangle, side adjacent to 60¬∞=5, hypotenuse=?",
                options: ["10", "5‚àö3", "5/‚àö3", "15"],
                answer: "A",
                explanation: "In 30-60-90 triangle, side adjacent to 60¬∞ = ¬Ω hypotenuse, so hypotenuse = 2√ó5 = 10",
                type: "cosine"
            },
            {
                question: "sin¬≤(Œ∏) + cos¬≤(Œ∏) =",
                options: ["1", "0", "tan(Œ∏)", "sin(2Œ∏)"],
                answer: "A",
                explanation: "This is the Pythagorean trigonometric identity",
                type: "cosine"
            },

            // Tangent Ratio (76-100)
            {
                question: "tan(45¬∞) equals:",
                options: ["1", "0", "‚àö3", "1/‚àö3"],
                answer: "A",
                explanation: "tan(45¬∞) = 1",
                type: "tangent"
            },
            {
                question: "tan(0¬∞) equals:",
                options: ["0", "1", "‚àû", "¬Ω"],
                answer: "A",
                explanation: "tan(0¬∞) = 0",
                type: "tangent"
            },
            {
                question: "tan(90¬∞) is:",
                options: ["Undefined", "0", "1", "‚àû"],
                answer: "A",
                explanation: "tan(90¬∞) = sin(90¬∞)/cos(90¬∞) = 1/0 = undefined",
                type: "tangent"
            },
            {
                question: "If opposite=3 and adjacent=4, tan(Œ∏) =",
                options: ["0.75", "1.33", "0.6", "0.8"],
                answer: "A",
                explanation: "tan(Œ∏) = opposite/adjacent = 3/4 = 0.75",
                type: "tangent"
            },
            {
                question: "In triangle, tan(Œ∏)=1.5, adjacent=6, find opposite.",
                options: ["9", "4", "12", "8"],
                answer: "A",
                explanation: "opposite = tan(Œ∏) √ó adjacent = 1.5 √ó 6 = 9",
                type: "tangent"
            },
            {
                question: "Which angle has tan(Œ∏)=‚àö3?",
                options: ["60¬∞", "30¬∞", "45¬∞", "90¬∞"],
                answer: "A",
                explanation: "tan(60¬∞) = ‚àö3 ‚âà 1.732",
                type: "tangent"
            },
            {
                question: "tan(30¬∞) =",
                options: ["1/‚àö3", "‚àö3", "1", "‚àö2/2"],
                answer: "A",
                explanation: "tan(30¬∞) = 1/‚àö3 ‚âà 0.577",
                type: "tangent"
            },
            {
                question: "If tan(Œ∏)=0.75, find Œ∏ (nearest degree)",
                options: ["37¬∞", "53¬∞", "30¬∞", "45¬∞"],
                answer: "A",
                explanation: "tan(37¬∞) ‚âà 0.7536, so Œ∏ ‚âà 37¬∞",
                type: "tangent"
            },
            {
                question: "tan(Œ∏) =",
                options: ["sin(Œ∏)/cos(Œ∏)", "cos(Œ∏)/sin(Œ∏)", "1/sin(Œ∏)", "1/cos(Œ∏)"],
                answer: "A",
                explanation: "tan(Œ∏) = sin(Œ∏) √∑ cos(Œ∏)",
                type: "tangent"
            },
            {
                question: "If sin(Œ∏)=0.6 and cos(Œ∏)=0.8, tan(Œ∏) =",
                options: ["0.75", "1.33", "0.48", "1.4"],
                answer: "A",
                explanation: "tan(Œ∏) = sin(Œ∏)/cos(Œ∏) = 0.6/0.8 = 0.75",
                type: "tangent"
            }
        ];

        // Common trigonometric values
        const trigValues = {
            0: { sin: 0, cos: 1, tan: 0 },
            30: { sin: 0.5, cos: Math.sqrt(3)/2, tan: 1/Math.sqrt(3) },
            45: { sin: Math.sqrt(2)/2, cos: Math.sqrt(2)/2, tan: 1 },
            60: { sin: Math.sqrt(3)/2, cos: 0.5, tan: Math.sqrt(3) },
            90: { sin: 1, cos: 0, tan: Infinity }
        };

        // Right triangle problems
        const triangleProblems = [
            {
                type: "Pythagoras",
                given: "a=3, b=4",
                find: "c",
                solution: "c = ‚àö(3¬≤ + 4¬≤) = ‚àö(9 + 16) = ‚àö25 = 5"
            },
            {
                type: "Sine",
                given: "Œ∏=30¬∞, hyp=10",
                find: "opposite",
                solution: "opp = sin(30¬∞) √ó 10 = 0.5 √ó 10 = 5"
            },
            {
                type: "Cosine",
                given: "Œ∏=60¬∞, hyp=8",
                find: "adjacent",
                solution: "adj = cos(60¬∞) √ó 8 = 0.5 √ó 8 = 4"
            },
            {
                type: "Tangent",
                given: "Œ∏=45¬∞, adj=6",
                find: "opposite",
                solution: "opp = tan(45¬∞) √ó 6 = 1 √ó 6 = 6"
            }
        ];

        // Trigonometric tips
        const trigTips = [
            "Tip: SOH-CAH-TOA: Sine=Opposite/Hypotenuse, Cosine=Adjacent/Hypotenuse, Tangent=Opposite/Adjacent",
            "Tip: Pythagoras' theorem only works for RIGHT triangles: a¬≤ + b¬≤ = c¬≤",
            "Tip: sin¬≤Œ∏ + cos¬≤Œ∏ = 1 (Pythagorean identity)",
            "Tip: tanŒ∏ = sinŒ∏/cosŒ∏",
            "Tip: In 30-60-90 triangle, sides are in ratio 1:‚àö3:2",
            "Tip: In 45-45-90 triangle, sides are in ratio 1:1:‚àö2",
            "Tip: sin(90¬∞-Œ∏) = cosŒ∏, cos(90¬∞-Œ∏) = sinŒ∏",
            "Tip: Always check if your calculator is in degree mode!"
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            studentName: "",
            startTime: null,
            pythagorasScore: 0,
            sineScore: 0,
            cosineScore: 0,
            tangentScore: 0,
            currentTriangle: { a: 3, b: 4, c: 5, angle: 36.87 },
            currentAngle: 30,
            pythagorasCanvas: null,
            pythagorasCtx: null,
            sineCanvas: null,
            sineCtx: null,
            cosineCanvas: null,
            cosineCtx: null,
            tangentCanvas: null,
            tangentCtx: null,
            solverCanvas: null,
            solverCtx: null,
            sohcahtoaCanvas: null,
            sohcahtoaCtx: null
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const backToHomeBtn = document.getElementById('backToHome');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const trigTip = document.getElementById('trigTip');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const feedbackExplanation = document.getElementById('feedbackExplanation');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const pythagorasScore = document.getElementById('pythagorasScore');
        const sineScore = document.getElementById('sineScore');
        const cosineScore = document.getElementById('cosineScore');
        const tangentScore = document.getElementById('tangentScore');
        const timeSpent = document.getElementById('timeSpent');
        
        // Practice area elements
        const sideA = document.getElementById('sideA');
        const sideB = document.getElementById('sideB');
        const pythagorasResult = document.getElementById('pythagorasResult');
        const pythagorasSteps = document.getElementById('pythagorasSteps');
        const sineResult = document.getElementById('sineResult');
        const cosineResult = document.getElementById('cosineResult');
        const tangentResult = document.getElementById('tangentResult');
        const triangleSolution = document.getElementById('triangleSolution');
        const triangleSteps = document.getElementById('triangleSteps');
        const unitCircleValues = document.getElementById('unitCircleValues');

        // Initialize
        function initApp() {
            setupEventListeners();
            showWelcomePage();
            setupTrigonometryTools();
            initializeCanvases();
            drawAllCanvases();
            setupSliders();
        }

        // Setup trigonometry tools
        function setupTrigonometryTools() {
            updatePythagorasDisplay();
        }

        // Initialize canvases
        function initializeCanvases() {
            // Pythagoras canvas
            appState.pythagorasCanvas = document.getElementById('pythagorasCanvas');
            appState.pythagorasCtx = appState.pythagorasCanvas.getContext('2d');
            
            // Sine canvas
            appState.sineCanvas = document.getElementById('sineCanvas');
            appState.sineCtx = appState.sineCanvas.getContext('2d');
            
            // Cosine canvas
            appState.cosineCanvas = document.getElementById('cosineCanvas');
            appState.cosineCtx = appState.cosineCanvas.getContext('2d');
            
            // Tangent canvas
            appState.tangentCanvas = document.getElementById('tangentCanvas');
            appState.tangentCtx = appState.tangentCanvas.getContext('2d');
            
            // Solver canvas
            appState.solverCanvas = document.getElementById('solverCanvas');
            appState.solverCtx = appState.solverCanvas.getContext('2d');
            
            // SOHCAHTOA canvas
            appState.sohcahtoaCanvas = document.getElementById('sohcahtoaCanvas');
            appState.sohcahtoaCtx = appState.sohcahtoaCanvas.getContext('2d');
        }

        // Setup sliders
        function setupSliders() {
            const sineSlider = document.getElementById('sineSlider');
            const cosineSlider = document.getElementById('cosineSlider');
            const tangentSlider = document.getElementById('tangentSlider');
            const sineAngle = document.getElementById('sineAngle');
            const cosineAngle = document.getElementById('cosineAngle');
            const tangentAngle = document.getElementById('tangentAngle');
            
            sineSlider.addEventListener('input', function() {
                sineAngle.value = this.value;
                drawSineTriangle(parseInt(this.value));
                calculateSine();
            });
            
            sineAngle.addEventListener('change', function() {
                sineSlider.value = this.value;
                drawSineTriangle(parseInt(this.value));
                calculateSine();
            });
            
            cosineSlider.addEventListener('input', function() {
                cosineAngle.value = this.value;
                drawCosineTriangle(parseInt(this.value));
                calculateCosine();
            });
            
            cosineAngle.addEventListener('change', function() {
                cosineSlider.value = this.value;
                drawCosineTriangle(parseInt(this.value));
                calculateCosine();
            });
            
            tangentSlider.addEventListener('input', function() {
                tangentAngle.value = this.value;
                drawTangentTriangle(parseInt(this.value));
                calculateTangent();
            });
            
            tangentAngle.addEventListener('change', function() {
                tangentSlider.value = this.value;
                drawTangentTriangle(parseInt(this.value));
                calculateTangent();
            });
        }

        // Draw all canvases
        function drawAllCanvases() {
            drawPythagorasTriangle();
            drawSOHCAHTOA();
            drawSineTriangle(30);
            drawCosineTriangle(60);
            drawTangentTriangle(45);
            drawSolverTriangle();
        }

        // Pythagoras functions
        function drawPythagorasTriangle() {
            const ctx = appState.pythagorasCtx;
            const width = appState.pythagorasCanvas.width;
            const height = appState.pythagorasCanvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Get side lengths
            const a = parseFloat(sideA.value) || 3;
            const b = parseFloat(sideB.value) || 4;
            const c = Math.sqrt(a*a + b*b);
            
            // Scale for visualization
            const scale = 20;
            const x1 = 50;
            const y1 = 150;
            const x2 = x1 + a * scale;
            const y2 = y1;
            const x3 = x1;
            const y3 = y1 - b * scale;
            
            // Draw right triangle
            ctx.strokeStyle = '#2196F3';
            ctx.lineWidth = 3;
            ctx.fillStyle = 'rgba(33, 150, 243, 0.1)';
            
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.lineTo(x3, y3);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Draw right angle symbol
            ctx.strokeStyle = '#F44336';
            ctx.lineWidth = 2;
            const angleSize = 10;
            ctx.beginPath();
            ctx.moveTo(x1 - angleSize, y1);
            ctx.lineTo(x1, y1);
            ctx.lineTo(x1, y1 + angleSize);
            ctx.stroke();
            
            // Label sides
            ctx.fillStyle = '#2196F3';
            ctx.font = '14px Arial';
            
            // Side a (adjacent)
            ctx.fillText(`a = ${a}`, (x1 + x2) / 2, y1 + 20);
            
            // Side b (opposite)
            ctx.fillText(`b = ${b}`, x1 - 30, (y1 + y3) / 2);
            
            // Hypotenuse c
            ctx.save();
            const hypAngle = Math.atan2(y1 - y3, x2 - x1);
            ctx.translate((x1 + x2 + x3) / 3, (y1 + y2 + y3) / 3);
            ctx.rotate(hypAngle);
            ctx.fillText(`c = ${c.toFixed(2)}`, 0, -10);
            ctx.restore();
            
            // Draw squares on sides (Pythagoras visualization)
            drawSquareOnSide(ctx, x1, y1, x2, y2, a * scale, '#4CAF50'); // On side a
            drawSquareOnSide(ctx, x1, y1, x3, y3, b * scale, '#FF9800'); // On side b
            
            // Label squares
            ctx.fillStyle = '#4CAF50';
            ctx.fillText(`a¬≤ = ${(a*a).toFixed(1)}`, (x1 + x2) / 2, y1 + 50);
            
            ctx.fillStyle = '#FF9800';
            ctx.fillText(`b¬≤ = ${(b*b).toFixed(1)}`, x1 - 50, (y1 + y3) / 2);
        }

        function drawSquareOnSide(ctx, x1, y1, x2, y2, sideLength, color) {
            const dx = x2 - x1;
            const dy = y2 - y1;
            const angle = Math.atan2(dy, dx);
            
            ctx.strokeStyle = color;
            ctx.lineWidth = 1;
            ctx.fillStyle = color + '20';
            
            ctx.save();
            ctx.translate(x1, y1);
            ctx.rotate(angle);
            
            // Draw square
            ctx.beginPath();
            ctx.rect(0, -sideLength, sideLength, sideLength);
            ctx.fill();
            ctx.stroke();
            
            ctx.restore();
        }

        function calculateHypotenuse() {
            const a = parseFloat(sideA.value) || 0;
            const b = parseFloat(sideB.value) || 0;
            
            if (a <= 0 || b <= 0) {
                pythagorasResult.innerHTML = "Please enter positive values for both sides";
                return;
            }
            
            const c = Math.sqrt(a*a + b*b);
            const aSquared = a*a;
            const bSquared = b*b;
            const cSquared = c*c;
            
            pythagorasResult.innerHTML = `
                <strong>Pythagoras' Theorem:</strong><br>
                a¬≤ + b¬≤ = c¬≤<br>
                ${a}¬≤ + ${b}¬≤ = c¬≤<br>
                ${aSquared} + ${bSquared} = ${cSquared.toFixed(2)}<br><br>
                <strong>Hypotenuse c =</strong> ‚àö${cSquared.toFixed(2)}<br>
                <strong>c = ${c.toFixed(2)} units</strong>`;
            
            pythagorasSteps.innerHTML = `
                <strong>Step-by-step:</strong><br>
                1. Square side a: ${a}¬≤ = ${aSquared}<br>
                2. Square side b: ${b}¬≤ = ${bSquared}<br>
                3. Add squares: ${aSquared} + ${bSquared} = ${cSquared.toFixed(2)}<br>
                4. Take square root: ‚àö${cSquared.toFixed(2)} = ${c.toFixed(2)}`;
            
            drawPythagorasTriangle();
            pythagorasResult.classList.add('pulse');
            setTimeout(() => pythagorasResult.classList.remove('pulse'), 1000);
        }

        function provePythagoras() {
            alert(`VISUAL PROOF OF PYTHAGORAS' THEOREM:

The classic proof uses squares:

1. Draw a right triangle with sides a, b, c
2. Draw squares on each side:
   ‚Ä¢ Square on side a has area a¬≤
   ‚Ä¢ Square on side b has area b¬≤
   ‚Ä¢ Square on side c has area c¬≤

3. Rearrange the squares:
   ‚Ä¢ The large square (a+b)¬≤ contains:
     ‚Ä¢ The square on c (area c¬≤)
     ‚Ä¢ Four copies of the triangle (area 4 √ó ¬Ωab = 2ab)

4. Algebraically:
   ‚Ä¢ (a+b)¬≤ = c¬≤ + 2ab
   ‚Ä¢ a¬≤ + 2ab + b¬≤ = c¬≤ + 2ab
   ‚Ä¢ a¬≤ + b¬≤ = c¬≤

This proves that in any right triangle, the square on the hypotenuse equals the sum of squares on the other two sides.

ANOTHER VISUALIZATION:
Take the square on the hypotenuse, and you can rearrange it to exactly cover the squares on the other two sides!`);
        }

        function randomRightTriangle() {
            // Generate random Pythagorean triple
            const triples = [
                [3, 4, 5], [5, 12, 13], [8, 15, 17], [7, 24, 25],
                [9, 40, 41], [6, 8, 10], [10, 24, 26]
            ];
            
            const randomTriple = triples[Math.floor(Math.random() * triples.length)];
            
            sideA.value = randomTriple[0];
            sideB.value = randomTriple[1];
            
            calculateHypotenuse();
        }

        // SOHCAHTOA functions
        function drawSOHCAHTOA() {
            const ctx = appState.sohcahtoaCtx;
            const width = appState.sohcahtoaCanvas.width;
            const height = appState.sohcahtoaCanvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Draw right triangle
            const triangleSize = 80;
            const x1 = 20;
            const y1 = height - 20;
            const x2 = x1 + triangleSize;
            const y2 = y1;
            const x3 = x1;
            const y3 = y1 - triangleSize * 0.6;
            
            // Triangle
            ctx.strokeStyle = '#FFC107';
            ctx.lineWidth = 2;
            ctx.fillStyle = 'rgba(255, 193, 7, 0.1)';
            
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.lineTo(x3, y3);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Right angle
            ctx.strokeStyle = '#F44336';
            const angleSize = 8;
            ctx.beginPath();
            ctx.moveTo(x1 - angleSize, y1);
            ctx.lineTo(x1, y1);
            ctx.lineTo(x1, y1 + angleSize);
            ctx.stroke();
            
            // Angle Œ∏
            ctx.strokeStyle = '#FFC107';
            ctx.beginPath();
            ctx.arc(x1, y1, 15, 0, Math.atan2(y1 - y3, x2 - x1));
            ctx.stroke();
            ctx.fillStyle = '#FFC107';
            ctx.fillText('Œ∏', x1 + 20, y1 - 10);
            
            // Label sides
            ctx.fillStyle = '#4CAF50';
            ctx.font = '12px Arial';
            ctx.fillText('Opposite', x3 - 25, (y1 + y3) / 2);
            
            ctx.fillStyle = '#FF9800';
            ctx.fillText('Adjacent', (x1 + x2) / 2, y1 + 15);
            
            ctx.fillStyle = '#9C27B0';
            ctx.save();
            const hypAngle = Math.atan2(y1 - y3, x2 - x1);
            ctx.translate((x1 + x2 + x3) / 3, (y1 + y2 + y3) / 3);
            ctx.rotate(hypAngle);
            ctx.fillText('Hypotenuse', 10, -5);
            ctx.restore();
        }

        function explainSOHCAHTOA() {
            alert(`SOHCAHTOA - THE KEY TO TRIGONOMETRY:

SOHCAHTOA is a mnemonic for remembering the trigonometric ratios:

SOH: Sine = Opposite / Hypotenuse
CAH: Cosine = Adjacent / Hypotenuse
TOA: Tangent = Opposite / Adjacent

IN A RIGHT TRIANGLE:
1. Identify the angle you're working with (Œ∏)
2. Label the sides relative to that angle:
   ‚Ä¢ Opposite: Side opposite the angle
   ‚Ä¢ Adjacent: Side next to the angle (but not the hypotenuse)
   ‚Ä¢ Hypotenuse: Longest side, opposite the right angle

EXAMPLES:
‚Ä¢ If you know Opposite and Hypotenuse, use SOH (Sine)
‚Ä¢ If you know Adjacent and Hypotenuse, use CAH (Cosine)
‚Ä¢ If you know Opposite and Adjacent, use TOA (Tangent)

REMEMBER:
‚Ä¢ These ratios only work for RIGHT triangles
‚Ä¢ Angles are usually measured in degrees
‚Ä¢ Use inverse functions (sin‚Åª¬π, cos‚Åª¬π, tan‚Åª¬π) to find angles`);
        }

        function showMnemonics() {
            alert(`MEMORY TIPS FOR TRIGONOMETRY:

1. SOH-CAH-TOA (Most Common):
   ‚Ä¢ Some Old Hippy
   ‚Ä¢ Caught Another Hippy
   ‚Ä¢ Tripping On Acid

2. Silly Old Harry
   ‚Ä¢ Caught A Herring
   ‚Ä¢ Trolling Off America

3. Some Old Horse
   ‚Ä¢ Came A Hopping
   ‚Ä¢ Through Our Alley

4. Sex On Hard Concrete
   ‚Ä¢ Always Hurts
   ‚Ä¢ Try Other Alternatives

5. Visual Memory:
   ‚Ä¢ Draw the triangle with labeled sides
   ‚Ä¢ Write SOH-CAH-TOA next to it
   ‚Ä¢ Practice with different triangles

6. Song/Rhyme:
   ‚Ä¢ "Sine is Opp over Hyp,
      Cosine is Adj over Hyp,
      Tangent is Opp over Adj,
      That's how you remember SOH-CAH-TOA!"

PRACTICE TIP:
Create your own mnemonic that you'll remember!`);
        }

        // Sine functions
        function drawSineTriangle(angle) {
            const ctx = appState.sineCtx;
            const width = appState.sineCanvas.width;
            const height = appState.sineCanvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Convert angle to radians
            const angleRad = angle * Math.PI / 180;
            
            // Triangle dimensions
            const hypotenuse = 80;
            const opposite = hypotenuse * Math.sin(angleRad);
            const adjacent = hypotenuse * Math.cos(angleRad);
            
            // Draw triangle
            const x1 = 50;
            const y1 = 150;
            const x2 = x1 + adjacent;
            const y2 = y1;
            const x3 = x1;
            const y3 = y1 - opposite;
            
            // Triangle
            ctx.strokeStyle = '#4CAF50';
            ctx.lineWidth = 3;
            ctx.fillStyle = 'rgba(76, 175, 80, 0.1)';
            
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.lineTo(x3, y3);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Right angle
            ctx.strokeStyle = '#F44336';
            const angleSize = 10;
            ctx.beginPath();
            ctx.moveTo(x1 - angleSize, y1);
            ctx.lineTo(x1, y1);
            ctx.lineTo(x1, y1 + angleSize);
            ctx.stroke();
            
            // Angle Œ∏
            ctx.strokeStyle = '#4CAF50';
            ctx.beginPath();
            ctx.arc(x1, y1, 20, 0, angleRad);
            ctx.stroke();
            ctx.fillStyle = '#4CAF50';
            ctx.fillText(`Œ∏ = ${angle}¬∞`, x1 + 25, y1 - 10);
            
            // Label sides
            ctx.fillStyle = '#4CAF50';
            ctx.font = '14px Arial';
            
            // Opposite side (green)
            ctx.fillText('Opposite', x3 - 40, (y1 + y3) / 2);
            ctx.fillText(`${opposite.toFixed(1)}`, x3 - 20, (y1 + y3) / 2 + 15);
            
            // Hypotenuse
            ctx.save();
            const hypAngle = Math.atan2(y1 - y3, x2 - x1);
            ctx.translate((x1 + x2 + x3) / 3, (y1 + y2 + y3) / 3);
            ctx.rotate(hypAngle);
            ctx.fillText('Hypotenuse', 10, -10);
            ctx.fillText(`${hypotenuse.toFixed(1)}`, 10, 5);
            ctx.restore();
            
            // Highlight opposite side
            ctx.strokeStyle = '#4CAF50';
            ctx.lineWidth = 5;
            ctx.beginPath();
            ctx.moveTo(x3, y3);
            ctx.lineTo(x1, y1);
            ctx.stroke();
            
            // Sine ratio
            ctx.fillStyle = '#FFFFFF';
            ctx.font = '16px Arial';
            ctx.fillText(`sin(${angle}¬∞) = Opp/Hyp = ${opposite.toFixed(1)}/${hypotenuse}`, 50, 180);
        }

        function calculateSine() {
            const angle = parseFloat(document.getElementById('sineAngle').value) || 30;
            const angleRad = angle * Math.PI / 180;
            const sinValue = Math.sin(angleRad);
            
            // For common angles, show exact values
            let exactValue = "";
            if (angle === 0) exactValue = " = 0";
            else if (angle === 30) exactValue = " = ¬Ω = 0.5";
            else if (angle === 45) exactValue = " = ‚àö2/2 ‚âà 0.7071";
            else if (angle === 60) exactValue = " = ‚àö3/2 ‚âà 0.8660";
            else if (angle === 90) exactValue = " = 1";
            
            sineResult.innerHTML = `
                <strong>sin(${angle}¬∞)</strong>${exactValue}<br>
                <strong>Decimal:</strong> ${sinValue.toFixed(4)}<br><br>
                <strong>Meaning:</strong> In a right triangle with angle ${angle}¬∞,<br>
                the ratio Opposite/Hypotenuse = ${sinValue.toFixed(4)}`;
            
            drawSineTriangle(angle);
            sineResult.classList.add('pulse');
            setTimeout(() => sineResult.classList.remove('pulse'), 1000);
        }

        function showSineTable() {
            alert(`COMMON SINE VALUES:

Angle | sin(Œ∏) | Decimal
------|--------|--------
0¬∞    | 0      | 0.0000
30¬∞   | ¬Ω      | 0.5000
45¬∞   | ‚àö2/2   | 0.7071
60¬∞   | ‚àö3/2   | 0.8660
90¬∞   | 1      | 1.0000

SPECIAL TRIANGLES:

30-60-90 Triangle:
‚Ä¢ sin(30¬∞) = ¬Ω = 0.5
‚Ä¢ sin(60¬∞) = ‚àö3/2 ‚âà 0.866

45-45-90 Triangle:
‚Ä¢ sin(45¬∞) = ‚àö2/2 ‚âà 0.707

PROPERTIES:
‚Ä¢ sin(0¬∞) = 0
‚Ä¢ sin(90¬∞) = 1
‚Ä¢ sin(Œ∏) increases from 0 to 1 as Œ∏ goes from 0¬∞ to 90¬∞
‚Ä¢ sin(90¬∞-Œ∏) = cos(Œ∏)`);
        }

        function useSineToSolve() {
            const angle = parseFloat(document.getElementById('sineAngle').value) || 30;
            
            alert(`USING SINE TO SOLVE TRIANGLES:

Given: Angle = ${angle}¬∞

1. TO FIND OPPOSITE SIDE:
   ‚Ä¢ If hypotenuse is known: Opposite = Hypotenuse √ó sin(${angle}¬∞)

2. TO FIND HYPOTENUSE:
   ‚Ä¢ If opposite is known: Hypotenuse = Opposite √∑ sin(${angle}¬∞)

3. TO FIND ANGLE:
   ‚Ä¢ If opposite and hypotenuse are known: Œ∏ = sin‚Åª¬π(Opposite/Hypotenuse)

EXAMPLE:
If hypotenuse = 10, then opposite = 10 √ó sin(${angle}¬∞) = 10 √ó ${Math.sin(angle * Math.PI/180).toFixed(3)} = ${(10 * Math.sin(angle * Math.PI/180)).toFixed(2)}

Remember SOH: Sine = Opposite/Hypotenuse`);
        }

        // Cosine functions
        function drawCosineTriangle(angle) {
            const ctx = appState.cosineCtx;
            const width = appState.cosineCanvas.width;
            const height = appState.cosineCanvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Convert angle to radians
            const angleRad = angle * Math.PI / 180;
            
            // Triangle dimensions
            const hypotenuse = 80;
            const opposite = hypotenuse * Math.sin(angleRad);
            const adjacent = hypotenuse * Math.cos(angleRad);
            
            // Draw triangle
            const x1 = 50;
            const y1 = 150;
            const x2 = x1 + adjacent;
            const y2 = y1;
            const x3 = x1;
            const y3 = y1 - opposite;
            
            // Triangle
            ctx.strokeStyle = '#FF9800';
            ctx.lineWidth = 3;
            ctx.fillStyle = 'rgba(255, 152, 0, 0.1)';
            
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.lineTo(x3, y3);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Right angle
            ctx.strokeStyle = '#F44336';
            const angleSize = 10;
            ctx.beginPath();
            ctx.moveTo(x1 - angleSize, y1);
            ctx.lineTo(x1, y1);
            ctx.lineTo(x1, y1 + angleSize);
            ctx.stroke();
            
            // Angle Œ∏
            ctx.strokeStyle = '#FF9800';
            ctx.beginPath();
            ctx.arc(x1, y1, 20, 0, angleRad);
            ctx.stroke();
            ctx.fillStyle = '#FF9800';
            ctx.fillText(`Œ∏ = ${angle}¬∞`, x1 + 25, y1 - 10);
            
            // Label sides
            ctx.fillStyle = '#FF9800';
            ctx.font = '14px Arial';
            
            // Adjacent side (orange)
            ctx.fillText('Adjacent', (x1 + x2) / 2, y1 + 20);
            ctx.fillText(`${adjacent.toFixed(1)}`, (x1 + x2) / 2, y1 + 35);
            
            // Hypotenuse
            ctx.save();
            const hypAngle = Math.atan2(y1 - y3, x2 - x1);
            ctx.translate((x1 + x2 + x3) / 3, (y1 + y2 + y3) / 3);
            ctx.rotate(hypAngle);
            ctx.fillText('Hypotenuse', 10, -10);
            ctx.fillText(`${hypotenuse.toFixed(1)}`, 10, 5);
            ctx.restore();
            
            // Highlight adjacent side
            ctx.strokeStyle = '#FF9800';
            ctx.lineWidth = 5;
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.stroke();
            
            // Cosine ratio
            ctx.fillStyle = '#FFFFFF';
            ctx.font = '16px Arial';
            ctx.fillText(`cos(${angle}¬∞) = Adj/Hyp = ${adjacent.toFixed(1)}/${hypotenuse}`, 50, 180);
        }

        function calculateCosine() {
            const angle = parseFloat(document.getElementById('cosineAngle').value) || 60;
            const angleRad = angle * Math.PI / 180;
            const cosValue = Math.cos(angleRad);
            
            // For common angles, show exact values
            let exactValue = "";
            if (angle === 0) exactValue = " = 1";
            else if (angle === 30) exactValue = " = ‚àö3/2 ‚âà 0.8660";
            else if (angle === 45) exactValue = " = ‚àö2/2 ‚âà 0.7071";
            else if (angle === 60) exactValue = " = ¬Ω = 0.5";
            else if (angle === 90) exactValue = " = 0";
            
            cosineResult.innerHTML = `
                <strong>cos(${angle}¬∞)</strong>${exactValue}<br>
                <strong>Decimal:</strong> ${cosValue.toFixed(4)}<br><br>
                <strong>Meaning:</strong> In a right triangle with angle ${angle}¬∞,<br>
                the ratio Adjacent/Hypotenuse = ${cosValue.toFixed(4)}`;
            
            drawCosineTriangle(angle);
            cosineResult.classList.add('pulse');
            setTimeout(() => cosineResult.classList.remove('pulse'), 1000);
        }

        function showCosineTable() {
            alert(`COMMON COSINE VALUES:

Angle | cos(Œ∏) | Decimal
------|--------|--------
0¬∞    | 1      | 1.0000
30¬∞   | ‚àö3/2   | 0.8660
45¬∞   | ‚àö2/2   | 0.7071
60¬∞   | ¬Ω      | 0.5000
90¬∞   | 0      | 0.0000

SPECIAL TRIANGLES:

30-60-90 Triangle:
‚Ä¢ cos(30¬∞) = ‚àö3/2 ‚âà 0.866
‚Ä¢ cos(60¬∞) = ¬Ω = 0.5

45-45-90 Triangle:
‚Ä¢ cos(45¬∞) = ‚àö2/2 ‚âà 0.707

PROPERTIES:
‚Ä¢ cos(0¬∞) = 1
‚Ä¢ cos(90¬∞) = 0
‚Ä¢ cos(Œ∏) decreases from 1 to 0 as Œ∏ goes from 0¬∞ to 90¬∞
‚Ä¢ cos(90¬∞-Œ∏) = sin(Œ∏)
‚Ä¢ sin¬≤Œ∏ + cos¬≤Œ∏ = 1 (Pythagorean identity)`);
        }

        function useCosineToSolve() {
            const angle = parseFloat(document.getElementById('cosineAngle').value) || 60;
            
            alert(`USING COSINE TO SOLVE TRIANGLES:

Given: Angle = ${angle}¬∞

1. TO FIND ADJACENT SIDE:
   ‚Ä¢ If hypotenuse is known: Adjacent = Hypotenuse √ó cos(${angle}¬∞)

2. TO FIND HYPOTENUSE:
   ‚Ä¢ If adjacent is known: Hypotenuse = Adjacent √∑ cos(${angle}¬∞)

3. TO FIND ANGLE:
   ‚Ä¢ If adjacent and hypotenuse are known: Œ∏ = cos‚Åª¬π(Adjacent/Hypotenuse)

EXAMPLE:
If hypotenuse = 10, then adjacent = 10 √ó cos(${angle}¬∞) = 10 √ó ${Math.cos(angle * Math.PI/180).toFixed(3)} = ${(10 * Math.cos(angle * Math.PI/180)).toFixed(2)}

Remember CAH: Cosine = Adjacent/Hypotenuse`);
        }

        // Tangent functions
        function drawTangentTriangle(angle) {
            const ctx = appState.tangentCtx;
            const width = appState.tangentCanvas.width;
            const height = appState.tangentCanvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Convert angle to radians
            const angleRad = angle * Math.PI / 180;
            
            // Triangle dimensions (using adjacent = 1 for simplicity)
            const adjacent = 60;
            const opposite = adjacent * Math.tan(angleRad);
            const hypotenuse = Math.sqrt(adjacent*adjacent + opposite*opposite);
            
            // Draw triangle
            const x1 = 50;
            const y1 = 150;
            const x2 = x1 + adjacent;
            const y2 = y1;
            const x3 = x1;
            const y3 = y1 - opposite;
            
            // Triangle
            ctx.strokeStyle = '#9C27B0';
            ctx.lineWidth = 3;
            ctx.fillStyle = 'rgba(156, 39, 176, 0.1)';
            
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.lineTo(x3, y3);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Right angle
            ctx.strokeStyle = '#F44336';
            const angleSize = 10;
            ctx.beginPath();
            ctx.moveTo(x1 - angleSize, y1);
            ctx.lineTo(x1, y1);
            ctx.lineTo(x1, y1 + angleSize);
            ctx.stroke();
            
            // Angle Œ∏
            ctx.strokeStyle = '#9C27B0';
            ctx.beginPath();
            ctx.arc(x1, y1, 20, 0, angleRad);
            ctx.stroke();
            ctx.fillStyle = '#9C27B0';
            ctx.fillText(`Œ∏ = ${angle}¬∞`, x1 + 25, y1 - 10);
            
            // Label sides
            ctx.fillStyle = '#9C27B0';
            ctx.font = '14px Arial';
            
            // Opposite side
            ctx.fillText('Opposite', x3 - 40, (y1 + y3) / 2);
            ctx.fillText(`${opposite.toFixed(1)}`, x3 - 20, (y1 + y3) / 2 + 15);
            
            // Adjacent side
            ctx.fillText('Adjacent', (x1 + x2) / 2, y1 + 20);
            ctx.fillText(`${adjacent.toFixed(1)}`, (x1 + x2) / 2, y1 + 35);
            
            // Highlight both sides
            ctx.strokeStyle = '#4CAF50';
            ctx.lineWidth = 5;
            ctx.beginPath();
            ctx.moveTo(x3, y3);
            ctx.lineTo(x1, y1);
            ctx.stroke();
            
            ctx.strokeStyle = '#FF9800';
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.stroke();
            
            // Tangent ratio
            ctx.fillStyle = '#FFFFFF';
            ctx.font = '16px Arial';
            ctx.fillText(`tan(${angle}¬∞) = Opp/Adj = ${opposite.toFixed(1)}/${adjacent}`, 50, 180);
        }

        function calculateTangent() {
            const angle = parseFloat(document.getElementById('tangentAngle').value) || 45;
            const angleRad = angle * Math.PI / 180;
            const tanValue = Math.tan(angleRad);
            
            // For common angles, show exact values
            let exactValue = "";
            if (angle === 0) exactValue = " = 0";
            else if (angle === 30) exactValue = " = 1/‚àö3 ‚âà 0.5774";
            else if (angle === 45) exactValue = " = 1";
            else if (angle === 60) exactValue = " = ‚àö3 ‚âà 1.7321";
            else if (angle === 90) exactValue = " = ‚àû (undefined)";
            
            tangentResult.innerHTML = `
                <strong>tan(${angle}¬∞)</strong>${exactValue}<br>
                <strong>Decimal:</strong> ${tanValue.toFixed(4)}<br><br>
                <strong>Meaning:</strong> In a right triangle with angle ${angle}¬∞,<br>
                the ratio Opposite/Adjacent = ${tanValue.toFixed(4)}<br><br>
                <strong>Also:</strong> tan(Œ∏) = sin(Œ∏)/cos(Œ∏)`;
            
            drawTangentTriangle(angle);
            tangentResult.classList.add('pulse');
            setTimeout(() => tangentResult.classList.remove('pulse'), 1000);
        }

        function showTangentTable() {
            alert(`COMMON TANGENT VALUES:

Angle | tan(Œ∏) | Decimal
------|--------|--------
0¬∞    | 0      | 0.0000
30¬∞   | 1/‚àö3   | 0.5774
45¬∞   | 1      | 1.0000
60¬∞   | ‚àö3     | 1.7321
90¬∞   | ‚àû      | undefined

SPECIAL TRIANGLES:

30-60-90 Triangle:
‚Ä¢ tan(30¬∞) = 1/‚àö3 ‚âà 0.577
‚Ä¢ tan(60¬∞) = ‚àö3 ‚âà 1.732

45-45-90 Triangle:
‚Ä¢ tan(45¬∞) = 1

PROPERTIES:
‚Ä¢ tan(0¬∞) = 0
‚Ä¢ tan(45¬∞) = 1
‚Ä¢ tan(Œ∏) increases from 0 to ‚àû as Œ∏ goes from 0¬∞ to 90¬∞
‚Ä¢ tan(Œ∏) = sin(Œ∏)/cos(Œ∏)
‚Ä¢ tan(90¬∞-Œ∏) = 1/tan(Œ∏)`);
        }

        function useTangentToSolve() {
            const angle = parseFloat(document.getElementById('tangentAngle').value) || 45;
            
            alert(`USING TANGENT TO SOLVE TRIANGLES:

Given: Angle = ${angle}¬∞

1. TO FIND OPPOSITE SIDE:
   ‚Ä¢ If adjacent is known: Opposite = Adjacent √ó tan(${angle}¬∞)

2. TO FIND ADJACENT SIDE:
   ‚Ä¢ If opposite is known: Adjacent = Opposite √∑ tan(${angle}¬∞)

3. TO FIND ANGLE:
   ‚Ä¢ If opposite and adjacent are known: Œ∏ = tan‚Åª¬π(Opposite/Adjacent)

EXAMPLE:
If adjacent = 10, then opposite = 10 √ó tan(${angle}¬∞) = 10 √ó ${Math.tan(angle * Math.PI/180).toFixed(3)} = ${(10 * Math.tan(angle * Math.PI/180)).toFixed(2)}

Remember TOA: Tangent = Opposite/Adjacent`);
        }

        // Right triangle solver
        function drawSolverTriangle() {
            const ctx = appState.solverCtx;
            const width = appState.solverCanvas.width;
            const height = appState.solverCanvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Default triangle
            const x1 = 50;
            const y1 = 150;
            const x2 = 150;
            const y2 = 150;
            const x3 = 50;
            const y3 = 50;
            
            // Triangle
            ctx.strokeStyle = '#009688';
            ctx.lineWidth = 3;
            ctx.fillStyle = 'rgba(0, 150, 136, 0.1)';
            
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.lineTo(x3, y3);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Right angle
            ctx.strokeStyle = '#F44336';
            const angleSize = 10;
            ctx.beginPath();
            ctx.moveTo(x1 - angleSize, y1);
            ctx.lineTo(x1, y1);
            ctx.lineTo(x1, y1 + angleSize);
            ctx.stroke();
            
            // Labels
            ctx.fillStyle = '#009688';
            ctx.font = '14px Arial';
            ctx.fillText('Adjacent', (x1 + x2) / 2, y1 + 20);
            ctx.fillText('Opposite', x3 - 30, (y1 + y3) / 2);
            ctx.fillText('Hypotenuse', (x1 + x2 + x3) / 3, (y1 + y2 + y3) / 3);
            ctx.fillText('Œ∏', x1 + 20, y1 - 10);
        }

        function solveRightTriangle() {
            const known1 = parseFloat(document.getElementById('known1').value) || 0;
            const sideType1 = document.getElementById('sideType1').value;
            const known2 = parseFloat(document.getElementById('known2').value) || 0;
            const type2 = document.getElementById('type2').value;
            
            if (known1 <= 0 || known2 <= 0) {
                triangleSolution.innerHTML = "Please enter positive values";
                return;
            }
            
            let solution = "";
            let steps = "";
            
            if (type2 === "angle") {
                // Known: one side and one angle
                const angle = known2;
                
                if (angle <= 0 || angle >= 90) {
                    triangleSolution.innerHTML = "Angle must be between 0¬∞ and 90¬∞";
                    return;
                }
                
                const angleRad = angle * Math.PI / 180;
                
                switch(sideType1) {
                    case "opposite":
                        const opp = known1;
                        const adj = opp / Math.tan(angleRad);
                        const hyp = opp / Math.sin(angleRad);
                        solution = `Opposite = ${opp}, Angle = ${angle}¬∞`;
                        steps = `
                            1. Adjacent = Opposite √∑ tan(${angle}¬∞) = ${opp} √∑ ${Math.tan(angleRad).toFixed(3)} = ${adj.toFixed(2)}<br>
                            2. Hypotenuse = Opposite √∑ sin(${angle}¬∞) = ${opp} √∑ ${Math.sin(angleRad).toFixed(3)} = ${hyp.toFixed(2)}<br>
                            3. Other angle = 90¬∞ - ${angle}¬∞ = ${(90-angle).toFixed(1)}¬∞`;
                        break;
                        
                    case "adjacent":
                        const adj2 = known1;
                        const opp2 = adj2 * Math.tan(angleRad);
                        const hyp2 = adj2 / Math.cos(angleRad);
                        solution = `Adjacent = ${adj2}, Angle = ${angle}¬∞`;
                        steps = `
                            1. Opposite = Adjacent √ó tan(${angle}¬∞) = ${adj2} √ó ${Math.tan(angleRad).toFixed(3)} = ${opp2.toFixed(2)}<br>
                            2. Hypotenuse = Adjacent √∑ cos(${angle}¬∞) = ${adj2} √∑ ${Math.cos(angleRad).toFixed(3)} = ${hyp2.toFixed(2)}<br>
                            3. Other angle = 90¬∞ - ${angle}¬∞ = ${(90-angle).toFixed(1)}¬∞`;
                        break;
                        
                    case "hypotenuse":
                        const hyp3 = known1;
                        const opp3 = hyp3 * Math.sin(angleRad);
                        const adj3 = hyp3 * Math.cos(angleRad);
                        solution = `Hypotenuse = ${hyp3}, Angle = ${angle}¬∞`;
                        steps = `
                            1. Opposite = Hypotenuse √ó sin(${angle}¬∞) = ${hyp3} √ó ${Math.sin(angleRad).toFixed(3)} = ${opp3.toFixed(2)}<br>
                            2. Adjacent = Hypotenuse √ó cos(${angle}¬∞) = ${hyp3} √ó ${Math.cos(angleRad).toFixed(3)} = ${adj3.toFixed(2)}<br>
                            3. Other angle = 90¬∞ - ${angle}¬∞ = ${(90-angle).toFixed(1)}¬∞`;
                        break;
                }
            } else {
                // Known: two sides
                if (sideType1 === "hypotenuse") {
                    // Hypotenuse and one other side
                    const hyp = known1;
                    const other = known2;
                    
                    if (other >= hyp) {
                        triangleSolution.innerHTML = "Side cannot be longer than hypotenuse";
                        return;
                    }
                    
                    const otherSide = Math.sqrt(hyp*hyp - other*other);
                    const angle1 = Math.asin(other/hyp) * 180 / Math.PI;
                    const angle2 = 90 - angle1;
                    
                    solution = `Hypotenuse = ${hyp}, Other side = ${other}`;
                    steps = `
                        1. Missing side = ‚àö(${hyp}¬≤ - ${other}¬≤) = ‚àö(${hyp*hyp} - ${other*other}) = ‚àö${(hyp*hyp - other*other).toFixed(2)} = ${otherSide.toFixed(2)}<br>
                        2. Angle 1 = sin‚Åª¬π(${other}/${hyp}) = sin‚Åª¬π(${(other/hyp).toFixed(3)}) = ${angle1.toFixed(1)}¬∞<br>
                        3. Angle 2 = 90¬∞ - ${angle1.toFixed(1)}¬∞ = ${angle2.toFixed(1)}¬∞`;
                } else {
                    // Two legs
                    const a = known1;
                    const b = known2;
                    const hyp = Math.sqrt(a*a + b*b);
                    const angle = Math.atan2(b, a) * 180 / Math.PI;
                    
                    solution = `Side a = ${a}, Side b = ${b}`;
                    steps = `
                        1. Hypotenuse = ‚àö(${a}¬≤ + ${b}¬≤) = ‚àö(${a*a} + ${b*b}) = ‚àö${(a*a + b*b).toFixed(2)} = ${hyp.toFixed(2)}<br>
                        2. Angle 1 = tan‚Åª¬π(${b}/${a}) = tan‚Åª¬π(${(b/a).toFixed(3)}) = ${angle.toFixed(1)}¬∞<br>
                        3. Angle 2 = 90¬∞ - ${angle.toFixed(1)}¬∞ = ${(90-angle).toFixed(1)}¬∞`;
                }
            }
            
            triangleSolution.innerHTML = `<strong>Solution:</strong><br>${solution}`;
            triangleSteps.innerHTML = `<strong>Steps:</strong><br>${steps}`;
            
            triangleSolution.classList.add('pulse');
            triangleSteps.classList.add('pulse');
            setTimeout(() => {
                triangleSolution.classList.remove('pulse');
                triangleSteps.classList.remove('pulse');
            }, 1000);
        }

        function clearTriangleSolver() {
            document.getElementById('known1').value = "5";
            document.getElementById('known2').value = "37";
            triangleSolution.innerHTML = "Enter two known values to solve the triangle";
            triangleSteps.innerHTML = "Steps will appear here";
        }

        function generateTriangleProblem() {
            const problems = [
                { type: "Pythagoras", side1: 3, side2: 4, label1: "opposite", label2: "adjacent" },
                { type: "Sine", side1: 5, side2: 30, label1: "hypotenuse", label2: "angle" },
                { type: "Cosine", side1: 8, side2: 60, label1: "hypotenuse", label2: "angle" },
                { type: "Tangent", side1: 6, side2: 45, label1: "adjacent", label2: "angle" }
            ];
            
            const problem = problems[Math.floor(Math.random() * problems.length)];
            
            document.getElementById('known1').value = problem.side1;
            document.getElementById('sideType1').value = problem.label1;
            document.getElementById('known2').value = problem.side2;
            document.getElementById('type2').value = problem.label2 === "angle" ? "angle" : "side";
            
            triangleSolution.innerHTML = `<strong>New Problem:</strong> ${problem.type} problem generated`;
        }

        // Unit circle functions
        function drawUnitCircle() {
            const angle = parseFloat(document.getElementById('circleAngle').value) || 30;
            const angleRad = angle * Math.PI / 180;
            
            const circle = document.getElementById('unitCircle');
            circle.innerHTML = '';
            
            // Create canvas
            const canvas = document.createElement('canvas');
            canvas.width = 200;
            canvas.height = 200;
            const ctx = canvas.getContext('2d');
            
            // Draw circle
            ctx.strokeStyle = '#F44336';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(100, 100, 80, 0, Math.PI * 2);
            ctx.stroke();
            
            // Draw axes
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 1;
            // X-axis
            ctx.beginPath();
            ctx.moveTo(20, 100);
            ctx.lineTo(180, 100);
            ctx.stroke();
            // Y-axis
            ctx.beginPath();
            ctx.moveTo(100, 20);
            ctx.lineTo(100, 180);
            ctx.stroke();
            
            // Draw angle
            ctx.strokeStyle = '#FFC107';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(100, 100);
            ctx.lineTo(100 + 80 * Math.cos(angleRad), 100 - 80 * Math.sin(angleRad));
            ctx.stroke();
            
            // Draw point on circle
            const pointX = 100 + 80 * Math.cos(angleRad);
            const pointY = 100 - 80 * Math.sin(angleRad);
            ctx.fillStyle = '#FFC107';
            ctx.beginPath();
            ctx.arc(pointX, pointY, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // Draw triangle
            ctx.strokeStyle = '#4CAF50';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 3]);
            // Vertical line from point to x-axis
            ctx.beginPath();
            ctx.moveTo(pointX, pointY);
            ctx.lineTo(pointX, 100);
            ctx.stroke();
            // Horizontal line from center to point
            ctx.beginPath();
            ctx.moveTo(100, 100);
            ctx.lineTo(pointX, 100);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Labels
            ctx.fillStyle = '#FFFFFF';
            ctx.font = '12px Arial';
            ctx.fillText('Œ∏ = ' + angle + '¬∞', 110, 70);
            ctx.fillText('(cos Œ∏, sin Œ∏)', pointX - 30, pointY - 10);
            ctx.fillText('x = cos Œ∏', pointX - 10, 115);
            ctx.fillText('y = sin Œ∏', pointX + 5, (pointY + 100) / 2);
            
            circle.appendChild(canvas);
            
            // Update values display
            const cosValue = Math.cos(angleRad);
            const sinValue = Math.sin(angleRad);
            const tanValue = Math.tan(angleRad);
            
            unitCircleValues.innerHTML = `
                <div class="trig-value-item">
                    <div class="trig-function">sin(${angle}¬∞)</div>
                    <div class="trig-value">${sinValue.toFixed(3)}</div>
                </div>
                <div class="trig-value-item">
                    <div class="trig-function">cos(${angle}¬∞)</div>
                    <div class="trig-value">${cosValue.toFixed(3)}</div>
                </div>
                <div class="trig-value-item">
                    <div class="trig-function">tan(${angle}¬∞)</div>
                    <div class="trig-value">${tanValue.toFixed(3)}</div>
                </div>`;
        }

        function explainUnitCircle() {
            alert(`THE UNIT CIRCLE - FOUNDATION OF TRIGONOMETRY:

DEFINITION:
‚Ä¢ A circle with radius = 1 unit
‚Ä¢ Center at origin (0, 0)
‚Ä¢ Any point on circle: (cos Œ∏, sin Œ∏)

KEY CONCEPTS:

1. COORDINATES:
   ‚Ä¢ x-coordinate = cos(Œ∏)
   ‚Ä¢ y-coordinate = sin(Œ∏)
   ‚Ä¢ Example: For Œ∏ = 30¬∞, point is (‚àö3/2, ¬Ω)

2. QUADRANTS:
   ‚Ä¢ Q1: 0¬∞ to 90¬∞ (All positive)
   ‚Ä¢ Q2: 90¬∞ to 180¬∞ (sin positive)
   ‚Ä¢ Q3: 180¬∞ to 270¬∞ (tan positive)
   ‚Ä¢ Q4: 270¬∞ to 360¬∞ (cos positive)

3. SPECIAL ANGLES:
   ‚Ä¢ 0¬∞: (1, 0)
   ‚Ä¢ 30¬∞: (‚àö3/2, ¬Ω)
   ‚Ä¢ 45¬∞: (‚àö2/2, ‚àö2/2)
   ‚Ä¢ 60¬∞: (¬Ω, ‚àö3/2)
   ‚Ä¢ 90¬∞: (0, 1)

4. IDENTITIES:
   ‚Ä¢ cos¬≤Œ∏ + sin¬≤Œ∏ = 1 (Pythagorean identity)
   ‚Ä¢ tanŒ∏ = sinŒ∏/cosŒ∏
   ‚Ä¢ Radius = ‚àö(x¬≤ + y¬≤) = 1

WHY IT'S IMPORTANT:
‚Ä¢ Defines trig functions for all angles
‚Ä¢ Shows periodic nature of trig functions
‚Ä¢ Connects algebra and geometry
‚Ä¢ Foundation for calculus and physics`);
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', showWelcomePage);
            viewTopicsBtn.addEventListener('click', () => alert("Other math topics would be available here."));
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') startPractice();
            });
            
            // Add Pythagoras input listeners
            sideA.addEventListener('change', drawPythagorasTriangle);
            sideB.addEventListener('change', drawPythagorasTriangle);
            
            // Add unit circle angle listener
            document.getElementById('circleAngle').addEventListener('change', drawUnitCircle);
        }

        // Create trigonometry tip display
        function createTrigTip() {
            const tipDiv = document.createElement('div');
            tipDiv.className = 'trig-tip';
            tipDiv.innerHTML = `<strong>Trig Tip:</strong> ${trigTips[Math.floor(Math.random() * trigTips.length)]}`;
            return tipDiv;
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            appState.startTime = new Date();
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const percentage = Math.round((appState.score / questions.length) * 100);
            const timeDiff = new Date() - appState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            pythagorasScore.textContent = appState.pythagorasScore;
            sineScore.textContent = appState.sineScore;
            cosineScore.textContent = appState.cosineScore;
            tangentScore.textContent = appState.tangentScore;
            timeSpent.textContent = `${minutes}min`;
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Excellent! You've mastered trigonometry!";
            } else if (percentage >= 75) {
                scoreMessage.textContent = "Great work! Strong understanding of trig ratios!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good job! Keep practicing to improve further!";
            } else {
                scoreMessage.textContent = "Keep practicing! Focus on SOHCAHTOA and Pythagoras!";
            }
        }

        // Load question
        function loadQuestion() {
            const question = questions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${questions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            trigTip.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            trigTip.appendChild(createTrigTip());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = questions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                
                // Track scores by question type
                if (question.type === 'pythagoras') appState.pythagorasScore++;
                if (question.type === 'sine') appState.sineScore++;
                if (question.type === 'cosine') appState.cosineScore++;
                if (question.type === 'tangent') appState.tangentScore++;
                
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation);
            }
            
            nextQuestionBtn.disabled = false;
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Skip question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Retry topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            appState.pythagorasScore = 0;
            appState.sineScore = 0;
            appState.cosineScore = 0;
            appState.tangentScore = 0;
            showPracticePage();
        }

        // Start practice
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin trigonometry practice!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            appState.pythagorasScore = 0;
            appState.sineScore = 0;
            appState.cosineScore = 0;
            appState.tangentScore = 0;
            
            showPracticePage();
        }

        // Initialize app
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
