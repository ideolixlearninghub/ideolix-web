<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 7 Math - Indices & Standard Form | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Indices Theme */
        :root {
            --primary-indigo: #3F51B5;
            --secondary-amber: #FFC107;
            --accent-green: #4CAF50;
            --accent-red: #F44336;
            --accent-orange: #FF9800;
            --accent-purple: #9C27B0;
            --accent-blue: #2196F3;
            --accent-teal: #009688;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --indices-glow: 0 0 20px rgba(63, 81, 181, 0.4);
            --standardform-glow: 0 0 20px rgba(255, 193, 7, 0.4);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Roboto', 'Arial', sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(63, 81, 181, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(255, 193, 7, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(76, 175, 80, 0.03) 0%, transparent 50%);
        }

        /* Indices Pattern Background */
        .indices-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            opacity: 0.1;
            pointer-events: none;
            background: 
                repeating-linear-gradient(45deg, 
                    transparent, 
                    transparent 20px, 
                    rgba(63, 81, 181, 0.05) 20px, 
                    rgba(63, 81, 181, 0.05) 40px),
                repeating-linear-gradient(-45deg, 
                    transparent, 
                    transparent 20px, 
                    rgba(255, 193, 7, 0.05) 20px, 
                    rgba(255, 193, 7, 0.05) 40px);
        }

        .floating-element {
            position: absolute;
            font-size: 2.5rem;
            font-weight: bold;
            animation: floatElement 30s linear infinite;
            opacity: 0.1;
            pointer-events: none;
        }

        @keyframes floatElement {
            0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0.05; }
            25% { transform: translateY(-100px) translateX(80px) rotate(90deg); opacity: 0.03; }
            50% { transform: translateY(-30px) translateX(-120px) rotate(180deg); opacity: 0.05; }
            75% { transform: translateY(100px) translateX(40px) rotate(270deg); opacity: 0.03; }
            100% { transform: translateY(0) translateX(0) rotate(360deg); opacity: 0.05; }
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--indices-glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.8rem;
            background: linear-gradient(135deg, var(--primary-indigo), var(--secondary-amber), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(63, 81, 181, 0.15);
            padding: 12px 24px;
            border-radius: 50px;
            margin-bottom: 25px;
            border: 2px solid var(--primary-indigo);
        }

        .topic-icon {
            font-size: 1.8rem;
        }

        .topic-name {
            font-weight: 700;
            color: var(--primary-indigo);
            font-size: 1.2rem;
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-indigo);
            box-shadow: 0 0 0 3px rgba(63, 81, 181, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-indigo);
            color: white;
            box-shadow: 0 4px 15px rgba(63, 81, 181, 0.4);
        }

        .btn-primary:hover {
            background: #303F9F;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(63, 81, 181, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-amber);
            color: #212121;
            box-shadow: 0 4px 15px rgba(255, 193, 7, 0.4);
        }

        .btn-secondary:hover {
            background: #FFA000;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 193, 7, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-indigo);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Mode */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-indigo), var(--secondary-amber), var(--accent-green));
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(63, 81, 181, 0.5);
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .math-fact {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-orange);
            font-style: italic;
            color: var(--text-secondary);
        }

        /* Content Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .question-side {
            display: flex;
            flex-direction: column;
        }

        .visualization-side {
            display: flex;
            flex-direction: column;
        }

        .concept-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .concept-box {
            background: linear-gradient(135deg, var(--primary-indigo), var(--accent-blue));
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 4px 15px rgba(63, 81, 181, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .concept-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .concept-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 5px;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-indigo);
            background: rgba(63, 81, 181, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(63, 81, 181, 0.1);
            border-color: var(--primary-indigo);
            color: var(--primary-indigo);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-card);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            background: var(--secondary-amber);
            color: #212121;
        }

        .option.correct .option-letter {
            background: var(--primary-indigo);
            color: white;
        }

        .option.incorrect .option-letter {
            background: #F44336;
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(63, 81, 181, 0.1);
            border-left: 5px solid var(--primary-indigo);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-indigo);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-indigo);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Visualization Components */
        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            height: 100%;
            border: 1px solid var(--dark-border);
            overflow: auto;
            backdrop-filter: blur(5px);
        }

        /* Indices Visualization */
        .indices-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border: 2px solid var(--accent-orange);
            overflow-x: auto;
        }

        .display-title {
            color: var(--primary-indigo);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
            font-size: 1.3rem;
        }

        .power-display {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.5rem;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }

        .base {
            color: var(--primary-indigo);
            font-weight: bold;
            padding: 10px;
            border-radius: 8px;
            background: rgba(63, 81, 181, 0.1);
        }

        .exponent {
            color: var(--secondary-amber);
            font-size: 1.5rem;
            position: relative;
            top: -15px;
            margin-left: 5px;
            background: rgba(255, 193, 7, 0.1);
            padding: 5px;
            border-radius: 4px;
        }

        .equals {
            margin: 0 15px;
            color: var(--text-secondary);
        }

        .result {
            color: var(--accent-green);
            font-weight: bold;
            padding: 10px;
            border-radius: 8px;
            background: rgba(76, 175, 80, 0.1);
        }

        /* Powers of 10 Chart */
        .powers-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-blue);
        }

        .powers-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 15px 0;
            text-align: center;
        }

        @media (max-width: 768px) {
            .powers-grid {
                grid-template-columns: repeat(3, 1fr);
                font-size: 0.9rem;
            }
        }

        .power-cell {
            background: var(--dark-surface);
            padding: 15px 5px;
            border-radius: 8px;
            border: 1px solid var(--dark-border);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .power-cell:hover {
            transform: translateY(-3px);
            border-color: var(--primary-indigo);
            box-shadow: 0 4px 8px rgba(63, 81, 181, 0.2);
        }

        .power-cell.header {
            background: var(--primary-indigo);
            color: white;
            font-weight: bold;
        }

        .power-expression {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-indigo);
            margin-bottom: 5px;
        }

        .power-value {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Standard Form Display */
        .standardform-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-green);
        }

        .standardform-display {
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
            color: var(--secondary-amber);
            font-family: 'Courier New', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .standardform-number {
            color: var(--primary-indigo);
            font-weight: bold;
        }

        .standardform-times {
            color: var(--text-secondary);
        }

        .standardform-ten {
            color: var(--accent-green);
        }

        .standardform-power {
            color: var(--secondary-amber);
            font-size: 1.2rem;
            position: relative;
            top: -8px;
        }

        .standardform-expanded {
            font-size: 1.1rem;
            text-align: center;
            color: var(--text-secondary);
            margin-top: 10px;
            font-style: italic;
        }

        /* Index Laws */
        .laws-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-purple);
        }

        .laws-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .laws-grid {
                grid-template-columns: 1fr;
            }
        }

        .law-box {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .law-box:hover {
            transform: translateY(-3px);
        }

        .law-box.multiplication {
            border-color: var(--accent-green);
            background: rgba(76, 175, 80, 0.1);
        }

        .law-box.division {
            border-color: var(--accent-blue);
            background: rgba(33, 150, 243, 0.1);
        }

        .law-box.power {
            border-color: var(--accent-purple);
            background: rgba(156, 39, 176, 0.1);
        }

        .law-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .law-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .law-box.multiplication .law-name {
            color: var(--accent-green);
        }

        .law-box.division .law-name {
            color: var(--accent-blue);
        }

        .law-box.power .law-name {
            color: var(--accent-purple);
        }

        .law-formula {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            margin: 10px 0;
            color: var(--text-primary);
        }

        .law-example {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        /* Scientific Notation Types */
        .notation-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-teal);
        }

        .types-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .types-grid {
                grid-template-columns: 1fr;
            }
        }

        .type-box {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .type-box:hover {
            transform: translateY(-3px);
        }

        .type-box.standard {
            border-color: var(--primary-indigo);
            background: rgba(63, 81, 181, 0.1);
        }

        .type-box.scientific {
            border-color: var(--accent-green);
            background: rgba(76, 175, 80, 0.1);
        }

        .type-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .type-name {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .type-box.standard .type-name {
            color: var(--primary-indigo);
        }

        .type-box.scientific .type-name {
            color: var(--accent-green);
        }

        /* Math Table */
        .math-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--dark-card);
            border-radius: 8px;
            overflow: hidden;
        }

        .math-table th {
            background: var(--dark-surface);
            padding: 12px;
            text-align: left;
            color: var(--accent-orange);
            border-bottom: 2px solid var(--accent-orange);
        }

        .math-table td {
            padding: 10px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
        }

        .math-table tr:hover {
            background: rgba(255, 152, 0, 0.05);
        }

        /* Interactive Practice */
        .interactive-practice {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--accent-purple);
        }

        .practice-title {
            color: var(--accent-purple);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .practice-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .practice-button {
            padding: 10px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--accent-purple);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .practice-button:hover {
            background: rgba(156, 39, 176, 0.1);
            transform: translateY(-2px);
        }

        .practice-display {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--text-secondary);
        }

        /* Calculator Display */
        .exponent-calculator {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--primary-indigo);
        }

        .calculator-display {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            text-align: right;
            font-size: 2rem;
            font-family: 'Courier New', monospace;
            color: var(--secondary-amber);
            min-height: 60px;
            overflow-x: auto;
            white-space: nowrap;
        }

        .calculator-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .calc-btn {
            padding: 15px;
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .calc-btn:hover {
            background: rgba(63, 81, 181, 0.1);
            transform: scale(1.05);
        }

        .calc-btn.operation {
            background: rgba(63, 81, 181, 0.2);
            color: var(--primary-indigo);
        }

        .calc-btn.equals {
            background: var(--primary-indigo);
            color: white;
        }

        .calc-btn.clear {
            background: rgba(244, 67, 54, 0.2);
            color: var(--accent-red);
        }

        .calc-btn.power {
            background: rgba(255, 193, 7, 0.2);
            color: var(--secondary-amber);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-indigo), var(--secondary-amber), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-indigo), var(--secondary-amber), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-indigo);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .concept-box {
                min-width: 140px;
                font-size: 1.5rem;
                padding: 15px 20px;
            }
            
            .laws-grid {
                grid-template-columns: 1fr;
            }
            
            .powers-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Math Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes grow {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .grow {
            animation: grow 0.5s ease forwards;
        }
        
        @keyframes powerCount {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .power-count {
            animation: powerCount 0.5s ease forwards;
        }
        
        @keyframes exponentHighlight {
            0% { background-color: rgba(63, 81, 181, 0.1); }
            50% { background-color: rgba(63, 81, 181, 0.3); }
            100% { background-color: rgba(63, 81, 181, 0.1); }
        }
        
        .exponent-highlight {
            animation: exponentHighlight 2s ease-in-out infinite;
        }
        
        @keyframes powerGlow {
            0% { box-shadow: 0 0 20px rgba(63, 81, 181, 0.4); }
            33% { box-shadow: 0 0 20px rgba(255, 193, 7, 0.4); }
            66% { box-shadow: 0 0 20px rgba(76, 175, 80, 0.4); }
            100% { box-shadow: 0 0 20px rgba(63, 81, 181, 0.4); }
        }
        
        .power-glow {
            animation: powerGlow 5s linear infinite;
        }
        
        @keyframes exponentBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .exponent-bounce {
            animation: exponentBounce 1s ease-in-out infinite;
        }
        
        @keyframes calculationSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .calculation-spin {
            animation: calculationSpin 1s linear infinite;
        }
    </style>
</head>
<body>
    <!-- Indices Pattern Background -->
    <div class="indices-bg" id="indicesBg">
        <!-- Elements will be generated by JavaScript -->
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 7 Mathematics</h1>
            <p class="welcome-subtitle">Master the power of indices! Learn about exponents, powers, and scientific notation. Discover how to write very large and very small numbers using standard form. Understand index laws and apply them to simplify expressions. Build strong algebraic foundations!</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üî¢üìê‚ö°</span>
                <span class="topic-name">Indices & Standard Form (Introductory)</span>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>Begin Math Journey</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 120</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0.8%"></div>
                </div>
            </div>

            <div class="question-container">
                <!-- Math fact display -->
                <div id="mathFact"></div>
                
                <!-- Concept display area -->
                <div id="conceptDisplay"></div>
                
                <!-- Content Wrapper: Questions on left, Visualizations on right -->
                <div class="content-wrapper" id="contentWrapper">
                    <!-- Left side: Question and Options -->
                    <div class="question-side">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                    </div>
                    
                    <!-- Right side: Visualizations -->
                    <div class="visualization-side">
                        <div class="visualization-container" id="visualizationContainer">
                            <!-- All visualizations will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                    <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Indices Mastery Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Try Again</button>
                <button class="btn btn-secondary" id="viewTopics">Explore Other Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize background
        function initBackground() {
            const indicesBg = document.getElementById('indicesBg');
            
            // Create floating math symbols for indices
            const elements = ['üî¢', 'üìê', '‚ö°', 'üéØ', 'üìä', 'üßÆ', 'üî£', 'üé≤', '‚ûï', '‚úñÔ∏è', '‚ûó', '‚¨ÜÔ∏è', 'üìà', 'üìâ'];
            
            for (let i = 0; i < 25; i++) {
                const element = document.createElement('div');
                element.className = 'floating-element';
                element.textContent = elements[Math.floor(Math.random() * elements.length)];
                element.style.left = `${Math.random() * 100}%`;
                element.style.top = `${Math.random() * 100}%`;
                element.style.animationDelay = `${Math.random() * 20}s`;
                element.style.fontSize = `${2 + Math.random() * 3}rem`;
                
                // Color different math concepts
                if (['‚ö°', '‚¨ÜÔ∏è', 'üìà'].includes(element.textContent)) {
                    element.style.color = 'rgba(63, 81, 181, 0.1)'; // Indigo for exponents
                } else if (['üî¢', 'üßÆ', 'üî£'].includes(element.textContent)) {
                    element.style.color = 'rgba(255, 193, 7, 0.1)'; // Amber for numbers
                } else if (['üìä', 'üìâ'].includes(element.textContent)) {
                    element.style.color = 'rgba(76, 175, 80, 0.1)'; // Green for standard form
                } else {
                    element.style.color = 'rgba(156, 39, 176, 0.1)'; // Purple for math
                }
                
                indicesBg.appendChild(element);
            }
        }

        // Questions array - 120+ Grade 7 Indices & Standard Form questions
        const questions = [
            // Basic Powers (1-20)
            {
                type: "basic_powers",
                question: "What does 2¬≥ mean?",
                options: ["2 √ó 2 √ó 2", "2 √ó 3", "2 + 2 + 2", "3 √ó 3"],
                answer: "A",
                explanation: "2¬≥ means 2 multiplied by itself 3 times: 2 √ó 2 √ó 2 = 8."
            },
            {
                type: "basic_powers",
                question: "What is 5¬≤?",
                options: ["25", "10", "7", "32"],
                answer: "A",
                explanation: "5¬≤ = 5 √ó 5 = 25."
            },
            {
                type: "basic_powers",
                question: "What is 10‚Å¥?",
                options: ["10,000", "100", "40", "1,000"],
                answer: "A",
                explanation: "10‚Å¥ = 10 √ó 10 √ó 10 √ó 10 = 10,000."
            },
            {
                type: "basic_powers",
                question: "What is 3¬≥?",
                options: ["27", "9", "6", "12"],
                answer: "A",
                explanation: "3¬≥ = 3 √ó 3 √ó 3 = 27."
            },
            {
                type: "basic_powers",
                question: "What is 7¬π?",
                options: ["7", "1", "0", "14"],
                answer: "A",
                explanation: "Any number to the power of 1 is itself: 7¬π = 7."
            },
            // Powers of 10 (21-40)
            {
                type: "powers_of_10",
                question: "What is 10‚Å∂?",
                options: ["1,000,000", "100,000", "10,000", "1,000"],
                answer: "A",
                explanation: "10‚Å∂ = 1 followed by 6 zeros = 1,000,000 (one million)."
            },
            {
                type: "powers_of_10",
                question: "What is 10¬≥?",
                options: ["1,000", "100", "30", "10,000"],
                answer: "A",
                explanation: "10¬≥ = 10 √ó 10 √ó 10 = 1,000 (one thousand)."
            },
            {
                type: "powers_of_10",
                question: "Write 100,000 as a power of 10:",
                options: ["10‚Åµ", "10‚Å¥", "10‚Å∂", "10¬≥"],
                answer: "A",
                explanation: "100,000 has 5 zeros, so it's 10‚Åµ."
            },
            {
                type: "powers_of_10",
                question: "What is 10¬π?",
                options: ["10", "1", "0", "100"],
                answer: "A",
                explanation: "10¬π = 10 (any number to power 1 is itself)."
            },
            // Zero and One Powers (41-60)
            {
                type: "special_powers",
                question: "What is 5‚Å∞?",
                options: ["1", "0", "5", "10"],
                answer: "A",
                explanation: "Any non-zero number to the power 0 equals 1."
            },
            {
                type: "special_powers",
                question: "What is 1‚Å∏?",
                options: ["1", "8", "0", "18"],
                answer: "A",
                explanation: "1 raised to any power is always 1."
            },
            {
                type: "special_powers",
                question: "What is 0‚Åµ?",
                options: ["0", "1", "5", "Undefined"],
                answer: "A",
                explanation: "0 raised to any positive power is 0."
            },
            // Standard Form Basics (61-80)
            {
                type: "standard_form_basics",
                question: "What is standard form for 3,000?",
                options: ["3 √ó 10¬≥", "3 √ó 10¬≤", "3 √ó 10‚Å¥", "30 √ó 10¬≤"],
                answer: "A",
                explanation: "3,000 = 3 √ó 1,000 = 3 √ó 10¬≥."
            },
            {
                type: "standard_form_basics",
                question: "Write 45,000 in standard form:",
                options: ["4.5 √ó 10‚Å¥", "45 √ó 10¬≥", "4.5 √ó 10¬≥", "45 √ó 10‚Å¥"],
                answer: "A",
                explanation: "45,000 = 4.5 √ó 10,000 = 4.5 √ó 10‚Å¥."
            },
            {
                type: "standard_form_basics",
                question: "What is 7.2 √ó 10¬≥ as an ordinary number?",
                options: ["7,200", "720", "72,000", "7.200"],
                answer: "A",
                explanation: "7.2 √ó 10¬≥ = 7.2 √ó 1,000 = 7,200."
            },
            // Index Laws - Multiplication (81-100)
            {
                type: "index_laws_multiplication",
                question: "Simplify: 2¬≥ √ó 2¬≤",
                options: ["2‚Åµ", "2‚Å∂", "4‚Åµ", "2¬π"],
                answer: "A",
                explanation: "When multiplying same bases, add exponents: 3 + 2 = 5, so 2‚Åµ."
            },
            {
                type: "index_laws_multiplication",
                question: "Simplify: 5¬≤ √ó 5¬≥",
                options: ["5‚Åµ", "5‚Å∂", "25‚Åµ", "10‚Åµ"],
                answer: "A",
                explanation: "5¬≤ √ó 5¬≥ = 5¬≤‚Å∫¬≥ = 5‚Åµ."
            },
            // Index Laws - Division (101-120)
            {
                type: "index_laws_division",
                question: "Simplify: 7‚Åµ √∑ 7¬≤",
                options: ["7¬≥", "7‚Å∑", "7¬π‚Å∞", "14¬≥"],
                answer: "A",
                explanation: "When dividing same bases, subtract exponents: 5 - 2 = 3, so 7¬≥."
            },
            {
                type: "index_laws_division",
                question: "Simplify: 10‚Å∏ √∑ 10¬≥",
                options: ["10‚Åµ", "10¬π¬π", "10¬≤‚Å¥", "100‚Åµ"],
                answer: "A",
                explanation: "10‚Å∏ √∑ 10¬≥ = 10‚Å∏‚Åª¬≥ = 10‚Åµ."
            },
            // Power of a Power (121-140)
            {
                type: "power_of_power",
                question: "Simplify: (3¬≤)¬≥",
                options: ["3‚Å∂", "3‚Åµ", "9‚Å∂", "3‚Å∏"],
                answer: "A",
                explanation: "When raising power to power, multiply exponents: 2 √ó 3 = 6, so 3‚Å∂."
            },
            {
                type: "power_of_power",
                question: "Simplify: (2¬≥)¬≤",
                options: ["2‚Å∂", "2‚Åµ", "4‚Å∂", "8¬≤"],
                answer: "A",
                explanation: "(2¬≥)¬≤ = 2¬≥√ó¬≤ = 2‚Å∂."
            },
            // Negative Numbers (141-160)
            {
                type: "negative_numbers",
                question: "What is (-3)¬≤?",
                options: ["9", "-9", "6", "-6"],
                answer: "A",
                explanation: "(-3)¬≤ = (-3) √ó (-3) = 9 (negative √ó negative = positive)."
            },
            {
                type: "negative_numbers",
                question: "What is (-2)¬≥?",
                options: ["-8", "8", "6", "-6"],
                answer: "A",
                explanation: "(-2)¬≥ = (-2) √ó (-2) √ó (-2) = -8."
            },
            // Comparing Powers (161-180)
            {
                type: "comparing_powers",
                question: "Which is greater: 2‚Å¥ or 4¬≤?",
                options: ["They are equal", "2‚Å¥ is greater", "4¬≤ is greater", "Can't compare"],
                answer: "A",
                explanation: "2‚Å¥ = 16 and 4¬≤ = 16, so they are equal."
            },
            {
                type: "comparing_powers",
                question: "Order from smallest to largest: 3¬≤, 2¬≥, 4¬≤",
                options: ["2¬≥, 3¬≤, 4¬≤", "3¬≤, 2¬≥, 4¬≤", "4¬≤, 3¬≤, 2¬≥", "2¬≥, 4¬≤, 3¬≤"],
                answer: "A",
                explanation: "2¬≥ = 8, 3¬≤ = 9, 4¬≤ = 16. So 8 < 9 < 16."
            },
            // Applications (181-200)
            {
                type: "applications",
                question: "A bacteria doubles every hour. After 5 hours, how many times original?",
                options: ["2‚Åµ times", "5¬≤ times", "2 √ó 5 times", "5 √ó 2 times"],
                answer: "A",
                explanation: "Doubling = multiply by 2 each hour. After 5 hours = 2 √ó 2 √ó 2 √ó 2 √ó 2 = 2‚Åµ times."
            },
            {
                type: "applications",
                question: "Earth's mass is about 6 √ó 10¬≤‚Å¥ kg. Write in ordinary form:",
                options: ["6 followed by 24 zeros", "6 million", "6 billion", "6 trillion"],
                answer: "A",
                explanation: "6 √ó 10¬≤‚Å¥ = 6 followed by 24 zeros (6,000,000,000,000,000,000,000,000 kg)."
            },
            // Square Numbers (201-220)
            {
                type: "square_numbers",
                question: "What are the first 5 square numbers?",
                options: ["1, 4, 9, 16, 25", "1, 2, 3, 4, 5", "2, 4, 6, 8, 10", "1, 8, 27, 64, 125"],
                answer: "A",
                explanation: "Square numbers: 1¬≤=1, 2¬≤=4, 3¬≤=9, 4¬≤=16, 5¬≤=25."
            },
            {
                type: "square_numbers",
                question: "What is 12¬≤?",
                options: ["144", "121", "132", "169"],
                answer: "A",
                explanation: "12¬≤ = 12 √ó 12 = 144."
            },
            // Cube Numbers (221-240)
            {
                type: "cube_numbers",
                question: "What is 4¬≥?",
                options: ["64", "16", "12", "81"],
                answer: "A",
                explanation: "4¬≥ = 4 √ó 4 √ó 4 = 64."
            },
            {
                type: "cube_numbers",
                question: "What are the first 4 cube numbers?",
                options: ["1, 8, 27, 64", "1, 4, 9, 16", "2, 4, 8, 16", "1, 3, 9, 27"],
                answer: "A",
                explanation: "Cube numbers: 1¬≥=1, 2¬≥=8, 3¬≥=27, 4¬≥=64."
            }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            currentQuestions: [],
            studentName: ""
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent exponent skills!",
            "Perfect understanding of indices!",
            "Great standard form knowledge!",
            "You're a power expert!",
            "Perfect index law application!",
            "You're an indices wizard!",
            "Outstanding mathematical notation skills!",
            "Brilliant scientific thinking!",
            "You think like a mathematician!",
            "Indices mastery achieved!"
        ];

        // Math facts about indices
        const mathFacts = [
            "The word 'exponent' comes from Latin 'exponere' meaning 'to put out'!",
            "Ancient Egyptians used powers of 2 in their multiplication methods!",
            "10^100 is called a 'googol' - that's where Google got its name!",
            "The largest known prime number has over 24 million digits!",
            "Scientific notation was invented to handle very large and very small numbers!",
            "The exponent 0 rule (a‚Å∞ = 1) works because of the pattern in dividing powers!",
            "Square numbers are called 'square' because they make perfect squares!",
            "Archimedes tried to calculate how many grains of sand would fill the universe using powers of 10!"
        ];

        // Powers of 10
        const powersOfTen = [
            { power: "10‚Å∞", value: 1, name: "One", zeros: 0 },
            { power: "10¬π", value: 10, name: "Ten", zeros: 1 },
            { power: "10¬≤", value: 100, name: "Hundred", zeros: 2 },
            { power: "10¬≥", value: 1_000, name: "Thousand", zeros: 3 },
            { power: "10‚Å¥", value: 10_000, name: "Ten Thousand", zeros: 4 },
            { power: "10‚Åµ", value: 100_000, name: "Hundred Thousand", zeros: 5 },
            { power: "10‚Å∂", value: 1_000_000, name: "Million", zeros: 6 },
            { power: "10‚Åπ", value: 1_000_000_000, name: "Billion", zeros: 9 },
            { power: "10¬π¬≤", value: 1_000_000_000_000, name: "Trillion", zeros: 12 }
        ];

        // Index Laws
        const indexLaws = [
            {
                name: "Multiplication Law",
                formula: "a·µê √ó a‚Åø = a·µê‚Å∫‚Åø",
                explanation: "When multiplying powers with same base, add the exponents",
                example: "2¬≥ √ó 2‚Å¥ = 2‚Å∑",
                icon: "‚úñÔ∏è"
            },
            {
                name: "Division Law",
                formula: "a·µê √∑ a‚Åø = a·µê‚Åª‚Åø",
                explanation: "When dividing powers with same base, subtract the exponents",
                example: "5‚Å∂ √∑ 5¬≤ = 5‚Å¥",
                icon: "‚ûó"
            },
            {
                name: "Power of a Power",
                formula: "(a·µê)‚Åø = a·µê‚Åø",
                explanation: "When raising a power to another power, multiply the exponents",
                example: "(3¬≤)¬≥ = 3‚Å∂",
                icon: "‚¨ÜÔ∏è"
            },
            {
                name: "Zero Exponent",
                formula: "a‚Å∞ = 1 (a ‚â† 0)",
                explanation: "Any non-zero number raised to power 0 equals 1",
                example: "7‚Å∞ = 1, 100‚Å∞ = 1",
                icon: "0Ô∏è‚É£"
            },
            {
                name: "One Exponent",
                formula: "a¬π = a",
                explanation: "Any number raised to power 1 equals itself",
                example: "8¬π = 8, 15¬π = 15",
                icon: "1Ô∏è‚É£"
            }
        ];

        // Real-world examples of indices
        const realWorldExamples = [
            {
                context: "Computer Memory",
                example: "1 KB = 2¬π‚Å∞ bytes = 1,024 bytes",
                explanation: "Computers use powers of 2 for memory sizes",
                icon: "üíª"
            },
            {
                context: "Population Growth",
                example: "If population doubles every year: Year 0: P, Year 1: 2P, Year 2: 4P, Year n: 2‚ÅøP",
                explanation: "Exponential growth uses powers",
                icon: "üìà"
            },
            {
                context: "Scientific Measurements",
                example: "Speed of light = 3 √ó 10‚Å∏ m/s",
                explanation: "Very large numbers use scientific notation",
                icon: "‚ö°"
            },
            {
                context: "Tiny Measurements",
                example: "Width of human hair = 1 √ó 10‚Åª‚Å¥ m",
                explanation: "Very small numbers use negative exponents",
                icon: "üî¨"
            }
        ];

        // Square numbers
        const squareNumbers = [
            { number: 1, square: 1, fact: "1 is square of 1" },
            { number: 2, square: 4, fact: "4 is square of 2" },
            { number: 3, square: 9, fact: "9 is square of 3" },
            { number: 4, square: 16, fact: "16 is square of 4" },
            { number: 5, square: 25, fact: "25 is square of 5" },
            { number: 6, square: 36, fact: "36 is square of 6" },
            { number: 7, square: 49, fact: "49 is square of 7" },
            { number: 8, square: 64, fact: "64 is square of 8" },
            { number: 9, square: 81, fact: "81 is square of 9" },
            { number: 10, square: 100, fact: "100 is square of 10" }
        ];

        // Cube numbers
        const cubeNumbers = [
            { number: 1, cube: 1, fact: "1 is cube of 1" },
            { number: 2, cube: 8, fact: "8 is cube of 2" },
            { number: 3, cube: 27, fact: "27 is cube of 3" },
            { number: 4, cube: 64, fact: "64 is cube of 4" },
            { number: 5, cube: 125, fact: "125 is cube of 5" },
            { number: 6, cube: 216, fact: "216 is cube of 6" }
        ];

        // Standard form examples
        const standardFormExamples = [
            { ordinary: "300", standard: "3 √ó 10¬≤", explanation: "Move decimal 2 places right" },
            { ordinary: "4,500", standard: "4.5 √ó 10¬≥", explanation: "Move decimal 3 places right" },
            { ordinary: "67,000", standard: "6.7 √ó 10‚Å¥", explanation: "Move decimal 4 places right" },
            { ordinary: "0.03", standard: "3 √ó 10‚Åª¬≤", explanation: "Move decimal 2 places left" },
            { ordinary: "0.0045", standard: "4.5 √ó 10‚Åª¬≥", explanation: "Move decimal 3 places left" }
        ];

        // Exponent comparison
        const exponentComparison = [
            { expression: "2¬≥ vs 3¬≤", values: "8 vs 9", result: "3¬≤ is bigger" },
            { expression: "4¬≤ vs 2‚Å¥", values: "16 vs 16", result: "They are equal" },
            { expression: "5¬≤ vs 2‚Åµ", values: "25 vs 32", result: "2‚Åµ is bigger" },
            { expression: "10¬≤ vs 2¬π‚Å∞", values: "100 vs 1024", result: "2¬π‚Å∞ is much bigger" }
        ];

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const mathFact = document.getElementById('mathFact');
        const conceptDisplay = document.getElementById('conceptDisplay');
        const visualizationContainer = document.getElementById('visualizationContainer');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const highestScore = document.getElementById('highestScore');

        // Initialize the app
        function initApp() {
            initBackground();
            loadStateFromStorage();
            setupEventListeners();
            
            if (appState.studentName && appState.currentQuestions.length > 0) {
                showPracticePage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade7MathIndices');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
                appState.score = parsed.score || 0;
                appState.skipped = parsed.skipped || 0;
                appState.answered = parsed.answered || 0;
                appState.currentQuestions = parsed.currentQuestions || [];
                
                if (appState.currentQuestions.length === 0) {
                    initializeQuestions();
                }
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade7MathIndices', JSON.stringify(appState));
        }

        // Initialize and shuffle questions
        function initializeQuestions() {
            appState.currentQuestions = [...questions];
            shuffleArray(appState.currentQuestions);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            viewTopicsBtn.addEventListener('click', backToTopics);
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startPractice();
                }
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const totalQuestions = appState.currentQuestions.length;
            const percentage = Math.round((appState.score / totalQuestions) * 100);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            
            const highest = localStorage.getItem('ideolixGrade7MathIndices_highestScore') || 0;
            highestScore.textContent = Math.max(highest, appState.score);
            
            if (appState.score > highest) {
                localStorage.setItem('ideolixGrade7MathIndices_highestScore', appState.score);
            }
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're an indices and standard form expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Excellent! You have strong exponent skills!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Great work! You understand powers and scientific notation!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good job! Keep practicing index laws and standard form!";
            } else {
                scoreMessage.textContent = "Keep learning! Indices are the foundation of algebra!";
            }
        }

        // Create math fact display
        function createMathFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'math-fact';
            
            factDiv.innerHTML = `<strong>Amazing Math Fact:</strong> ${mathFacts[Math.floor(Math.random() * mathFacts.length)]}`;
            
            return factDiv;
        }

        // Create concept display
        function createConceptDisplay() {
            const display = document.createElement('div');
            display.className = 'concept-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            const conceptIcons = {
                "basic_powers": "üî¢",
                "powers_of_10": "üîü",
                "special_powers": "0Ô∏è‚É£",
                "standard_form_basics": "üìê",
                "index_laws_multiplication": "‚úñÔ∏è",
                "index_laws_division": "‚ûó",
                "power_of_power": "‚¨ÜÔ∏è",
                "negative_numbers": "‚ûñ",
                "comparing_powers": "‚öñÔ∏è",
                "applications": "üåç",
                "square_numbers": "‚óªÔ∏è",
                "cube_numbers": "üßä"
            };
            
            let conceptName = "Basic Powers";
            let conceptIcon = "üî¢";
            
            if (question.type.includes("basic_powers")) {
                conceptName = "Basic Powers";
                conceptIcon = conceptIcons.basic_powers;
            } else if (question.type.includes("powers_of_10")) {
                conceptName = "Powers of 10";
                conceptIcon = conceptIcons.powers_of_10;
            } else if (question.type.includes("special_powers")) {
                conceptName = "Special Powers";
                conceptIcon = conceptIcons.special_powers;
            } else if (question.type.includes("standard_form_basics")) {
                conceptName = "Standard Form";
                conceptIcon = conceptIcons.standard_form_basics;
            } else if (question.type.includes("index_laws_multiplication")) {
                conceptName = "Index Laws: Multiply";
                conceptIcon = conceptIcons.index_laws_multiplication;
            } else if (question.type.includes("index_laws_division")) {
                conceptName = "Index Laws: Divide";
                conceptIcon = conceptIcons.index_laws_division;
            } else if (question.type.includes("power_of_power")) {
                conceptName = "Power of a Power";
                conceptIcon = conceptIcons.power_of_power;
            } else if (question.type.includes("negative_numbers")) {
                conceptName = "Negative Bases";
                conceptIcon = conceptIcons.negative_numbers;
            } else if (question.type.includes("comparing_powers")) {
                conceptName = "Comparing Powers";
                conceptIcon = conceptIcons.comparing_powers;
            } else if (question.type.includes("applications")) {
                conceptName = "Real Applications";
                conceptIcon = conceptIcons.applications;
            } else if (question.type.includes("square_numbers")) {
                conceptName = "Square Numbers";
                conceptIcon = conceptIcons.square_numbers;
            } else if (question.type.includes("cube_numbers")) {
                conceptName = "Cube Numbers";
                conceptIcon = conceptIcons.cube_numbers;
            }
            
            const conceptBox = document.createElement('div');
            conceptBox.className = 'concept-box grow';
            conceptBox.innerHTML = `
                <div class="concept-icon">${conceptIcon}</div>
                <div class="concept-text">${conceptName.toUpperCase()}</div>
            `;
            
            const label = document.createElement('div');
            label.className = 'concept-label';
            
            if (question.type.includes("basic_powers")) {
                label.textContent = "Understanding exponents and powers";
            } else if (question.type.includes("powers_of_10")) {
                label.textContent = "Working with powers of ten";
            } else if (question.type.includes("special_powers")) {
                label.textContent = "Zero and one as exponents";
            } else if (question.type.includes("standard_form_basics")) {
                label.textContent = "Scientific notation for large/small numbers";
            } else if (question.type.includes("index_laws_multiplication")) {
                label.textContent = "Multiplying powers with same base";
            } else if (question.type.includes("index_laws_division")) {
                label.textContent = "Dividing powers with same base";
            } else if (question.type.includes("power_of_power")) {
                label.textContent = "Raising a power to another power";
            } else if (question.type.includes("negative_numbers")) {
                label.textContent = "Powers of negative numbers";
            } else if (question.type.includes("comparing_powers")) {
                label.textContent = "Comparing exponential expressions";
            } else if (question.type.includes("applications")) {
                label.textContent = "Real-world uses of indices";
            } else if (question.type.includes("square_numbers")) {
                label.textContent = "Numbers multiplied by themselves";
            } else if (question.type.includes("cube_numbers")) {
                label.textContent = "Numbers multiplied three times";
            }
            
            display.appendChild(conceptBox);
            display.appendChild(label);
            
            return display;
        }

        // Create math visualization
        function createMathVisualization() {
            const vizDiv = document.createElement('div');
            vizDiv.className = 'visualization-container';
            
            const randomBase = Math.floor(Math.random() * 9) + 2;
            const randomExponent = Math.floor(Math.random() * 5) + 2;
            const randomStandardForm = standardFormExamples[Math.floor(Math.random() * standardFormExamples.length)];
            const randomRealWorld = realWorldExamples[Math.floor(Math.random() * realWorldExamples.length)];
            
            vizDiv.innerHTML = `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-orange);">Indices & Standard Form Explorer</h3>
                
                <div class="indices-container power-glow">
                    <div class="display-title">Understanding Powers</div>
                    
                    <div class="power-display">
                        <div class="base">${randomBase}</div>
                        <div class="exponent">${randomExponent}</div>
                        <div class="equals">=</div>
                        <div class="result">${Math.pow(randomBase, randomExponent).toLocaleString()}</div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 15px; color: var(--text-secondary);">
                        ${randomBase}${superscript(randomExponent)} means ${generateExpansion(randomBase, randomExponent)}
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn btn-small btn-primary" onclick="showPowerExplanation(${randomBase}, ${randomExponent})">
                            Learn More About This Power
                        </button>
                    </div>
                </div>
                
                <div class="powers-container">
                    <div class="display-title">Powers of 10</div>
                    
                    <div class="powers-grid">
                        <div class="power-cell header">Power</div>
                        <div class="power-cell header">Expression</div>
                        <div class="power-cell header">Value</div>
                        <div class="power-cell header">Name</div>
                        <div class="power-cell header">Zeros</div>
                        
                        ${powersOfTen.slice(0, 8).map((power, idx) => `
                            <div class="power-cell" onclick="showPowerOfTen('${power.power}')">
                                <div class="power-expression">${power.power}</div>
                            </div>
                            <div class="power-cell">10${superscript(power.zeros)}</div>
                            <div class="power-cell">${power.value.toLocaleString()}</div>
                            <div class="power-cell">${power.name}</div>
                            <div class="power-cell">${power.zeros}</div>
                        `).join('')}
                    </div>
                    
                    <div style="text-align: center; margin-top: 15px; color: var(--text-secondary);">
                        Click on any power to learn more about it
                    </div>
                </div>
                
                <div class="standardform-container">
                    <div class="display-title">Standard Form (Scientific Notation)</div>
                    
                    <div class="standardform-display">
                        <span class="standardform-number">${randomStandardForm.standard.split('√ó')[0]}</span>
                        <span class="standardform-times">√ó</span>
                        <span class="standardform-ten">10</span>
                        <span class="standardform-power">${superscript(randomStandardForm.standard.split('√ó')[1].trim().slice(-1))}</span>
                    </div>
                    
                    <div class="standardform-expanded">
                        ${randomStandardForm.ordinary} = ${randomStandardForm.standard}
                        <br>${randomStandardForm.explanation}
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="convertToStandardForm()">Convert to Standard Form</button>
                            <button class="btn btn-small btn-secondary" onclick="convertFromStandardForm()">Convert from Standard Form</button>
                        </div>
                    </div>
                </div>
                
                <div class="laws-container">
                    <div class="display-title">Index Laws</div>
                    <div style="text-align: center; margin-bottom: 15px; color: var(--text-secondary);">
                        Click on laws to learn the rules
                    </div>
                    
                    <div class="laws-grid">
                        ${indexLaws.map((law, idx) => `
                            <div class="law-box ${law.name.toLowerCase().includes('multiplication') ? 'multiplication' : 
                                                  law.name.toLowerCase().includes('division') ? 'division' : 'power'}" 
                                 onclick="showIndexLaw('${law.name}')">
                                <div class="law-icon">${law.icon}</div>
                                <div class="law-name">${law.name}</div>
                                <div class="law-formula">${law.formula}</div>
                                <div class="law-example">Example: ${law.example}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="real-world-example" style="background: var(--dark-card); padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid var(--accent-teal);">
                    <div style="color: var(--accent-teal); font-weight: bold; margin-bottom: 10px; text-align: center;">
                        Real-World Application: ${randomRealWorld.context}
                    </div>
                    <div style="text-align: center; margin: 15px 0;">
                        <div style="font-size: 1.2rem; color: var(--primary-indigo); margin-bottom: 10px;">
                            ${randomRealWorld.example}
                        </div>
                        <div style="color: var(--text-secondary);">
                            ${randomRealWorld.explanation}
                        </div>
                    </div>
                    <div style="text-align: center; font-size: 3rem; margin-top: 10px;">
                        ${randomRealWorld.icon}
                    </div>
                </div>
                
                <table class="math-table">
                    <thead>
                        <tr>
                            <th>Number</th>
                            <th>Square (n¬≤)</th>
                            <th>Cube (n¬≥)</th>
                            <th>Fact</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${[1, 2, 3, 4, 5, 6].map((num, idx) => `
                            <tr>
                                <td style="font-weight: bold; color: var(--primary-indigo);">${num}</td>
                                <td>${num * num}</td>
                                <td>${num * num * num}</td>
                                <td style="color: var(--text-secondary); font-size: 0.9rem;">
                                    ${num}¬≤ = ${num * num}, ${num}¬≥ = ${num * num * num}
                                </td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
                
                <div class="exponent-calculator">
                    <div class="display-title">Exponent Calculator</div>
                    <div class="calculator-display" id="calcDisplay">0</div>
                    <div class="calculator-buttons">
                        <div class="calc-btn" onclick="calcInput('7')">7</div>
                        <div class="calc-btn" onclick="calcInput('8')">8</div>
                        <div class="calc-btn" onclick="calcInput('9')">9</div>
                        <div class="calc-btn power" onclick="calcInput('^')">^</div>
                        <div class="calc-btn" onclick="calcInput('4')">4</div>
                        <div class="calc-btn" onclick="calcInput('5')">5</div>
                        <div class="calc-btn" onclick="calcInput('6')">6</div>
                        <div class="calc-btn operation" onclick="calcInput('*')">√ó</div>
                        <div class="calc-btn" onclick="calcInput('1')">1</div>
                        <div class="calc-btn" onclick="calcInput('2')">2</div>
                        <div class="calc-btn" onclick="calcInput('3')">3</div>
                        <div class="calc-btn operation" onclick="calcInput('/')">√∑</div>
                        <div class="calc-btn" onclick="calcInput('0')">0</div>
                        <div class="calc-btn" onclick="calcInput('.')">.</div>
                        <div class="calc-btn clear" onclick="clearCalc()">C</div>
                        <div class="calc-btn operation" onclick="calcInput('(')">(</div>
                        <div class="calc-btn operation" onclick="calcInput(')')">)</div>
                        <div class="calc-btn operation" onclick="calcInput('+')">+</div>
                        <div class="calc-btn operation" onclick="calcInput('-')">-</div>
                        <div class="calc-btn equals" onclick="calculate()" style="grid-column: span 4;">=</div>
                    </div>
                </div>
                
                <div class="interactive-practice">
                    <div class="practice-title">Interactive Indices Practice</div>
                    <div class="practice-controls">
                        <div class="practice-button" onclick="calculatePowers()">Calculate Powers</div>
                        <div class="practice-button" onclick="simplifyIndices()">Simplify Indices</div>
                        <div class="practice-button" onclick="standardFormPractice()">Standard Form</div>
                        <div class="practice-button" onclick="comparePowers()">Compare Powers</div>
                    </div>
                    <div class="practice-display" id="practiceDisplay">
                        Click buttons above to practice indices skills
                    </div>
                </div>
                
                <div style="background: var(--dark-card); padding: 15px; border-radius: 8px; margin-top: 20px; border-left: 4px solid var(--accent-orange);">
                    <div style="color: var(--accent-orange); font-weight: bold; margin-bottom: 10px;">Quick Indices Practice:</div>
                    <div style="color: var(--text-secondary); font-size: 0.9rem;">
                        1. What is 4¬≥?<br>
                        2. Write 5,000 in standard form.<br>
                        3. Simplify: 3‚Å¥ √ó 3¬≤<br>
                        4. What is 10‚Å∞?<br>
                        5. Which is greater: 2‚Åµ or 5¬≤?
                    </div>
                </div>
                
                <div style="background: var(--dark-card); padding: 15px; border-radius: 8px; margin-top: 20px; border: 2px solid var(--primary-indigo);">
                    <div style="color: var(--primary-indigo); font-weight: bold; margin-bottom: 10px; text-align: center;">Indices Rules Quick Reference</div>
                    <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">
                        <strong>Multiplication:</strong> a·µê √ó a‚Åø = a·µê‚Å∫‚Åø<br>
                        <strong>Division:</strong> a·µê √∑ a‚Åø = a·µê‚Åª‚Åø<br>
                        <strong>Power of Power:</strong> (a·µê)‚Åø = a·µê‚Åø<br>
                        <strong>Zero Exponent:</strong> a‚Å∞ = 1 (a ‚â† 0)<br>
                        <strong>One Exponent:</strong> a¬π = a
                    </div>
                </div>
                
                <div class="comparison-chart" style="background: var(--dark-card); padding: 20px; border-radius: 8px; margin-top: 20px; border: 2px solid var(--secondary-amber);">
                    <div class="display-title">Power Comparison Examples</div>
                    <div style="text-align: center; margin-bottom: 15px; color: var(--text-secondary);">
                        Which power gives a larger result?
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 20px 0;">
                        ${exponentComparison.map((comparison, idx) => `
                            <div class="comparison-box" onclick="showPowerComparison('${comparison.expression}')" 
                                 style="background: var(--dark-surface); padding: 15px; border-radius: 8px; text-align: center; cursor: pointer;">
                                <div style="font-weight: bold; color: var(--secondary-amber); margin-bottom: 5px;">${comparison.expression}</div>
                                <div style="color: var(--text-primary);">${comparison.values}</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 5px;">${comparison.result}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            return vizDiv;
        }

        // Helper functions
        function superscript(num) {
            const superscripts = ['‚Å∞', '¬π', '¬≤', '¬≥', '‚Å¥', '‚Åµ', '‚Å∂', '‚Å∑', '‚Å∏', '‚Åπ'];
            if (num < 10) return superscripts[num];
            return num.toString().split('').map(d => superscripts[parseInt(d)]).join('');
        }

        function generateExpansion(base, exponent) {
            let expansion = '';
            for (let i = 0; i < exponent; i++) {
                expansion += base;
                if (i < exponent - 1) {
                    expansion += ' √ó ';
                }
            }
            return expansion;
        }

        // Global functions for interactive practice
        window.showPowerExplanation = function(base, exponent) {
            const result = Math.pow(base, exponent);
            let explanation = `${base}${superscript(exponent)} = ${result.toLocaleString()}\n\n`;
            explanation += `This means: ${base} multiplied by itself ${exponent} times\n\n`;
            explanation += `Expanded form: ${generateExpansion(base, exponent)}\n\n`;
            
            if (exponent === 2) {
                explanation += `This is a square number. ${base}¬≤ = ${result}`;
            } else if (exponent === 3) {
                explanation += `This is a cube number. ${base}¬≥ = ${result}`;
            } else if (base === 10) {
                explanation += `This is a power of 10. 10${superscript(exponent)} = 1 followed by ${exponent} zeros`;
            }
            
            alert(explanation);
        };

        window.showPowerOfTen = function(power) {
            const powerInfo = powersOfTen.find(p => p.power === power);
            if (!powerInfo) return;
            
            let info = `${powerInfo.power} = ${powerInfo.value.toLocaleString()}\n\n`;
            info += `Name: ${powerInfo.name}\n`;
            info += `Number of zeros: ${powerInfo.zeros}\n\n`;
            info += `Examples:\n`;
            info += `‚Ä¢ ${powerInfo.value.toLocaleString()} millimeters = ${(powerInfo.value / 1000).toLocaleString()} meters\n`;
            info += `‚Ä¢ ${powerInfo.value.toLocaleString()} grams = ${(powerInfo.value / 1000).toLocaleString()} kilograms\n`;
            info += `‚Ä¢ Population of ${powerInfo.name.toLowerCase()} city\n\n`;
            info += `Standard form: ${powerInfo.value} = ${powerInfo.value.toExponential()}`;
            
            alert(info);
        };

        window.convertToStandardForm = function() {
            const randomNumber = Math.floor(Math.random() * 900000) + 100000;
            const userAnswer = prompt(`Convert ${randomNumber.toLocaleString()} to standard form:\n(Format: a √ó 10‚Åø where 1 ‚â§ a < 10)`);
            
            if (userAnswer === null) return;
            
            const scientific = randomNumber.toExponential(2);
            const parts = scientific.split('e');
            const correctAnswer = `${parseFloat(parts[0]).toFixed(2)} √ó 10${superscript(parseInt(parts[1]))}`;
            
            if (userAnswer.replace(/\s/g, '') === correctAnswer.replace(/\s/g, '')) {
                alert(`Correct! ${randomNumber.toLocaleString()} = ${correctAnswer}`);
            } else {
                alert(`The correct answer is: ${correctAnswer}\n\nRemember: Standard form is a √ó 10‚Åø where 1 ‚â§ a < 10`);
            }
        };

        window.convertFromStandardForm = function() {
            const randomExponent = Math.floor(Math.random() * 6) + 3;
            const randomCoefficient = (Math.random() * 9 + 1).toFixed(1);
            const standardForm = `${randomCoefficient} √ó 10${superscript(randomExponent)}`;
            const actualValue = parseFloat(randomCoefficient) * Math.pow(10, randomExponent);
            
            const userAnswer = prompt(`Convert ${standardForm} to ordinary number:`);
            
            if (userAnswer === null) return;
            
            const userNumber = parseFloat(userAnswer.replace(/,/g, ''));
            
            if (Math.abs(userNumber - actualValue) < 0.1) {
                alert(`Correct! ${standardForm} = ${actualValue.toLocaleString()}`);
            } else {
                alert(`The correct answer is: ${actualValue.toLocaleString()}\n\nRemember: Multiply the coefficient by 10 raised to the exponent`);
            }
        };

        window.showIndexLaw = function(lawName) {
            const law = indexLaws.find(l => l.name === lawName);
            if (!law) return;
            
            let info = `${law.name}\n\n`;
            info += `Formula: ${law.formula}\n\n`;
            info += `Explanation: ${law.explanation}\n\n`;
            info += `Example: ${law.example}\n\n`;
            info += `Why it works:\n`;
            
            if (lawName.includes('Multiplication')) {
                info += `a¬≥ √ó a¬≤ = (a√óa√óa) √ó (a√óa) = a√óa√óa√óa√óa = a‚Åµ\n`;
                info += `Count the total number of a's: 3 + 2 = 5`;
            } else if (lawName.includes('Division')) {
                info += `a‚Åµ √∑ a¬≤ = (a√óa√óa√óa√óa) √∑ (a√óa) = a√óa√óa = a¬≥\n`;
                info += `Cancel 2 a's from top and bottom, leaving 5 - 2 = 3 a's`;
            } else if (lawName.includes('Power of a Power')) {
                info += `(a¬≤)¬≥ = a¬≤ √ó a¬≤ √ó a¬≤ = (a√óa) √ó (a√óa) √ó (a√óa) = a‚Å∂\n`;
                info += `Multiply a√óa three times = total 2 √ó 3 = 6 a's`;
            } else if (lawName.includes('Zero')) {
                info += `a¬≥ √∑ a¬≥ = 1 (same number divided by itself)\n`;
                info += `Using division law: a¬≥‚Åª¬≥ = a‚Å∞ = 1`;
            } else if (lawName.includes('One')) {
                info += `a¬π means just one a, which is a itself`;
            }
            
            alert(info);
        };

        window.showPowerComparison = function(expression) {
            const comparison = exponentComparison.find(c => c.expression === expression);
            if (!comparison) return;
            
            const [left, right] = expression.split(' vs ');
            
            alert(`${expression}\n\n${comparison.values}\n\n${comparison.result}\n\nWhy?\n${getComparisonReason(left, right)}`);
        };

        function getComparisonReason(left, right) {
            const leftValue = eval(left.replace('¬≤', '**2').replace('¬≥', '**3').replace('‚Å¥', '**4').replace('‚Åµ', '**5'));
            const rightValue = eval(right.replace('¬≤', '**2').replace('¬≥', '**3').replace('‚Å¥', '**4').replace('‚Åµ', '**5'));
            
            if (leftValue === rightValue) {
                return `Both expressions equal ${leftValue}`;
            } else if (leftValue > rightValue) {
                return `${left} = ${leftValue} which is greater than ${right} = ${rightValue}`;
            } else {
                return `${right} = ${rightValue} which is greater than ${left} = ${leftValue}`;
            }
        }

        // Calculator functions
        let calcExpression = '0';
        let lastResult = null;

        window.calcInput = function(input) {
            const display = document.getElementById('calcDisplay');
            
            if (calcExpression === '0' && !isNaN(input)) {
                calcExpression = input;
            } else if (input === '^') {
                calcExpression += '**';
            } else {
                calcExpression += input;
            }
            
            display.textContent = calcExpression;
        };

        window.clearCalc = function() {
            calcExpression = '0';
            lastResult = null;
            document.getElementById('calcDisplay').textContent = calcExpression;
        };

        window.calculate = function() {
            const display = document.getElementById('calcDisplay');
            
            try {
                // Replace √ó with * for evaluation
                let expression = calcExpression.replace(/√ó/g, '*').replace(/√∑/g, '/');
                
                // Evaluate safely
                const result = eval(expression);
                
                if (isNaN(result) || !isFinite(result)) {
                    display.textContent = "Error";
                } else {
                    lastResult = result;
                    calcExpression = result.toString();
                    display.textContent = result;
                    
                    // Show explanation for exponent operations
                    if (calcExpression.includes('**')) {
                        showExponentExplanation(expression, result);
                    }
                }
            } catch (error) {
                display.textContent = "Error";
            }
        };

        function showExponentExplanation(expression, result) {
            const parts = expression.split('**');
            if (parts.length === 2) {
                const base = parts[0].trim();
                const exponent = parts[1].trim();
                
                let explanation = `${base}${superscript(parseInt(exponent))} = ${result}\n\n`;
                explanation += `This means: ${base} multiplied by itself ${exponent} times\n\n`;
                
                if (exponent === '0') {
                    explanation += `Any non-zero number to power 0 equals 1`;
                } else if (exponent === '1') {
                    explanation += `Any number to power 1 equals itself`;
                } else if (exponent === '2') {
                    explanation += `This is called squaring: ${base}¬≤`;
                } else if (exponent === '3') {
                    explanation += `This is called cubing: ${base}¬≥`;
                }
                
                setTimeout(() => alert(explanation), 300);
            }
        }

        // Interactive practice functions
        window.calculatePowers = function() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            const problems = [
                { problem: "2‚Å¥", answer: "16", explanation: "2 √ó 2 √ó 2 √ó 2 = 16" },
                { problem: "3¬≥", answer: "27", explanation: "3 √ó 3 √ó 3 = 27" },
                { problem: "5¬≤", answer: "25", explanation: "5 √ó 5 = 25" },
                { problem: "10¬≥", answer: "1000", explanation: "10 √ó 10 √ó 10 = 1000" }
            ];
            
            const currentProblem = problems[Math.floor(Math.random() * problems.length)];
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--primary-indigo);">Calculate Powers</div>
                    <div style="font-size: 2.5rem; margin-bottom: 15px; font-weight: bold; color: var(--text-primary); font-family: 'Courier New', monospace;">
                        ${currentProblem.problem} = ?
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 20px 0;">
                        ${[
                            currentProblem.answer,
                            (parseInt(currentProblem.answer) * 2).toString(),
                            (parseInt(currentProblem.answer) / 2).toString(),
                            Math.pow(parseInt(currentProblem.problem[0]), parseInt(currentProblem.problem[1]) + 1).toString()
                        ].map((option, idx) => `
                            <div class="option" onclick="checkPowerCalculation(this, '${option}', '${currentProblem.answer}')">
                                <div class="option-letter">${String.fromCharCode(65 + idx)}</div>
                                <div class="option-text">${option}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div id="powerCalculationResult" style="margin-top: 20px; min-height: 30px; font-weight: bold;"></div>
                </div>
            `;
            
            window.currentPowerExplanation = currentProblem.explanation;
        };

        window.checkPowerCalculation = function(element, selectedAnswer, correctAnswer) {
            const resultDiv = document.getElementById('powerCalculationResult');
            if (!resultDiv) return;
            
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            if (selectedAnswer === correctAnswer) {
                element.classList.add('correct');
                resultDiv.textContent = `Correct! ${window.currentPowerExplanation}`;
                resultDiv.style.color = 'var(--primary-indigo)';
            } else {
                element.classList.add('incorrect');
                // Find and highlight correct option
                options.forEach(opt => {
                    if (opt.querySelector('.option-text').textContent === correctAnswer) {
                        opt.classList.add('correct');
                    }
                });
                resultDiv.textContent = `Incorrect. Answer is ${correctAnswer}. ${window.currentPowerExplanation}`;
                resultDiv.style.color = 'var(--accent-orange)';
            }
            
            resultDiv.classList.add('pulse');
            setTimeout(() => resultDiv.classList.remove('pulse'), 500);
        };

        window.simplifyIndices = function() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            const problems = [
                { problem: "2¬≥ √ó 2¬≤", answer: "2‚Åµ", explanation: "Add exponents: 3 + 2 = 5" },
                { problem: "5‚Å¥ √∑ 5¬≤", answer: "5¬≤", explanation: "Subtract exponents: 4 - 2 = 2" },
                { problem: "(3¬≤)¬≥", answer: "3‚Å∂", explanation: "Multiply exponents: 2 √ó 3 = 6" },
                { problem: "7‚Åµ √ó 7‚Å∞", answer: "7‚Åµ", explanation: "7‚Å∞ = 1, so 7‚Åµ √ó 1 = 7‚Åµ" }
            ];
            
            const currentProblem = problems[Math.floor(Math.random() * problems.length)];
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--accent-green);">Simplify Indices</div>
                    <div style="font-size: 2rem; margin-bottom: 15px; font-weight: bold; color: var(--text-primary); font-family: 'Courier New', monospace;">
                        ${currentProblem.problem} = ?
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 20px 0;">
                        ${[
                            currentProblem.answer,
                            currentProblem.answer.replace('¬≤', '¬≥').replace('‚Åµ', '‚Å∂'),
                            currentProblem.answer.replace(currentProblem.answer[0], (parseInt(currentProblem.answer[0]) + 1).toString()),
                            currentProblem.answer.replace(currentProblem.answer[1], (parseInt(currentProblem.answer[1]) + 1).toString())
                        ].map((option, idx) => `
                            <div class="option" onclick="checkIndicesSimplification(this, '${option}', '${currentProblem.answer}')">
                                <div class="option-letter">${String.fromCharCode(65 + idx)}</div>
                                <div class="option-text" style="font-family: 'Courier New', monospace;">${option}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div id="indicesSimplificationResult" style="margin-top: 20px; min-height: 30px; font-weight: bold;"></div>
                </div>
            `;
            
            window.currentIndicesExplanation = currentProblem.explanation;
        };

        window.checkIndicesSimplification = function(element, selectedAnswer, correctAnswer) {
            const resultDiv = document.getElementById('indicesSimplificationResult');
            if (!resultDiv) return;
            
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            if (selectedAnswer === correctAnswer) {
                element.classList.add('correct');
                resultDiv.textContent = `Correct! ${window.currentIndicesExplanation}`;
                resultDiv.style.color = 'var(--primary-indigo)';
            } else {
                element.classList.add('incorrect');
                // Find and highlight correct option
                options.forEach(opt => {
                    if (opt.querySelector('.option-text').textContent === correctAnswer) {
                        opt.classList.add('correct');
                    }
                });
                resultDiv.textContent = `Incorrect. Answer is ${correctAnswer}. ${window.currentIndicesExplanation}`;
                resultDiv.style.color = 'var(--accent-orange)';
            }
            
            resultDiv.classList.add('pulse');
            setTimeout(() => resultDiv.classList.remove('pulse'), 500);
        };

        window.standardFormPractice = function() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            const problems = [
                { number: "45,000", answer: "4.5 √ó 10‚Å¥", explanation: "Move decimal 4 places right" },
                { number: "3,000", answer: "3 √ó 10¬≥", explanation: "Move decimal 3 places right" },
                { number: "720,000", answer: "7.2 √ó 10‚Åµ", explanation: "Move decimal 5 places right" },
                { number: "0.003", answer: "3 √ó 10‚Åª¬≥", explanation: "Move decimal 3 places left" }
            ];
            
            const currentProblem = problems[Math.floor(Math.random() * problems.length)];
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--secondary-amber);">Standard Form Practice</div>
                    <div style="font-size: 1.8rem; margin-bottom: 15px; font-weight: bold; color: var(--text-primary);">
                        ${currentProblem.number}
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <div style="color: var(--accent-blue); font-weight: bold; margin-bottom: 10px;">
                            Write in standard form:
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr; gap: 10px; margin: 20px 0;">
                        ${[
                            currentProblem.answer,
                            currentProblem.answer.replace('10‚Å¥', '10¬≥').replace('10‚Åµ', '10‚Å¥').replace('10‚Åª¬≥', '10‚Åª¬≤'),
                            currentProblem.answer.replace('4.5', '45').replace('7.2', '72').replace('3', '30'),
                            currentProblem.answer.replace('√ó 10', '√ó 100')
                        ].map((option, idx) => `
                            <div class="option" onclick="checkStandardForm(this, '${option}', '${currentProblem.answer}')">
                                <div class="option-letter">${String.fromCharCode(65 + idx)}</div>
                                <div class="option-text" style="font-family: 'Courier New', monospace;">${option}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div id="standardFormResult" style="margin-top: 20px; min-height: 30px; font-weight: bold;"></div>
                </div>
            `;
            
            window.currentStandardFormExplanation = currentProblem.explanation;
        };

        window.checkStandardForm = function(element, selectedAnswer, correctAnswer) {
            const resultDiv = document.getElementById('standardFormResult');
            if (!resultDiv) return;
            
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            if (selectedAnswer === correctAnswer) {
                element.classList.add('correct');
                resultDiv.textContent = `Correct! ${window.currentStandardFormExplanation}`;
                resultDiv.style.color = 'var(--primary-indigo)';
            } else {
                element.classList.add('incorrect');
                // Find and highlight correct option
                options.forEach(opt => {
                    if (opt.querySelector('.option-text').textContent === correctAnswer) {
                        opt.classList.add('correct');
                    }
                });
                resultDiv.textContent = `Incorrect. Answer is ${correctAnswer}. ${window.currentStandardFormExplanation}`;
                resultDiv.style.color = 'var(--accent-orange)';
            }
            
            resultDiv.classList.add('pulse');
            setTimeout(() => resultDiv.classList.remove('pulse'), 500);
        };

        window.comparePowers = function() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            const problems = [
                { a: "2¬≥", b: "3¬≤", answer: "B", explanation: "2¬≥ = 8, 3¬≤ = 9, so 3¬≤ is bigger" },
                { a: "4¬≤", b: "2‚Å¥", answer: "C", explanation: "4¬≤ = 16, 2‚Å¥ = 16, so they are equal" },
                { a: "5¬≤", b: "2‚Åµ", answer: "B", explanation: "5¬≤ = 25, 2‚Åµ = 32, so 2‚Åµ is bigger" },
                { a: "10¬≤", b: "2¬π‚Å∞", answer: "B", explanation: "10¬≤ = 100, 2¬π‚Å∞ = 1024, so 2¬π‚Å∞ is bigger" }
            ];
            
            const currentProblem = problems[Math.floor(Math.random() * problems.length)];
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--accent-purple);">Compare Powers</div>
                    <div style="font-size: 2rem; margin-bottom: 15px; font-weight: bold; color: var(--text-primary); font-family: 'Courier New', monospace;">
                        ${currentProblem.a} vs ${currentProblem.b}
                    </div>
                    
                    <div style="margin: 20px 0; color: var(--text-secondary);">
                        Which is larger, or are they equal?
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin: 20px 0;">
                        <div class="option" onclick="checkPowerComparisonResult(this, 'A', '${currentProblem.answer}', '${currentProblem.a}', '${currentProblem.b}')">
                            <div class="option-letter">A</div>
                            <div class="option-text">${currentProblem.a} is larger</div>
                        </div>
                        <div class="option" onclick="checkPowerComparisonResult(this, 'B', '${currentProblem.answer}', '${currentProblem.a}', '${currentProblem.b}')">
                            <div class="option-letter">B</div>
                            <div class="option-text">${currentProblem.b} is larger</div>
                        </div>
                        <div class="option" onclick="checkPowerComparisonResult(this, 'C', '${currentProblem.answer}', '${currentProblem.a}', '${currentProblem.b}')">
                            <div class="option-letter">C</div>
                            <div class="option-text">They are equal</div>
                        </div>
                    </div>
                    
                    <div id="powerComparisonResult" style="margin-top: 20px; min-height: 30px; font-weight: bold;"></div>
                </div>
            `;
            
            window.currentPowerComparisonExplanation = currentProblem.explanation;
        };

        window.checkPowerComparisonResult = function(element, selectedAnswer, correctAnswer, a, b) {
            const resultDiv = document.getElementById('powerComparisonResult');
            if (!resultDiv) return;
            
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            if (selectedAnswer === correctAnswer) {
                element.classList.add('correct');
                resultDiv.textContent = `Correct! ${window.currentPowerComparisonExplanation}`;
                resultDiv.style.color = 'var(--primary-indigo)';
            } else {
                element.classList.add('incorrect');
                // Find and highlight correct option
                options.forEach(opt => {
                    if (opt.querySelector('.option-letter').textContent === correctAnswer) {
                        opt.classList.add('correct');
                    }
                });
                resultDiv.textContent = `Incorrect. ${window.currentPowerComparisonExplanation}`;
                resultDiv.style.color = 'var(--accent-orange)';
            }
            
            resultDiv.classList.add('pulse');
            setTimeout(() => resultDiv.classList.remove('pulse'), 500);
        };

        // Load current question
        function loadQuestion() {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${appState.currentQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / appState.currentQuestions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            mathFact.innerHTML = '';
            conceptDisplay.innerHTML = '';
            visualizationContainer.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            mathFact.appendChild(createMathFact());
            conceptDisplay.appendChild(createConceptDisplay());
            visualizationContainer.appendChild(createMathVisualization());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation, question.answer);
            }
            
            nextQuestionBtn.disabled = false;
            saveStateToStorage();
        }

        // Show feedback
        function showFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    const correctOption = String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65));
                    const correctText = questions.find(q => 
                        appState.currentQuestions[appState.currentQuestionIndex].question === q.question
                    )?.options[correctAnswer.charCodeAt(0) - 65];
                    
                    feedbackMessage.textContent = `Correct answer: ${correctOption} (${correctText})`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Move to next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions();
            
            saveStateToStorage();
            showPracticePage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            alert("In a complete implementation, this would navigate to the topics selection page.");
        }

        // Start practice session
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            if (appState.currentQuestions.length === 0) {
                initializeQuestions();
            }
            
            saveStateToStorage();
            showPracticePage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
