<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 3 Science - Human Body & Senses | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Dark Theme */
        :root {
            --primary-green: #00C853;
            --secondary-orange: #FF6D00;
            --accent-purple: #7C4DFF;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(0, 200, 83, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Slideshow */
        .slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(0, 200, 83, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-green);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 200, 83, 0.4);
        }

        .btn-primary:hover {
            background: #00B248;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 200, 83, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-orange);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 109, 0, 0.4);
        }

        .btn-secondary:hover {
            background: #E65C00;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 109, 0, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-green);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Topic Selection Page */
        .topics-page {
            display: none;
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .topic-card {
            background: var(--dark-surface);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }

        .topic-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-green);
            box-shadow: var(--shadow), var(--glow);
        }

        .topic-icon {
            width: 60px;
            height: 60px;
            margin-bottom: 15px;
            border-radius: 12px;
            background: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }

        .topic-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .topic-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Learning Content Page */
        .learning-page {
            display: none;
        }

        .content-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--primary-green);
            border-bottom: 2px solid var(--primary-green);
            padding-bottom: 10px;
        }

        .concept-explanation {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 4px solid var(--accent-purple);
        }

        .concept-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .concept-description {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .characteristics-list {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .characteristic-item {
            margin-bottom: 8px;
            padding-left: 10px;
            border-left: 2px solid var(--secondary-orange);
        }

        /* Body Systems */
        .body-systems {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .body-system-card {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .body-system-card:hover {
            transform: translateY(-3px);
            border-color: var(--primary-green);
            box-shadow: 0 5px 15px rgba(0, 200, 83, 0.3);
        }

        .system-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .system-icon {
            font-size: 2.5rem;
            margin-right: 15px;
        }

        .system-title {
            font-size: 1.3rem;
            color: var(--text-primary);
        }

        .system-functions {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* Body Parts Diagram */
        .body-diagram {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
        }

        .diagram-container {
            position: relative;
            max-width: 400px;
            margin: 0 auto;
            height: 400px;
        }

        .body-part {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 8px 12px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid transparent;
        }

        .body-part:hover {
            background: rgba(0, 200, 83, 0.2);
            border-color: var(--primary-green);
            transform: scale(1.05);
        }

        .body-part.active {
            background: rgba(0, 200, 83, 0.3);
            border-color: var(--primary-green);
        }

        .part-info {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .part-info.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .part-title {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: var(--primary-green);
        }

        .part-function {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Senses Activity */
        .senses-activity {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .senses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .sense-card {
            background: var(--dark-card);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 150px;
        }

        .sense-card:hover {
            border-color: var(--accent-purple);
            transform: translateY(-3px);
        }

        .sense-card.active {
            border-color: var(--primary-green);
            background: rgba(0, 200, 83, 0.1);
        }

        .sense-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .sense-name {
            font-size: 1.1rem;
            font-weight: 500;
        }

        .sense-description {
            margin-top: 15px;
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.4;
            display: none;
        }

        .sense-card.active .sense-description {
            display: block;
        }

        /* Matching Activity */
        .matching-activity {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .matching-pairs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 768px) {
            .matching-pairs {
                grid-template-columns: 1fr;
            }
        }

        .matching-item {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
            text-align: center;
        }

        .matching-item:hover {
            border-color: var(--secondary-orange);
        }

        .matching-item.matched {
            background: rgba(0, 200, 83, 0.1);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        /* Quiz Section */
        .quiz-section {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-green);
            background: rgba(0, 200, 83, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(0, 200, 83, 0.1);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-bg);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
        }

        .option.correct .option-letter {
            background: var(--primary-green);
            color: white;
        }

        .option.incorrect .option-letter {
            background: #F44336;
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            display: none;
        }

        .feedback-correct {
            background: rgba(0, 200, 83, 0.1);
            border-left: 5px solid var(--primary-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-green);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-green);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
        }

        /* Progress Tracking */
        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-green), var(--secondary-orange));
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(0, 200, 83, 0.5);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-green);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Science Facts */
        .science-facts {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
        }

        .facts-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary-green);
        }

        .facts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .fact-card {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid var(--accent-purple);
        }

        .fact-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .fact-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .topics-grid {
                grid-template-columns: 1fr;
            }
            
            .body-systems {
                grid-template-columns: 1fr;
            }
            
            .senses-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .facts-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        .bounce {
            animation: bounce 1s;
        }

        /* Special styling for science content */
        .science-example {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--accent-purple);
            line-height: 1.6;
        }

        .skeletal-example {
            border-left-color: #FF4081;
        }

        .muscular-example {
            border-left-color: #00B0FF;
        }

        .digestive-example {
            border-left-color: #00C853;
        }

        .respiratory-example {
            border-left-color: #FFC400;
        }

        .circulatory-example {
            border-left-color: #7C4DFF;
        }

        .nervous-example {
            border-left-color: #FF6D00;
        }

        .highlight {
            background-color: rgba(255, 215, 0, 0.2);
            padding: 2px 4px;
            border-radius: 4px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Background Slideshow -->
    <div class="slideshow" id="slideshow">
        <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1559757148-5c350d0d3c56?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1559757175-0eb30cd8c063?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 3 Science - Human Body & Senses</h1>
            <p class="welcome-subtitle">Discover the amazing human body! Learn about different body systems, organs, and how our five senses help us experience the world around us.</p>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startLearning">
                    <span>Start Exploring</span>
                </button>
            </div>
        </div>

        <!-- Topics Selection Page -->
        <div class="topics-page card fade-in" id="topicsPage">
            <h2 class="welcome-title">Science Learning Activities</h2>
            <p class="welcome-subtitle">Choose a topic to explore the amazing human body and senses.</p>
            
            <div class="topics-grid">
                <div class="topic-card" data-topic="body">
                    <div class="topic-icon">ü¶¥</div>
                    <h3 class="topic-title">Body Systems</h3>
                    <p class="topic-description">Learn about the skeletal, muscular, digestive, respiratory, circulatory, and nervous systems.</p>
                </div>
                
                <div class="topic-card" data-topic="senses">
                    <div class="topic-icon">üëÅÔ∏è</div>
                    <h3 class="topic-title">Five Senses</h3>
                    <p class="topic-description">Discover how our senses of sight, hearing, smell, taste, and touch help us experience the world.</p>
                </div>
                
                <div class="topic-card" data-topic="quiz">
                    <div class="topic-icon">üß†</div>
                    <h3 class="topic-title">Knowledge Challenge</h3>
                    <p class="topic-description">Test your knowledge about the human body and senses with fun interactive quizzes.</p>
                </div>
            </div>
        </div>

        <!-- Learning Content Page -->
        <div class="learning-page card fade-in" id="learningPage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Section 1 of 3</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 33%"></div>
                </div>
            </div>

            <!-- Body Systems Section -->
            <div class="content-section" id="bodySystems">
                <h2 class="section-title">Human Body Systems</h2>
                
                <div class="concept-explanation">
                    <h3 class="concept-title">How Our Body Works Together</h3>
                    <p class="concept-description">Our body is made up of different systems that work together to keep us alive and healthy. Each system has special jobs to do.</p>
                    
                    <div class="science-example">
                        <p><strong>Main Body Systems:</strong> skeletal, muscular, digestive, respiratory, circulatory, and nervous systems</p>
                    </div>
                </div>

                <div class="body-systems">
                    <!-- Skeletal System -->
                    <div class="body-system-card">
                        <div class="system-header">
                            <div class="system-icon">ü¶¥</div>
                            <h3 class="system-title">Skeletal System</h3>
                        </div>
                        <p class="system-functions">
                            <strong>Functions:</strong> Supports our body, protects organs, helps us move, makes blood cells
                            <br><strong>Parts:</strong> Bones, joints, cartilage
                        </p>
                    </div>

                    <!-- Muscular System -->
                    <div class="body-system-card">
                        <div class="system-header">
                            <div class="system-icon">üí™</div>
                            <h3 class="system-title">Muscular System</h3>
                        </div>
                        <p class="system-functions">
                            <strong>Functions:</strong> Helps us move, maintains posture, produces heat
                            <br><strong>Parts:</strong> Muscles, tendons
                        </p>
                    </div>

                    <!-- Digestive System -->
                    <div class="body-system-card">
                        <div class="system-header">
                            <div class="system-icon">üçé</div>
                            <h3 class="system-title">Digestive System</h3>
                        </div>
                        <p class="system-functions">
                            <strong>Functions:</strong> Breaks down food, absorbs nutrients, eliminates waste
                            <br><strong>Parts:</strong> Mouth, stomach, intestines, liver
                        </p>
                    </div>

                    <!-- Respiratory System -->
                    <div class="body-system-card">
                        <div class="system-header">
                            <div class="system-icon">ü´Å</div>
                            <h3 class="system-title">Respiratory System</h3>
                        </div>
                        <p class="system-functions">
                            <strong>Functions:</strong> Brings oxygen into body, removes carbon dioxide
                            <br><strong>Parts:</strong> Nose, trachea, lungs, diaphragm
                        </p>
                    </div>

                    <!-- Circulatory System -->
                    <div class="body-system-card">
                        <div class="system-header">
                            <div class="system-icon">‚ù§Ô∏è</div>
                            <h3 class="system-title">Circulatory System</h3>
                        </div>
                        <p class="system-functions">
                            <strong>Functions:</strong> Moves blood through body, delivers oxygen and nutrients
                            <br><strong>Parts:</strong> Heart, blood vessels, blood
                        </p>
                    </div>

                    <!-- Nervous System -->
                    <div class="body-system-card">
                        <div class="system-header">
                            <div class="system-icon">üß†</div>
                            <h3 class="system-title">Nervous System</h3>
                        </div>
                        <p class="system-functions">
                            <strong>Functions:</strong> Controls body functions, sends and receives messages
                            <br><strong>Parts:</strong> Brain, spinal cord, nerves
                        </p>
                    </div>
                </div>

                <div class="body-diagram">
                    <h3>Interactive Body Diagram</h3>
                    <p>Click on each body part to learn about its function!</p>
                    
                    <div class="diagram-container">
                        <!-- Body parts will be positioned by JavaScript -->
                        <div class="body-part" id="brain-part" data-part="brain" style="top: 50px; left: 50%; transform: translateX(-50%);">
                            Brain üß†
                        </div>
                        <div class="body-part" id="heart-part" data-part="heart" style="top: 150px; left: 50%; transform: translateX(-50%);">
                            Heart ‚ù§Ô∏è
                        </div>
                        <div class="body-part" id="lungs-part" data-part="lungs" style="top: 200px; left: 40%;">
                            Lungs ü´Å
                        </div>
                        <div class="body-part" id="stomach-part" data-part="stomach" style="top: 250px; left: 50%; transform: translateX(-50%);">
                            Stomach üçé
                        </div>
                        <div class="body-part" id="bones-part" data-part="bones" style="top: 300px; left: 50%; transform: translateX(-50%); width: 120px;">
                            Bones ü¶¥
                        </div>
                    </div>
                    
                    <div class="part-info" id="brain-info">
                        <h3 class="part-title">Brain</h3>
                        <p class="part-function"><strong>Functions:</strong> Controls all body functions, thinks, remembers, feels emotions</p>
                        <p class="part-function"><strong>System:</strong> Nervous System</p>
                    </div>
                    
                    <div class="part-info" id="heart-info">
                        <h3 class="part-title">Heart</h3>
                        <p class="part-function"><strong>Functions:</strong> Pumps blood throughout the body, delivers oxygen and nutrients</p>
                        <p class="part-function"><strong>System:</strong> Circulatory System</p>
                    </div>
                    
                    <div class="part-info" id="lungs-info">
                        <h3 class="part-title">Lungs</h3>
                        <p class="part-function"><strong>Functions:</strong> Bring oxygen into the body, remove carbon dioxide</p>
                        <p class="part-function"><strong>System:</strong> Respiratory System</p>
                    </div>
                    
                    <div class="part-info" id="stomach-info">
                        <h3 class="part-title">Stomach</h3>
                        <p class="part-function"><strong>Functions:</strong> Breaks down food with acids, sends food to intestines</p>
                        <p class="part-function"><strong>System:</strong> Digestive System</p>
                    </div>
                    
                    <div class="part-info" id="bones-info">
                        <h3 class="part-title">Bones</h3>
                        <p class="part-function"><strong>Functions:</strong> Support the body, protect organs, help us move, make blood cells</p>
                        <p class="part-function"><strong>System:</strong> Skeletal System</p>
                    </div>
                </div>

                <div class="matching-activity">
                    <h3>Match Body Parts to Their Systems</h3>
                    <div class="matching-pairs" id="bodyMatchingGame">
                        <!-- Matching pairs will be populated by JavaScript -->
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" id="nextToSenses">Next: Five Senses</button>
                </div>
            </div>

            <!-- Senses Section -->
            <div class="content-section" id="sensesSection" style="display: none;">
                <h2 class="section-title">Our Five Senses</h2>
                
                <div class="concept-explanation">
                    <h3 class="concept-title">How We Experience the World</h3>
                    <p class="concept-description">Our five senses help us understand what's happening around us. Each sense has special organs that detect different types of information.</p>
                </div>

                <div class="senses-activity">
                    <h3>Explore the Five Senses</h3>
                    <p>Click on each sense to learn how it works!</p>
                    
                    <div class="senses-grid">
                        <div class="sense-card" data-sense="sight">
                            <div class="sense-icon">üëÅÔ∏è</div>
                            <div class="sense-name">Sight</div>
                            <div class="sense-description">
                                <p><strong>Organ:</strong> Eyes</p>
                                <p><strong>Function:</strong> Detects light, color, shapes, and movement</p>
                                <p><strong>How it works:</strong> Light enters through the pupil, lens focuses it, retina detects the image</p>
                            </div>
                        </div>
                        
                        <div class="sense-card" data-sense="hearing">
                            <div class="sense-icon">üëÇ</div>
                            <div class="sense-name">Hearing</div>
                            <div class="sense-description">
                                <p><strong>Organ:</strong> Ears</p>
                                <p><strong>Function:</strong> Detects sounds and vibrations</p>
                                <p><strong>How it works:</strong> Sound waves enter the ear, eardrum vibrates, tiny bones transmit to cochlea</p>
                            </div>
                        </div>
                        
                        <div class="sense-card" data-sense="smell">
                            <div class="sense-icon">üëÉ</div>
                            <div class="sense-name">Smell</div>
                            <div class="sense-description">
                                <p><strong>Organ:</strong> Nose</p>
                                <p><strong>Function:</strong> Detects odors in the air</p>
                                <p><strong>How it works:</strong> Airborne molecules enter the nose, detected by olfactory receptors</p>
                            </div>
                        </div>
                        
                        <div class="sense-card" data-sense="taste">
                            <div class="sense-icon">üëÖ</div>
                            <div class="sense-name">Taste</div>
                            <div class="sense-description">
                                <p><strong>Organ:</strong> Tongue</p>
                                <p><strong>Function:</strong> Detects flavors in food</p>
                                <p><strong>How it works:</strong> Taste buds detect sweet, sour, salty, bitter, and umami flavors</p>
                            </div>
                        </div>
                        
                        <div class="sense-card" data-sense="touch">
                            <div class="sense-icon">‚úã</div>
                            <div class="sense-name">Touch</div>
                            <div class="sense-description">
                                <p><strong>Organ:</strong> Skin</p>
                                <p><strong>Function:</strong> Detects pressure, temperature, pain</p>
                                <p><strong>How it works:</strong> Nerve endings in skin send signals to the brain about what we feel</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="matching-activity">
                    <h3>Match Senses to Their Functions</h3>
                    <div class="matching-pairs" id="sensesMatchingGame">
                        <!-- Matching pairs will be populated by JavaScript -->
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-outline" id="backToBody">Previous: Body Systems</button>
                    <button class="btn btn-primary" id="nextToQuiz">Next: Knowledge Challenge</button>
                </div>
            </div>

            <!-- Quiz Section -->
            <div class="content-section" id="quizSection" style="display: none;">
                <h2 class="section-title">Knowledge Challenge</h2>
                <p class="welcome-subtitle">Test your knowledge about the human body and senses!</p>
                
                <div class="quiz-section">
                    <div class="question-container">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                        
                        <div class="navigation-buttons">
                            <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                            <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                        </div>
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-outline" id="backToSenses">Previous: Senses</button>
                    <button class="btn btn-primary" id="completeLearning">Complete Learning</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Science Exploration Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="activitiesCompleted">0</div>
                        <div class="stat-label">Activities Completed</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="bodyPartsLearned">0</div>
                        <div class="stat-label">Body Parts Learned</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>

            <div class="science-facts">
                <h3 class="facts-title">Amazing Human Body Facts</h3>
                <div class="facts-grid">
                    <div class="fact-card">
                        <h4 class="fact-title">Your Brain is Powerful!</h4>
                        <p class="fact-description">Your brain generates about 12-25 watts of electricity - enough to power a small LED light bulb!</p>
                    </div>
                    <div class="fact-card">
                        <h4 class="fact-title">Super Strong Stomach Acid</h4>
                        <p class="fact-description">Your stomach acid is strong enough to dissolve razor blades! (But please don't try this!)</p>
                    </div>
                    <div class="fact-card">
                        <h4 class="fact-title">Amazing Blood Vessels</h4>
                        <p class="fact-description">If you laid all your blood vessels end to end, they would stretch over 60,000 miles - that's more than twice around the Earth!</p>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Explore Again</button>
                <button class="btn btn-secondary" id="viewTopics">View Other Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize slideshow
        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 5000);
        }

        // Science Content Data
        const scienceData = {
            bodySystems: [
                {
                    name: "Skeletal System",
                    icon: "ü¶¥",
                    functions: "Supports our body, protects organs, helps us move, makes blood cells",
                    parts: "Bones, joints, cartilage"
                },
                {
                    name: "Muscular System",
                    icon: "üí™",
                    functions: "Helps us move, maintains posture, produces heat",
                    parts: "Muscles, tendons"
                },
                {
                    name: "Digestive System",
                    icon: "üçé",
                    functions: "Breaks down food, absorbs nutrients, eliminates waste",
                    parts: "Mouth, stomach, intestines, liver"
                },
                {
                    name: "Respiratory System",
                    icon: "ü´Å",
                    functions: "Brings oxygen into body, removes carbon dioxide",
                    parts: "Nose, trachea, lungs, diaphragm"
                },
                {
                    name: "Circulatory System",
                    icon: "‚ù§Ô∏è",
                    functions: "Moves blood through body, delivers oxygen and nutrients",
                    parts: "Heart, blood vessels, blood"
                },
                {
                    name: "Nervous System",
                    icon: "üß†",
                    functions: "Controls body functions, sends and receives messages",
                    parts: "Brain, spinal cord, nerves"
                }
            ],
            bodyParts: [
                {
                    part: "brain",
                    name: "Brain",
                    icon: "üß†",
                    functions: ["Controls all body functions", "Thinks, remembers, feels emotions"],
                    system: "Nervous System"
                },
                {
                    part: "heart",
                    name: "Heart",
                    icon: "‚ù§Ô∏è",
                    functions: ["Pumps blood throughout the body", "Delivers oxygen and nutrients"],
                    system: "Circulatory System"
                },
                {
                    part: "lungs",
                    name: "Lungs",
                    icon: "ü´Å",
                    functions: ["Bring oxygen into the body", "Remove carbon dioxide"],
                    system: "Respiratory System"
                },
                {
                    part: "stomach",
                    name: "Stomach",
                    icon: "üçé",
                    functions: ["Breaks down food with acids", "Sends food to intestines"],
                    system: "Digestive System"
                },
                {
                    part: "bones",
                    name: "Bones",
                    icon: "ü¶¥",
                    functions: ["Support the body", "Protect organs", "Help us move", "Make blood cells"],
                    system: "Skeletal System"
                }
            ],
            senses: [
                {
                    sense: "sight",
                    name: "Sight",
                    icon: "üëÅÔ∏è",
                    organ: "Eyes",
                    function: "Detects light, color, shapes, and movement",
                    description: "Light enters through the pupil, lens focuses it, retina detects the image"
                },
                {
                    sense: "hearing",
                    name: "Hearing",
                    icon: "üëÇ",
                    organ: "Ears",
                    function: "Detects sounds and vibrations",
                    description: "Sound waves enter the ear, eardrum vibrates, tiny bones transmit to cochlea"
                },
                {
                    sense: "smell",
                    name: "Smell",
                    icon: "üëÉ",
                    organ: "Nose",
                    function: "Detects odors in the air",
                    description: "Airborne molecules enter the nose, detected by olfactory receptors"
                },
                {
                    sense: "taste",
                    name: "Taste",
                    icon: "üëÖ",
                    organ: "Tongue",
                    function: "Detects flavors in food",
                    description: "Taste buds detect sweet, sour, salty, bitter, and umami flavors"
                },
                {
                    sense: "touch",
                    name: "Touch",
                    icon: "‚úã",
                    organ: "Skin",
                    function: "Detects pressure, temperature, pain",
                    description: "Nerve endings in skin send signals to the brain about what we feel"
                }
            ],
            quizQuestions: [
                {
                    question: "Which body system is responsible for pumping blood throughout the body?",
                    options: ["Circulatory System", "Respiratory System", "Digestive System", "Nervous System"],
                    answer: "A",
                    explanation: "The circulatory system, with the heart as its main organ, pumps blood throughout the body to deliver oxygen and nutrients."
                },
                {
                    question: "What is the main organ for the sense of sight?",
                    options: ["Eyes", "Ears", "Nose", "Skin"],
                    answer: "A",
                    explanation: "The eyes are the main organs for sight. They detect light, color, shapes, and movement."
                },
                {
                    question: "Which body system includes the brain and nerves?",
                    options: ["Nervous System", "Skeletal System", "Muscular System", "Digestive System"],
                    answer: "A",
                    explanation: "The nervous system includes the brain, spinal cord, and nerves. It controls all body functions and processes information."
                },
                {
                    question: "What do taste buds on your tongue help you detect?",
                    options: ["Flavors in food", "Sounds", "Smells", "Temperature"],
                    answer: "A",
                    explanation: "Taste buds on the tongue detect different flavors in food: sweet, sour, salty, bitter, and umami."
                },
                {
                    question: "Which body system helps you breathe?",
                    options: ["Respiratory System", "Circulatory System", "Digestive System", "Muscular System"],
                    answer: "A",
                    explanation: "The respiratory system, including the lungs, helps you breathe by bringing oxygen into your body and removing carbon dioxide."
                },
                {
                    question: "What is the function of the skeletal system?",
                    options: ["Supports the body and protects organs", "Pumps blood", "Digests food", "Sends nerve signals"],
                    answer: "A",
                    explanation: "The skeletal system supports the body, protects organs, helps with movement, and makes blood cells."
                },
                {
                    question: "Which sense uses the ears as its main organ?",
                    options: ["Hearing", "Sight", "Smell", "Touch"],
                    answer: "A",
                    explanation: "Hearing uses the ears as its main organ to detect sounds and vibrations."
                },
                {
                    question: "What does the stomach do in the digestive system?",
                    options: ["Breaks down food with acids", "Pumps blood", "Breathes air", "Sends nerve signals"],
                    answer: "A",
                    explanation: "The stomach breaks down food using strong acids and enzymes, then sends it to the intestines for further digestion."
                },
                {
                    question: "Which body system includes muscles that help you move?",
                    options: ["Muscular System", "Skeletal System", "Nervous System", "Respiratory System"],
                    answer: "A",
                    explanation: "The muscular system includes all the muscles that help you move, maintain posture, and produce heat."
                },
                {
                    question: "What is the main organ for the sense of touch?",
                    options: ["Skin", "Eyes", "Nose", "Tongue"],
                    answer: "A",
                    explanation: "The skin is the main organ for touch, with nerve endings that detect pressure, temperature, and pain."
                }
            ]
        };

        // App state
        let appState = {
            studentName: "",
            currentSection: "body",
            quizScore: 0,
            quizAnswered: 0,
            bodyPartsLearned: 0,
            activitiesCompleted: 0,
            currentQuestionIndex: 0
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent science skills!",
            "Fantastic knowledge!",
            "Great job!",
            "Amazing!",
            "Well done!",
            "You're a biology expert!",
            "Perfect!",
            "Outstanding!",
            "Brilliant!",
            "You're on fire!"
        ];

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const topicsPage = document.getElementById('topicsPage');
        const learningPage = document.getElementById('learningPage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startLearningBtn = document.getElementById('startLearning');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const topicCards = document.querySelectorAll('.topic-card');

        // Section navigation
        const bodySystems = document.getElementById('bodySystems');
        const sensesSection = document.getElementById('sensesSection');
        const quizSection = document.getElementById('quizSection');
        const nextToSenses = document.getElementById('nextToSenses');
        const nextToQuiz = document.getElementById('nextToQuiz');
        const backToBody = document.getElementById('backToBody');
        const backToSenses = document.getElementById('backToSenses');
        const completeLearning = document.getElementById('completeLearning');

        // Quiz elements
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');

        // Results elements
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const activitiesCompleted = document.getElementById('activitiesCompleted');
        const bodyPartsLearned = document.getElementById('bodyPartsLearned');
        const highestScore = document.getElementById('highestScore');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');

        // Initialize the app
        function initApp() {
            initSlideshow();
            loadStateFromStorage();
            setupEventListeners();
            
            // Show appropriate page based on state
            if (appState.studentName && appState.activitiesCompleted > 0) {
                showLearningPage();
                loadSection(appState.currentSection);
            } else if (appState.studentName) {
                showTopicsPage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade3ScienceHumanBody');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentSection = parsed.currentSection || "body";
                appState.quizScore = parsed.quizScore || 0;
                appState.quizAnswered = parsed.quizAnswered || 0;
                appState.bodyPartsLearned = parsed.bodyPartsLearned || 0;
                appState.activitiesCompleted = parsed.activitiesCompleted || 0;
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade3ScienceHumanBody', JSON.stringify(appState));
        }

        // Setup event listeners
        function setupEventListeners() {
            startLearningBtn.addEventListener('click', startLearning);
            
            // Add event listeners to topic cards
            topicCards.forEach(card => {
                card.addEventListener('click', () => selectTopic(card.dataset.topic));
            });
            
            // Section navigation
            nextToSenses.addEventListener('click', () => navigateSection('next'));
            nextToQuiz.addEventListener('click', () => navigateSection('next'));
            backToBody.addEventListener('click', () => navigateSection('prev'));
            backToSenses.addEventListener('click', () => navigateSection('prev'));
            completeLearning.addEventListener('click', showResultsPage);
            
            // Body diagram interactions
            setupBodyDiagram();
            
            // Senses interactions
            setupSensesActivity();
            
            // Quiz navigation
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            
            // Results navigation
            retryTopicBtn.addEventListener('click', retryTopic);
            viewTopicsBtn.addEventListener('click', backToTopics);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            
            // Allow pressing Enter to start learning
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startLearning();
                }
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            topicsPage.style.display = 'none';
            learningPage.style.display = 'none';
            resultsPage.style.display = 'none';
            
            // Clear any previous input
            studentNameInput.value = appState.studentName || '';
        }

        // Show topics page
        function showTopicsPage() {
            welcomePage.style.display = 'none';
            topicsPage.style.display = 'block';
            learningPage.style.display = 'none';
            resultsPage.style.display = 'none';
        }

        // Show learning page
        function showLearningPage() {
            welcomePage.style.display = 'none';
            topicsPage.style.display = 'none';
            learningPage.style.display = 'block';
            resultsPage.style.display = 'none';
            
            // Display student name
            studentNameDisplay.textContent = appState.studentName;
            
            // Load the current section
            loadSection(appState.currentSection);
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            topicsPage.style.display = 'none';
            learningPage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            // Calculate and display results
            const percentage = Math.round((appState.quizScore / scienceData.quizQuestions.length) * 100);
            
            finalScore.textContent = appState.quizScore;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.quizScore;
            activitiesCompleted.textContent = appState.activitiesCompleted;
            bodyPartsLearned.textContent = appState.bodyPartsLearned;
            
            // Get highest score from localStorage
            const highest = localStorage.getItem('ideolixGrade3ScienceHumanBody_highestScore') || 0;
            highestScore.textContent = Math.max(highest, appState.quizScore);
            
            // Save new highest score if applicable
            if (appState.quizScore > highest) {
                localStorage.setItem('ideolixGrade3ScienceHumanBody_highestScore', appState.quizScore);
            }
            
            // Set encouraging message
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a human body expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You know a lot about the human body and senses!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! You understand body systems and senses well!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review the concepts and try again!";
            } else {
                scoreMessage.textContent = "Keep exploring! The human body is full of amazing discoveries!";
            }
            
            // Save state
            saveStateToStorage();
        }

        // Start learning - show topic selection
        function startLearning() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert('Please enter your name to continue.');
                return;
            }
            
            appState.studentName = name;
            saveStateToStorage();
            showTopicsPage();
        }

        // Select a topic and start learning
        function selectTopic(topic) {
            appState.currentSection = topic === 'quiz' ? 'quiz' : 'body';
            saveStateToStorage();
            showLearningPage();
        }

        // Load a specific section
        function loadSection(section) {
            // Hide all sections first
            bodySystems.style.display = 'none';
            sensesSection.style.display = 'none';
            quizSection.style.display = 'none';
            
            // Update progress
            updateProgress(section);
            
            // Load the selected section
            switch(section) {
                case 'body':
                    bodySystems.style.display = 'block';
                    loadBodyMatchingActivity();
                    break;
                case 'senses':
                    sensesSection.style.display = 'block';
                    loadSensesMatchingActivity();
                    break;
                case 'quiz':
                    quizSection.style.display = 'block';
                    loadQuizQuestion();
                    break;
            }
        }

        // Update progress indicator
        function updateProgress(section) {
            let progress = 33;
            let sectionText = "Section 1 of 3";
            
            switch(section) {
                case 'senses':
                    progress = 66;
                    sectionText = "Section 2 of 3";
                    break;
                case 'quiz':
                    progress = 100;
                    sectionText = "Section 3 of 3";
                    break;
            }
            
            progressText.textContent = sectionText;
            progressFill.style.width = `${progress}%`;
        }

        // Navigate between sections
        function navigateSection(direction) {
            const sections = ['body', 'senses', 'quiz'];
            let currentIndex = sections.indexOf(appState.currentSection);
            
            if (direction === 'next' && currentIndex < sections.length - 1) {
                appState.currentSection = sections[currentIndex + 1];
            } else if (direction === 'prev' && currentIndex > 0) {
                appState.currentSection = sections[currentIndex - 1];
            }
            
            // Update activities completed
            if (direction === 'next' && currentIndex >= appState.activitiesCompleted) {
                appState.activitiesCompleted = currentIndex + 1;
            }
            
            saveStateToStorage();
            loadSection(appState.currentSection);
        }

        // Setup body diagram interactions
        function setupBodyDiagram() {
            const bodyParts = document.querySelectorAll('.body-part');
            
            bodyParts.forEach(part => {
                part.addEventListener('click', function() {
                    const partType = this.getAttribute('data-part');
                    
                    // Remove active class from all parts
                    bodyParts.forEach(p => p.classList.remove('active'));
                    
                    // Hide all part info
                    document.querySelectorAll('.part-info').forEach(info => {
                        info.classList.remove('active');
                    });
                    
                    // Add active class to clicked part
                    this.classList.add('active');
                    
                    // Show corresponding part info
                    document.getElementById(`${partType}-info`).classList.add('active');
                    
                    // Update body parts learned count
                    if (!appState[`learned_${partType}`]) {
                        appState.bodyPartsLearned++;
                        appState[`learned_${partType}`] = true;
                        saveStateToStorage();
                    }
                });
            });
        }

        // Setup senses activity
        function setupSensesActivity() {
            const senseCards = document.querySelectorAll('.sense-card');
            
            senseCards.forEach(card => {
                card.addEventListener('click', function() {
                    // Toggle active class
                    this.classList.toggle('active');
                });
            });
        }

        // Load body matching activity
        function loadBodyMatchingActivity() {
            const matchingGame = document.getElementById('bodyMatchingGame');
            matchingGame.innerHTML = '';
            
            // Create body part cards
            scienceData.bodyParts.forEach(part => {
                const partCard = document.createElement('div');
                partCard.className = 'matching-item';
                partCard.setAttribute('data-part', part.part);
                partCard.innerHTML = `
                    <strong>${part.icon} ${part.name}</strong>
                `;
                matchingGame.appendChild(partCard);
            });
            
            // Create system cards (shuffled)
            const shuffledSystems = [...scienceData.bodySystems]
                .sort(() => 0.5 - Math.random())
                .map(system => system.name);
            
            shuffledSystems.forEach(system => {
                const systemCard = document.createElement('div');
                systemCard.className = 'matching-item';
                systemCard.setAttribute('data-system', system);
                systemCard.textContent = system;
                matchingGame.appendChild(systemCard);
            });
            
            // Setup matching game
            setupBodyMatchingGame();
        }

        // Setup body matching game
        function setupBodyMatchingGame() {
            let selectedPart = null;
            let selectedSystem = null;
            
            document.querySelectorAll('#bodyMatchingGame .matching-item').forEach(item => {
                item.addEventListener('click', function() {
                    if (this.getAttribute('data-part')) {
                        // This is a body part
                        if (selectedPart) {
                            selectedPart.style.borderColor = 'transparent';
                        }
                        selectedPart = this;
                        this.style.borderColor = 'var(--secondary-orange)';
                    } else {
                        // This is a system
                        if (selectedSystem) {
                            selectedSystem.style.borderColor = 'transparent';
                        }
                        selectedSystem = this;
                        this.style.borderColor = 'var(--secondary-orange)';
                    }
                    
                    // Check if we have a pair to match
                    if (selectedPart && selectedSystem) {
                        checkBodyMatch(selectedPart, selectedSystem);
                        selectedPart = null;
                        selectedSystem = null;
                    }
                });
            });
        }

        // Check if body part and system match
        function checkBodyMatch(partElement, systemElement) {
            const partType = partElement.getAttribute('data-part');
            const systemName = systemElement.getAttribute('data-system');
            
            // Find the body part that belongs to this system
            const correctPart = scienceData.bodyParts.find(part => 
                part.system === systemName
            );
            
            if (correctPart && correctPart.part === partType) {
                // Correct match
                partElement.classList.add('matched');
                systemElement.classList.add('matched');
                partElement.style.borderColor = 'transparent';
                systemElement.style.borderColor = 'transparent';
                
                // Show success feedback
                showClassificationFeedback(true, `Correct! ${partElement.textContent.trim()} is part of the ${systemName}.`);
            } else {
                // Incorrect match - reset borders after a delay
                setTimeout(() => {
                    partElement.style.borderColor = 'transparent';
                    systemElement.style.borderColor = 'transparent';
                }, 1000);
                
                // Show error feedback
                showClassificationFeedback(false, "Try again! That's not the right match.");
            }
        }

        // Load senses matching activity
        function loadSensesMatchingActivity() {
            const matchingGame = document.getElementById('sensesMatchingGame');
            matchingGame.innerHTML = '';
            
            // Create sense cards
            scienceData.senses.forEach(sense => {
                const senseCard = document.createElement('div');
                senseCard.className = 'matching-item';
                senseCard.setAttribute('data-sense', sense.sense);
                senseCard.innerHTML = `
                    <strong>${sense.icon} ${sense.name}</strong>
                `;
                matchingGame.appendChild(senseCard);
            });
            
            // Create function cards (shuffled)
            const shuffledFunctions = [...scienceData.senses]
                .sort(() => 0.5 - Math.random())
                .map(sense => sense.function);
            
            shuffledFunctions.forEach(func => {
                const funcCard = document.createElement('div');
                funcCard.className = 'matching-item';
                funcCard.setAttribute('data-function', func);
                funcCard.textContent = func;
                matchingGame.appendChild(funcCard);
            });
            
            // Setup matching game
            setupSensesMatchingGame();
        }

        // Setup senses matching game
        function setupSensesMatchingGame() {
            let selectedSense = null;
            let selectedFunction = null;
            
            document.querySelectorAll('#sensesMatchingGame .matching-item').forEach(item => {
                item.addEventListener('click', function() {
                    if (this.getAttribute('data-sense')) {
                        // This is a sense
                        if (selectedSense) {
                            selectedSense.style.borderColor = 'transparent';
                        }
                        selectedSense = this;
                        this.style.borderColor = 'var(--secondary-orange)';
                    } else {
                        // This is a function
                        if (selectedFunction) {
                            selectedFunction.style.borderColor = 'transparent';
                        }
                        selectedFunction = this;
                        this.style.borderColor = 'var(--secondary-orange)';
                    }
                    
                    // Check if we have a pair to match
                    if (selectedSense && selectedFunction) {
                        checkSenseMatch(selectedSense, selectedFunction);
                        selectedSense = null;
                        selectedFunction = null;
                    }
                });
            });
        }

        // Check if sense and function match
        function checkSenseMatch(senseElement, functionElement) {
            const senseType = senseElement.getAttribute('data-sense');
            const functionText = functionElement.getAttribute('data-function');
            
            // Find the sense that has this function
            const correctSense = scienceData.senses.find(sense => 
                sense.function === functionText
            );
            
            if (correctSense && correctSense.sense === senseType) {
                // Correct match
                senseElement.classList.add('matched');
                functionElement.classList.add('matched');
                senseElement.style.borderColor = 'transparent';
                functionElement.style.borderColor = 'transparent';
                
                // Show success feedback
                showClassificationFeedback(true, `Correct! ${senseElement.textContent.trim()} ${functionText.toLowerCase()}.`);
            } else {
                // Incorrect match - reset borders after a delay
                setTimeout(() => {
                    senseElement.style.borderColor = 'transparent';
                    functionElement.style.borderColor = 'transparent';
                }, 1000);
                
                // Show error feedback
                showClassificationFeedback(false, "Try again! That's not the right match.");
            }
        }

        // Show classification feedback
        function showClassificationFeedback(isCorrect, message) {
            // Create a temporary feedback element
            const feedback = document.createElement('div');
            feedback.style.position = 'fixed';
            feedback.style.top = '50%';
            feedback.style.left = '50%';
            feedback.style.transform = 'translate(-50%, -50%)';
            feedback.style.padding = '20px 30px';
            feedback.style.borderRadius = '12px';
            feedback.style.fontWeight = 'bold';
            feedback.style.zIndex = '1000';
            feedback.style.boxShadow = '0 8px 32px rgba(0, 0, 0, 0.4)';
            feedback.textContent = message;
            
            if (isCorrect) {
                feedback.style.background = 'var(--primary-green)';
                feedback.style.color = 'white';
            } else {
                feedback.style.background = 'var(--secondary-orange)';
                feedback.style.color = 'white';
            }
            
            document.body.appendChild(feedback);
            
            // Remove after 2 seconds
            setTimeout(() => {
                document.body.removeChild(feedback);
            }, 2000);
        }

        // Load quiz question
        function loadQuizQuestion() {
            const question = scienceData.quizQuestions[appState.currentQuestionIndex];
            
            // Set question text
            questionText.textContent = question.question;
            
            // Clear previous options and feedback
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            // Create option elements
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectQuizOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle quiz option selection
        function selectQuizOption(optionElement, selectedIndex) {
            const question = scienceData.quizQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            // Disable all options
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Mark correct/incorrect
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                // Correct answer
                optionElement.classList.add('correct');
                appState.quizScore++;
                appState.quizAnswered++;
                
                // Show positive feedback
                showQuizFeedback(true, question.explanation);
            } else {
                // Incorrect answer
                optionElement.classList.add('incorrect');
                appState.quizAnswered++;
                
                // Show negative feedback
                showQuizFeedback(false, question.explanation, question.answer);
            }
            
            // Enable next question button
            nextQuestionBtn.disabled = false;
            
            // Save progress
            saveStateToStorage();
        }

        // Show quiz feedback
        function showQuizFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    feedbackMessage.textContent = `Correct answer: ${String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65))}`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
        }

        // Move to next quiz question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < scienceData.quizQuestions.length) {
                loadQuizQuestion();
            } else {
                // Quiz completed
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current quiz question
        function skipQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < scienceData.quizQuestions.length) {
                loadQuizQuestion();
            } else {
                // Quiz completed
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.quizScore = 0;
            appState.quizAnswered = 0;
            appState.bodyPartsLearned = 0;
            appState.currentQuestionIndex = 0;
            appState.currentSection = "body";
            saveStateToStorage();
            showLearningPage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            showTopicsPage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
