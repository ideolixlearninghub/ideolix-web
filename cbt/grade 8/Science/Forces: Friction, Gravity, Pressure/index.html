<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 8 Science - Forces: Friction, Gravity, Pressure | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Physics Theme */
        :root {
            --force-red: #F44336;
            --force-blue: #2196F3;
            --force-green: #4CAF50;
            --force-orange: #FF9800;
            --force-yellow: #FFC107;
            --force-purple: #9C27B0;
            --force-teal: #009688;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --friction-glow: 0 0 20px rgba(244, 67, 54, 0.4);
            --gravity-glow: 0 0 20px rgba(33, 150, 243, 0.4);
            --pressure-glow: 0 0 20px rgba(76, 175, 80, 0.4);
            --motion-glow: 0 0 20px rgba(255, 152, 0, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(244, 67, 54, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(33, 150, 243, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(76, 175, 80, 0.05) 0%, transparent 50%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 10px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info h1 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--force-red), var(--force-blue), var(--force-green), var(--force-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(244, 67, 54, 0.15);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            border: 2px solid var(--force-red);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--force-red);
        }

        .input-group {
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--force-red);
            box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--force-red);
            color: white;
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3);
        }

        .btn-primary:hover {
            background: #d32f2f;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(244, 67, 54, 0.4);
        }

        .btn-secondary {
            background: var(--force-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-secondary:hover {
            background: #1976D2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
        }

        .btn-success {
            background: var(--force-green);
            color: white;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .btn-success:hover {
            background: #388E3C;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }

        .btn-warning {
            background: var(--force-orange);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
        }

        .btn-warning:hover {
            background: #F57C00;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 152, 0, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--force-red);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Physics Grid */
        .physics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        @media (max-width: 1200px) {
            .physics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .physics-grid {
                grid-template-columns: 1fr;
            }
        }

        .physics-card {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .physics-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .physics-card.friction {
            border-color: var(--force-red);
            background: linear-gradient(135deg, rgba(244, 67, 54, 0.1), transparent);
        }

        .physics-card.gravity {
            border-color: var(--force-blue);
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), transparent);
        }

        .physics-card.pressure {
            border-color: var(--force-green);
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), transparent);
        }

        .physics-card.motion {
            border-color: var(--force-orange);
            background: linear-gradient(135deg, rgba(255, 152, 0, 0.1), transparent);
        }

        .physics-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .physics-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .physics-card.friction .physics-title {
            color: var(--force-red);
        }

        .physics-card.gravity .physics-title {
            color: var(--force-blue);
        }

        .physics-card.pressure .physics-title {
            color: var(--force-green);
        }

        .physics-card.motion .physics-title {
            color: var(--force-orange);
        }

        .physics-features {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--dark-border);
            flex-grow: 1;
        }

        .physics-features h4 {
            font-size: 0.9rem;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .feature-list {
            list-style-type: none;
        }

        .feature-list li {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-bottom: 4px;
            padding-left: 15px;
            position: relative;
        }

        .feature-list li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: var(--force-teal);
        }

        /* Practice Page */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 8px;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--force-red), var(--force-blue), var(--force-green), var(--force-orange));
            border-radius: 8px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(244, 67, 54, 0.5);
        }

        .question-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .physics-tip {
            background: rgba(255, 193, 7, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--force-yellow);
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--force-red);
            background: rgba(244, 67, 54, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--force-green);
            color: var(--force-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 25px;
            height: 25px;
            background: var(--force-teal);
            border-radius: 50%;
            margin-right: 12px;
            font-weight: bold;
            color: white;
        }

        .option.correct .option-letter {
            background: var(--force-green);
        }

        .option.incorrect .option-letter {
            background: #F44336;
        }

        /* Feedback */
        .feedback-container {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--force-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--force-green);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .feedback-correct .feedback-title {
            color: var(--force-green);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-explanation {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Navigation */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        /* Visualization Side */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
            overflow: auto;
            max-height: 800px;
        }

        /* Physics Visualizers */
        .physics-visualizer {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid;
            position: relative;
        }

        .friction-visualizer {
            border-color: var(--force-red);
        }

        .gravity-visualizer {
            border-color: var(--force-blue);
        }

        .pressure-visualizer {
            border-color: var(--force-green);
        }

        .motion-visualizer {
            border-color: var(--force-orange);
        }

        .visualizer-title {
            color: inherit;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .physics-canvas {
            width: 100%;
            height: 200px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        /* Force Models */
        .force-model {
            width: 100%;
            height: 150px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        .force-object {
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .force-object:hover {
            transform: scale(1.2);
            z-index: 100;
        }

        .box-object {
            background: var(--force-red);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 5px;
        }

        .sphere-object {
            background: var(--force-blue);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
        }

        .arrow {
            position: absolute;
            border-left: 2px solid;
            border-bottom: 2px solid;
            transform-origin: 0 0;
        }

        .force-label {
            position: absolute;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* Experiment Setup */
        .experiment-setup {
            width: 100%;
            height: 200px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
            border: 1px solid var(--dark-border);
        }

        .apparatus {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .ramp {
            background: linear-gradient(to right, #555, #333);
            border-radius: 0 0 10px 10px;
        }

        .spring {
            background: repeating-linear-gradient(
                to right,
                transparent,
                transparent 5px,
                rgba(255, 255, 255, 0.2) 5px,
                rgba(255, 255, 255, 0.2) 10px
            );
        }

        /* Formulas Section */
        .formulas-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--force-yellow);
        }

        .formulas-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .formulas-grid {
                grid-template-columns: 1fr;
            }
        }

        .formula-card {
            background: var(--dark-surface);
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid var(--force-yellow);
        }

        .formula-expression {
            font-size: 1.5rem;
            text-align: center;
            margin: 10px 0;
            color: var(--force-yellow);
            font-family: 'Cambria Math', serif;
        }

        .formula-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 8px;
        }

        /* Comparison Tables */
        .comparison-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--force-teal);
        }

        .comparison-tables {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .comparison-tables {
                grid-template-columns: 1fr;
            }
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
        }

        .comparison-table th {
            background: var(--dark-card);
            padding: 10px;
            text-align: left;
            color: var(--force-teal);
            border-bottom: 2px solid var(--force-teal);
        }

        .comparison-table td {
            padding: 8px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
            font-size: 0.85rem;
            cursor: pointer;
        }

        .comparison-table td:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Interactive Lab */
        .lab-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--force-purple);
        }

        .lab-bench {
            width: 100%;
            height: 150px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
            border: 1px solid var(--dark-border);
        }

        .lab-equipment {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .lab-equipment:hover {
            transform: scale(1.1);
        }

        /* Classification Quiz */
        .classification-quiz {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--force-purple);
        }

        .classification-items {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 10px 0;
        }

        .classification-item {
            padding: 8px;
            background: var(--dark-surface);
            border: 2px dashed var(--dark-border);
            border-radius: 6px;
            text-align: center;
            cursor: grab;
            transition: all 0.2s ease;
        }

        .classification-item:hover {
            border-color: var(--force-purple);
        }

        .classification-zones {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .classification-zone {
            padding: 15px;
            border: 2px dashed var(--dark-border);
            border-radius: 8px;
            min-height: 100px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .classification-zone.active {
            border-color: var(--force-green);
            background: rgba(76, 175, 80, 0.1);
        }

        /* Properties Panel */
        .properties-panel {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--force-blue);
        }

        .properties-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 10px 0;
        }

        .property-item {
            background: var(--dark-surface);
            padding: 10px;
            border-radius: 6px;
            border-left: 4px solid var(--force-blue);
        }

        .property-name {
            font-weight: bold;
            color: var(--force-blue);
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .property-value {
            color: var(--text-primary);
            font-size: 0.85rem;
        }

        /* Interactive Controls */
        .controls-panel {
            background: var(--dark-surface);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .control-group {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .control-slider {
            flex: 1;
            min-width: 200px;
        }

        .control-slider label {
            display: block;
            margin-bottom: 5px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .control-slider input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--dark-border);
            outline: none;
        }

        .control-slider input[type="range"]::-webkit-slider-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--force-red);
            cursor: pointer;
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }

        .results-title {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--force-red), var(--force-blue), var(--force-green), var(--force-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--force-red), var(--force-blue), var(--force-green), var(--force-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--force-red);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes spin {
            0% { transform: rotate(0); }
            100% { transform: rotate(360deg); }
        }

        .spinning {
            animation: spin 2s linear infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .floating {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes slide {
            0% { transform: translateX(0); }
            100% { transform: translateX(100px); }
        }

        .sliding {
            animation: slide 2s linear infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 1.8rem;
            }
            
            .physics-grid {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .comparison-tables {
                grid-template-columns: 1fr;
            }
            
            .formulas-grid {
                grid-template-columns: 1fr;
            }
            
            .classification-items {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .classification-zones {
                grid-template-columns: 1fr;
            }
            
            .properties-list {
                grid-template-columns: 1fr;
            }
            
            .control-group {
                flex-direction: column;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <h1 class="welcome-title">Grade 8 Physics: Forces Fundamentals</h1>
            <p class="welcome-subtitle">Discover the invisible forces that shape our universe! Explore friction, gravity, pressure, and motion. Learn how these forces affect everything from walking to flying, from tiny atoms to massive planets.</p>
            
            <div class="topic-badge">
                <span class="topic-icon">‚ö°üåçüîΩüìè</span>
                <span class="topic-name">Friction, Gravity, Pressure & Motion</span>
            </div>
            
            <div class="physics-grid">
                <div class="physics-card friction" onclick="showPhysicsDetail('friction')">
                    <div class="physics-icon">‚ö°</div>
                    <h3 class="physics-title">Friction</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Force that opposes motion between surfaces</p>
                    <div class="physics-features">
                        <h4>Key Characteristics:</h4>
                        <ul class="feature-list">
                            <li>Acts opposite to motion</li>
                            <li>Depends on surface roughness</li>
                            <li>Generates heat</li>
                            <li>Essential for walking</li>
                        </ul>
                    </div>
                </div>
                
                <div class="physics-card gravity" onclick="showPhysicsDetail('gravity')">
                    <div class="physics-icon">üåç</div>
                    <h3 class="physics-title">Gravity</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Force of attraction between masses</p>
                    <div class="physics-features">
                        <h4>Key Characteristics:</h4>
                        <ul class="feature-list">
                            <li>Universal force</li>
                            <li>Acts at a distance</li>
                            <li>Weakest fundamental force</li>
                            <li>Keeps planets in orbit</li>
                        </ul>
                    </div>
                </div>
                
                <div class="physics-card pressure" onclick="showPhysicsDetail('pressure')">
                    <div class="physics-icon">üîΩ</div>
                    <h3 class="physics-title">Pressure</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Force distributed over an area</p>
                    <div class="physics-features">
                        <h4>Key Characteristics:</h4>
                        <ul class="feature-list">
                            <li>Force per unit area</li>
                            <li>Increases with depth</li>
                            <li>Measured in Pascals</li>
                            <li>Essential in fluids</li>
                        </ul>
                    </div>
                </div>
                
                <div class="physics-card motion" onclick="showPhysicsDetail('motion')">
                    <div class="physics-icon">üìè</div>
                    <h3 class="physics-title">Motion & Forces</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Newton's Laws of Motion</p>
                    <div class="physics-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Newton's 3 Laws</li>
                            <li>Inertia</li>
                            <li>Action-Reaction</li>
                            <li>Acceleration</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your name:</label>
                <input type="text" id="studentName" placeholder="Your name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>‚ö° Begin Physics Practice</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 25</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 4%"></div>
                </div>
            </div>

            <div class="question-container">
                <div id="physicsTip"></div>
                
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-explanation" id="feedbackExplanation"></div>
                </div>
            </div>
            
            <!-- Visualization Area -->
            <div class="content-wrapper">
                <div class="visualization-container">
                    <!-- Force Models -->
                    <div class="physics-visualizer friction-visualizer">
                        <div class="visualizer-title">Friction - Surface Interactions</div>
                        <div class="force-model" id="frictionModel">
                            <!-- Friction visualization will be added here -->
                        </div>
                        <div class="controls-panel">
                            <div class="control-group">
                                <button class="btn btn-small btn-secondary" onclick="showFrictionModel('static')">Static Friction</button>
                                <button class="btn btn-small btn-secondary" onclick="showFrictionModel('kinetic')">Kinetic Friction</button>
                                <button class="btn btn-small btn-secondary" onclick="showFrictionModel('rolling')">Rolling Friction</button>
                            </div>
                            <div class="control-slider">
                                <label>Surface Roughness: <span id="surfaceRoughnessValue">Medium</span></label>
                                <input type="range" id="surfaceRoughness" min="1" max="100" value="50" oninput="updateSurfaceRoughness(this.value)">
                            </div>
                        </div>
                    </div>
                    
                    <div class="physics-visualizer gravity-visualizer">
                        <div class="visualizer-title">Gravity - Planetary Motion</div>
                        <div class="force-model" id="gravityModel">
                            <!-- Gravity visualization will be added here -->
                        </div>
                        <div class="controls-panel">
                            <div class="control-group">
                                <button class="btn btn-small btn-secondary" onclick="showGravityModel('earth')">Earth's Gravity</button>
                                <button class="btn btn-small btn-secondary" onclick="showGravityModel('moon')">Moon's Gravity</button>
                                <button class="btn btn-small btn-secondary" onclick="showGravityModel('planets')">Solar System</button>
                            </div>
                            <div class="control-slider">
                                <label>Gravitational Strength: <span id="gravityStrengthValue">Medium</span></label>
                                <input type="range" id="gravityStrength" min="1" max="100" value="50" oninput="updateGravityStrength(this.value)">
                            </div>
                        </div>
                    </div>
                    
                    <div class="physics-visualizer pressure-visualizer">
                        <div class="visualizer-title">Pressure - Force Distribution</div>
                        <div class="force-model" id="pressureModel">
                            <!-- Pressure visualization will be added here -->
                        </div>
                        <div class="controls-panel">
                            <div class="control-group">
                                <button class="btn btn-small btn-secondary" onclick="showPressureModel('liquid')">Liquid Pressure</button>
                                <button class="btn btn-small btn-secondary" onclick="showPressureModel('gas')">Gas Pressure</button>
                                <button class="btn btn-small btn-secondary" onclick="showPressureModel('atmospheric')">Atmospheric Pressure</button>
                            </div>
                            <div class="control-slider">
                                <label>Pressure Level: <span id="pressureLevelValue">Medium</span></label>
                                <input type="range" id="pressureLevel" min="1" max="100" value="50" oninput="updatePressureLevel(this.value)">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Motion Experiments -->
                    <div class="physics-visualizer motion-visualizer">
                        <div class="visualizer-title">Motion Experiments</div>
                        <div class="experiment-setup" id="motionLab">
                            <!-- Motion experiments will be added here -->
                        </div>
                        <div class="controls-panel">
                            <div class="control-group">
                                <button class="btn btn-small btn-warning" onclick="demonstrateMotion('incline')">Inclined Plane</button>
                                <button class="btn btn-small btn-warning" onclick="demonstrateMotion('pendulum')">Pendulum</button>
                                <button class="btn btn-small btn-warning" onclick="demonstrateMotion('spring')">Spring Force</button>
                                <button class="btn btn-small btn-warning" onclick="demonstrateMotion('projectile')">Projectile Motion</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Formulas Section -->
                    <div class="formulas-section">
                        <div class="visualizer-title">Physics Formulas</div>
                        <div class="formulas-grid">
                            <div class="formula-card">
                                <div style="color: var(--force-red); font-weight: bold;">Friction</div>
                                <div class="formula-expression">f = ŒºN</div>
                                <div class="formula-description">
                                    f = frictional force<br>
                                    Œº = coefficient of friction<br>
                                    N = normal force
                                </div>
                            </div>
                            <div class="formula-card">
                                <div style="color: var(--force-blue); font-weight: bold;">Gravity</div>
                                <div class="formula-expression">F = G(m‚ÇÅm‚ÇÇ)/r¬≤</div>
                                <div class="formula-description">
                                    F = gravitational force<br>
                                    G = gravitational constant<br>
                                    m = masses, r = distance
                                </div>
                            </div>
                            <div class="formula-card">
                                <div style="color: var(--force-green); font-weight: bold;">Pressure</div>
                                <div class="formula-expression">P = F/A</div>
                                <div class="formula-description">
                                    P = pressure (Pa)<br>
                                    F = force (N)<br>
                                    A = area (m¬≤)
                                </div>
                            </div>
                            <div class="formula-card">
                                <div style="color: var(--force-orange); font-weight: bold;">Newton's 2nd Law</div>
                                <div class="formula-expression">F = ma</div>
                                <div class="formula-description">
                                    F = net force (N)<br>
                                    m = mass (kg)<br>
                                    a = acceleration (m/s¬≤)
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Comparison Tables -->
                    <div class="comparison-section">
                        <div class="visualizer-title">Types of Forces Comparison</div>
                        <div class="comparison-tables">
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Friction Types</th>
                                        <th>Characteristics</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr onclick="showComparisonDetail('static_friction')">
                                        <td>Static Friction</td>
                                        <td>Acts on stationary objects</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('kinetic_friction')">
                                        <td>Kinetic Friction</td>
                                        <td>Acts on moving objects</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('rolling_friction')">
                                        <td>Rolling Friction</td>
                                        <td>Least friction type</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('fluid_friction')">
                                        <td>Fluid Friction</td>
                                        <td>Through liquids/gases</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Pressure Types</th>
                                        <th>Characteristics</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr onclick="showComparisonDetail('atmospheric_pressure')">
                                        <td>Atmospheric</td>
                                        <td>Air pressure at sea level</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('liquid_pressure')">
                                        <td>Liquid Pressure</td>
                                        <td>Increases with depth</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('gas_pressure')">
                                        <td>Gas Pressure</td>
                                        <td>From gas molecule collisions</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('hydraulic_pressure')">
                                        <td>Hydraulic Pressure</td>
                                        <td>Transmitted through liquids</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Properties Panel -->
                    <div class="properties-panel">
                        <div class="visualizer-title">Force Properties</div>
                        <div class="properties-list" id="propertiesList">
                            <!-- Properties will be populated by JavaScript -->
                        </div>
                        <div class="control-group" style="margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="showForceProperties()">Force Properties</button>
                            <button class="btn btn-small btn-secondary" onclick="showMotionProperties()">Motion Properties</button>
                            <button class="btn btn-small btn-secondary" onclick="showEnergyProperties()">Energy Properties</button>
                            <button class="btn btn-small btn-secondary" onclick="showFluidProperties()">Fluid Properties</button>
                        </div>
                    </div>
                    
                    <!-- Interactive Classification Quiz -->
                    <div class="classification-quiz">
                        <div class="visualizer-title">Force Classification Challenge</div>
                        <div id="quizInstruction" style="margin-bottom: 10px; color: var(--text-primary); text-align: center;">
                            Drag items to correct category:
                        </div>
                        <div class="classification-items" id="classificationItems">
                            <!-- Items to classify will be added here -->
                        </div>
                        <div class="classification-zones">
                            <div class="classification-zone" id="zoneFriction" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <div style="color: var(--force-red); font-weight: bold;">Friction</div>
                            </div>
                            <div class="classification-zone" id="zoneGravity" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <div style="color: var(--force-blue); font-weight: bold;">Gravity</div>
                            </div>
                            <div class="classification-zone" id="zonePressure" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <div style="color: var(--force-green); font-weight: bold;">Pressure</div>
                            </div>
                        </div>
                        <div id="classificationFeedback" style="margin-top: 10px; color: var(--text-secondary); text-align: center; font-size: 0.9rem;"></div>
                        <div class="control-group" style="margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="newClassificationChallenge()">New Challenge</button>
                            <button class="btn btn-small btn-secondary" onclick="checkClassification()">Check Answers</button>
                            <button class="btn btn-small btn-secondary" onclick="resetClassification()">Reset</button>
                        </div>
                    </div>
                    
                    <!-- Interactive Lab -->
                    <div class="lab-section">
                        <div class="visualizer-title">Virtual Physics Lab</div>
                        <div class="lab-bench" id="labBench">
                            <!-- Lab equipment will be added here -->
                        </div>
                        <div class="control-group" style="margin-top: 10px;">
                            <button class="btn btn-small btn-success" onclick="setupInclinePlane()">Inclined Plane</button>
                            <button class="btn btn-small btn-success" onclick="setupPressureExp()">Pressure Experiment</button>
                            <button class="btn btn-small btn-success" onclick="setupFrictionExp()">Friction Experiment</button>
                            <button class="btn btn-small btn-success" onclick="clearLabBench()">Clear Bench</button>
                        </div>
                        <div id="labInstructions" style="margin-top: 10px; color: var(--text-secondary); font-size: 0.9rem; text-align: center;">
                            Click setup buttons to build physics experiments
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-secondary" id="skipQuestion">Skip Question</button>
                <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Physics Practice Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="timeSpent">0min</div>
                        <div class="stat-label">Time Spent</div>
                    </div>
                </div>
                
                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn btn-primary" id="retryTopic">Try Again</button>
                    <button class="btn btn-secondary" id="viewTopics">Other Topics</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Questions array - 25 comprehensive physics questions
        const questions = [
            {
                question: "What is friction?",
                options: ["Force that opposes motion between surfaces in contact", "Force that attracts objects to Earth", "Force that pushes objects apart", "Force that causes objects to float"],
                answer: "A",
                explanation: "Friction is a force that opposes the relative motion between two surfaces in contact. It acts parallel to the surfaces and opposite to the direction of motion."
            },
            {
                question: "Which force keeps planets in orbit around the Sun?",
                options: ["Gravitational force", "Magnetic force", "Electrostatic force", "Frictional force"],
                answer: "A",
                explanation: "Gravitational force between the Sun and planets keeps them in orbit. This force acts over large distances and depends on mass and distance."
            },
            {
                question: "What is pressure?",
                options: ["Force per unit area", "Force times distance", "Mass per unit volume", "Energy per unit time"],
                answer: "A",
                explanation: "Pressure is defined as force acting perpendicularly per unit area. Formula: P = F/A. Measured in Pascals (Pa)."
            },
            {
                question: "According to Newton's First Law of Motion, an object at rest will:",
                options: ["Stay at rest unless acted upon by a net force", "Move with constant acceleration", "Move with constant velocity", "Fall to the ground"],
                answer: "A",
                explanation: "Newton's First Law (Law of Inertia): An object at rest stays at rest, and an object in motion stays in motion with constant velocity, unless acted upon by a net external force."
            },
            {
                question: "Which type of friction is the strongest?",
                options: ["Static friction", "Rolling friction", "Kinetic friction", "Fluid friction"],
                answer: "A",
                explanation: "Static friction is generally greater than kinetic or rolling friction. It's the force that must be overcome to start an object moving."
            },
            {
                question: "What happens to pressure as you go deeper in a liquid?",
                options: ["Increases", "Decreases", "Remains constant", "Becomes zero"],
                answer: "A",
                explanation: "Pressure in a liquid increases with depth due to the weight of the liquid above. Formula: P = hœÅg, where h is depth, œÅ is density, g is gravity."
            },
            {
                question: "The acceleration due to gravity on Earth is approximately:",
                options: ["9.8 m/s¬≤", "6.7 m/s¬≤", "3.8 m/s¬≤", "1.6 m/s¬≤"],
                answer: "A",
                explanation: "The standard acceleration due to gravity on Earth's surface is 9.8 m/s¬≤ (often rounded to 10 m/s¬≤ for calculations)."
            },
            {
                question: "Which surface would have the least friction?",
                options: ["Ice", "Sandpaper", "Carpet", "Concrete"],
                answer: "A",
                explanation: "Ice has a very low coefficient of friction, making it slippery. Sandpaper has high friction due to its rough surface."
            },
            {
                question: "What is atmospheric pressure at sea level?",
                options: ["101,325 Pascals", "50,000 Pascals", "200,000 Pascals", "10,000 Pascals"],
                answer: "A",
                explanation: "Standard atmospheric pressure at sea level is 101,325 Pa, which is equivalent to 1 atmosphere, 760 mmHg, or 14.7 psi."
            },
            {
                question: "According to Newton's Third Law, for every action there is:",
                options: ["An equal and opposite reaction", "A greater reaction", "No reaction", "A similar reaction"],
                answer: "A",
                explanation: "Newton's Third Law: When one object exerts a force on another, the second object exerts an equal and opposite force on the first."
            },
            {
                question: "Which factor does NOT affect friction?",
                options: ["Color of surfaces", "Roughness of surfaces", "Normal force", "Type of material"],
                answer: "A",
                explanation: "Friction depends on surface roughness, normal force, and materials in contact, but not on color or surface area of contact."
            },
            {
                question: "What is weight?",
                options: ["Force of gravity on an object", "Amount of matter in an object", "Volume of an object", "Density of an object"],
                answer: "A",
                explanation: "Weight is the force of gravity acting on an object's mass. Formula: W = mg, where m is mass and g is gravitational acceleration."
            },
            {
                question: "Why do sharp knives cut better?",
                options: ["Less surface area means more pressure", "They have less friction", "They are heavier", "They have more force"],
                answer: "A",
                explanation: "Sharp knives have smaller cutting edge area, so the same force creates greater pressure (P = F/A), making cutting easier."
            },
            {
                question: "What is inertia?",
                options: ["Tendency of objects to resist changes in motion", "Force that causes motion", "Energy of motion", "Rate of change of velocity"],
                answer: "A",
                explanation: "Inertia is the property of matter that resists changes in motion. More mass = more inertia."
            },
            {
                question: "Which has greater gravitational force?",
                options: ["Earth-Moon system", "Two apples 1m apart", "You and your friend", "Two cars in a parking lot"],
                answer: "A",
                explanation: "Gravitational force depends on masses and distance. Earth and Moon have enormous masses compared to everyday objects."
            },
            {
                question: "What reduces friction in machines?",
                options: ["Lubrication", "Increasing surface roughness", "Adding more weight", "Using similar materials"],
                answer: "A",
                explanation: "Lubricants (oil, grease) create a slippery layer between surfaces, reducing friction and wear in machines."
            },
            {
                question: "Why do mountaineers need oxygen tanks?",
                options: ["Atmospheric pressure decreases at altitude", "Gravity decreases at altitude", "Temperature increases at altitude", "Friction increases at altitude"],
                answer: "A",
                explanation: "At high altitudes, atmospheric pressure is lower, so oxygen molecules are farther apart, making breathing difficult."
            },
            {
                question: "What is the net force when forces are balanced?",
                options: ["Zero", "Maximum", "Equal to weight", "Equal to friction"],
                answer: "A",
                explanation: "When forces are balanced (equal and opposite), the net force is zero, so there's no acceleration (object at rest or constant velocity)."
            },
            {
                question: "Which demonstrates rolling friction?",
                options: ["A ball rolling on ground", "A book sliding on table", "A car's brakes applied", "Swimming in water"],
                answer: "A",
                explanation: "Rolling friction occurs when an object rolls over a surface. It's usually less than sliding (kinetic) friction."
            },
            {
                question: "What is buoyant force?",
                options: ["Upward force exerted by fluids", "Downward force of gravity", "Force parallel to surface", "Force causing friction"],
                answer: "A",
                explanation: "Buoyant force is the upward force exerted by a fluid that opposes the weight of an immersed object (Archimedes' principle)."
            },
            {
                question: "According to Newton's Second Law:",
                options: ["F = ma", "F = mv", "F = mgh", "F = ŒºN"],
                answer: "A",
                explanation: "Newton's Second Law: Force = mass √ó acceleration (F = ma). Acceleration is in the direction of the net force."
            },
            {
                question: "Why do snowshoes prevent sinking in snow?",
                options: ["Increase area to reduce pressure", "Increase friction with snow", "Reduce weight of person", "Create more buoyancy"],
                answer: "A",
                explanation: "Snowshoes distribute weight over larger area, reducing pressure on snow (P = F/A), preventing sinking."
            },
            {
                question: "What is terminal velocity?",
                options: ["Constant maximum speed of falling object", "Initial velocity of projectile", "Velocity needed to escape gravity", "Velocity at highest point"],
                answer: "A",
                explanation: "Terminal velocity is reached when air resistance equals weight, resulting in zero net force and constant velocity."
            },
            {
                question: "Which is a contact force?",
                options: ["Friction", "Gravity", "Magnetic force", "Electrostatic force"],
                answer: "A",
                explanation: "Friction requires direct contact between surfaces. Gravity, magnetism, and electrostatic forces act at a distance."
            },
            {
                question: "What happens to gravitational force if distance doubles?",
                options: ["Becomes 1/4 of original", "Doubles", "Halves", "Quadruples"],
                answer: "A",
                explanation: "Gravitational force follows inverse square law: F ‚àù 1/r¬≤. Double distance = force becomes 1/4 of original."
            }
        ];

        // Physics tips
        const physicsTips = [
            "Remember: Forces can be contact (friction) or non-contact (gravity, magnetism)!",
            "Newton's Laws: 1) Inertia, 2) F=ma, 3) Action-Reaction pairs",
            "Pressure decreases with increasing area (sharp knives cut better!).",
            "Friction depends on: surface roughness and normal force, NOT surface area!",
            "Gravity: All masses attract each other. Force increases with mass, decreases with distance.",
            "Atmospheric pressure decreases with altitude - that's why it's hard to breathe on mountains!",
            "Static friction > Kinetic friction > Rolling friction > Fluid friction",
            "Weight = mass √ó gravity. Mass doesn't change, weight depends on location!"
        ];

        // Classification items for drag-and-drop
        const classificationItems = [
            { name: "Walking without slipping", type: "friction", color: "#F44336" },
            { name: "Planets orbiting Sun", type: "gravity", color: "#2196F3" },
            { name: "Scuba diving pressure", type: "pressure", color: "#4CAF50" },
            { name: "Car brakes heating", type: "friction", color: "#F44336" },
            { name: "Apple falling from tree", type: "gravity", color: "#2196F3" },
            { name: "Hydraulic lifts", type: "pressure", color: "#4CAF50" },
            { name: "Sandpaper smoothing wood", type: "friction", color: "#F44336" },
            { name: "Tides in oceans", type: "gravity", color: "#2196F3" },
            { name: "Airplane wing lift", type: "pressure", color: "#4CAF50" },
            { name: "Slipping on banana peel", type: "friction", color: "#F44336" },
            { name: "Satellites in space", type: "gravity", color: "#2196F3" },
            { name: "Syringe drawing medicine", type: "pressure", color: "#4CAF50" }
        ];

        // Properties data
        const properties = {
            force: [
                { name: "Magnitude", value: "Size or strength of force (Newtons)" },
                { name: "Direction", value: "Line along which force acts" },
                { name: "Point of Application", value: "Where force is applied" },
                { name: "Line of Action", value: "Straight line through point of application" },
                { name: "Type", value: "Contact or non-contact force" },
                { name: "Effect", value: "Can cause motion, deformation, or rotation" }
            ],
            motion: [
                { name: "Speed", value: "Distance traveled per unit time (m/s)" },
                { name: "Velocity", value: "Speed with direction (vector)" },
                { name: "Acceleration", value: "Rate of change of velocity (m/s¬≤)" },
                { name: "Momentum", value: "Mass √ó velocity (kg¬∑m/s)" },
                { name: "Inertia", value: "Resistance to change in motion" },
                { name: "Kinetic Energy", value: "Energy of motion = ¬Ωmv¬≤" }
            ],
            energy: [
                { name: "Potential Energy", value: "Stored energy (mgh or ¬Ωkx¬≤)" },
                { name: "Kinetic Energy", value: "Energy of motion (¬Ωmv¬≤)" },
                { name: "Mechanical Energy", value: "PE + KE (conserved if no friction)" },
                { name: "Work", value: "Force √ó distance (energy transfer)" },
                { name: "Power", value: "Rate of doing work (Watts)" },
                { name: "Efficiency", value: "Useful output √∑ total input" }
            ],
            fluid: [
                { name: "Density", value: "Mass per unit volume (kg/m¬≥)" },
                { name: "Buoyancy", value: "Upward force in fluids" },
                { name: "Viscosity", value: "Resistance to flow (thickness)" },
                { name: "Surface Tension", value: "Elastic skin effect at surface" },
                { name: "Hydrostatic Pressure", value: "Pressure in fluids at rest" },
                { name: "Pascal's Principle", value: "Pressure transmitted equally" }
            ]
        };

        // Comparison details
        const comparisonDetails = {
            static_friction: {
                title: "Static Friction",
                info: "Acts on objects at rest. Must be overcome to start motion. Generally greater than kinetic friction. Examples: Pushing a heavy box that doesn't move, car tires gripping road before skidding."
            },
            kinetic_friction: {
                title: "Kinetic Friction",
                info: "Acts on objects already in motion. Also called sliding friction. Less than static friction. Examples: Sliding a book on table, car tires skidding, ice skating."
            },
            rolling_friction: {
                title: "Rolling Friction",
                info: "When objects roll over surfaces. Much less than sliding friction. Examples: Ball rolling, bicycle wheels, ball bearings in machines."
            },
            fluid_friction: {
                title: "Fluid Friction",
                info: "When objects move through fluids (liquids or gases). Also called drag. Depends on speed, shape, and fluid viscosity. Examples: Swimming, parachuting, car air resistance."
            },
            atmospheric_pressure: {
                title: "Atmospheric Pressure",
                info: "Pressure exerted by weight of air above. About 101,325 Pa at sea level. Decreases with altitude. Measured with barometers. Causes: weather systems, breathing, suction cups."
            },
            liquid_pressure: {
                title: "Liquid Pressure",
                info: "Pressure in liquids increases with depth. P = hœÅg. Same at same depth regardless of container shape. Examples: Dam design, submarine hulls, deep sea diving."
            },
            gas_pressure: {
                title: "Gas Pressure",
                info: "From gas molecules colliding with surfaces. Depends on temperature, volume, and number of molecules. Examples: Tire pressure, balloon inflation, pressure cookers."
            },
            hydraulic_pressure: {
                title: "Hydraulic Pressure",
                info: "Pressure transmitted equally through confined liquid (Pascal's Principle). Allows force multiplication. Examples: Hydraulic lifts, car brakes, excavators."
            }
        };

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            studentName: "",
            startTime: null,
            currentClassification: [],
            draggedItem: null,
            currentProperties: 'force'
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const backToHomeBtn = document.getElementById('backToHome');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const physicsTip = document.getElementById('physicsTip');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const feedbackExplanation = document.getElementById('feedbackExplanation');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const timeSpent = document.getElementById('timeSpent');
        const frictionModel = document.getElementById('frictionModel');
        const gravityModel = document.getElementById('gravityModel');
        const pressureModel = document.getElementById('pressureModel');
        const motionLab = document.getElementById('motionLab');
        const propertiesList = document.getElementById('propertiesList');
        const classificationItemsContainer = document.getElementById('classificationItems');
        const classificationFeedback = document.getElementById('classificationFeedback');
        const labBench = document.getElementById('labBench');
        const labInstructions = document.getElementById('labInstructions');
        const surfaceRoughnessValue = document.getElementById('surfaceRoughnessValue');
        const gravityStrengthValue = document.getElementById('gravityStrengthValue');
        const pressureLevelValue = document.getElementById('pressureLevelValue');

        // Initialize
        function initApp() {
            setupEventListeners();
            showWelcomePage();
            setupClassification();
            showForceProperties();
            createForceModels();
        }

        // Setup classification
        function setupClassification() {
            newClassificationChallenge();
        }

        function newClassificationChallenge() {
            // Shuffle and select 6 random items
            const shuffled = [...classificationItems].sort(() => Math.random() - 0.5).slice(0, 6);
            appState.currentClassification = shuffled;
            
            classificationItemsContainer.innerHTML = '';
            classificationFeedback.textContent = 'Drag items to correct categories';
            classificationFeedback.style.color = 'var(--text-secondary)';
            
            // Clear zones
            document.getElementById('zoneFriction').innerHTML = '<div style="color: var(--force-red); font-weight: bold;">Friction</div>';
            document.getElementById('zoneGravity').innerHTML = '<div style="color: var(--force-blue); font-weight: bold;">Gravity</div>';
            document.getElementById('zonePressure').innerHTML = '<div style="color: var(--force-green); font-weight: bold;">Pressure</div>';
            
            shuffled.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'classification-item';
                itemDiv.textContent = item.name;
                itemDiv.style.backgroundColor = item.color;
                itemDiv.style.color = 'white';
                itemDiv.draggable = true;
                itemDiv.id = `item-${index}`;
                itemDiv.dataset.type = item.type;
                
                itemDiv.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', index);
                    appState.draggedItem = item;
                    itemDiv.style.opacity = '0.5';
                });
                
                itemDiv.addEventListener('dragend', () => {
                    itemDiv.style.opacity = '1';
                });
                
                classificationItemsContainer.appendChild(itemDiv);
            });
        }

        function allowDrop(event) {
            event.preventDefault();
            event.currentTarget.classList.add('active');
        }

        function drop(event) {
            event.preventDefault();
            const zone = event.currentTarget;
            zone.classList.remove('active');
            
            if (appState.draggedItem) {
                const itemDiv = document.createElement('div');
                itemDiv.textContent = appState.draggedItem.name;
                itemDiv.style.margin = '5px';
                itemDiv.style.padding = '5px';
                itemDiv.style.backgroundColor = appState.draggedItem.color;
                itemDiv.style.color = 'white';
                itemDiv.style.borderRadius = '4px';
                itemDiv.style.fontSize = '0.8rem';
                
                zone.appendChild(itemDiv);
                classificationFeedback.textContent = `Placed ${appState.draggedItem.name} in ${zone.id.replace('zone', '')} category`;
            }
        }

        function checkClassification() {
            let correct = 0;
            let total = appState.currentClassification.length;
            
            // Check each zone
            const zones = {
                zoneFriction: 'friction',
                zoneGravity: 'gravity', 
                zonePressure: 'pressure'
            };
            
            for (const [zoneId, correctType] of Object.entries(zones)) {
                const zone = document.getElementById(zoneId);
                const items = zone.querySelectorAll('div:not(:first-child)'); // Skip title div
                
                items.forEach(item => {
                    const itemName = item.textContent;
                    const originalItem = appState.currentClassification.find(i => i.name === itemName);
                    
                    if (originalItem && originalItem.type === correctType) {
                        correct++;
                        item.style.border = '2px solid var(--force-green)';
                    } else {
                        item.style.border = '2px solid var(--force-red)';
                    }
                });
            }
            
            const percentage = Math.round((correct / total) * 100);
            classificationFeedback.textContent = `Score: ${correct}/${total} (${percentage}%)`;
            classificationFeedback.style.color = percentage >= 80 ? 'var(--force-green)' : 
                                               percentage >= 60 ? 'var(--force-yellow)' : 'var(--force-red)';
            
            if (percentage === 100) {
                classificationFeedback.textContent += ' - Perfect! All items correctly classified!';
            }
        }

        function resetClassification() {
            newClassificationChallenge();
        }

        // Create force models
        function createForceModels() {
            showFrictionModel('static');
            showGravityModel('earth');
            showPressureModel('liquid');
        }

        function showFrictionModel(type) {
            frictionModel.innerHTML = '';
            
            if (type === 'static') {
                // Static friction - box not moving
                const box = document.createElement('div');
                box.className = 'force-object box-object';
                box.style.width = '60px';
                box.style.height = '40px';
                box.style.left = '30%';
                box.style.top = '40%';
                box.textContent = 'BOX';
                box.title = 'Static Friction: Box at rest\nApplied force < maximum static friction\nFriction force = applied force\nObject doesn\'t move';
                frictionModel.appendChild(box);
                
                // Applied force arrow
                const appliedArrow = document.createElement('div');
                appliedArrow.className = 'arrow';
                appliedArrow.style.left = '35%';
                appliedArrow.style.top = '50%';
                appliedArrow.style.width = '40px';
                appliedArrow.style.borderColor = '#4CAF50';
                appliedArrow.style.transform = 'rotate(0deg)';
                frictionModel.appendChild(appliedArrow);
                
                // Applied force label
                const appliedLabel = document.createElement('div');
                appliedLabel.className = 'force-label';
                appliedLabel.textContent = 'Applied Force';
                appliedLabel.style.color = '#4CAF50';
                appliedLabel.style.left = '38%';
                appliedLabel.style.top = '45%';
                frictionModel.appendChild(appliedLabel);
                
                // Friction force arrow (equal and opposite)
                const frictionArrow = document.createElement('div');
                frictionArrow.className = 'arrow';
                frictionArrow.style.left = '60%';
                frictionArrow.style.top = '50%';
                frictionArrow.style.width = '40px';
                frictionArrow.style.borderColor = '#F44336';
                frictionArrow.style.transform = 'rotate(180deg)';
                frictionModel.appendChild(frictionArrow);
                
                // Friction label
                const frictionLabel = document.createElement('div');
                frictionLabel.className = 'force-label';
                frictionLabel.textContent = 'Static Friction';
                frictionLabel.style.color = '#F44336';
                frictionLabel.style.left = '55%';
                frictionLabel.style.top = '45%';
                frictionModel.appendChild(frictionLabel);
                
                // Surface
                const surface = document.createElement('div');
                surface.style.position = 'absolute';
                surface.style.width = '100%';
                surface.style.height = '20px';
                surface.style.bottom = '0';
                surface.style.backgroundColor = '#795548';
                surface.style.borderTop = '2px solid #5D4037';
                frictionModel.appendChild(surface);
                
            } else if (type === 'kinetic') {
                // Kinetic friction - box moving
                const box = document.createElement('div');
                box.className = 'force-object box-object';
                box.style.width = '60px';
                box.style.height = '40px';
                box.style.left = '30%';
                box.style.top = '40%';
                box.textContent = 'BOX';
                box.title = 'Kinetic Friction: Box moving\nApplied force > friction\nFriction opposes motion\nObject moves with constant velocity if forces balanced';
                frictionModel.appendChild(box);
                
                // Movement animation
                box.classList.add('sliding');
                box.style.animation = 'slide 3s linear infinite';
                
                // Applied force arrow (larger)
                const appliedArrow = document.createElement('div');
                appliedArrow.className = 'arrow';
                appliedArrow.style.left = '35%';
                appliedArrow.style.top = '50%';
                appliedArrow.style.width = '60px';
                appliedArrow.style.borderColor = '#4CAF50';
                appliedArrow.style.transform = 'rotate(0deg)';
                appliedArrow.style.borderWidth = '3px';
                frictionModel.appendChild(appliedArrow);
                
                // Friction force arrow (smaller)
                const frictionArrow = document.createElement('div');
                frictionArrow.className = 'arrow';
                frictionArrow.style.left = '70%';
                frictionArrow.style.top = '50%';
                frictionArrow.style.width = '40px';
                frictionArrow.style.borderColor = '#F44336';
                frictionArrow.style.transform = 'rotate(180deg)';
                frictionModel.appendChild(frictionArrow);
                
                // Surface with roughness
                const surface = document.createElement('div');
                surface.style.position = 'absolute';
                surface.style.width = '100%';
                surface.style.height = '20px';
                surface.style.bottom = '0';
                surface.style.background = 'repeating-linear-gradient(90deg, transparent, transparent 5px, #5D4037 5px, #5D4037 10px)';
                surface.style.backgroundColor = '#795548';
                frictionModel.appendChild(surface);
                
            } else if (type === 'rolling') {
                // Rolling friction - ball
                const ball = document.createElement('div');
                ball.className = 'force-object sphere-object';
                ball.style.width = '50px';
                ball.style.height = '50px';
                ball.style.left = '30%';
                ball.style.top = '30%';
                ball.textContent = 'BALL';
                ball.title = 'Rolling Friction: Ball rolling\nMuch less than sliding friction\nCaused by deformation at contact point\nAllows wheels to work efficiently';
                ball.classList.add('sliding');
                ball.style.animation = 'slide 4s linear infinite';
                frictionModel.appendChild(ball);
                
                // Rolling arrows
                for (let i = 0; i < 3; i++) {
                    const arrow = document.createElement('div');
                    arrow.className = 'arrow';
                    arrow.style.left = `${40 + i * 20}%`;
                    arrow.style.top = '60%';
                    arrow.style.width = '15px';
                    arrow.style.borderColor = '#FF9800';
                    arrow.style.transform = 'rotate(0deg)';
                    frictionModel.appendChild(arrow);
                }
                
                // Smooth surface
                const surface = document.createElement('div');
                surface.style.position = 'absolute';
                surface.style.width = '100%';
                surface.style.height = '20px';
                surface.style.bottom = '0';
                surface.style.backgroundColor = '#78909C';
                surface.style.borderTop = '2px solid #546E7A';
                frictionModel.appendChild(surface);
            }
        }

        function showGravityModel(type) {
            gravityModel.innerHTML = '';
            
            if (type === 'earth') {
                // Earth's gravity
                const earth = document.createElement('div');
                earth.className = 'force-object sphere-object';
                earth.style.width = '80px';
                earth.style.height = '80px';
                earth.style.left = '50%';
                earth.style.top = '50%';
                earth.style.transform = 'translate(-50%, -50%)';
                earth.textContent = 'EARTH';
                earth.style.background = 'radial-gradient(circle at 30% 30%, #2196F3, #0D47A1)';
                earth.title = 'Earth\'s Gravity: 9.8 m/s¬≤\nPulls objects toward center\nWeight = mass √ó 9.8\nKeeps atmosphere in place';
                gravityModel.appendChild(earth);
                
                // Falling objects
                for (let i = 0; i < 3; i++) {
                    const obj = document.createElement('div');
                    obj.className = 'force-object';
                    obj.style.width = '20px';
                    obj.style.height = '20px';
                    obj.style.left = `${30 + i * 20}%`;
                    obj.style.top = `${10 + i * 5}%`;
                    obj.style.backgroundColor = '#FF9800';
                    obj.style.borderRadius = '50%';
                    obj.textContent = i === 0 ? 'A' : i === 1 ? 'B' : 'C';
                    obj.style.fontSize = '0.8rem';
                    obj.classList.add('floating');
                    obj.style.animationDelay = `${i * 0.5}s`;
                    obj.title = 'Falling object\nAcceleration: 9.8 m/s¬≤\nMass doesn\'t affect acceleration (in vacuum)';
                    gravityModel.appendChild(obj);
                    
                    // Gravity arrows
                    const arrow = document.createElement('div');
                    arrow.className = 'arrow';
                    arrow.style.left = `${31 + i * 20}%`;
                    arrow.style.top = `${15 + i * 5}%`;
                    arrow.style.width = '30px';
                    arrow.style.borderColor = '#2196F3';
                    arrow.style.transform = 'rotate(90deg)';
                    gravityModel.appendChild(arrow);
                }
                
            } else if (type === 'moon') {
                // Moon's gravity
                const moon = document.createElement('div');
                moon.className = 'force-object sphere-object';
                moon.style.width = '60px';
                moon.style.height = '60px';
                moon.style.left = '50%';
                moon.style.top = '50%';
                moon.style.transform = 'translate(-50%, -50%)';
                moon.textContent = 'MOON';
                moon.style.background = 'radial-gradient(circle at 30% 30%, #B0BEC5, #546E7A)';
                moon.title = 'Moon\'s Gravity: 1.6 m/s¬≤ (1/6 of Earth\'s)\nWeaker due to smaller mass\nAstronauts can jump high\nNo atmosphere';
                gravityModel.appendChild(moon);
                
                // Astronaut jumping
                const astronaut = document.createElement('div');
                astronaut.className = 'force-object';
                astronaut.style.width = '25px';
                astronaut.style.height = '35px';
                astronaut.style.left = '40%';
                astronaut.style.top = '40%';
                astronaut.style.backgroundColor = '#78909C';
                astronaut.style.borderRadius = '5px';
                astronaut.textContent = '‚Üë';
                astronaut.style.fontSize = '1.2rem';
                astronaut.classList.add('floating');
                astronaut.style.animationDuration = '2s';
                astronaut.title = 'Astronaut on Moon\nCan jump 6√ó higher than on Earth\nSlow fall due to weak gravity';
                gravityModel.appendChild(astronaut);
                
                // Gravity arrow (smaller)
                const arrow = document.createElement('div');
                arrow.className = 'arrow';
                arrow.style.left = '42%';
                arrow.style.top = '70%';
                arrow.style.width = '20px';
                arrow.style.borderColor = '#78909C';
                arrow.style.transform = 'rotate(90deg)';
                gravityModel.appendChild(arrow);
                
            } else if (type === 'planets') {
                // Solar system gravity
                const sun = document.createElement('div');
                sun.className = 'force-object sphere-object';
                sun.style.width = '60px';
                sun.style.height = '60px';
                sun.style.left = '50%';
                sun.style.top = '50%';
                sun.style.transform = 'translate(-50%, -50%)';
                sun.textContent = 'SUN';
                sun.style.background = 'radial-gradient(circle at 30% 30%, #FFC107, #FF9800)';
                sun.title = 'Sun\'s Gravity\nHolds solar system together\nStrongest gravity in our system\n27.9√ó Earth\'s gravity at surface';
                gravityModel.appendChild(sun);
                
                // Planets in orbit
                const planets = [
                    { name: 'Me', size: 10, distance: 20, color: '#795548', period: 2 },
                    { name: 'V', size: 12, distance: 35, color: '#FF9800', period: 3 },
                    { name: 'E', size: 13, distance: 50, color: '#2196F3', period: 4 },
                    { name: 'Ma', size: 11, distance: 65, color: '#F44336', period: 5 }
                ];
                
                planets.forEach((planet, i) => {
                    const planetDiv = document.createElement('div');
                    planetDiv.className = 'force-object sphere-object';
                    planetDiv.style.width = `${planet.size}px`;
                    planetDiv.style.height = `${planet.size}px`;
                    planetDiv.style.left = '50%';
                    planetDiv.style.top = '50%';
                    planetDiv.style.marginLeft = `${planet.distance}px`;
                    planetDiv.style.backgroundColor = planet.color;
                    planetDiv.textContent = planet.name;
                    planetDiv.style.fontSize = '0.6rem';
                    planetDiv.title = `Planet ${planet.name}\nOrbiting Sun due to gravity\nF = G(Mm)/r¬≤\nOrbital period: ${planet.period} Earth years`;
                    
                    // Create orbit animation
                    planetDiv.style.transformOrigin = `-${planet.distance}px center`;
                    planetDiv.classList.add('spinning');
                    planetDiv.style.animationDuration = `${planet.period * 2}s`;
                    
                    gravityModel.appendChild(planetDiv);
                    
                    // Orbit path
                    const orbit = document.createElement('div');
                    orbit.style.position = 'absolute';
                    orbit.style.width = `${planet.distance * 2}px`;
                    orbit.style.height = `${planet.distance * 2}px`;
                    orbit.style.left = `calc(50% - ${planet.distance}px)`;
                    orbit.style.top = `calc(50% - ${planet.distance}px)`;
                    orbit.style.border = '1px dashed rgba(255, 255, 255, 0.3)';
                    orbit.style.borderRadius = '50%';
                    gravityModel.appendChild(orbit);
                });
            }
        }

        function showPressureModel(type) {
            pressureModel.innerHTML = '';
            
            if (type === 'liquid') {
                // Liquid pressure increases with depth
                const container = document.createElement('div');
                container.style.position = 'absolute';
                container.style.width = '80%';
                container.style.height = '70%';
                container.style.left = '10%';
                container.style.top = '15%';
                container.style.border = '2px solid #4CAF50';
                container.style.borderRadius = '0 0 10px 10px';
                container.style.borderTop = 'none';
                pressureModel.appendChild(container);
                
                // Liquid fill
                const liquid = document.createElement('div');
                liquid.style.position = 'absolute';
                liquid.style.width = '100%';
                liquid.style.height = '100%';
                liquid.style.backgroundColor = 'rgba(33, 150, 243, 0.3)';
                liquid.style.borderRadius = '0 0 8px 8px';
                container.appendChild(liquid);
                
                // Pressure arrows at different depths
                const depths = [20, 50, 80]; // percentages from top
                depths.forEach(depth => {
                    const pressure = document.createElement('div');
                    pressure.className = 'arrow';
                    pressure.style.position = 'absolute';
                    pressure.style.left = '30%';
                    pressure.style.top = `${depth}%`;
                    pressure.style.width = `${20 + depth * 0.3}px`; // Longer arrows at bottom
                    pressure.style.borderColor = '#F44336';
                    pressure.style.borderWidth = '2px';
                    pressure.style.transform = 'rotate(0deg)';
                    pressure.title = `Liquid pressure at ${depth}% depth\nP = hœÅg\nPressure increases with depth\nSame in all directions`;
                    pressureModel.appendChild(pressure);
                    
                    // Pressure label
                    const label = document.createElement('div');
                    label.className = 'force-label';
                    label.textContent = `P = ${depth} kPa`;
                    label.style.color = '#F44336';
                    label.style.left = '35%';
                    label.style.top = `${depth - 5}%`;
                    label.style.fontSize = '0.7rem';
                    pressureModel.appendChild(label);
                });
                
                // Objects at different depths
                const objects = [
                    { depth: 25, name: 'Fish', size: 30 },
                    { depth: 60, name: 'Sub', size: 40 },
                    { depth: 85, name: 'Treasure', size: 25 }
                ];
                
                objects.forEach(obj => {
                    const object = document.createElement('div');
                    object.className = 'force-object';
                    object.style.left = '60%';
                    object.style.top = `${obj.depth}%`;
                    object.style.width = `${obj.size}px`;
                    object.style.height = `${obj.size}px`;
                    object.style.backgroundColor = '#FF9800';
                    object.style.borderRadius = '5px';
                    object.textContent = obj.name;
                    object.style.fontSize = '0.7rem';
                    object.style.display = 'flex';
                    object.style.alignItems = 'center';
                    object.style.justifyContent = 'center';
                    object.title = `${obj.name} at ${obj.depth}% depth\nExperiences pressure from water above\nDeeper = more pressure`;
                    pressureModel.appendChild(object);
                });
                
            } else if (type === 'gas') {
                // Gas pressure from molecular collisions
                const container = document.createElement('div');
                container.style.position = 'absolute';
                container.style.width = '80%';
                container.style.height = '70%';
                container.style.left = '10%';
                container.style.top = '15%';
                container.style.border = '2px solid #FF9800';
                container.style.borderRadius = '10px';
                pressureModel.appendChild(container);
                
                // Gas molecules (random motion)
                for (let i = 0; i < 20; i++) {
                    const molecule = document.createElement('div');
                    molecule.className = 'force-object sphere-object';
                    molecule.style.width = '15px';
                    molecule.style.height = '15px';
                    molecule.style.left = `${10 + Math.random() * 70}%`;
                    molecule.style.top = `${10 + Math.random() * 60}%`;
                    molecule.style.backgroundColor = '#E91E63';
                    molecule.textContent = '‚Ä¢';
                    molecule.style.fontSize = '1.2rem';
                    
                    // Random movement
                    molecule.style.animation = `float ${1 + Math.random() * 3}s ease-in-out infinite`;
                    molecule.style.animationDelay = `${Math.random() * 2}s`;
                    
                    molecule.title = 'Gas molecule\nRandom motion\nCollides with walls = pressure\nMore molecules or faster = more pressure';
                    pressureModel.appendChild(molecule);
                    
                    // Occasionally show collision arrow
                    if (i % 5 === 0) {
                        const collision = document.createElement('div');
                        collision.className = 'arrow';
                        collision.style.position = 'absolute';
                        collision.style.left = molecule.style.left;
                        collision.style.top = molecule.style.top;
                        collision.style.width = '20px';
                        collision.style.borderColor = '#FF9800';
                        collision.style.transform = `rotate(${Math.random() * 360}deg)`;
                        pressureModel.appendChild(collision);
                    }
                }
                
                // Pressure arrows on walls
                const walls = [
                    { pos: '5%', rot: 0, label: 'Left wall' },
                    { pos: '95%', rot: 180, label: 'Right wall' },
                    { pos: '50%', rot: 90, label: 'Top' },
                    { pos: '50%', rot: 270, label: 'Bottom' }
                ];
                
                walls.forEach(wall => {
                    const arrow = document.createElement('div');
                    arrow.className = 'arrow';
                    arrow.style.position = 'absolute';
                    
                    if (wall.rot === 0 || wall.rot === 180) {
                        arrow.style.left = wall.pos;
                        arrow.style.top = '50%';
                    } else {
                        arrow.style.left = '50%';
                        arrow.style.top = wall.pos;
                    }
                    
                    arrow.style.width = '25px';
                    arrow.style.borderColor = '#4CAF50';
                    arrow.style.transform = `rotate(${wall.rot}deg)`;
                    arrow.title = `${wall.label}\nGas pressure = force/area\nFrom molecule collisions\nEqual in all directions`;
                    pressureModel.appendChild(arrow);
                });
                
            } else if (type === 'atmospheric') {
                // Atmospheric pressure layers
                const layers = [
                    { height: 20, color: 'rgba(33, 150, 243, 0.8)', name: 'Troposphere', pressure: '100%' },
                    { height: 15, color: 'rgba(33, 150, 243, 0.6)', name: 'Stratosphere', pressure: '10%' },
                    { height: 15, color: 'rgba(33, 150, 243, 0.4)', name: 'Mesosphere', pressure: '1%' },
                    { height: 15, color: 'rgba(33, 150, 243, 0.2)', name: 'Thermosphere', pressure: '0.01%' }
                ];
                
                let currentTop = 0;
                layers.forEach(layer => {
                    const layerDiv = document.createElement('div');
                    layerDiv.style.position = 'absolute';
                    layerDiv.style.width = '100%';
                    layerDiv.style.height = `${layer.height}%`;
                    layerDiv.style.top = `${currentTop}%`;
                    layerDiv.style.backgroundColor = layer.color;
                    layerDiv.style.borderBottom = '1px solid rgba(255,255,255,0.3)';
                    pressureModel.appendChild(layerDiv);
                    
                    // Layer label
                    const label = document.createElement('div');
                    label.className = 'force-label';
                    label.textContent = `${layer.name}: ${layer.pressure}`;
                    label.style.color = 'white';
                    label.style.left = '5%';
                    label.style.top = `${currentTop + 2}%`;
                    label.style.fontSize = '0.7rem';
                    pressureModel.appendChild(label);
                    
                    currentTop += layer.height;
                });
                
                // Earth surface
                const earth = document.createElement('div');
                earth.style.position = 'absolute';
                earth.style.width = '100%';
                earth.style.height = '35%';
                earth.style.bottom = '0';
                earth.style.backgroundColor = '#8BC34A';
                earth.style.borderTop = '2px solid #689F38';
                pressureModel.appendChild(earth);
                
                // Pressure arrows decreasing upward
                for (let i = 0; i < 4; i++) {
                    const yPos = 80 - i * 20;
                    const arrowLength = 40 - i * 8;
                    
                    const arrow = document.createElement('div');
                    arrow.className = 'arrow';
                    arrow.style.position = 'absolute';
                    arrow.style.left = '50%';
                    arrow.style.top = `${yPos}%`;
                    arrow.style.width = `${arrowLength}px`;
                    arrow.style.borderColor = '#F44336';
                    arrow.style.borderWidth = '2px';
                    arrow.style.transform = 'rotate(90deg)';
                    arrow.title = `Atmospheric pressure at ${100 - yPos}% height\nDecreases with altitude\nSea level: 101,325 Pa\nMount Everest: ~33,000 Pa`;
                    pressureModel.appendChild(arrow);
                    
                    // Altitude marker
                    const marker = document.createElement('div');
                    marker.className = 'force-label';
                    marker.textContent = `${i * 5} km`;
                    marker.style.color = '#F44336';
                    marker.style.left = '55%';
                    marker.style.top = `${yPos - 3}%`;
                    marker.style.fontSize = '0.7rem';
                    pressureModel.appendChild(marker);
                }
                
                // Mountain
                const mountain = document.createElement('div');
                mountain.style.position = 'absolute';
                mountain.style.width = '40px';
                mountain.style.height = '30px';
                mountain.style.right = '20%';
                mountain.style.bottom = '35%';
                mountain.style.backgroundColor = '#795548';
                mountain.style.clipPath = 'polygon(50% 0%, 0% 100%, 100% 100%)';
                pressureModel.appendChild(mountain);
                
                // Climber
                const climber = document.createElement('div');
                climber.className = 'force-object';
                climber.style.width = '15px';
                climber.style.height = '20px';
                climber.style.right = '22%';
                climber.style.bottom = '50%';
                climber.style.backgroundColor = '#FF9800';
                climber.style.borderRadius = '3px';
                climber.textContent = '‚Üë';
                climber.style.fontSize = '0.8rem';
                climber.title = 'Mountain climber\nLower pressure at high altitude\nHarder to breathe\nNeed oxygen tanks above 8,000m';
                pressureModel.appendChild(climber);
            }
        }

        // Motion demonstrations
        function demonstrateMotion(type) {
            motionLab.innerHTML = '';
            
            if (type === 'incline') {
                // Inclined plane
                const ramp = document.createElement('div');
                ramp.className = 'apparatus ramp';
                ramp.style.width = '150px';
                ramp.style.height = '20px';
                ramp.style.left = '10%';
                ramp.style.top = '60%';
                ramp.style.transform = 'rotate(-20deg)';
                ramp.style.transformOrigin = 'bottom left';
                motionLab.appendChild(ramp);
                
                const box = document.createElement('div');
                box.className = 'force-object box-object';
                box.style.width = '40px';
                box.style.height = '30px';
                box.style.left = '15%';
                box.style.top = '40%';
                box.textContent = 'BOX';
                box.style.fontSize = '0.8rem';
                box.title = 'Box on inclined plane\nWeight has components:\n‚Ä¢ Perpendicular: Normal force\n‚Ä¢ Parallel: Causes sliding\nFriction opposes motion';
                motionLab.appendChild(box);
                
                // Force arrows
                const forces = [
                    { name: 'Weight', color: '#2196F3', angle: 90, length: 50 },
                    { name: 'Normal', color: '#4CAF50', angle: 70, length: 30 },
                    { name: 'Friction', color: '#F44336', angle: 250, length: 20 }
                ];
                
                forces.forEach(force => {
                    const arrow = document.createElement('div');
                    arrow.className = 'arrow';
                    arrow.style.left = '18%';
                    arrow.style.top = '45%';
                    arrow.style.width = `${force.length}px`;
                    arrow.style.borderColor = force.color;
                    arrow.style.transform = `rotate(${force.angle}deg)`;
                    motionLab.appendChild(arrow);
                });
                
                setTimeout(() => {
                    alert("Inclined Plane:\n\nAn inclined plane reduces the force needed to lift objects by increasing the distance. The steeper the slope, the greater the force needed.\n\nForces:\n1. Weight (mg) - straight down\n2. Normal force - perpendicular to surface\n3. Friction - parallel to surface, opposes motion\n4. Applied force - to push/pull object");
                }, 500);
                
            } else if (type === 'pendulum') {
                // Pendulum
                const pivot = document.createElement('div');
                pivot.className = 'force-object';
                pivot.style.width = '10px';
                pivot.style.height = '10px';
                pivot.style.left = '50%';
                pivot.style.top = '20%';
                pivot.style.backgroundColor = '#FF9800';
                pivot.style.borderRadius = '50%';
                motionLab.appendChild(pivot);
                
                const string = document.createElement('div');
                string.className = 'apparatus';
                string.style.width = '2px';
                string.style.height = '80px';
                string.style.left = '50.5%';
                string.style.top = '21%';
                string.style.backgroundColor = 'rgba(255,255,255,0.5)';
                string.style.transformOrigin = 'top center';
                motionLab.appendChild(string);
                
                const bob = document.createElement('div');
                bob.className = 'force-object sphere-object';
                bob.style.width = '30px';
                bob.style.height = '30px';
                bob.style.left = '49%';
                bob.style.top = '65%';
                bob.textContent = 'B';
                bob.title = 'Pendulum bob\nPeriod depends only on length (T = 2œÄ‚àö(L/g))\nRestoring force = component of weight\nEnergy converts: PE ‚Üî KE';
                bob.classList.add('floating');
                bob.style.animationDuration = '2s';
                bob.style.animationTimingFunction = 'ease-in-out';
                motionLab.appendChild(bob);
                
                // Force arrows
                const weightArrow = document.createElement('div');
                weightArrow.className = 'arrow';
                weightArrow.style.left = '51%';
                weightArrow.style.top = '72%';
                weightArrow.style.width = '40px';
                weightArrow.style.borderColor = '#2196F3';
                weightArrow.style.transform = 'rotate(90deg)';
                motionLab.appendChild(weightArrow);
                
                const tensionArrow = document.createElement('div');
                tensionArrow.className = 'arrow';
                tensionArrow.style.left = '50%';
                tensionArrow.style.top = '65%';
                tensionArrow.style.width = '30px';
                tensionArrow.style.borderColor = '#4CAF50';
                tensionArrow.style.transform = 'rotate(220deg)';
                motionLab.appendChild(tensionArrow);
                
                setTimeout(() => {
                    alert("Pendulum Motion:\n\nA pendulum demonstrates periodic motion and simple harmonic motion.\n\nKey points:\n‚Ä¢ Period depends on length: T = 2œÄ‚àö(L/g)\n‚Ä¢ Independent of mass and amplitude (for small angles)\n‚Ä¢ Energy converts between potential (height) and kinetic (speed)\n‚Ä¢ Restoring force = component of weight toward equilibrium");
                }, 500);
                
            } else if (type === 'spring') {
                // Spring force
                const spring = document.createElement('div');
                spring.className = 'apparatus spring';
                spring.style.width = '10px';
                spring.style.height = '60px';
                spring.style.left = '50%';
                spring.style.top = '30%';
                spring.style.transform = 'translateX(-50%)';
                motionLab.appendChild(spring);
                
                const weight = document.createElement('div');
                weight.className = 'force-object box-object';
                weight.style.width = '40px';
                weight.style.height = '30px';
                weight.style.left = '46%';
                weight.style.top = '65%';
                weight.textContent = 'MASS';
                weight.style.fontSize = '0.8rem';
                weight.title = 'Mass on spring\nHooke\'s Law: F = -kx\nSpring force proportional to displacement\nOscillates with period T = 2œÄ‚àö(m/k)';
                motionLab.appendChild(weight);
                
                // Force arrows
                const springForce = document.createElement('div');
                springForce.className = 'arrow';
                springForce.style.left = '52%';
                springForce.style.top = '75%';
                springForce.style.width = '30px';
                springForce.style.borderColor = '#4CAF50';
                springForce.style.transform = 'rotate(270deg)';
                springForce.title = 'Spring force (restoring force)\nF = -kx\nUpward when stretched\nDownward when compressed';
                motionLab.appendChild(springForce);
                
                const weightForce = document.createElement('div');
                weightForce.className = 'arrow';
                weightForce.style.left = '48%';
                weightForce.style.top = '75%';
                weightForce.style.width = '40px';
                weightForce.style.borderColor = '#2196F3';
                weightForce.style.transform = 'rotate(90deg)';
                weightForce.title = 'Weight = mg\nAlways downward\nCauses spring to stretch';
                motionLab.appendChild(weightForce);
                
                // Add oscillation animation
                weight.classList.add('floating');
                weight.style.animationDuration = '1.5s';
                
                setTimeout(() => {
                    alert("Spring Force (Hooke's Law):\n\nF = -kx\n\nWhere:\nF = spring force (N)\nk = spring constant (N/m)\nx = displacement from equilibrium (m)\n\n‚Ä¢ Negative sign means force opposes displacement\n‚Ä¢ Stiffer spring = larger k\n‚Ä¢ Oscillation period: T = 2œÄ‚àö(m/k)\n‚Ä¢ Energy stored: PE = ¬Ωkx¬≤");
                }, 500);
                
            } else if (type === 'projectile') {
                // Projectile motion
                const ground = document.createElement('div');
                ground.className = 'apparatus';
                ground.style.width = '100%';
                ground.style.height = '20px';
                ground.style.bottom = '0';
                ground.style.backgroundColor = '#8BC34A';
                ground.style.borderTop = '2px solid #689F38';
                motionLab.appendChild(ground);
                
                // Projectile path
                const path = document.createElement('div');
                path.style.position = 'absolute';
                path.style.width = '150px';
                path.style.height = '80px';
                path.style.left = '10%';
                path.style.bottom = '20px';
                path.style.border = '2px dashed #FF9800';
                path.style.borderBottom = 'none';
                path.style.borderRadius = '100px 100px 0 0';
                motionLab.appendChild(path);
                
                // Projectile
                const projectile = document.createElement('div');
                projectile.className = 'force-object sphere-object';
                projectile.style.width = '20px';
                projectile.style.height = '20px';
                projectile.style.left = '10%';
                projectile.style.bottom = '20px';
                projectile.style.backgroundColor = '#F44336';
                projectile.textContent = '‚Üí';
                projectile.title = 'Projectile motion\nTwo independent motions:\n‚Ä¢ Horizontal: constant velocity\n‚Ä¢ Vertical: acceleration due to gravity\nPath = parabola';
                
                // Animate along path
                projectile.style.transition = 'all 3s linear';
                setTimeout(() => {
                    projectile.style.left = '60%';
                    projectile.style.bottom = '60px';
                }, 100);
                setTimeout(() => {
                    projectile.style.left = '80%';
                    projectile.style.bottom = '20px';
                }, 2000);
                
                motionLab.appendChild(projectile);
                
                // Force arrows (gravity only during flight)
                const gravityArrow = document.createElement('div');
                gravityArrow.className = 'arrow';
                gravityArrow.style.left = '50%';
                gravityArrow.style.top = '40%';
                gravityArrow.style.width = '30px';
                gravityArrow.style.borderColor = '#2196F3';
                gravityArrow.style.transform = 'rotate(90deg)';
                gravityArrow.title = 'Gravity only vertical force\nCauses parabolic path\nHorizontal velocity constant\nVertical velocity changes';
                motionLab.appendChild(gravityArrow);
                
                setTimeout(() => {
                    alert("Projectile Motion:\n\nTwo independent motions combined:\n\nHorizontal: Constant velocity (no acceleration)\nv_x = constant\nx = v_x √ó t\n\nVertical: Constant acceleration (gravity)\na_y = -g = -9.8 m/s¬≤\nv_y = v_y0 - gt\ny = y0 + v_y0t - ¬Ωgt¬≤\n\nPath is a parabola\nRange depends on launch angle\nMaximum range at 45¬∞ (no air resistance)");
                }, 500);
            }
        }

        // Properties display
        function showForceProperties() {
            appState.currentProperties = 'force';
            displayProperties('force');
        }

        function showMotionProperties() {
            appState.currentProperties = 'motion';
            displayProperties('motion');
        }

        function showEnergyProperties() {
            appState.currentProperties = 'energy';
            displayProperties('energy');
        }

        function showFluidProperties() {
            appState.currentProperties = 'fluid';
            displayProperties('fluid');
        }

        function displayProperties(type) {
            propertiesList.innerHTML = '';
            const props = properties[type];
            
            props.forEach(property => {
                const item = document.createElement('div');
                item.className = 'property-item';
                item.innerHTML = `
                    <div class="property-name">${property.name}</div>
                    <div class="property-value">${property.value}</div>
                `;
                propertiesList.appendChild(item);
            });
            
            labInstructions.textContent = `${type.charAt(0).toUpperCase() + type.slice(1)} Properties - Click lab setup buttons below`;
        }

        // Lab setup functions
        function setupInclinePlane() {
            labBench.innerHTML = '';
            labInstructions.textContent = 'Inclined plane setup: Adjust angle to see how it affects forces and motion';
            
            const ramp = document.createElement('div');
            ramp.className = 'lab-equipment';
            ramp.style.width = '120px';
            ramp.style.height = '15px';
            ramp.style.left = '20%';
            ramp.style.top = '60%';
            ramp.style.transform = 'rotate(-15deg)';
            ramp.style.transformOrigin = 'bottom left';
            ramp.style.background = 'linear-gradient(to right, #795548, #5D4037)';
            ramp.textContent = 'Ramp';
            ramp.style.display = 'flex';
            ramp.style.alignItems = 'center';
            ramp.style.justifyContent = 'center';
            ramp.style.fontSize = '0.8rem';
            labBench.appendChild(ramp);
            
            const box = document.createElement('div');
            box.className = 'lab-equipment';
            box.style.width = '30px';
            box.style.height = '25px';
            box.style.left = '25%';
            box.style.top = '45%';
            box.style.backgroundColor = '#F44336';
            box.style.border = '2px solid #D32F2F';
            box.style.borderRadius = '3px';
            box.textContent = 'Box';
            box.style.display = 'flex';
            box.style.alignItems = 'center';
            box.style.justifyContent = 'center';
            box.style.fontSize = '0.7rem';
            labBench.appendChild(box);
            
            const protractor = document.createElement('div');
            protractor.className = 'lab-equipment';
            protractor.style.width = '40px';
            protractor.style.height = '40px';
            protractor.style.left = '60%';
            protractor.style.top = '30%';
            protractor.style.border = '2px solid #2196F3';
            protractor.style.borderRadius = '50%';
            protractor.innerHTML = '<div style="transform: rotate(15deg); width: 100%; height: 2px; background: #2196F3; position: absolute; top: 50%;"></div><div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 0.7rem;">15¬∞</div>';
            labBench.appendChild(protractor);
        }

        function setupPressureExp() {
            labBench.innerHTML = '';
            labInstructions.textContent = 'Pressure experiment: Different sized weights on same area show pressure differences';
            
            const platform = document.createElement('div');
            platform.className = 'lab-equipment';
            platform.style.width = '80px';
            platform.style.height = '10px';
            platform.style.left = '50%';
            platform.style.top = '70%';
            platform.style.transform = 'translateX(-50%)';
            platform.style.backgroundColor = '#795548';
            platform.textContent = 'Platform';
            platform.style.display = 'flex';
            platform.style.alignItems = 'center';
            platform.style.justifyContent = 'center';
            platform.style.fontSize = '0.7rem';
            labBench.appendChild(platform);
            
            const weights = [
                { size: 25, left: '30%', label: 'Small' },
                { size: 35, left: '50%', label: 'Medium' },
                { size: 45, left: '70%', label: 'Large' }
            ];
            
            weights.forEach(weight => {
                const weightDiv = document.createElement('div');
                weightDiv.className = 'lab-equipment';
                weightDiv.style.width = `${weight.size}px`;
                weightDiv.style.height = `${weight.size}px`;
                weightDiv.style.left = weight.left;
                weightDiv.style.top = `${70 - weight.size / 2}%`;
                weightDiv.style.transform = 'translateX(-50%)';
                weightDiv.style.backgroundColor = '#2196F3';
                weightDiv.style.border = '2px solid #1976D2';
                weightDiv.style.borderRadius = '3px';
                weightDiv.textContent = weight.label;
                weightDiv.style.display = 'flex';
                weightDiv.style.alignItems = 'center';
                weightDiv.style.justifyContent = 'center';
                weightDiv.style.fontSize = '0.7rem';
                labBench.appendChild(weightDiv);
            });
        }

        function setupFrictionExp() {
            labBench.innerHTML = '';
            labInstructions.textContent = 'Friction experiment: Compare different surfaces and weights';
            
            const surfaces = [
                { name: 'Ice', color: '#E3F2FD', left: '15%' },
                { name: 'Wood', color: '#8D6E63', left: '40%' },
                { name: 'Sandpaper', color: '#5D4037', left: '65%' }
            ];
            
            surfaces.forEach(surface => {
                const surfaceDiv = document.createElement('div');
                surfaceDiv.className = 'lab-equipment';
                surfaceDiv.style.width = '60px';
                surfaceDiv.style.height = '15px';
                surfaceDiv.style.left = surface.left;
                surfaceDiv.style.top = '70%';
                surfaceDiv.style.backgroundColor = surface.color;
                surfaceDiv.style.borderTop = '2px solid rgba(0,0,0,0.2)';
                surfaceDiv.textContent = surface.name;
                surfaceDiv.style.display = 'flex';
                surfaceDiv.style.alignItems = 'center';
                surfaceDiv.style.justifyContent = 'center';
                surfaceDiv.style.fontSize = '0.7rem';
                labBench.appendChild(surfaceDiv);
                
                const block = document.createElement('div');
                block.className = 'lab-equipment';
                block.style.width = '25px';
                block.style.height = '20px';
                block.style.left = `calc(${surface.left} + 15px)`;
                block.style.top = '60%';
                block.style.backgroundColor = '#F44336';
                block.style.border = '2px solid #D32F2F';
                block.style.borderRadius = '2px';
                labBench.appendChild(block);
            });
        }

        function clearLabBench() {
            labBench.innerHTML = '';
            labInstructions.textContent = 'Click setup buttons to build physics experiments';
        }

        // Control functions
        window.updateSurfaceRoughness = function(value) {
            const roughness = Math.round(value / 25);
            surfaceRoughnessValue.textContent = roughness === 2 ? 'Medium' : roughness < 2 ? 'Smooth' : 'Rough';
            
            // Update friction model appearance
            const surface = frictionModel.querySelector('div[style*="background-color: #795548"]');
            if (surface) {
                if (roughness < 2) {
                    surface.style.background = '#795548';
                    surface.style.borderTop = '2px solid #6D4C41';
                } else if (roughness === 2) {
                    surface.style.background = 'repeating-linear-gradient(90deg, transparent, transparent 5px, #5D4037 5px, #5D4037 10px)';
                    surface.style.backgroundColor = '#795548';
                } else {
                    surface.style.background = 'repeating-linear-gradient(90deg, #5D4037, #5D4037 3px, #4E342E 3px, #4E342E 6px)';
                }
            }
        };

        window.updateGravityStrength = function(value) {
            const strength = Math.round(value / 25);
            gravityStrengthValue.textContent = strength === 2 ? 'Earth (1g)' : strength < 2 ? 'Moon (0.16g)' : 'Jupiter (2.5g)';
            
            // Update falling speed
            const fallingObjects = gravityModel.querySelectorAll('.floating');
            fallingObjects.forEach(obj => {
                const duration = strength === 2 ? '3s' : strength < 2 ? '5s' : '1.5s';
                obj.style.animationDuration = duration;
            });
        };

        window.updatePressureLevel = function(value) {
            const level = Math.round(value / 25);
            pressureLevelValue.textContent = level === 2 ? 'Normal' : level < 2 ? 'Low' : 'High';
            
            // Update pressure arrow sizes
            const arrows = pressureModel.querySelectorAll('.arrow');
            arrows.forEach(arrow => {
                const currentWidth = parseInt(arrow.style.width);
                if (!isNaN(currentWidth)) {
                    const multiplier = level === 2 ? 1 : level < 2 ? 0.5 : 1.5;
                    arrow.style.width = `${currentWidth * multiplier}px`;
                }
            });
        };

        // Comparison detail
        window.showComparisonDetail = function(detail) {
            const detailInfo = comparisonDetails[detail];
            if (!detailInfo) return;
            
            let info = `${detailInfo.title}\n\n`;
            info += `${detailInfo.info}`;
            
            alert(info);
        };

        // Physics detail
        window.showPhysicsDetail = function(topic) {
            let info = '';
            if (topic === 'friction') {
                info = "‚ö° Friction ‚ö°\n\n";
                info += "Definition: Force that opposes relative motion between surfaces in contact.\n\n";
                info += "Types:\n";
                info += "1. Static Friction: Acts on objects at rest. Strongest type.\n";
                info += "   ‚Ä¢ Must be overcome to start motion\n";
                info += "   ‚Ä¢ Examples: Pushing heavy furniture, car tires before skidding\n\n";
                info += "2. Kinetic/Sliding Friction: Acts on moving objects.\n";
                info += "   ‚Ä¢ Less than static friction\n";
                info += "   ‚Ä¢ Examples: Sliding book on table, ice skating\n\n";
                info += "3. Rolling Friction: When objects roll.\n";
                info += "   ‚Ä¢ Much less than sliding friction\n";
                info += "   ‚Ä¢ Examples: Ball rolling, bicycle wheels, ball bearings\n\n";
                info += "4. Fluid Friction: Through liquids/gases.\n";
                info += "   ‚Ä¢ Also called drag or air resistance\n";
                info += "   ‚Ä¢ Examples: Swimming, parachuting, car air resistance\n\n";
                info += "Factors affecting friction:\n";
                info += "‚Ä¢ Surface roughness (rough = more friction)\n";
                info += "‚Ä¢ Normal force (heavier = more friction)\n";
                info += "‚Ä¢ Type of materials\n";
                info += "‚Ä¢ NOT surface area of contact\n\n";
                info += "Formula: f = ŒºN\n";
                info += "f = frictional force, Œº = coefficient of friction, N = normal force";
            } else if (topic === 'gravity') {
                info = "üåç Gravity üåç\n\n";
                info += "Definition: Force of attraction between any two masses.\n\n";
                info += "Characteristics:\n";
                info += "‚Ä¢ Universal: Acts between all masses\n";
                info += "‚Ä¢ Weakest fundamental force but acts over long distances\n";
                info += "‚Ä¢ Always attractive, never repulsive\n";
                info += "‚Ä¢ Responsible for: Orbits, tides, weight, holding universe together\n\n";
                info += "Newton's Law of Universal Gravitation:\n";
                info += "F = G(m‚ÇÅm‚ÇÇ)/r¬≤\n\n";
                info += "Where:\n";
                info += "F = gravitational force\n";
                info += "G = gravitational constant (6.674 √ó 10‚Åª¬π¬π N¬∑m¬≤/kg¬≤)\n";
                info += "m‚ÇÅ, m‚ÇÇ = masses of objects\n";
                info += "r = distance between centers\n\n";
                info += "Weight = Force of gravity on an object:\n";
                info += "W = mg (g = 9.8 m/s¬≤ on Earth)\n\n";
                info += "Gravity on different bodies:\n";
                info += "‚Ä¢ Earth: 9.8 m/s¬≤ (1g)\n";
                info += "‚Ä¢ Moon: 1.6 m/s¬≤ (0.16g)\n";
                info += "‚Ä¢ Mars: 3.7 m/s¬≤ (0.38g)\n";
                info += "‚Ä¢ Jupiter: 24.8 m/s¬≤ (2.53g)\n\n";
                info += "Effects: Orbits, tides, falling objects, black holes!";
            } else if (topic === 'pressure') {
                info = "üîΩ Pressure üîΩ\n\n";
                info += "Definition: Force acting perpendicularly per unit area.\n\n";
                info += "Formula: P = F/A\n\n";
                info += "Where:\n";
                info += "P = pressure (Pascals, Pa)\n";
                info += "F = force (Newtons, N)\n";
                info += "A = area (square meters, m¬≤)\n\n";
                info += "Types of Pressure:\n\n";
                info += "1. Atmospheric Pressure:\n";
                info += "   ‚Ä¢ Weight of air above\n";
                info += "   ‚Ä¢ Sea level: 101,325 Pa (1 atm, 760 mmHg, 14.7 psi)\n";
                info += "   ‚Ä¢ Decreases with altitude\n";
                info += "   ‚Ä¢ Measured with barometers\n\n";
                info += "2. Liquid Pressure:\n";
                info += "   ‚Ä¢ P = hœÅg (h = depth, œÅ = density, g = gravity)\n";
                info += "   ‚Ä¢ Increases with depth\n";
                info += "   ‚Ä¢ Same at same depth in connected liquid\n";
                info += "   ‚Ä¢ Independent of container shape\n\n";
                info += "3. Gas Pressure:\n";
                info += "   ‚Ä¢ From gas molecule collisions\n";
                info += "   ‚Ä¢ Depends on temperature, volume, number of molecules\n";
                info += "   ‚Ä¢ Equal in all directions\n\n";
                info += "Applications:\n";
                info += "‚Ä¢ Hydraulic systems (Pascal's Principle)\n";
                info += "‚Ä¢ Scuba diving (increased pressure)\n";
                info += "‚Ä¢ Suction cups (atmospheric pressure)\n";
                info += "‚Ä¢ Sharp knives (small area = high pressure)\n";
                info += "‚Ä¢ Snowshoes (large area = low pressure)";
            } else {
                info = "üìè Motion & Forces üìè\n\n";
                info += "Newton's Laws of Motion:\n\n";
                info += "First Law (Inertia):\n";
                info += "An object at rest stays at rest, and an object in motion stays in motion with constant velocity, unless acted upon by a net external force.\n\n";
                info += "Second Law (F = ma):\n";
                info += "The acceleration of an object is directly proportional to the net force acting on it and inversely proportional to its mass.\n";
                info += "F = ma (Force = mass √ó acceleration)\n\n";
                info += "Third Law (Action-Reaction):\n";
                info += "For every action, there is an equal and opposite reaction.\n";
                info += "When object A exerts force on object B, object B exerts equal force on object A in opposite direction.\n\n";
                info += "Types of Forces:\n";
                info += "‚Ä¢ Contact forces: Friction, normal, tension, applied\n";
                info += "‚Ä¢ Non-contact forces: Gravity, magnetism, electrostatic\n\n";
                info += "Key Concepts:\n";
                info += "‚Ä¢ Net Force: Vector sum of all forces\n";
                info += "‚Ä¢ Equilibrium: Net force = 0 (no acceleration)\n";
                info += "‚Ä¢ Free-body diagrams: Show all forces on object\n";
                info += "‚Ä¢ Mass vs Weight: Mass = amount of matter, Weight = force of gravity\n\n";
                info += "Applications: Car safety (seatbelts, airbags), rockets, sports, structures";
            }
            alert(info);
        };

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', showWelcomePage);
            viewTopicsBtn.addEventListener('click', () => alert("Other science topics would be available here."));
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') startPractice();
            });
        }

        // Create physics tip display
        function createPhysicsTip() {
            const tipDiv = document.createElement('div');
            tipDiv.className = 'physics-tip';
            tipDiv.innerHTML = `<strong>Physics Tip:</strong> ${physicsTips[Math.floor(Math.random() * physicsTips.length)]}`;
            return tipDiv;
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            appState.startTime = new Date();
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const percentage = Math.round((appState.score / questions.length) * 100);
            const timeDiff = new Date() - appState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            timeSpent.textContent = `${minutes}min`;
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a physics genius!";
            } else if (percentage >= 75) {
                scoreMessage.textContent = "Excellent work! You understand forces very well!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good job! You're getting the hang of physics!";
            } else {
                scoreMessage.textContent = "Keep practicing! Physics explains how our universe works!";
            }
        }

        // Load question
        function loadQuestion() {
            const question = questions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${questions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            physicsTip.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            physicsTip.appendChild(createPhysicsTip());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = questions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation);
            }
            
            nextQuestionBtn.disabled = false;
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Skip question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Retry topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            showPracticePage();
        }

        // Start practice
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin physics practice!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            showPracticePage();
        }

        // Initialize app
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
