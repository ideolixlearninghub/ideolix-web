<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 3 Science - Living & Non-Living Things | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Dark Theme */
        :root {
            --primary-green: #00C853;
            --secondary-orange: #FF6D00;
            --accent-purple: #7C4DFF;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(0, 200, 83, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Slideshow */
        .slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(0, 200, 83, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-green);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 200, 83, 0.4);
        }

        .btn-primary:hover {
            background: #00B248;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 200, 83, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-orange);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 109, 0, 0.4);
        }

        .btn-secondary:hover {
            background: #E65C00;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 109, 0, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-green);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Topic Selection Page */
        .topics-page {
            display: none;
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .topic-card {
            background: var(--dark-surface);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }

        .topic-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-green);
            box-shadow: var(--shadow), var(--glow);
        }

        .topic-icon {
            width: 60px;
            height: 60px;
            margin-bottom: 15px;
            border-radius: 12px;
            background: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }

        .topic-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .topic-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Learning Content Page */
        .learning-page {
            display: none;
        }

        .content-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--primary-green);
            border-bottom: 2px solid var(--primary-green);
            padding-bottom: 10px;
        }

        .concept-explanation {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 4px solid var(--accent-purple);
        }

        .concept-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .concept-description {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .characteristics-list {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .characteristic-item {
            margin-bottom: 8px;
            padding-left: 10px;
            border-left: 2px solid var(--secondary-orange);
        }

        /* Classification Activity */
        .classification-activity {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .item-card {
            background: var(--dark-card);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: grab;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 120px;
        }

        .item-card:hover {
            border-color: var(--accent-purple);
            transform: translateY(-3px);
        }

        .item-card.dragging {
            opacity: 0.7;
        }

        .item-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .item-name {
            font-size: 1rem;
            font-weight: 500;
        }

        .classification-areas {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 25px;
        }

        @media (max-width: 768px) {
            .classification-areas {
                grid-template-columns: 1fr;
            }
        }

        .classification-area {
            background: var(--dark-card);
            border-radius: 12px;
            padding: 20px;
            min-height: 200px;
            border: 2px dashed var(--dark-border);
            transition: all 0.3s ease;
        }

        .classification-area.active {
            border-color: var(--primary-green);
            background: rgba(0, 200, 83, 0.05);
        }

        .area-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            text-align: center;
            color: var(--text-primary);
        }

        .area-items {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            min-height: 150px;
            align-items: flex-start;
        }

        /* Characteristics Matching */
        .matching-activity {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .matching-pairs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 768px) {
            .matching-pairs {
                grid-template-columns: 1fr;
            }
        }

        .matching-item {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
            text-align: center;
        }

        .matching-item:hover {
            border-color: var(--secondary-orange);
        }

        .matching-item.matched {
            background: rgba(0, 200, 83, 0.1);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        /* Quiz Section */
        .quiz-section {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-green);
            background: rgba(0, 200, 83, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(0, 200, 83, 0.1);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-bg);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
        }

        .option.correct .option-letter {
            background: var(--primary-green);
            color: white;
        }

        .option.incorrect .option-letter {
            background: #F44336;
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            display: none;
        }

        .feedback-correct {
            background: rgba(0, 200, 83, 0.1);
            border-left: 5px solid var(--primary-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-green);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-green);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
        }

        /* Progress Tracking */
        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-green), var(--secondary-orange));
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(0, 200, 83, 0.5);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-green);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Science Facts */
        .science-facts {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
        }

        .facts-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary-green);
        }

        .facts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .fact-card {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid var(--accent-purple);
        }

        .fact-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .fact-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .topics-grid {
                grid-template-columns: 1fr;
            }
            
            .items-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .facts-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        .bounce {
            animation: bounce 1s;
        }

        /* Special styling for science content */
        .science-example {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--accent-purple);
            line-height: 1.6;
        }

        .living-example {
            border-left-color: var(--primary-green);
        }

        .nonliving-example {
            border-left-color: var(--secondary-orange);
        }

        .highlight {
            background-color: rgba(255, 215, 0, 0.2);
            padding: 2px 4px;
            border-radius: 4px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Background Slideshow -->
    <div class="slideshow" id="slideshow">
        <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1418065460487-3e41a6c84dc5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1470115636492-6d2b56f9146d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1459411552884-841db9b3cc2a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1426170042593-200f250dfdaf?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 3 Science - Living & Non-Living Things</h1>
            <p class="welcome-subtitle">Explore the amazing world around us! Learn how to tell the difference between living organisms and non-living objects through fun activities and interactive games.</p>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startLearning">
                    <span>Start Exploring</span>
                </button>
            </div>
        </div>

        <!-- Topics Selection Page -->
        <div class="topics-page card fade-in" id="topicsPage">
            <h2 class="welcome-title">Science Learning Activities</h2>
            <p class="welcome-subtitle">Choose an activity to learn about living and non-living things in different ways.</p>
            
            <div class="topics-grid">
                <div class="topic-card" data-topic="learn">
                    <div class="topic-icon">üìö</div>
                    <h3 class="topic-title">Learn & Explore</h3>
                    <p class="topic-description">Discover the characteristics of living and non-living things with interactive lessons.</p>
                </div>
                
                <div class="topic-card" data-topic="classify">
                    <div class="topic-icon">üóÇÔ∏è</div>
                    <h3 class="topic-title">Classification Game</h3>
                    <p class="topic-description">Practice sorting items into living and non-living categories.</p>
                </div>
                
                <div class="topic-card" data-topic="quiz">
                    <div class="topic-icon">üß†</div>
                    <h3 class="topic-title">Knowledge Quiz</h3>
                    <p class="topic-description">Test your understanding with fun multiple-choice questions.</p>
                </div>
            </div>
        </div>

        <!-- Learning Content Page -->
        <div class="learning-page card fade-in" id="learningPage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Section 1 of 3</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 33%"></div>
                </div>
            </div>

            <!-- Learning Content Section -->
            <div class="content-section" id="learningContent">
                <h2 class="section-title">What Makes Something Living?</h2>
                
                <div class="concept-explanation">
                    <h3 class="concept-title">Living Things</h3>
                    <p class="concept-description">Living things are organisms that have life. They grow, reproduce, respond to their environment, and need energy to survive.</p>
                    
                    <div class="science-example living-example">
                        <p><strong>Examples of living things:</strong> plants, animals, humans, insects, bacteria</p>
                    </div>
                    
                    <h4>Characteristics of Living Things:</h4>
                    <ul class="characteristics-list">
                        <li class="characteristic-item"><strong>Grow and Develop:</strong> Living things get bigger and change over time</li>
                        <li class="characteristic-item"><strong>Reproduce:</strong> They can make more of their own kind</li>
                        <li class="characteristic-item"><strong>Respond to Environment:</strong> They react to changes around them</li>
                        <li class="characteristic-item"><strong>Need Energy:</strong> They require food or sunlight for energy</li>
                        <li class="characteristic-item"><strong>Breathe:</strong> They exchange gases with their environment</li>
                        <li class="characteristic-item"><strong>Move:</strong> They can change position or location</li>
                    </ul>
                </div>

                <div class="concept-explanation">
                    <h3 class="concept-title">Non-Living Things</h3>
                    <p class="concept-description">Non-living things do not have life. They don't grow, reproduce, or need energy in the same way living things do.</p>
                    
                    <div class="science-example nonliving-example">
                        <p><strong>Examples of non-living things:</strong> rocks, water, air, toys, buildings, cars</p>
                    </div>
                    
                    <h4>Characteristics of Non-Living Things:</h4>
                    <ul class="characteristics-list">
                        <li class="characteristic-item"><strong>Don't Grow:</strong> They don't get bigger or develop</li>
                        <li class="characteristic-item"><strong>Don't Reproduce:</strong> They can't make more of themselves</li>
                        <li class="characteristic-item"><strong>Don't Need Energy:</strong> They don't require food or produce waste</li>
                        <li class="characteristic-item"><strong>Don't Breathe:</strong> They don't exchange gases</li>
                        <li class="characteristic-item"><strong>Don't Respond:</strong> They don't react to their environment</li>
                    </ul>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" id="nextSection1">Next: Classification Game</button>
                </div>
            </div>

            <!-- Classification Activity Section -->
            <div class="content-section" id="classificationActivity" style="display: none;">
                <h2 class="section-title">Classification Game</h2>
                <p class="welcome-subtitle">Drag and drop each item into the correct category - living or non-living!</p>
                
                <div class="classification-activity">
                    <div class="items-grid" id="itemsGrid">
                        <!-- Items will be populated by JavaScript -->
                    </div>
                    
                    <div class="classification-areas">
                        <div class="classification-area" id="livingArea" data-type="living">
                            <h3 class="area-title">Living Things</h3>
                            <div class="area-items" id="livingItems">
                                <!-- Dragged items will appear here -->
                            </div>
                        </div>
                        
                        <div class="classification-area" id="nonLivingArea" data-type="nonliving">
                            <h3 class="area-title">Non-Living Things</h3>
                            <div class="area-items" id="nonLivingItems">
                                <!-- Dragged items will appear here -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-outline" id="prevSection1">Previous: Learning</button>
                    <button class="btn btn-primary" id="nextSection2">Next: Knowledge Quiz</button>
                </div>
            </div>

            <!-- Quiz Section -->
            <div class="content-section" id="quizSection" style="display: none;">
                <h2 class="section-title">Knowledge Quiz</h2>
                <p class="welcome-subtitle">Test your knowledge about living and non-living things!</p>
                
                <div class="quiz-section">
                    <div class="question-container">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                        
                        <div class="navigation-buttons">
                            <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                            <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                        </div>
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-outline" id="prevSection2">Previous: Classification</button>
                    <button class="btn btn-primary" id="completeLearning">Complete Learning</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Science Exploration Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="activitiesCompleted">0</div>
                        <div class="stat-label">Activities Completed</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="itemsClassified">0</div>
                        <div class="stat-label">Items Classified</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>

            <div class="science-facts">
                <h3 class="facts-title">Amazing Science Facts</h3>
                <div class="facts-grid">
                    <div class="fact-card">
                        <h4 class="fact-title">Plants Are Living Too!</h4>
                        <p class="fact-description">Plants might not move like animals, but they grow, reproduce, respond to sunlight, and need water and nutrients to survive - all characteristics of living things!</p>
                    </div>
                    <div class="fact-card">
                        <h4 class="fact-title">Fire - A Special Case</h4>
                        <p class="fact-description">Fire seems alive because it grows, moves, and needs "food" (fuel) and "breathes" oxygen. But it can't reproduce or respond to its environment, so it's non-living!</p>
                    </div>
                    <div class="fact-card">
                        <h4 class="fact-title">Seeds Are Amazing</h4>
                        <p class="fact-description">Seeds might not seem alive when dry, but they contain tiny living plants waiting for the right conditions to grow. This is called dormancy!</p>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Explore Again</button>
                <button class="btn btn-secondary" id="viewTopics">View Other Activities</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize slideshow
        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 5000);
        }

        // Science Content Data
        const scienceData = {
            classificationItems: [
                { name: "Dog", type: "living", icon: "üêï" },
                { name: "Rock", type: "nonliving", icon: "ü™®" },
                { name: "Tree", type: "living", icon: "üå≥" },
                { name: "Car", type: "nonliving", icon: "üöó" },
                { name: "Butterfly", type: "living", icon: "ü¶ã" },
                { name: "Book", type: "nonliving", icon: "üìö" },
                { name: "Flower", type: "living", icon: "üå∫" },
                { name: "Pencil", type: "nonliving", icon: "‚úèÔ∏è" },
                { name: "Fish", type: "living", icon: "üê†" },
                { name: "Ball", type: "nonliving", icon: "‚öΩ" },
                { name: "Bird", type: "living", icon: "üê¶" },
                { name: "Chair", type: "nonliving", icon: "ü™ë" }
            ],
            quizQuestions: [
                {
                    question: "Which of these is a characteristic of ALL living things?",
                    options: ["They grow and develop", "They can fly", "They make their own food", "They have fur"],
                    answer: "A",
                    explanation: "All living things grow and develop during their lifetime, even if they can't fly, make their own food, or have fur."
                },
                {
                    question: "What do living things need that non-living things don't need?",
                    options: ["Energy", "Color", "Shape", "Weight"],
                    answer: "A",
                    explanation: "Living things need energy from food or sunlight to survive, while non-living things don't need energy in the same way."
                },
                {
                    question: "Which of these is a living thing?",
                    options: ["A growing plant", "A plastic toy", "A stone", "A glass of water"],
                    answer: "A",
                    explanation: "A growing plant is living because it grows, reproduces, and needs energy. The other options are non-living."
                },
                {
                    question: "How can you tell if something is non-living?",
                    options: ["It doesn't grow or reproduce", "It is always small", "It doesn't have colors", "It is always hard"],
                    answer: "A",
                    explanation: "Non-living things don't grow, develop, or reproduce like living things do."
                },
                {
                    question: "Which characteristic do plants and animals share?",
                    options: ["They both respond to their environment", "They both can walk", "They both make their own food", "They both have eyes"],
                    answer: "A",
                    explanation: "Both plants and animals respond to their environment, even though they do it in different ways."
                },
                {
                    question: "Why is a car NOT considered a living thing?",
                    options: ["It doesn't grow or reproduce", "It is too big", "It is made of metal", "It has wheels"],
                    answer: "A",
                    explanation: "A car doesn't have the characteristics of living things - it doesn't grow, reproduce, or need energy from food."
                },
                {
                    question: "What happens when living things don't get what they need?",
                    options: ["They may die", "They turn into non-living things", "They change color", "They become smaller"],
                    answer: "A",
                    explanation: "Living things need food, water, and shelter to survive. Without these, they cannot live."
                },
                {
                    question: "Which of these can reproduce?",
                    options: ["A cat", "A table", "A rock", "A pencil"],
                    answer: "A",
                    explanation: "Cats are living things that can reproduce and have babies. The other items are non-living and cannot reproduce."
                },
                {
                    question: "How do plants get energy?",
                    options: ["From sunlight through photosynthesis", "From eating other plants", "From the soil directly", "From water only"],
                    answer: "A",
                    explanation: "Plants use sunlight to make their own food through a process called photosynthesis."
                },
                {
                    question: "Which of these is NON-living?",
                    options: ["A cloud", "A worm", "A tree", "A butterfly"],
                    answer: "A",
                    explanation: "A cloud is non-living because it doesn't grow, reproduce, or need energy. The other options are living things."
                }
            ]
        };

        // App state
        let appState = {
            studentName: "",
            currentSection: "learning",
            quizScore: 0,
            quizAnswered: 0,
            classifiedItems: 0,
            activitiesCompleted: 0,
            currentQuestionIndex: 0
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent science skills!",
            "Fantastic knowledge!",
            "Great job!",
            "Amazing!",
            "Well done!",
            "You're a science expert!",
            "Perfect!",
            "Outstanding!",
            "Brilliant!",
            "You're on fire!"
        ];

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const topicsPage = document.getElementById('topicsPage');
        const learningPage = document.getElementById('learningPage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startLearningBtn = document.getElementById('startLearning');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const topicCards = document.querySelectorAll('.topic-card');

        // Section navigation
        const learningContent = document.getElementById('learningContent');
        const classificationActivity = document.getElementById('classificationActivity');
        const quizSection = document.getElementById('quizSection');
        const nextSection1 = document.getElementById('nextSection1');
        const nextSection2 = document.getElementById('nextSection2');
        const prevSection1 = document.getElementById('prevSection1');
        const prevSection2 = document.getElementById('prevSection2');
        const completeLearning = document.getElementById('completeLearning');

        // Quiz elements
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');

        // Results elements
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const activitiesCompleted = document.getElementById('activitiesCompleted');
        const itemsClassified = document.getElementById('itemsClassified');
        const highestScore = document.getElementById('highestScore');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');

        // Initialize the app
        function initApp() {
            initSlideshow();
            loadStateFromStorage();
            setupEventListeners();
            
            // Show appropriate page based on state
            if (appState.studentName && appState.activitiesCompleted > 0) {
                showLearningPage();
                loadSection(appState.currentSection);
            } else if (appState.studentName) {
                showTopicsPage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade3Science');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentSection = parsed.currentSection || "learning";
                appState.quizScore = parsed.quizScore || 0;
                appState.quizAnswered = parsed.quizAnswered || 0;
                appState.classifiedItems = parsed.classifiedItems || 0;
                appState.activitiesCompleted = parsed.activitiesCompleted || 0;
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade3Science', JSON.stringify(appState));
        }

        // Setup event listeners
        function setupEventListeners() {
            startLearningBtn.addEventListener('click', startLearning);
            
            // Add event listeners to topic cards
            topicCards.forEach(card => {
                card.addEventListener('click', () => selectTopic(card.dataset.topic));
            });
            
            // Section navigation
            nextSection1.addEventListener('click', () => navigateSection('next'));
            nextSection2.addEventListener('click', () => navigateSection('next'));
            prevSection1.addEventListener('click', () => navigateSection('prev'));
            prevSection2.addEventListener('click', () => navigateSection('prev'));
            completeLearning.addEventListener('click', showResultsPage);
            
            // Quiz navigation
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            
            // Results navigation
            retryTopicBtn.addEventListener('click', retryTopic);
            viewTopicsBtn.addEventListener('click', backToTopics);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            
            // Allow pressing Enter to start learning
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startLearning();
                }
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            topicsPage.style.display = 'none';
            learningPage.style.display = 'none';
            resultsPage.style.display = 'none';
            
            // Clear any previous input
            studentNameInput.value = appState.studentName || '';
        }

        // Show topics page
        function showTopicsPage() {
            welcomePage.style.display = 'none';
            topicsPage.style.display = 'block';
            learningPage.style.display = 'none';
            resultsPage.style.display = 'none';
        }

        // Show learning page
        function showLearningPage() {
            welcomePage.style.display = 'none';
            topicsPage.style.display = 'none';
            learningPage.style.display = 'block';
            resultsPage.style.display = 'none';
            
            // Display student name
            studentNameDisplay.textContent = appState.studentName;
            
            // Load the current section
            loadSection(appState.currentSection);
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            topicsPage.style.display = 'none';
            learningPage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            // Calculate and display results
            const percentage = Math.round((appState.quizScore / scienceData.quizQuestions.length) * 100);
            
            finalScore.textContent = appState.quizScore;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.quizScore;
            activitiesCompleted.textContent = appState.activitiesCompleted;
            itemsClassified.textContent = appState.classifiedItems;
            
            // Get highest score from localStorage
            const highest = localStorage.getItem('ideolixGrade3Science_highestScore') || 0;
            highestScore.textContent = Math.max(highest, appState.quizScore);
            
            // Save new highest score if applicable
            if (appState.quizScore > highest) {
                localStorage.setItem('ideolixGrade3Science_highestScore', appState.quizScore);
            }
            
            // Set encouraging message
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a science superstar!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You have excellent science knowledge!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! You understand living and non-living things well!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review the concepts and try again!";
            } else {
                scoreMessage.textContent = "Keep exploring! Science is all about discovery!";
            }
            
            // Save state
            saveStateToStorage();
        }

        // Start learning - show topic selection
        function startLearning() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert('Please enter your name to continue.');
                return;
            }
            
            appState.studentName = name;
            saveStateToStorage();
            showTopicsPage();
        }

        // Select a topic and start learning
        function selectTopic(topic) {
            // For now, all topics go to the learning page
            // In a full implementation, these would go to different activities
            appState.currentSection = "learning";
            saveStateToStorage();
            showLearningPage();
        }

        // Load a specific section
        function loadSection(section) {
            // Hide all sections first
            learningContent.style.display = 'none';
            classificationActivity.style.display = 'none';
            quizSection.style.display = 'none';
            
            // Update progress
            updateProgress(section);
            
            // Load the selected section
            switch(section) {
                case 'learning':
                    learningContent.style.display = 'block';
                    break;
                case 'classification':
                    classificationActivity.style.display = 'block';
                    loadClassificationActivity();
                    break;
                case 'quiz':
                    quizSection.style.display = 'block';
                    loadQuizQuestion();
                    break;
            }
        }

        // Update progress indicator
        function updateProgress(section) {
            let progress = 33;
            let sectionText = "Section 1 of 3";
            
            switch(section) {
                case 'classification':
                    progress = 66;
                    sectionText = "Section 2 of 3";
                    break;
                case 'quiz':
                    progress = 100;
                    sectionText = "Section 3 of 3";
                    break;
            }
            
            progressText.textContent = sectionText;
            progressFill.style.width = `${progress}%`;
        }

        // Navigate between sections
        function navigateSection(direction) {
            const sections = ['learning', 'classification', 'quiz'];
            let currentIndex = sections.indexOf(appState.currentSection);
            
            if (direction === 'next' && currentIndex < sections.length - 1) {
                appState.currentSection = sections[currentIndex + 1];
            } else if (direction === 'prev' && currentIndex > 0) {
                appState.currentSection = sections[currentIndex - 1];
            }
            
            // Update activities completed
            if (direction === 'next' && currentIndex >= appState.activitiesCompleted) {
                appState.activitiesCompleted = currentIndex + 1;
            }
            
            saveStateToStorage();
            loadSection(appState.currentSection);
        }

        // Load classification activity
        function loadClassificationActivity() {
            const itemsGrid = document.getElementById('itemsGrid');
            itemsGrid.innerHTML = '';
            
            // Shuffle items
            const shuffledItems = [...scienceData.classificationItems]
                .sort(() => 0.5 - Math.random());
            
            // Create item cards
            shuffledItems.forEach(item => {
                const itemCard = document.createElement('div');
                itemCard.className = 'item-card';
                itemCard.setAttribute('draggable', 'true');
                itemCard.setAttribute('data-type', item.type);
                itemCard.innerHTML = `
                    <div class="item-icon">${item.icon}</div>
                    <div class="item-name">${item.name}</div>
                `;
                
                // Add drag event listeners
                itemCard.addEventListener('dragstart', handleDragStart);
                itemCard.addEventListener('dragend', handleDragEnd);
                
                itemsGrid.appendChild(itemCard);
            });
            
            // Setup drop zones
            const livingArea = document.getElementById('livingArea');
            const nonLivingArea = document.getElementById('nonLivingArea');
            
            livingArea.addEventListener('dragover', handleDragOver);
            livingArea.addEventListener('drop', (e) => handleDrop(e, 'living'));
            
            nonLivingArea.addEventListener('dragover', handleDragOver);
            nonLivingArea.addEventListener('drop', (e) => handleDrop(e, 'nonliving'));
            
            // Reset classified items count
            appState.classifiedItems = 0;
            saveStateToStorage();
        }

        // Drag and drop handlers
        function handleDragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.getAttribute('data-type'));
            e.target.classList.add('dragging');
            
            // Add visual feedback to drop zones
            document.querySelectorAll('.classification-area').forEach(area => {
                area.classList.add('active');
            });
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
            
            // Remove visual feedback from drop zones
            document.querySelectorAll('.classification-area').forEach(area => {
                area.classList.remove('active');
            });
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDrop(e, expectedType) {
            e.preventDefault();
            const itemType = e.dataTransfer.getData('text/plain');
            const draggedElement = document.querySelector('.item-card.dragging');
            
            if (draggedElement && itemType === expectedType) {
                // Correct classification
                const areaItems = e.currentTarget.querySelector('.area-items');
                
                // Create a new card for the drop area (don't move the original)
                const newCard = document.createElement('div');
                newCard.className = 'item-card';
                newCard.innerHTML = draggedElement.innerHTML;
                newCard.style.cursor = 'default';
                
                areaItems.appendChild(newCard);
                
                // Remove the original card
                draggedElement.remove();
                
                // Update classified items count
                appState.classifiedItems++;
                saveStateToStorage();
                
                // Show success feedback
                showClassificationFeedback(true, `Correct! ${draggedElement.querySelector('.item-name').textContent} is a ${expectedType} thing.`);
            } else if (draggedElement) {
                // Incorrect classification
                showClassificationFeedback(false, `Try again! ${draggedElement.querySelector('.item-name').textContent} is not a ${expectedType} thing.`);
            }
        }

        // Show classification feedback
        function showClassificationFeedback(isCorrect, message) {
            // Create a temporary feedback element
            const feedback = document.createElement('div');
            feedback.style.position = 'fixed';
            feedback.style.top = '50%';
            feedback.style.left = '50%';
            feedback.style.transform = 'translate(-50%, -50%)';
            feedback.style.padding = '20px 30px';
            feedback.style.borderRadius = '12px';
            feedback.style.fontWeight = 'bold';
            feedback.style.zIndex = '1000';
            feedback.style.boxShadow = '0 8px 32px rgba(0, 0, 0, 0.4)';
            feedback.textContent = message;
            
            if (isCorrect) {
                feedback.style.background = 'var(--primary-green)';
                feedback.style.color = 'white';
            } else {
                feedback.style.background = 'var(--secondary-orange)';
                feedback.style.color = 'white';
            }
            
            document.body.appendChild(feedback);
            
            // Remove after 2 seconds
            setTimeout(() => {
                document.body.removeChild(feedback);
            }, 2000);
        }

        // Load quiz question
        function loadQuizQuestion() {
            const question = scienceData.quizQuestions[appState.currentQuestionIndex];
            
            // Set question text
            questionText.textContent = question.question;
            
            // Clear previous options and feedback
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            // Create option elements
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectQuizOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle quiz option selection
        function selectQuizOption(optionElement, selectedIndex) {
            const question = scienceData.quizQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            // Disable all options
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Mark correct/incorrect
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                // Correct answer
                optionElement.classList.add('correct');
                appState.quizScore++;
                appState.quizAnswered++;
                
                // Show positive feedback
                showQuizFeedback(true, question.explanation);
            } else {
                // Incorrect answer
                optionElement.classList.add('incorrect');
                appState.quizAnswered++;
                
                // Show negative feedback
                showQuizFeedback(false, question.explanation, question.answer);
            }
            
            // Enable next question button
            nextQuestionBtn.disabled = false;
            
            // Save progress
            saveStateToStorage();
        }

        // Show quiz feedback
        function showQuizFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    feedbackMessage.textContent = `Correct answer: ${String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65))}`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
        }

        // Move to next quiz question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < scienceData.quizQuestions.length) {
                loadQuizQuestion();
            } else {
                // Quiz completed
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current quiz question
        function skipQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < scienceData.quizQuestions.length) {
                loadQuizQuestion();
            } else {
                // Quiz completed
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.quizScore = 0;
            appState.quizAnswered = 0;
            appState.classifiedItems = 0;
            appState.currentQuestionIndex = 0;
            appState.currentSection = "learning";
            saveStateToStorage();
            showLearningPage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            showTopicsPage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
