<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 4 Science - Living & Non-Living Things | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Science Theme */
        :root {
            --primary-green: #4CAF50;
            --secondary-blue: #2196F3;
            --accent-orange: #FF9800;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(76, 175, 80, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Slideshow */
        .slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(76, 175, 80, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 25px;
            border: 1px solid var(--primary-green);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-green);
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-green);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-primary:hover {
            background: #43A047;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-blue);
            color: white;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);
        }

        .btn-secondary:hover {
            background: #1E88E5;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-green);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Mode */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-green), var(--secondary-blue));
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .science-fact {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-orange);
            font-style: italic;
            color: var(--text-secondary);
        }

        .item-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .item-box {
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-blue));
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .item-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .item-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 5px;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-green);
            background: rgba(76, 175, 80, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-card);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            background: var(--secondary-blue);
        }

        .option.correct .option-letter {
            background: var(--primary-green);
        }

        .option.incorrect .option-letter {
            background: #F44336;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 5px solid var(--primary-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-green);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-green);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
        }

        /* Characteristics Diagram */
        .characteristics-diagram {
            max-width: 600px;
            margin: 20px auto;
            position: relative;
            height: 200px;
        }

        .characteristic-element {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            width: 120px;
        }

        .characteristic-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            border: 2px solid var(--accent-orange);
            font-size: 1.2rem;
        }

        .characteristic-label {
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-green);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Classification Display */
        .classification-display {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .classification-category {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            min-width: 200px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .classification-category.active {
            border-color: var(--primary-green);
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.3);
        }

        .category-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .category-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary-green);
        }

        .category-items {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .item-box {
                min-width: 140px;
                font-size: 1.5rem;
                padding: 15px 20px;
            }
            
            .classification-display {
                flex-direction: column;
                align-items: center;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes grow {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .grow {
            animation: grow 0.5s ease forwards;
        }
    </style>
</head>
<body>
    <!-- Background Slideshow -->
    <div class="slideshow" id="slideshow">
        <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1418065460487-3e41a6c84dc5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1426604966848-d7adac402bff?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1502082553048-f009c37129b9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 4 Science</h1>
            <p class="welcome-subtitle">Explore the amazing world of living and non-living things! Learn how to identify, classify, and understand the characteristics that make things alive. Discover the building blocks of our world!</p>
            
            <div class="topic-badge">
                <span class="topic-icon">ðŸŒ±</span>
                <span class="topic-name">Living & Non-Living Things</span>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>Start Science Adventure</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 100</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 1%"></div>
                </div>
            </div>

            <div class="question-container">
                <h2 class="question-text" id="questionText"></h2>
                
                <!-- Science fact display -->
                <div id="scienceFact"></div>
                
                <!-- Item display area -->
                <div id="itemDisplay"></div>
                
                <!-- Characteristics diagram -->
                <div id="characteristicsDiagram"></div>
                
                <!-- Classification display -->
                <div id="classificationDisplay"></div>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-message"></div>
                    <div class="feedback-explanation"></div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                    <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Science Exploration Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Try Again</button>
                <button class="btn btn-secondary" id="viewTopics">Explore Other Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize slideshow
        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 5000);
        }

        // Questions array - 100 Grade 4 Science questions covering living and non-living things
        const questions = [
            // Basic Characteristics (1-30)
            {
                type: "characteristic",
                question: "Which characteristic do all living things share?",
                options: ["They can grow", "They are made of metal", "They never change", "They don't need energy"],
                answer: "A",
                explanation: "All living things can grow and develop. Growth is one of the key characteristics of life."
            },
            {
                type: "characteristic",
                question: "What do living things need to survive?",
                options: ["Food, water, and air", "Only sunlight", "Only water", "Nothing special"],
                answer: "A",
                explanation: "Living things need food for energy, water for survival, and air (oxygen) for respiration."
            },
            {
                type: "characteristic",
                question: "Which is NOT a characteristic of living things?",
                options: ["Made of plastic", "Can reproduce", "Respond to environment", "Can grow"],
                answer: "A",
                explanation: "Living things are not made of plastic. They are made of cells and have specific life processes."
            },
            {
                type: "characteristic",
                question: "What process do living things use to get energy from food?",
                options: ["Respiration", "Photosynthesis only", "Digestion only", "Evaporation"],
                answer: "A",
                explanation: "Respiration is the process where living things break down food to release energy."
            },
            {
                type: "characteristic",
                question: "How do living things produce more of their own kind?",
                options: ["Reproduction", "Respiration", "Growth", "Excretion"],
                answer: "A",
                explanation: "Reproduction allows living things to produce offspring and continue their species."
            },
            {
                type: "characteristic",
                question: "What do we call the ability of living things to react to changes?",
                options: ["Response to stimuli", "Reproduction", "Respiration", "Growth"],
                answer: "A",
                explanation: "Response to stimuli means reacting to changes in the environment like light, temperature, or touch."
            },
            {
                type: "characteristic",
                question: "Which process removes waste from living things?",
                options: ["Excretion", "Respiration", "Reproduction", "Growth"],
                answer: "A",
                explanation: "Excretion is the removal of waste products from the body of living things."
            },
            {
                type: "characteristic",
                question: "What is the basic unit of life?",
                options: ["Cell", "Atom", "Molecule", "Organ"],
                answer: "A",
                explanation: "All living things are made up of cells, which are the basic structural and functional units of life."
            },
            {
                type: "characteristic",
                question: "Which characteristic helps living things maintain stable internal conditions?",
                options: ["Homeostasis", "Reproduction", "Growth", "Respiration"],
                answer: "A",
                explanation: "Homeostasis is the ability to maintain a stable internal environment despite external changes."
            },
            {
                type: "characteristic",
                question: "What do plants use to make their own food?",
                options: ["Photosynthesis", "Respiration", "Digestion", "Excretion"],
                answer: "A",
                explanation: "Plants use photosynthesis to convert sunlight, water, and carbon dioxide into food (glucose)."
            },
            {
                type: "characteristic",
                question: "How do animals get their food?",
                options: ["By eating other organisms", "Through photosynthesis", "From rocks", "From the air"],
                answer: "A",
                explanation: "Animals cannot make their own food. They must eat plants or other animals to get energy."
            },
            {
                type: "characteristic",
                question: "What happens during growth in living things?",
                options: ["Increase in size and complexity", "They become smaller", "They change color only", "They stop moving"],
                answer: "A",
                explanation: "Growth involves an increase in size, weight, and complexity of organisms."
            },
            {
                type: "characteristic",
                question: "Which is true about non-living things?",
                options: ["They don't grow on their own", "They can reproduce", "They need food", "They can breathe"],
                answer: "A",
                explanation: "Non-living things don't grow, reproduce, need food, or breathe like living things do."
            },
            {
                type: "characteristic",
                question: "What do we call things that were once living but are now dead?",
                options: ["Once-living things", "Non-living things", "Living things", "Artificial things"],
                answer: "A",
                explanation: "Things like wood, cotton, and leather come from living things but are no longer alive."
            },
            {
                type: "characteristic",
                question: "Which characteristic allows living things to move?",
                options: ["Locomotion", "Respiration", "Growth", "Excretion"],
                answer: "A",
                explanation: "Locomotion is the ability of living things to move from one place to another."
            },
            {
                type: "characteristic",
                question: "What do living things do with the energy they get from food?",
                options: ["Use it for life processes", "Store it forever", "Throw it away", "Convert it to light"],
                answer: "A",
                explanation: "Living things use energy for growth, reproduction, movement, and other life processes."
            },
            {
                type: "characteristic",
                question: "Which process allows living things to exchange gases?",
                options: ["Breathing", "Eating", "Reproducing", "Growing"],
                answer: "A",
                explanation: "Breathing allows the exchange of oxygen and carbon dioxide with the environment."
            },
            {
                type: "characteristic",
                question: "What happens during reproduction?",
                options: ["New individuals are produced", "Energy is released", "Waste is removed", "Growth occurs"],
                answer: "A",
                explanation: "Reproduction creates new individuals of the same species."
            },
            {
                type: "characteristic",
                question: "Which is NOT a need of living things?",
                options: ["Television", "Water", "Air", "Food"],
                answer: "A",
                explanation: "While living things need water, air, and food, they don't need television to survive."
            },
            {
                type: "characteristic",
                question: "What do plants take in during photosynthesis?",
                options: ["Carbon dioxide, water, and sunlight", "Oxygen and food", "Only water", "Only soil"],
                answer: "A",
                explanation: "Plants use carbon dioxide, water, and sunlight to make food through photosynthesis."
            },
            {
                type: "characteristic",
                question: "What do animals breathe out as waste?",
                options: ["Carbon dioxide", "Oxygen", "Nitrogen", "Water vapor only"],
                answer: "A",
                explanation: "Animals breathe in oxygen and breathe out carbon dioxide as a waste product of respiration."
            },
            {
                type: "characteristic",
                question: "Which characteristic means living things can repair themselves?",
                options: ["Healing", "Reproduction", "Growth", "Respiration"],
                answer: "A",
                explanation: "Many living things can heal wounds and repair damaged tissues."
            },
            {
                type: "characteristic",
                question: "What do we call the length of time a living thing is alive?",
                options: ["Life span", "Life cycle", "Growth period", "Reproduction time"],
                answer: "A",
                explanation: "Life span is the maximum length of time an organism can live under ideal conditions."
            },
            {
                type: "characteristic",
                question: "Which process do living things use to break down food?",
                options: ["Digestion", "Photosynthesis", "Respiration", "Excretion"],
                answer: "A",
                explanation: "Digestion breaks down complex food into simpler forms that can be absorbed and used."
            },
            {
                type: "characteristic",
                question: "What happens to living things that cannot get what they need?",
                options: ["They may die", "They grow faster", "They change color", "They become non-living"],
                answer: "A",
                explanation: "Living things need certain conditions to survive. Without them, they cannot live."
            },
            {
                type: "characteristic",
                question: "Which is a waste product of plants?",
                options: ["Oxygen", "Carbon dioxide", "Food", "Water only"],
                answer: "A",
                explanation: "During photosynthesis, plants release oxygen as a waste product."
            },
            {
                type: "characteristic",
                question: "What do living things do with extra energy?",
                options: ["Store it for later use", "Throw it away", "Convert it to light", "Give it to others"],
                answer: "A",
                explanation: "Living things often store extra energy as fat, starch, or other forms for future use."
            },
            {
                type: "characteristic",
                question: "Which characteristic allows seeds to grow into plants?",
                options: ["Germination", "Photosynthesis", "Respiration", "Excretion"],
                answer: "A",
                explanation: "Germination is the process where seeds sprout and begin to grow into new plants."
            },
            {
                type: "characteristic",
                question: "What do we call the series of changes in a living thing's life?",
                options: ["Life cycle", "Life span", "Growth period", "Reproduction cycle"],
                answer: "A",
                explanation: "The life cycle includes all stages from birth to death of an organism."
            },
            {
                type: "characteristic",
                question: "Which is true about both living and non-living things?",
                options: ["Both occupy space", "Both can reproduce", "Both need food", "Both can grow"],
                answer: "A",
                explanation: "Both living and non-living things occupy space, but only living things can reproduce, need food, and grow."
            },
            // Classification (31-60)
            {
                type: "classification",
                question: "Which of these is a living thing?",
                options: ["Tree", "Rock", "Computer", "Chair"],
                answer: "A",
                explanation: "A tree is a living thing because it grows, reproduces, and carries out all life processes."
            },
            {
                type: "classification",
                question: "Which of these is a non-living thing?",
                options: ["Table", "Dog", "Flower", "Butterfly"],
                answer: "A",
                explanation: "A table is non-living because it doesn't grow, reproduce, or carry out life processes."
            },
            {
                type: "classification",
                question: "Is a cloud living or non-living?",
                options: ["Non-living", "Living", "Once-living", "Partially living"],
                answer: "A",
                explanation: "Clouds are non-living. They are made of water droplets but don't have life processes."
            },
            {
                type: "classification",
                question: "Which of these was once living?",
                options: ["Wooden desk", "Plastic bottle", "Glass window", "Metal spoon"],
                answer: "A",
                explanation: "Wood comes from trees, which were once living. The desk is made from once-living material."
            },
            {
                type: "classification",
                question: "Is a seed living or non-living?",
                options: ["Living", "Non-living", "Once-living", "Depends on the seed"],
                answer: "A",
                explanation: "A seed is a living thing because it can grow into a plant under the right conditions."
            },
            {
                type: "classification",
                question: "Which of these is always non-living?",
                options: ["Stone", "Leaf", "Egg", "Seed"],
                answer: "A",
                explanation: "Stones are always non-living. Leaves, eggs, and seeds come from living things."
            },
            {
                type: "classification",
                question: "Is fire living or non-living?",
                options: ["Non-living", "Living", "Once-living", "It depends"],
                answer: "A",
                explanation: "Fire is non-living. It grows and moves but doesn't have cells or carry out life processes."
            },
            {
                type: "classification",
                question: "Which of these is a living thing?",
                options: ["Bacteria", "Crystal", "River", "Mountain"],
                answer: "A",
                explanation: "Bacteria are living organisms with all characteristics of life."
            },
            {
                type: "classification",
                question: "Is a mushroom living or non-living?",
                options: ["Living", "Non-living", "Once-living", "Partially living"],
                answer: "A",
                explanation: "Mushrooms are living fungi that grow, reproduce, and carry out life processes."
            },
            {
                type: "classification",
                question: "Which of these is non-living?",
                options: ["Sun", "Tree", "Dog", "Fish"],
                answer: "A",
                explanation: "The sun is a star and is non-living. Trees, dogs, and fish are living things."
            },
            {
                type: "classification",
                question: "Is an apple on a tree living or non-living?",
                options: ["Living", "Non-living", "Once-living", "Partially living"],
                answer: "A",
                explanation: "An apple attached to a living tree is part of a living organism."
            },
            {
                type: "classification",
                question: "Which of these was never living?",
                options: ["Gold", "Paper", "Cotton shirt", "Leather belt"],
                answer: "A",
                explanation: "Gold is a mineral that was never alive. Paper, cotton, and leather come from living things."
            },
            {
                type: "classification",
                question: "Is a river living or non-living?",
                options: ["Non-living", "Living", "Once-living", "It contains living things"],
                answer: "A",
                explanation: "A river itself is non-living, though it may contain living organisms."
            },
            {
                type: "classification",
                question: "Which of these is living?",
                options: ["Earthworm", "Rain", "Soil", "Snow"],
                answer: "A",
                explanation: "Earthworms are living organisms. Rain, soil, and snow are non-living."
            },
            {
                type: "classification",
                question: "Is a fallen leaf living or non-living?",
                options: ["Once-living", "Living", "Non-living", "Depends on the leaf"],
                answer: "A",
                explanation: "A fallen leaf was once part of a living tree but is no longer alive."
            },
            {
                type: "classification",
                question: "Which of these is non-living?",
                options: ["Robot", "Cat", "Rose bush", "Ant"],
                answer: "A",
                explanation: "A robot is non-living. Cats, rose bushes, and ants are living things."
            },
            {
                type: "classification",
                question: "Is coral living or non-living?",
                options: ["Living", "Non-living", "Once-living", "Partially living"],
                answer: "A",
                explanation: "Coral is made by tiny living animals called polyps."
            },
            {
                type: "classification",
                question: "Which of these is living?",
                options: ["Yeast", "Salt", "Sugar", "Water"],
                answer: "A",
                explanation: "Yeast is a living fungus used in baking. Salt, sugar, and water are non-living."
            },
            {
                type: "classification",
                question: "Is a virus living or non-living?",
                options: ["Debated by scientists", "Definitely living", "Definitely non-living", "Always once-living"],
                answer: "A",
                explanation: "Viruses are at the border between living and non-living. They show some characteristics of life but not all."
            },
            {
                type: "classification",
                question: "Which of these is non-living?",
                options: ["Diamond", "Frog", "Tree", "Human"],
                answer: "A",
                explanation: "Diamond is a non-living mineral. Frogs, trees, and humans are living things."
            },
            {
                type: "classification",
                question: "Is bread mold living or non-living?",
                options: ["Living", "Non-living", "Once-living", "Partially living"],
                answer: "A",
                explanation: "Bread mold is a living fungus that grows on bread."
            },
            {
                type: "classification",
                question: "Which of these is living?",
                options: ["Algae", "Ice", "Sand", "Rock"],
                answer: "A",
                explanation: "Algae are living organisms that can photosynthesize. Ice, sand, and rocks are non-living."
            },
            {
                type: "classification",
                question: "Is a coconut living or non-living?",
                options: ["Living", "Non-living", "Once-living", "Depends if it's planted"],
                answer: "A",
                explanation: "A coconut is a seed and contains a living embryo that can grow into a palm tree."
            },
            {
                type: "classification",
                question: "Which of these is non-living?",
                options: ["Wind", "Lion", "Oak tree", "Bacteria"],
                answer: "A",
                explanation: "Wind is moving air and is non-living. Lions, oak trees, and bacteria are living."
            },
            {
                type: "classification",
                question: "Is a shell on the beach living or non-living?",
                options: ["Once-living", "Living", "Non-living", "Depends on the shell"],
                answer: "A",
                explanation: "Shells are made by living animals but are no longer alive when found empty on the beach."
            },
            {
                type: "classification",
                question: "Which of these is living?",
                options: ["Fern", "Glass", "Plastic", "Metal"],
                answer: "A",
                explanation: "Ferns are living plants. Glass, plastic, and metal are non-living materials."
            },
            {
                type: "classification",
                question: "Is a rainbow living or non-living?",
                options: ["Non-living", "Living", "Once-living", "Contains living things"],
                answer: "A",
                explanation: "A rainbow is an optical phenomenon caused by sunlight and water droplets - completely non-living."
            },
            {
                type: "classification",
                question: "Which of these is living?",
                options: ["Moss", "Stone statue", "River water", "Mountain air"],
                answer: "A",
                explanation: "Moss is a living plant. Stone statues, river water, and mountain air are non-living."
            },
            {
                type: "classification",
                question: "Is honey living or non-living?",
                options: ["Once-living", "Living", "Non-living", "Contains living things"],
                answer: "A",
                explanation: "Honey is made by living bees from flower nectar, so it comes from living sources."
            },
            {
                type: "classification",
                question: "Which of these is non-living?",
                options: ["Volcano", "Cactus", "Spider", "Grass"],
                answer: "A",
                explanation: "A volcano is a geological formation and is non-living. Cacti, spiders, and grass are living."
            },
            // Interactions and Ecosystems (61-80)
            {
                type: "interaction",
                question: "What do living things depend on from their environment?",
                options: ["Resources and conditions", "Only other living things", "Only non-living things", "Nothing specific"],
                answer: "A",
                explanation: "Living things depend on both resources (food, water) and conditions (temperature, sunlight) from their environment."
            },
            {
                type: "interaction",
                question: "How do plants depend on non-living things?",
                options: ["They need soil, water, and sunlight", "They eat rocks", "They breathe plastic", "They don't need non-living things"],
                answer: "A",
                explanation: "Plants need non-living things like soil for support, water for nutrients, and sunlight for photosynthesis."
            },
            {
                type: "interaction",
                question: "What do animals get from living things?",
                options: ["Food and shelter", "Sunlight directly", "Minerals from rocks", "Water from air only"],
                answer: "A",
                explanation: "Animals get food by eating plants or other animals, and often find shelter in living things like trees."
            },
            {
                type: "interaction",
                question: "How do non-living things affect living things?",
                options: ["They provide habitats and resources", "They eat living things", "They reproduce with them", "They don't interact"],
                answer: "A",
                explanation: "Non-living things like rocks, water, and soil provide habitats and essential resources for living things."
            },
            {
                type: "interaction",
                question: "What is a habitat?",
                options: ["Place where an organism lives", "Only the living things in an area", "Only non-living things", "A type of food"],
                answer: "A",
                explanation: "A habitat includes both living and non-living components where an organism finds what it needs to survive."
            },
            {
                type: "interaction",
                question: "How do living things change non-living things?",
                options: ["Plants break rocks with roots", "Animals create mountains", "Bacteria make new metals", "Fungi create water"],
                answer: "A",
                explanation: "Living things can physically change non-living things, like plant roots breaking rocks or worms mixing soil."
            },
            {
                type: "interaction",
                question: "What do decomposers do?",
                options: ["Break down dead organisms", "Create new living things", "Make sunlight", "Produce rocks"],
                answer: "A",
                explanation: "Decomposers like bacteria and fungi break down dead organisms, returning nutrients to the soil."
            },
            {
                type: "interaction",
                question: "How is air important to living things?",
                options: ["Provides oxygen for breathing", "Makes food directly", "Creates shelter", "Forms soil"],
                answer: "A",
                explanation: "Air provides oxygen that animals need for respiration and carbon dioxide that plants need for photosynthesis."
            },
            {
                type: "interaction",
                question: "What role does water play for living things?",
                options: ["Essential for all life processes", "Only for drinking", "Only for plants", "Not very important"],
                answer: "A",
                explanation: "Water is essential for all living things - for chemical reactions, transportation of nutrients, and temperature regulation."
            },
            {
                type: "interaction",
                question: "How does sunlight help living things?",
                options: ["Provides energy for plants", "Directly feeds animals", "Creates soil", "Makes water"],
                answer: "A",
                explanation: "Sunlight provides the energy that plants use in photosynthesis to make food, which supports most life on Earth."
            },
            {
                type: "interaction",
                question: "What is an ecosystem?",
                options: ["Community of living and non-living things", "Only living things", "Only non-living things", "Just animals"],
                answer: "A",
                explanation: "An ecosystem includes all the living organisms and non-living components that interact in a particular area."
            },
            {
                type: "interaction",
                question: "How do animals depend on plants?",
                options: ["For food and oxygen", "For making soil", "For creating water", "For producing sunlight"],
                answer: "A",
                explanation: "Animals depend on plants for food (directly or indirectly) and for the oxygen produced during photosynthesis."
            },
            {
                type: "interaction",
                question: "What do plants get from animals?",
                options: ["Carbon dioxide and pollination", "Sunlight", "Water", "Soil minerals"],
                answer: "A",
                explanation: "Plants get carbon dioxide from animal respiration and help with pollination from animals like bees."
            },
            {
                type: "interaction",
                question: "How do living things affect the air?",
                options: ["Change gas composition", "Create new gases", "Remove all oxygen", "Make air solid"],
                answer: "A",
                explanation: "Living things change air composition - plants add oxygen, animals add carbon dioxide through respiration."
            },
            {
                type: "interaction",
                question: "What is soil made from?",
                options: ["Weathered rocks and organic matter", "Only living things", "Only non-living rocks", "Just water and air"],
                answer: "A",
                explanation: "Soil contains weathered rocks (non-living) and decomposed organic matter from once-living things."
            },
            {
                type: "interaction",
                question: "How do earthworms help soil?",
                options: ["Mix and aerate it", "Make it harder", "Remove all nutrients", "Turn it to rock"],
                answer: "A",
                explanation: "Earthworms mix soil layers and create tunnels that aerate the soil, helping plant roots grow."
            },
            {
                type: "interaction",
                question: "What happens when living things die?",
                options: ["They decompose and enrich soil", "They disappear completely", "They turn to rock immediately", "They become non-living instantly"],
                answer: "A",
                explanation: "Dead organisms decompose, returning nutrients to the soil where they can be used by other living things."
            },
            {
                type: "interaction",
                question: "How do beavers change their environment?",
                options: ["Build dams that create ponds", "Make mountains grow", "Create new rivers", "Produce soil from air"],
                answer: "A",
                explanation: "Beavers build dams from trees (once-living) that create ponds, changing both living and non-living parts of their environment."
            },
            {
                type: "interaction",
                question: "What is the water cycle?",
                options: ["Movement of water between living and non-living things", "Only living things drinking", "Only water in rivers", "Just rain falling"],
                answer: "A",
                explanation: "The water cycle involves evaporation (non-living), condensation, precipitation, and use by living things."
            },
            {
                type: "interaction",
                question: "How do coral reefs form?",
                options: ["From living coral animals", "From non-living rocks only", "From fish waste only", "From seaweed accumulation"],
                answer: "A",
                explanation: "Coral reefs are built by tiny living animals (polyps) that create limestone structures, combining living and non-living components."
            },
            // Human Impact and Conservation (81-100)
            {
                type: "impact",
                question: "How do humans depend on living things?",
                options: ["For food, medicine, and materials", "Only for entertainment", "Not at all", "Only for oxygen"],
                answer: "A",
                explanation: "Humans depend on living things for food, clothing, medicine, shelter, oxygen, and many other necessities."
            },
            {
                type: "impact",
                question: "How do humans affect non-living things?",
                options: ["Mining, pollution, construction", "Making them alive", "Creating new elements", "Turning them into food"],
                answer: "A",
                explanation: "Humans affect non-living things through activities like mining minerals, polluting air and water, and construction."
            },
            {
                type: "impact",
                question: "What is conservation?",
                options: ["Protecting living and non-living resources", "Only saving animals", "Only protecting plants", "Creating new resources"],
                answer: "A",
                explanation: "Conservation involves protecting both living organisms and non-living resources like water, air, and minerals."
            },
            {
                type: "impact",
                question: "Why should we protect both living and non-living things?",
                options: ["They are interconnected", "Only living things matter", "Only non-living things last", "They are separate systems"],
                answer: "A",
                explanation: "Living and non-living things are interconnected in ecosystems, so protecting one often helps the other."
            },
            {
                type: "impact",
                question: "How does pollution affect living things?",
                options: ["Can harm or kill them", "Makes them grow faster", "Has no effect", "Always helps them"],
                answer: "A",
                explanation: "Pollution of air, water, or soil can harm living things by poisoning them or destroying their habitats."
            },
            {
                type: "impact",
                question: "What is renewable resources?",
                options: ["Resources that can be replaced", "Resources that never run out", "Only living resources", "Only non-living resources"],
                answer: "A",
                explanation: "Renewable resources like trees (living) and sunlight (non-living) can be replaced naturally."
            },
            {
                type: "impact",
                question: "What is a non-renewable resource?",
                options: ["Resources that cannot be easily replaced", "Resources that are unlimited", "Only living resources", "Only water resources"],
                answer: "A",
                explanation: "Non-renewable resources like fossil fuels and minerals take millions of years to form and cannot be easily replaced."
            },
            {
                type: "impact",
                question: "How can we reduce our impact on the environment?",
                options: ["Reduce, reuse, recycle", "Use more resources", "Ignore conservation", "Only protect animals"],
                answer: "A",
                explanation: "The 3 R's - reduce, reuse, recycle - help minimize our impact on both living and non-living parts of the environment."
            },
            {
                type: "impact",
                question: "Why are forests important?",
                options: ["Provide habitat and clean air", "Only for wood", "Only for animals", "Not very important"],
                answer: "A",
                explanation: "Forests provide habitat for living things, clean the air, prevent soil erosion, and offer many resources."
            },
            {
                type: "impact",
                question: "How does deforestation affect non-living things?",
                options: ["Increases soil erosion", "Creates more soil", "Improves water quality", "Has no effect"],
                answer: "A",
                explanation: "Deforestation increases soil erosion (non-living) because tree roots no longer hold the soil in place."
            },
            {
                type: "impact",
                question: "What is biodiversity?",
                options: ["Variety of living things", "Only number of animals", "Only plant types", "Non-living variety"],
                answer: "A",
                explanation: "Biodiversity refers to the variety of living organisms in an area, which is important for healthy ecosystems."
            },
            {
                type: "impact",
                question: "How do parks and protected areas help?",
                options: ["Conserve living and non-living things", "Only protect animals", "Only save plants", "Just for human recreation"],
                answer: "A",
                explanation: "Protected areas conserve both living organisms and their non-living environments like soil, water, and geological features."
            },
            {
                type: "impact",
                question: "What is climate change?",
                options: ["Change in Earth's climate patterns", "Only temperature change", "Only weather change", "Not related to living things"],
                answer: "A",
                explanation: "Climate change affects both living things (through habitat changes) and non-living things (through sea level rise, etc.)."
            },
            {
                type: "impact",
                question: "How do zoos help conservation?",
                options: ["Protect endangered species", "Only entertain people", "Harm animals", "Don't help at all"],
                answer: "A",
                explanation: "Modern zoos help conserve endangered species and educate people about protecting both living and non-living resources."
            },
            {
                type: "impact",
                question: "What is sustainable use?",
                options: ["Using resources without depleting them", "Using all resources quickly", "Only using non-living things", "Not using any resources"],
                answer: "A",
                explanation: "Sustainable use means using both living and non-living resources in ways that don't prevent future generations from using them."
            },
            {
                type: "impact",
                question: "How do wetlands help the environment?",
                options: ["Filter water and provide habitat", "Only grow plants", "Only hold water", "Are not important"],
                answer: "A",
                explanation: "Wetlands filter water (non-living), provide habitat for living things, and help control floods."
            },
            {
                type: "impact",
                question: "What is the importance of clean water?",
                options: ["Essential for all living things", "Only for humans", "Only for animals", "Not very important"],
                answer: "A",
                explanation: "Clean water is essential for the survival of all living organisms and for maintaining healthy ecosystems."
            },
            {
                type: "impact",
                question: "How does recycling help?",
                options: ["Reduces need for new resources", "Creates more waste", "Uses more energy", "Only helps non-living things"],
                answer: "A",
                explanation: "Recycling reduces the need to extract new resources, protecting both living habitats and non-living mineral deposits."
            },
            {
                type: "impact",
                question: "What are endangered species?",
                options: ["Living things at risk of extinction", "Non-living things disappearing", "All animals", "Only plants"],
                answer: "A",
                explanation: "Endangered species are living organisms at risk of disappearing forever, often due to human activities."
            },
            {
                type: "impact",
                question: "Why should we care about both living and non-living things?",
                options: ["They support each other in ecosystems", "Only living things matter", "Only non-living things last", "They are completely separate"],
                answer: "A",
                explanation: "Living and non-living things are interconnected in ecosystems that support all life, including human life."
            }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            currentQuestions: [],
            studentName: ""
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent scientific thinking!",
            "Fantastic observation skills!",
            "Great job! You're a science expert!",
            "Amazing! Your science knowledge is impressive!",
            "Well done! Perfect answer!",
            "You're a biology champion!",
            "Perfect! You understand living systems!",
            "Outstanding scientific knowledge!",
            "Brilliant! You think like a scientist!",
            "You're on fire! Great science insight!"
        ];

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const scienceFact = document.getElementById('scienceFact');
        const itemDisplay = document.getElementById('itemDisplay');
        const characteristicsDiagram = document.getElementById('characteristicsDiagram');
        const classificationDisplay = document.getElementById('classificationDisplay');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const highestScore = document.getElementById('highestScore');

        // Initialize the app
        function initApp() {
            initSlideshow();
            loadStateFromStorage();
            setupEventListeners();
            
            // Show appropriate page based on state
            if (appState.studentName && appState.currentQuestions.length > 0) {
                showPracticePage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade4ScienceLivingThings');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
                appState.score = parsed.score || 0;
                appState.skipped = parsed.skipped || 0;
                appState.answered = parsed.answered || 0;
                appState.currentQuestions = parsed.currentQuestions || [];
                
                // If we have a saved state but no questions, initialize them
                if (appState.currentQuestions.length === 0) {
                    initializeQuestions();
                }
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade4ScienceLivingThings', JSON.stringify(appState));
        }

        // Initialize and shuffle questions
        function initializeQuestions() {
            // Create a copy of questions and shuffle them
            appState.currentQuestions = [...questions];
            shuffleArray(appState.currentQuestions);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            viewTopicsBtn.addEventListener('click', backToTopics);
            
            // Allow pressing Enter to start practice
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startPractice();
                }
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            
            // Clear any previous input
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            
            // Display student name
            studentNameDisplay.textContent = appState.studentName;
            
            // Load the current question
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            // Calculate results
            const totalQuestions = appState.currentQuestions.length;
            const percentage = Math.round((appState.score / totalQuestions) * 100);
            
            // Update results display
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            
            // Get highest score from localStorage
            const highest = localStorage.getItem('ideolixGrade4ScienceLivingThings_highestScore') || 0;
            highestScore.textContent = Math.max(highest, appState.score);
            
            // Save new highest score if applicable
            if (appState.score > highest) {
                localStorage.setItem('ideolixGrade4ScienceLivingThings_highestScore', appState.score);
            }
            
            // Set encouraging message based on score
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a living and non-living things expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You have excellent science knowledge!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! Keep exploring to become a science master!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review what you missed and try again!";
            } else {
                scoreMessage.textContent = "Keep exploring! Science understanding grows with curiosity!";
            }
        }

        // Create science fact display
        function createScienceFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'science-fact';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            if (question.type === "characteristic") {
                factDiv.innerHTML = `
                    <strong>Science Fact:</strong> All living things share 7 characteristics: 
                    made of cells, respond to stimuli, reproduce, grow and develop, obtain and use energy, 
                    maintain homeostasis, and evolve over generations.
                `;
            } else if (question.type === "classification") {
                factDiv.innerHTML = `
                    <strong>Science Fact:</strong> Scientists classify things as living, non-living, 
                    or once-living based on whether they show characteristics of life.
                `;
            } else if (question.type === "interaction") {
                factDiv.innerHTML = `
                    <strong>Science Fact:</strong> Living and non-living things constantly interact 
                    in ecosystems, creating complex relationships that support all life.
                `;
            } else if (question.type === "impact") {
                factDiv.innerHTML = `
                    <strong>Science Fact:</strong> Humans have a responsibility to protect both 
                    living and non-living parts of our environment for future generations.
                `;
            }
            
            return factDiv;
        }

        // Create characteristics diagram
        function createCharacteristicsDiagram() {
            const container = document.createElement('div');
            container.className = 'characteristics-diagram';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            if (question.type === "characteristic") {
                // Characteristics of living things
                container.innerHTML = `
                    <div class="characteristic-element" style="top: 10%; left: 10%;">
                        <div class="characteristic-icon">ðŸŒ±</div>
                        <div class="characteristic-label">Grows</div>
                    </div>
                    <div class="characteristic-element" style="top: 10%; left: 70%;">
                        <div class="characteristic-icon">ðŸ”„</div>
                        <div class="characteristic-label">Reproduces</div>
                    </div>
                    <div class="characteristic-element" style="top: 60%; left: 10%;">
                        <div class="characteristic-icon">âš¡</div>
                        <div class="characteristic-label">Needs Energy</div>
                    </div>
                    <div class="characteristic-element" style="top: 60%; left: 70%;">
                        <div class="characteristic-icon">ðŸŽ¯</div>
                        <div class="characteristic-label">Responds</div>
                    </div>
                `;
            } else if (question.type === "classification") {
                // Classification categories
                container.innerHTML = `
                    <div class="characteristic-element" style="top: 10%; left: 10%;">
                        <div class="characteristic-icon">â¤ï¸</div>
                        <div class="characteristic-label">Living</div>
                    </div>
                    <div class="characteristic-element" style="top: 10%; left: 70%;">
                        <div class="characteristic-icon">ðŸ’Ž</div>
                        <div class="characteristic-label">Non-Living</div>
                    </div>
                    <div class="characteristic-element" style="top: 60%; left: 40%;">
                        <div class="characteristic-icon">ðŸ‚</div>
                        <div class="characteristic-label">Once-Living</div>
                    </div>
                `;
            } else if (question.type === "interaction") {
                // Interactions
                container.innerHTML = `
                    <div class="characteristic-element" style="top: 10%; left: 10%;">
                        <div class="characteristic-icon">ðŸŒ³</div>
                        <div class="characteristic-label">Plants</div>
                    </div>
                    <div class="characteristic-element" style="top: 10%; left: 70%;">
                        <div class="characteristic-icon">ðŸ’§</div>
                        <div class="characteristic-label">Water</div>
                    </div>
                    <div class="characteristic-element" style="top: 60%; left: 40%;">
                        <div class="characteristic-icon">ðŸ¤</div>
                        <div class="characteristic-label">Interact</div>
                    </div>
                `;
            } else if (question.type === "impact") {
                // Human impact
                container.innerHTML = `
                    <div class="characteristic-element" style="top: 10%; left: 10%;">
                        <div class="characteristic-icon">ðŸ‘¤</div>
                        <div class="characteristic-label">Humans</div>
                    </div>
                    <div class="characteristic-element" style="top: 10%; left: 70%;">
                        <div class="characteristic-icon">ðŸŒ</div>
                        <div class="characteristic-label">Environment</div>
                    </div>
                    <div class="characteristic-element" style="top: 60%; left: 40%;">
                        <div class="characteristic-icon">âš–ï¸</div>
                        <div class="characteristic-label">Balance</div>
                    </div>
                `;
            }
            
            return container;
        }

        // Create item display
        function createItemDisplay() {
            const display = document.createElement('div');
            display.className = 'item-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            // Define icons for different types of items
            const itemIcons = {
                "Tree": "ðŸŒ³",
                "Rock": "ðŸª¨",
                "Dog": "ðŸ•",
                "Flower": "ðŸŒ¸",
                "Butterfly": "ðŸ¦‹",
                "Table": "ðŸª‘",
                "Cloud": "â˜ï¸",
                "Wooden desk": "ðŸªµ",
                "Stone": "ðŸ—¿",
                "Seed": "ðŸŒ±",
                "Fire": "ðŸ”¥",
                "Bacteria": "ðŸ¦ ",
                "Mushroom": "ðŸ„",
                "Sun": "â˜€ï¸",
                "Apple": "ðŸŽ",
                "Gold": "ðŸ’°",
                "River": "ðŸŒŠ",
                "Earthworm": "ðŸ›",
                "Fallen leaf": "ðŸ‚",
                "Robot": "ðŸ¤–",
                "Coral": "ðŸš",
                "Yeast": "ðŸ§«",
                "Virus": "ðŸ¦ ",
                "Diamond": "ðŸ’Ž",
                "Bread mold": "ðŸž",
                "Algae": "ðŸŒ¿",
                "Coconut": "ðŸ¥¥",
                "Wind": "ðŸ’¨",
                "Shell": "ðŸš",
                "Fern": "ðŸŒ¿",
                "Rainbow": "ðŸŒˆ",
                "Moss": "ðŸƒ",
                "Honey": "ðŸ¯",
                "Volcano": "ðŸŒ‹",
                "Lion": "ðŸ¦",
                "Oak tree": "ðŸŒ³",
                "Glass": "ðŸ¥›",
                "Plastic": "ðŸ›ï¸",
                "Metal": "ðŸ”©",
                "Stone statue": "ðŸ—½",
                "River water": "ðŸ’§",
                "Mountain air": "ðŸ’¨",
                "Cactus": "ðŸŒµ",
                "Spider": "ðŸ•·ï¸",
                "Grass": "ðŸŒ¾"
            };
            
            // Try to find an item from the question
            let itemName = "Science";
            let itemIcon = "ðŸ”¬";
            
            // Check question text for items
            const questionText = question.question.toLowerCase();
            for (const [item, icon] of Object.entries(itemIcons)) {
                if (questionText.includes(item.toLowerCase()) || 
                    question.options.some(opt => opt.includes(item))) {
                    itemName = item;
                    itemIcon = icon;
                    break;
                }
            }
            
            // Check options for items
            if (itemName === "Science") {
                for (const option of question.options) {
                    for (const [item, icon] of Object.entries(itemIcons)) {
                        if (option.includes(item)) {
                            itemName = item;
                            itemIcon = icon;
                            break;
                        }
                    }
                    if (itemName !== "Science") break;
                }
            }
            
            const itemBox = document.createElement('div');
            itemBox.className = 'item-box grow';
            itemBox.innerHTML = `
                <div class="item-icon">${itemIcon}</div>
                <div class="item-text">${itemName.toUpperCase()}</div>
            `;
            
            const label = document.createElement('div');
            label.className = 'item-label';
            
            if (question.type === "classification") {
                label.textContent = "Is this living, non-living, or once-living?";
            } else if (question.type === "characteristic") {
                label.textContent = "What characteristic does this show?";
            } else if (question.type === "interaction") {
                label.textContent = "How does this interact with its environment?";
            } else if (question.type === "impact") {
                label.textContent = "What impact does this have?";
            }
            
            display.appendChild(itemBox);
            display.appendChild(label);
            
            return display;
        }

        // Create classification display
        function createClassificationDisplay() {
            const display = document.createElement('div');
            display.className = 'classification-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            if (question.type === "classification") {
                display.innerHTML = `
                    <div class="classification-category">
                        <div class="category-icon">â¤ï¸</div>
                        <div class="category-title">Living</div>
                        <div class="category-items">Grows, reproduces, needs energy, responds to environment</div>
                    </div>
                    <div class="classification-category">
                        <div class="category-icon">ðŸ’Ž</div>
                        <div class="category-title">Non-Living</div>
                        <div class="category-items">Never alive, doesn't grow or reproduce on its own</div>
                    </div>
                    <div class="classification-category">
                        <div class="category-icon">ðŸ‚</div>
                        <div class="category-title">Once-Living</div>
                        <div class="category-items">Was alive, now dead or made from living things</div>
                    </div>
                `;
            }
            
            return display;
        }

        // Load current question
        function loadQuestion() {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            // Update progress
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${appState.currentQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / appState.currentQuestions.length) * 100}%`;
            
            // Set question text
            questionText.textContent = question.question;
            
            // Clear previous content
            scienceFact.innerHTML = '';
            itemDisplay.innerHTML = '';
            characteristicsDiagram.innerHTML = '';
            classificationDisplay.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            // Create displays based on question type
            scienceFact.appendChild(createScienceFact());
            itemDisplay.appendChild(createItemDisplay());
            characteristicsDiagram.appendChild(createCharacteristicsDiagram());
            
            if (question.type === "classification") {
                classificationDisplay.appendChild(createClassificationDisplay());
            }
            
            // Create option elements
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            // Disable all options
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Mark correct/incorrect
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                // Correct answer
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                
                // Add animation
                optionElement.classList.add('pulse');
                
                // Show positive feedback
                showFeedback(true, question.explanation);
            } else {
                // Incorrect answer
                optionElement.classList.add('incorrect');
                appState.answered++;
                
                // Show negative feedback
                showFeedback(false, question.explanation, question.answer);
            }
            
            // Enable next question button
            nextQuestionBtn.disabled = false;
            
            // Save progress
            saveStateToStorage();
        }

        // Show feedback
        function showFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = 'âœ“';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = 'âœ—';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    const correctOption = String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65));
                    const correctText = questions.find(q => 
                        appState.currentQuestions[appState.currentQuestionIndex].question === q.question
                    )?.options[correctAnswer.charCodeAt(0) - 65];
                    
                    feedbackMessage.textContent = `Correct answer: ${correctOption} (${correctText})`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
        }

        // Move to next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic with new shuffled questions
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            // Re-shuffle questions
            initializeQuestions();
            
            saveStateToStorage();
            showPracticePage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page (simulated)
        function backToTopics() {
            alert("In a complete implementation, this would navigate to the topics selection page.");
            // In a real implementation, this would be: window.location.href = "grade4-science-topics.html";
        }

        // Start practice session
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            // Initialize questions if needed
            if (appState.currentQuestions.length === 0) {
                initializeQuestions();
            }
            
            saveStateToStorage();
            showPracticePage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
