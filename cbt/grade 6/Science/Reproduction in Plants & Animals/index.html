<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 6 Science - Reproduction in Plants & Animals | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Biology Theme */
        :root {
            --primary-pink: #E91E63;
            --secondary-green: #4CAF50;
            --accent-purple: #9C27B0;
            --accent-orange: #FF9800;
            --accent-blue: #2196F3;
            --accent-yellow: #FFC107;
            --accent-teal: #009688;
            --accent-brown: #795548;
            --accent-lime: #CDDC39;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(233, 30, 99, 0.3);
            --plant-glow: 0 0 15px rgba(76, 175, 80, 0.4);
            --animal-glow: 0 0 15px rgba(255, 152, 0, 0.4);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Reproduction Pattern Background */
        .reproduction-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: 
                radial-gradient(circle at 20% 30%, rgba(233, 30, 99, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(76, 175, 80, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255, 152, 0, 0.1) 0%, transparent 50%);
            opacity: 0.3;
        }

        .floating-element {
            position: absolute;
            font-size: 3rem;
            font-weight: bold;
            animation: floatElement 25s linear infinite;
        }

        @keyframes floatElement {
            0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0.1; }
            25% { transform: translateY(-150px) translateX(100px) rotate(90deg); opacity: 0.05; }
            50% { transform: translateY(-50px) translateX(-150px) rotate(180deg); opacity: 0.1; }
            75% { transform: translateY(150px) translateX(50px) rotate(270deg); opacity: 0.05; }
            100% { transform: translateY(0) translateX(0) rotate(360deg); opacity: 0.1; }
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-pink), var(--secondary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(233, 30, 99, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 25px;
            border: 1px solid var(--primary-pink);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-pink);
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-pink);
            box-shadow: 0 0 0 3px rgba(233, 30, 99, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-pink);
            color: white;
            box-shadow: 0 4px 15px rgba(233, 30, 99, 0.4);
        }

        .btn-primary:hover {
            background: #C2185B;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(233, 30, 99, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-green);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-secondary:hover {
            background: #388E3C;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-pink);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Mode */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-pink), var(--secondary-green));
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(233, 30, 99, 0.5);
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .science-fact {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-orange);
            font-style: italic;
            color: var(--text-secondary);
        }

        /* Content Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .question-side {
            display: flex;
            flex-direction: column;
        }

        .visualization-side {
            display: flex;
            flex-direction: column;
        }

        .concept-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .concept-box {
            background: linear-gradient(135deg, var(--primary-pink), var(--secondary-green));
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 4px 15px rgba(233, 30, 99, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .concept-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .concept-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 5px;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-pink);
            background: rgba(233, 30, 99, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(233, 30, 99, 0.1);
            border-color: var(--primary-pink);
            color: var(--primary-pink);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-card);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            background: var(--secondary-green);
        }

        .option.correct .option-letter {
            background: var(--primary-pink);
            color: white;
        }

        .option.incorrect .option-letter {
            background: #F44336;
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(233, 30, 99, 0.1);
            border-left: 5px solid var(--primary-pink);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-pink);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-pink);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Visualization Components */
        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            height: 100%;
            border: 1px solid var(--dark-border);
            overflow: auto;
            backdrop-filter: blur(5px);
        }

        /* Reproduction Display */
        .reproduction-display {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border: 2px solid var(--accent-orange);
            text-align: center;
        }

        .display-title {
            color: var(--primary-pink);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
            font-size: 1.3rem;
        }

        /* Plant vs Animal Comparison */
        .comparison-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin: 20px 0;
        }

        .comparison-box {
            background: var(--dark-card);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            min-width: 200px;
            transition: transform 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .comparison-box.plant {
            border-color: var(--secondary-green);
            background: rgba(76, 175, 80, 0.1);
        }

        .comparison-box.animal {
            border-color: var(--accent-orange);
            background: rgba(255, 152, 0, 0.1);
        }

        .comparison-box:hover {
            transform: scale(1.05);
        }

        .comparison-name {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .comparison-box.plant .comparison-name {
            color: var(--secondary-green);
        }

        .comparison-box.animal .comparison-name {
            color: var(--accent-orange);
        }

        .comparison-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        /* Flower Parts */
        .flower-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-purple);
        }

        .flower-diagram {
            position: relative;
            width: 250px;
            height: 250px;
            margin: 20px auto;
            background: radial-gradient(circle, rgba(156, 39, 176, 0.1), transparent 70%);
            border-radius: 50%;
        }

        .flower-part {
            position: absolute;
            background: rgba(156, 39, 176, 0.2);
            border: 1px solid var(--accent-purple);
            border-radius: 4px;
            padding: 8px;
            font-size: 0.8rem;
            text-align: center;
            min-width: 80px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .flower-part:hover {
            background: rgba(156, 39, 176, 0.4);
            transform: scale(1.1);
        }

        /* Life Cycles */
        .lifecycle-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-blue);
        }

        .lifecycle-stages {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            position: relative;
        }

        .lifecycle-stage {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            min-width: 100px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            z-index: 1;
        }

        .lifecycle-stage:hover {
            transform: translateY(-5px);
            border-color: var(--accent-blue);
        }

        .stage-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .stage-name {
            font-weight: bold;
            color: var(--accent-blue);
            margin-bottom: 5px;
        }

        /* Pollination Process */
        .pollination-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-yellow);
        }

        .pollination-path {
            position: relative;
            height: 100px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .pollination-step {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            min-width: 100px;
            border: 2px solid var(--accent-yellow);
            z-index: 1;
        }

        .pollination-arrow {
            color: var(--accent-yellow);
            font-size: 1.5rem;
        }

        /* Animal Reproduction */
        .animal-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-brown);
        }

        .reproduction-types {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .reproduction-types {
                grid-template-columns: 1fr;
            }
        }

        .type-box {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .type-box:hover {
            transform: translateY(-3px);
        }

        .type-box.sexual {
            border-color: var(--primary-pink);
            background: rgba(233, 30, 99, 0.1);
        }

        .type-box.asexual {
            border-color: var(--accent-teal);
            background: rgba(0, 150, 136, 0.1);
        }

        .type-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .type-name {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .type-box.sexual .type-name {
            color: var(--primary-pink);
        }

        .type-box.asexual .type-name {
            color: var(--accent-teal);
        }

        /* Seed Dispersal */
        .dispersal-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-lime);
        }

        .dispersal-methods {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin: 15px 0;
        }

        .method-box {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            min-width: 120px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .method-box:hover {
            transform: scale(1.05);
            border-color: var(--accent-lime);
        }

        .method-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .method-name {
            font-weight: bold;
            color: var(--accent-lime);
            margin-bottom: 5px;
        }

        /* Reproduction Table */
        .reproduction-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--dark-card);
            border-radius: 8px;
            overflow: hidden;
        }

        .reproduction-table th {
            background: var(--dark-surface);
            padding: 12px;
            text-align: left;
            color: var(--accent-orange);
            border-bottom: 2px solid var(--accent-orange);
        }

        .reproduction-table td {
            padding: 10px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
        }

        .reproduction-table tr:hover {
            background: rgba(255, 152, 0, 0.05);
        }

        /* Interactive Practice */
        .interactive-practice {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--accent-purple);
        }

        .practice-title {
            color: var(--accent-purple);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .practice-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .practice-button {
            padding: 10px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--accent-purple);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .practice-button:hover {
            background: rgba(156, 39, 176, 0.1);
            transform: translateY(-2px);
        }

        .practice-display {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--text-secondary);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-pink), var(--secondary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-pink), var(--secondary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-pink);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .concept-box {
                min-width: 140px;
                font-size: 1.5rem;
                padding: 15px 20px;
            }
            
            .reproduction-types {
                grid-template-columns: 1fr;
            }
            
            .lifecycle-stages {
                flex-direction: column;
                gap: 15px;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes grow {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .grow {
            animation: grow 0.5s ease forwards;
        }
        
        @keyframes bloom {
            0% { transform: scale(0) rotate(0deg); }
            100% { transform: scale(1) rotate(360deg); }
        }
        
        .bloom {
            animation: bloom 1s ease forwards;
        }
        
        @keyframes pollination {
            0% { transform: translateX(0); opacity: 0; }
            50% { transform: translateX(50px); opacity: 1; }
            100% { transform: translateX(100px); opacity: 0; }
        }
        
        .pollination-animation {
            animation: pollination 2s ease-in-out infinite;
        }
        
        @keyframes lifeCycle {
            0% { background-color: rgba(33, 150, 243, 0.1); }
            25% { background-color: rgba(76, 175, 80, 0.2); }
            50% { background-color: rgba(255, 193, 7, 0.2); }
            75% { background-color: rgba(233, 30, 99, 0.2); }
            100% { background-color: rgba(33, 150, 243, 0.1); }
        }
        
        .lifecycle-animation {
            animation: lifeCycle 5s ease-in-out infinite;
        }
        
        @keyframes seedDispersal {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
            100% { transform: translateY(0) rotate(360deg); }
        }
        
        .dispersal-animation {
            animation: seedDispersal 2s ease-in-out infinite;
        }
        
        @keyframes cellDivision {
            0% { transform: scale(1); }
            50% { transform: scale(1.5); }
            100% { transform: scale(1); }
        }
        
        .cell-division {
            animation: cellDivision 2s ease-in-out infinite;
        }
        
        @keyframes germination {
            0% { transform: scaleY(0); opacity: 0; }
            100% { transform: scaleY(1); opacity: 1; }
        }
        
        .germination {
            animation: germination 2s ease forwards;
        }
    </style>
</head>
<body>
    <!-- Reproduction Pattern Background -->
    <div class="reproduction-bg" id="reproductionBg">
        <!-- Elements will be generated by JavaScript -->
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 6 Science</h1>
            <p class="welcome-subtitle">Discover the amazing world of reproduction! Learn how plants and animals create new life. Explore flowers, pollination, seed dispersal, animal life cycles, and the fascinating processes that ensure continuation of species. Uncover the secrets of how life reproduces!</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üå∏üê£üå±</span>
                <span class="topic-name">Reproduction in Plants & Animals</span>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>Start Reproduction Journey</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 120</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0.8%"></div>
                </div>
            </div>

            <div class="question-container">
                <!-- Science fact display -->
                <div id="scienceFact"></div>
                
                <!-- Concept display area -->
                <div id="conceptDisplay"></div>
                
                <!-- Content Wrapper: Questions on left, Visualizations on right -->
                <div class="content-wrapper" id="contentWrapper">
                    <!-- Left side: Question and Options -->
                    <div class="question-side">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                    </div>
                    
                    <!-- Right side: Visualizations -->
                    <div class="visualization-side">
                        <div class="visualization-container" id="visualizationContainer">
                            <!-- All visualizations will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                    <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Reproduction Mastery Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Try Again</button>
                <button class="btn btn-secondary" id="viewTopics">Explore Other Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize background
        function initBackground() {
            const reproductionBg = document.getElementById('reproductionBg');
            
            // Create floating reproduction symbols
            const elements = ['üå∏', 'üå∫', 'üåº', 'üåª', 'üê£', 'üê•', 'üêõ', 'ü¶ã', 'üå±', 'üåø', 'üå≥', 'üçé', 'ü•ö', 'üß¨'];
            
            for (let i = 0; i < 25; i++) {
                const element = document.createElement('div');
                element.className = 'floating-element';
                element.textContent = elements[Math.floor(Math.random() * elements.length)];
                element.style.left = `${Math.random() * 100}%`;
                element.style.top = `${Math.random() * 100}%`;
                element.style.animationDelay = `${Math.random() * 20}s`;
                element.style.fontSize = `${2 + Math.random() * 3}rem`;
                
                // Color different types
                if (['üå∏', 'üå∫', 'üåº', 'üåª', 'üå±', 'üåø', 'üå≥'].includes(element.textContent)) {
                    element.style.color = 'rgba(76, 175, 80, 0.1)'; // Green for plants
                } else if (['üê£', 'üê•', 'üêõ', 'ü¶ã', 'ü•ö'].includes(element.textContent)) {
                    element.style.color = 'rgba(255, 152, 0, 0.1)'; // Orange for animals
                } else {
                    element.style.color = 'rgba(233, 30, 99, 0.1)'; // Pink for reproduction
                }
                
                reproductionBg.appendChild(element);
            }
        }

        // Questions array - 120+ Grade 6 Reproduction in Plants & Animals questions
        const questions = [
            // Basic Reproduction Concepts (1-20)
            {
                type: "basic_concepts",
                question: "What is reproduction?",
                options: ["Process of producing new individuals", "Process of growing", "Process of eating", "Process of moving"],
                answer: "A",
                explanation: "Reproduction is the biological process by which new individual organisms are produced from their parents."
            },
            {
                type: "basic_concepts",
                question: "Why is reproduction important?",
                options: ["Ensures continuation of species", "Helps organisms grow", "Makes organisms stronger", "Helps organisms move"],
                answer: "A",
                explanation: "Without reproduction, species would become extinct as individuals die of old age or accidents."
            },
            {
                type: "basic_concepts",
                question: "Two main types of reproduction?",
                options: ["Sexual and Asexual", "Plant and Animal", "Fast and Slow", "Big and Small"],
                answer: "A",
                explanation: "Sexual reproduction involves two parents, asexual involves one parent."
            },
            // Plant Reproduction Basics (21-40)
            {
                type: "plant_basics",
                question: "What are the reproductive parts of a flower?",
                options: ["Stamen and Pistil", "Petals and Sepals", "Roots and Stem", "Leaves and Buds"],
                answer: "A",
                explanation: "Stamen (male part) produces pollen, Pistil (female part) contains ovules."
            },
            {
                type: "plant_basics",
                question: "What is the male part of a flower?",
                options: ["Stamen", "Pistil", "Petal", "Sepal"],
                answer: "A",
                explanation: "Stamen consists of anther (produces pollen) and filament (supports anther)."
            },
            {
                type: "plant_basics",
                question: "What is the female part of a flower?",
                options: ["Pistil", "Stamen", "Petal", "Sepal"],
                answer: "A",
                explanation: "Pistil consists of stigma (receives pollen), style (tube), and ovary (contains ovules)."
            },
            {
                type: "plant_basics",
                question: "What are ovules?",
                options: ["Egg cells of plants", "Male cells", "Flower petals", "Leaf parts"],
                answer: "A",
                explanation: "Ovules are the female reproductive cells in plants, found in the ovary."
            },
            // Pollination (41-60)
            {
                type: "pollination",
                question: "What is pollination?",
                options: ["Transfer of pollen to stigma", "Growth of pollen tube", "Formation of seed", "Germination of seed"],
                answer: "A",
                explanation: "Pollination is the transfer of pollen from anther to stigma of a flower."
            },
            {
                type: "pollination",
                question: "Two types of pollination?",
                options: ["Self and Cross pollination", "Wind and Water", "Bird and Bee", "Day and Night"],
                answer: "A",
                explanation: "Self-pollination: same flower or same plant. Cross-pollination: different plants."
            },
            {
                type: "pollination",
                question: "What are pollinators?",
                options: ["Agents that carry pollen", "Plants that produce pollen", "Parts of flower", "Types of seeds"],
                answer: "A",
                explanation: "Pollinators include bees, butterflies, birds, bats, wind, and water."
            },
            {
                type: "pollination",
                question: "Example of wind pollination?",
                options: ["Grass", "Rose", "Sunflower", "Orchid"],
                answer: "A",
                explanation: "Grasses, corn, wheat are wind-pollinated (light, abundant pollen)."
            },
            // Fertilization & Seed Formation (61-80)
            {
                type: "fertilization",
                question: "What is fertilization in plants?",
                options: ["Fusion of pollen and ovule", "Pollination process", "Seed dispersal", "Flower blooming"],
                answer: "A",
                explanation: "Fertilization: pollen tube grows, male gamete fuses with egg cell in ovule."
            },
            {
                type: "fertilization",
                question: "What develops into a seed?",
                options: ["Fertilized ovule", "Pollen grain", "Flower petal", "Plant stem"],
                answer: "A",
                explanation: "After fertilization, ovule develops into seed, ovary develops into fruit."
            },
            {
                type: "fertilization",
                question: "What develops into a fruit?",
                options: ["Ovary of flower", "Stamen", "Petal", "Leaf"],
                answer: "A",
                explanation: "The ovary wall thickens to form fruit, protecting the seeds inside."
            },
            // Seed Dispersal (81-100)
            {
                type: "seed_dispersal",
                question: "Why do seeds need dispersal?",
                options: ["To reduce competition", "To make them bigger", "To change color", "To help pollination"],
                answer: "A",
                explanation: "Dispersal prevents overcrowding, reduces competition for resources."
            },
            {
                type: "seed_dispersal",
                question: "Wind dispersal example?",
                options: ["Dandelion seeds", "Coconut", "Apple", "Pea pod"],
                answer: "A",
                explanation: "Dandelion has parachute-like structures, maple has winged seeds for wind dispersal."
            },
            {
                type: "seed_dispersal",
                question: "Animal dispersal example?",
                options: ["Burrs sticking to fur", "Coconut floating", "Dandelion flying", "Maple seed spinning"],
                answer: "A",
                explanation: "Burrs, hooks, or sticky seeds attach to animal fur for dispersal."
            },
            {
                type: "seed_dispersal",
                question: "Water dispersal example?",
                options: ["Coconut", "Dandelion", "Sunflower", "Rose hip"],
                answer: "A",
                explanation: "Coconut floats in water to reach new shores for germination."
            },
            // Asexual Reproduction in Plants (101-120)
            {
                type: "asexual_plants",
                question: "What is vegetative propagation?",
                options: ["Asexual reproduction using plant parts", "Sexual reproduction", "Seed formation", "Pollination"],
                answer: "A",
                explanation: "New plants grow from stems, roots, leaves, or buds without seeds."
            },
            {
                type: "asexual_plants",
                question: "Example of vegetative propagation?",
                options: ["Potato tubers", "Apple seeds", "Rose flowers", "Grass pollination"],
                answer: "A",
                explanation: "Potatoes grow from tubers (underground stems), not from seeds."
            },
            {
                type: "asexual_plants",
                question: "What are runners/stolons?",
                options: ["Horizontal stems forming new plants", "Roots that spread", "Types of leaves", "Flower parts"],
                answer: "A",
                explanation: "Strawberries, grass spread by runners - stems growing along ground, forming new plants."
            },
            // Animal Reproduction Basics (121-140)
            {
                type: "animal_basics",
                question: "Two types of animal reproduction?",
                options: ["Sexual and Asexual", "Internal and External", "Fast and Slow", "Big and Small"],
                answer: "A",
                explanation: "Most animals reproduce sexually, some simple animals reproduce asexually."
            },
            {
                type: "animal_basics",
                question: "What are gametes?",
                options: ["Reproductive cells", "Body cells", "Blood cells", "Nerve cells"],
                answer: "A",
                explanation: "Male gamete: sperm, female gamete: egg/ovum. Fusion forms zygote."
            },
            // Sexual Reproduction in Animals (141-160)
            {
                type: "sexual_animals",
                question: "What is external fertilization?",
                options: ["Eggs fertilized outside female's body", "Eggs fertilized inside", "No fertilization", "Self-fertilization"],
                answer: "A",
                explanation: "Fish, amphibians: eggs laid in water, sperm shed over them."
            },
            {
                type: "sexual_animals",
                question: "What is internal fertilization?",
                options: ["Eggs fertilized inside female's body", "Eggs fertilized outside", "No male needed", "Self-fertilization"],
                answer: "A",
                explanation: "Mammals, birds, reptiles: sperm deposited inside female's body."
            },
            {
                type: "sexual_animals",
                question: "Oviparous animals?",
                options: ["Lay eggs", "Give live birth", "Produce spores", "Split in two"],
                answer: "A",
                explanation: "Birds, reptiles, fish, insects: eggs develop and hatch outside mother's body."
            },
            {
                type: "sexual_animals",
                question: "Viviparous animals?",
                options: ["Give live birth", "Lay eggs", "Produce spores", "Budding"],
                answer: "A",
                explanation: "Mammals (except platypus, echidna): young develop inside mother, born alive."
            },
            // Life Cycles (161-180)
            {
                type: "life_cycles",
                question: "What is a life cycle?",
                options: ["Stages from birth to reproduction", "Only adult stage", "Only baby stage", "Only old age"],
                answer: "A",
                explanation: "Complete series of changes an organism goes through from beginning to reproducing."
            },
            {
                type: "life_cycles",
                question: "Butterfly life cycle stages?",
                options: ["Egg, Larva, Pupa, Adult", "Egg, Nymph, Adult", "Spore, Plant, Flower", "Seed, Seedling, Tree"],
                answer: "A",
                explanation: "Complete metamorphosis: egg ‚Üí caterpillar (larva) ‚Üí chrysalis (pupa) ‚Üí butterfly (adult)."
            },
            {
                type: "life_cycles",
                question: "Frog life cycle stages?",
                options: ["Egg, Tadpole, Froglet, Frog", "Egg, Nymph, Adult", "Seed, Plant, Flower", "Spore, Fern, Spore"],
                answer: "A",
                explanation: "Egg ‚Üí tadpole (gills, tail) ‚Üí froglet (legs develop) ‚Üí adult frog (lungs, no tail)."
            },
            // Asexual Reproduction in Animals (181-200)
            {
                type: "asexual_animals",
                question: "What is budding?",
                options: ["New individual grows from parent's body", "Splitting in half", "Laying eggs", "Internal fertilization"],
                answer: "A",
                explanation: "Hydra, yeast: bud forms on parent, grows, detaches as new individual."
            },
            {
                type: "asexual_animals",
                question: "What is binary fission?",
                options: ["Splitting into two equal halves", "Budding", "Spore formation", "Sexual reproduction"],
                answer: "A",
                explanation: "Amoeba, bacteria: cell divides into two identical daughter cells."
            },
            // Comparing Plant & Animal Reproduction (201-220)
            {
                type: "comparison",
                question: "How do plants and animals differ in reproduction?",
                options: ["Plants often use flowers/pollination, animals use mating", "Both identical", "Animals use pollination", "Plants use internal fertilization"],
                answer: "A",
                explanation: "Plants: stationary, use pollinators/wind. Animals: mobile, find mates directly."
            },
            {
                type: "comparison",
                question: "Similarity in plant and animal reproduction?",
                options: ["Both produce gametes for sexual reproduction", "Both use flowers", "Both give live birth", "Both use pollination"],
                answer: "A",
                explanation: "Both have male and female gametes that fuse during sexual reproduction."
            },
            // Human Reproduction Basics (221-240)
            {
                type: "human_reproduction",
                question: "How do humans reproduce?",
                options: ["Sexually, with internal fertilization", "Asexually", "By pollination", "By budding"],
                answer: "A",
                explanation: "Humans are viviparous mammals with internal fertilization and live birth."
            },
            {
                type: "human_reproduction",
                question: "Human gestation period?",
                options: ["About 9 months", "2 months", "1 year", "6 months"],
                answer: "A",
                explanation: "Human pregnancy lasts approximately 9 months (40 weeks) from fertilization to birth."
            }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            currentQuestions: [],
            studentName: ""
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent understanding of reproduction!",
            "Perfect knowledge of life cycles!",
            "Great grasp of pollination!",
            "Amazing! You're a reproduction expert!",
            "Perfect understanding of seed dispersal!",
            "You're a life cycle champion!",
            "Outstanding knowledge of plant reproduction!",
            "Brilliant understanding of animal reproduction!",
            "You think like a biologist!",
            "Reproduction mastery achieved!"
        ];

        // Science terms and definitions
        const scienceTerms = [
            {
                term: "Pollination",
                definition: "Transfer of pollen to stigma",
                example: "Bees carrying pollen between flowers"
            },
            {
                term: "Fertilization",
                definition: "Fusion of male and female gametes",
                example: "Pollen fusing with ovule in plants"
            },
            {
                term: "Seed Dispersal",
                definition: "Spreading seeds away from parent",
                example: "Dandelion seeds carried by wind"
            },
            {
                term: "Oviparous",
                definition: "Animals that lay eggs",
                example: "Birds, reptiles, fish"
            },
            {
                term: "Viviparous",
                definition: "Animals that give live birth",
                example: "Mammals (humans, dogs, cats)"
            },
            {
                term: "Metamorphosis",
                definition: "Complete change in form",
                example: "Caterpillar to butterfly"
            }
        ];

        // Flower parts and functions
        const flowerParts = [
            {
                part: "Stamen",
                function: "Male reproductive part",
                components: "Anther (produces pollen), Filament (supports anther)",
                icon: "üß¨"
            },
            {
                part: "Pistil",
                function: "Female reproductive part",
                components: "Stigma (receives pollen), Style (tube), Ovary (contains ovules)",
                icon: "üå∏"
            },
            {
                part: "Petals",
                function: "Attract pollinators",
                characteristics: "Often colorful, scented",
                icon: "üé®"
            },
            {
                part: "Sepals",
                function: "Protect flower bud",
                characteristics: "Green, leaf-like structures",
                icon: "üõ°Ô∏è"
            },
            {
                part: "Ovary",
                function: "Contains ovules, becomes fruit",
                location: "Base of pistil",
                icon: "üçé"
            },
            {
                part: "Anther",
                function: "Produces pollen grains",
                location: "Top of stamen",
                icon: "üíõ"
            }
        ];

        // Pollination methods
        const pollinationMethods = [
            {
                method: "Insect Pollination",
                agents: "Bees, butterflies, moths",
                features: "Bright colors, scent, nectar",
                examples: "Rose, sunflower, orchid",
                icon: "üêù"
            },
            {
                method: "Wind Pollination",
                agents: "Wind",
                features: "Small, light pollen, no scent",
                examples: "Grasses, corn, pine trees",
                icon: "üí®"
            },
            {
                method: "Bird Pollination",
                agents: "Hummingbirds, sunbirds",
                features: "Bright red/orange, tube-shaped",
                examples: "Hibiscus, fuschia",
                icon: "üê¶"
            },
            {
                method: "Water Pollination",
                agents: "Water currents",
                features: "Floating pollen",
                examples: "Water lilies, sea grasses",
                icon: "üíß"
            }
        ];

        // Seed dispersal methods
        const dispersalMethods = [
            {
                method: "Wind Dispersal",
                adaptation: "Wings, parachutes",
                examples: "Dandelion, maple, cotton",
                icon: "üçÉ"
            },
            {
                method: "Animal Dispersal",
                adaptation: "Hooks, burrs, tasty fruits",
                examples: "Burdock, berries, apples",
                icon: "üêøÔ∏è"
            },
            {
                method: "Water Dispersal",
                adaptation: "Air pockets, floating ability",
                examples: "Coconut, water lily",
                icon: "üåä"
            },
            {
                method: "Explosion/Bursting",
                adaptation: "Tension in seed pods",
                examples: "Peas, beans, violets",
                icon: "üí•"
            }
        ];

        // Animal reproduction types
        const animalReproduction = [
            {
                type: "Sexual Reproduction",
                description: "Two parents, genetic variation",
                methods: "Internal/external fertilization",
                examples: "Mammals, birds, fish",
                icon: "üë´"
            },
            {
                type: "Asexual Reproduction",
                description: "One parent, identical offspring",
                methods: "Budding, fission, fragmentation",
                examples: "Hydra, starfish, bacteria",
                icon: "‚ûó"
            }
        ];

        // Life cycles examples
        const lifeCycles = [
            {
                organism: "Butterfly",
                stages: ["Egg", "Larva (Caterpillar)", "Pupa (Chrysalis)", "Adult"],
                type: "Complete Metamorphosis",
                duration: "Weeks to months"
            },
            {
                organism: "Frog",
                stages: ["Egg", "Tadpole", "Froglet", "Adult Frog"],
                type: "Metamorphosis",
                duration: "Weeks to years"
            },
            {
                organism: "Chicken",
                stages: ["Egg", "Embryo", "Chick", "Adult"],
                type: "Direct Development",
                duration: "21 days incubation"
            },
            {
                organism: "Human",
                stages: ["Zygote", "Embryo", "Fetus", "Baby", "Child", "Adult"],
                type: "Viviparous Development",
                duration: "9 months gestation"
            }
        ];

        // Interesting science facts
        const scienceFacts = [
            "Some plants can self-pollinate without any outside help!",
            "The Rafflesia arnoldii produces the world's largest flower - up to 1 meter wide!",
            "A single honeybee can visit up to 5,000 flowers in one day!",
            "The seahorse is the only animal where the male gives birth!",
            "Some plants can reproduce without seeds through vegetative propagation!",
            "The wandering albatross has the longest incubation period of any bird - about 80 days!",
            "Bananas are seedless because they reproduce asexually through cuttings!",
            "The blue whale gives birth to the largest baby on Earth - about 7 meters long!"
        ];

        // Plant reproduction examples
        const plantExamples = [
            {
                plant: "Rose",
                reproduction: "Sexual (flowers, seeds)",
                pollination: "Insect pollination",
                special: "Can also be propagated by cuttings"
            },
            {
                plant: "Potato",
                reproduction: "Asexual (tubers)",
                method: "Vegetative propagation",
                special: "Eyes on potatoes are buds for new plants"
            },
            {
                plant: "Fern",
                reproduction: "Spores, not seeds",
                method: "Spore production",
                special: "Alternates between two generations"
            },
            {
                plant: "Strawberry",
                reproduction: "Both sexual and asexual",
                methods: "Seeds (sexual) and runners (asexual)",
                special: "Runners are horizontal stems"
            }
        ];

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const scienceFact = document.getElementById('scienceFact');
        const conceptDisplay = document.getElementById('conceptDisplay');
        const visualizationContainer = document.getElementById('visualizationContainer');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const highestScore = document.getElementById('highestScore');

        // Initialize the app
        function initApp() {
            initBackground();
            loadStateFromStorage();
            setupEventListeners();
            
            if (appState.studentName && appState.currentQuestions.length > 0) {
                showPracticePage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade6ScienceReproduction');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
                appState.score = parsed.score || 0;
                appState.skipped = parsed.skipped || 0;
                appState.answered = parsed.answered || 0;
                appState.currentQuestions = parsed.currentQuestions || [];
                
                if (appState.currentQuestions.length === 0) {
                    initializeQuestions();
                }
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade6ScienceReproduction', JSON.stringify(appState));
        }

        // Initialize and shuffle questions
        function initializeQuestions() {
            appState.currentQuestions = [...questions];
            shuffleArray(appState.currentQuestions);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            viewTopicsBtn.addEventListener('click', backToTopics);
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startPractice();
                }
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const totalQuestions = appState.currentQuestions.length;
            const percentage = Math.round((appState.score / totalQuestions) * 100);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            
            const highest = localStorage.getItem('ideolixGrade6ScienceReproduction_highestScore') || 0;
            highestScore.textContent = Math.max(highest, appState.score);
            
            if (appState.score > highest) {
                localStorage.setItem('ideolixGrade6ScienceReproduction_highestScore', appState.score);
            }
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a reproduction expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You have excellent knowledge of life cycles!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! Keep learning about plant and animal reproduction!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review pollination and life cycle concepts!";
            } else {
                scoreMessage.textContent = "Keep exploring! Reproduction is fascinating science!";
            }
        }

        // Create science fact display
        function createScienceFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'science-fact';
            
            factDiv.innerHTML = `<strong>Amazing Reproduction Fact:</strong> ${scienceFacts[Math.floor(Math.random() * scienceFacts.length)]}`;
            
            return factDiv;
        }

        // Create concept display
        function createConceptDisplay() {
            const display = document.createElement('div');
            display.className = 'concept-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            const conceptIcons = {
                "basic_concepts": "üß¨",
                "plant_basics": "üå∏",
                "pollination": "üêù",
                "fertilization": "ü§ù",
                "seed_dispersal": "üçÉ",
                "asexual_plants": "‚ûó",
                "animal_basics": "üê£",
                "sexual_animals": "üë´",
                "life_cycles": "üîÑ",
                "asexual_animals": "‚≠ê",
                "comparison": "‚öñÔ∏è",
                "human_reproduction": "üë∂"
            };
            
            let conceptName = "Basic Concepts";
            let conceptIcon = "üß¨";
            
            if (question.type.includes("basic_concepts")) {
                conceptName = "Basic Concepts";
                conceptIcon = conceptIcons.basic_concepts;
            } else if (question.type.includes("plant_basics")) {
                conceptName = "Plant Reproduction";
                conceptIcon = conceptIcons.plant_basics;
            } else if (question.type.includes("pollination")) {
                conceptName = "Pollination";
                conceptIcon = conceptIcons.pollination;
            } else if (question.type.includes("fertilization")) {
                conceptName = "Fertilization";
                conceptIcon = conceptIcons.fertilization;
            } else if (question.type.includes("seed_dispersal")) {
                conceptName = "Seed Dispersal";
                conceptIcon = conceptIcons.seed_dispersal;
            } else if (question.type.includes("asexual_plants")) {
                conceptName = "Asexual Plant Reproduction";
                conceptIcon = conceptIcons.asexual_plants;
            } else if (question.type.includes("animal_basics")) {
                conceptName = "Animal Reproduction";
                conceptIcon = conceptIcons.animal_basics;
            } else if (question.type.includes("sexual_animals")) {
                conceptName = "Sexual Animal Reproduction";
                conceptIcon = conceptIcons.sexual_animals;
            } else if (question.type.includes("life_cycles")) {
                conceptName = "Life Cycles";
                conceptIcon = conceptIcons.life_cycles;
            } else if (question.type.includes("asexual_animals")) {
                conceptName = "Asexual Animal Reproduction";
                conceptIcon = conceptIcons.asexual_animals;
            } else if (question.type.includes("comparison")) {
                conceptName = "Plant vs Animal";
                conceptIcon = conceptIcons.comparison;
            } else if (question.type.includes("human_reproduction")) {
                conceptName = "Human Reproduction";
                conceptIcon = conceptIcons.human_reproduction;
            }
            
            const conceptBox = document.createElement('div');
            conceptBox.className = 'concept-box grow';
            conceptBox.innerHTML = `
                <div class="concept-icon">${conceptIcon}</div>
                <div class="concept-text">${conceptName.toUpperCase()}</div>
            `;
            
            const label = document.createElement('div');
            label.className = 'concept-label';
            
            if (question.type.includes("basic_concepts")) {
                label.textContent = "Understanding reproduction basics and importance";
            } else if (question.type.includes("plant_basics")) {
                label.textContent = "Flower parts and plant reproduction structures";
            } else if (question.type.includes("pollination")) {
                label.textContent = "How pollen is transferred between flowers";
            } else if (question.type.includes("fertilization")) {
                label.textContent = "Fusion of gametes and seed/fruit formation";
            } else if (question.type.includes("seed_dispersal")) {
                label.textContent = "Methods plants use to spread their seeds";
            } else if (question.type.includes("asexual_plants")) {
                label.textContent = "Plant reproduction without seeds";
            } else if (question.type.includes("animal_basics")) {
                label.textContent = "Basic concepts of animal reproduction";
            } else if (question.type.includes("sexual_animals")) {
                label.textContent = "Sexual reproduction methods in animals";
            } else if (question.type.includes("life_cycles")) {
                label.textContent = "Stages of development in organisms";
            } else if (question.type.includes("asexual_animals")) {
                label.textContent = "Asexual reproduction methods in animals";
            } else if (question.type.includes("comparison")) {
                label.textContent = "Comparing plant and animal reproduction";
            } else if (question.type.includes("human_reproduction")) {
                label.textContent = "Human reproduction and development";
            }
            
            display.appendChild(conceptBox);
            display.appendChild(label);
            
            return display;
        }

        // Create reproduction visualization
        function createReproductionVisualization() {
            const vizDiv = document.createElement('div');
            vizDiv.className = 'visualization-container';
            
            // Random examples
            const plantExample = plantExamples[Math.floor(Math.random() * plantExamples.length)];
            const lifecycle = lifeCycles[Math.floor(Math.random() * 2)]; // Get butterfly or frog
            
            vizDiv.innerHTML = `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-orange);">Reproduction in Plants & Animals Explorer</h3>
                
                <div class="comparison-container">
                    <div class="comparison-box plant" onclick="showPlantReproduction()">
                        <div class="comparison-icon">üå∏</div>
                        <div class="comparison-name">Plant Reproduction</div>
                        <div class="comparison-label" style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;">
                            Flowers, pollination, seeds
                        </div>
                    </div>
                    <div class="comparison-box animal" onclick="showAnimalReproduction()">
                        <div class="comparison-icon">üê£</div>
                        <div class="comparison-name">Animal Reproduction</div>
                        <div class="comparison-label" style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;">
                            Mating, eggs, live birth
                        </div>
                    </div>
                </div>
                
                <div class="reproduction-display">
                    <div style="font-size: 1.5rem; margin-bottom: 15px;">
                        Example: <span style="color: var(--secondary-green); font-weight: bold;">${plantExample.plant}</span>
                    </div>
                    <div style="display: flex; justify-content: center; gap: 30px; margin: 20px 0; flex-wrap: wrap;">
                        <div style="text-align: center;">
                            <div style="font-size: 3rem;">${getIconForPlant(plantExample.plant)}</div>
                            <div style="margin-top: 10px; color: var(--secondary-green); font-weight: bold;">${plantExample.plant}</div>
                            <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;">${plantExample.reproduction}</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 3rem;">üîÑ</div>
                            <div style="margin-top: 10px; color: var(--primary-pink); font-weight: bold;">Life Cycle</div>
                            <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;">${lifecycle.organism}: ${lifecycle.stages.join(' ‚Üí ')}</div>
                        </div>
                    </div>
                </div>
                
                <div class="flower-container">
                    <div class="display-title">Flower Parts - Plant Reproductive Structures</div>
                    <div style="text-align: center; margin-bottom: 15px; color: var(--text-secondary);">
                        Click on parts to learn their functions
                    </div>
                    
                    <div class="flower-diagram bloom">
                        <div class="flower-part" style="top: 10%; left: 50%; transform: translateX(-50%);" onclick="showFlowerPart('Petals')">
                            Petals
                        </div>
                        <div class="flower-part" style="top: 30%; left: 20%;" onclick="showFlowerPart('Stamen')">
                            Stamen
                        </div>
                        <div class="flower-part" style="top: 30%; left: 80%;" onclick="showFlowerPart('Pistil')">
                            Pistil
                        </div>
                        <div class="flower-part" style="top: 70%; left: 20%;" onclick="showFlowerPart('Sepals')">
                            Sepals
                        </div>
                        <div class="flower-part" style="top: 70%; left: 80%;" onclick="showFlowerPart('Ovary')">
                            Ovary
                        </div>
                        <div class="flower-part" style="top: 90%; left: 50%; transform: translateX(-50%);" onclick="showFlowerPart('Receptacle')">
                            Receptacle
                        </div>
                    </div>
                    
                    <div class="process-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 20px;">
                        ${flowerParts.slice(0, 6).map((part, idx) => `
                            <div class="process-box" onclick="showFlowerPart('${part.part}')">
                                <div class="process-icon">${part.icon}</div>
                                <div class="process-name">${part.part}</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">${part.function}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="pollination-container">
                    <div class="display-title">Pollination Process</div>
                    <div style="text-align: center; margin-bottom: 15px; color: var(--text-secondary);">
                        How pollen moves from male to female parts
                    </div>
                    
                    <div class="pollination-path">
                        <div class="pollination-step">
                            <div style="font-size: 2rem;">üå∫</div>
                            <div>Flower 1</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Anther</div>
                        </div>
                        <div class="pollination-arrow">‚Üí</div>
                        <div class="pollination-step pollination-animation" style="font-size: 2rem;">
                            üêù
                        </div>
                        <div class="pollination-arrow">‚Üí</div>
                        <div class="pollination-step">
                            <div style="font-size: 2rem;">üå∏</div>
                            <div>Flower 2</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Stigma</div>
                        </div>
                    </div>
                    
                    <div class="process-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 20px;">
                        ${pollinationMethods.map((method, idx) => `
                            <div class="type-box sexual" onclick="showPollinationMethod('${method.method}')">
                                <div class="type-icon">${method.icon}</div>
                                <div class="type-name">${method.method}</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">${method.agents}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="lifecycle-container lifecycle-animation">
                    <div class="display-title">Life Cycles - Complete Metamorphosis</div>
                    <div style="text-align: center; margin-bottom: 15px; color: var(--text-secondary);">
                        ${lifecycle.organism} Life Cycle
                    </div>
                    
                    <div class="lifecycle-stages">
                        ${lifecycle.stages.map((stage, idx) => `
                            <div class="lifecycle-stage" onclick="showLifecycleStage('${lifecycle.organism}', ${idx})">
                                <div class="stage-icon">${getStageIcon(lifecycle.organism, idx)}</div>
                                <div class="stage-name">${stage}</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">Stage ${idx + 1}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div style="text-align: center; margin-top: 15px; color: var(--text-secondary); font-size: 0.9rem;">
                        <strong>Type:</strong> ${lifecycle.type} | <strong>Duration:</strong> ${lifecycle.duration}
                    </div>
                </div>
                
                <div class="animal-container">
                    <div class="display-title">Animal Reproduction Types</div>
                    <div style="text-align: center; margin-bottom: 15px; color: var(--text-secondary);">
                        Different ways animals reproduce
                    </div>
                    
                    <div class="reproduction-types">
                        ${animalReproduction.map((type, idx) => `
                            <div class="type-box ${type.type.includes('Sexual') ? 'sexual' : 'asexual'}" onclick="showAnimalReproductionType('${type.type}')">
                                <div class="type-icon">${type.icon}</div>
                                <div class="type-name">${type.type}</div>
                                <div style="font-size: 0.9rem; margin: 10px 0;">${type.description}</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">Examples: ${type.examples}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="dispersal-container">
                    <div class="display-title">Seed Dispersal Methods</div>
                    <div style="text-align: center; margin-bottom: 15px; color: var(--text-secondary);">
                        How plants spread their seeds
                    </div>
                    
                    <div class="dispersal-methods">
                        ${dispersalMethods.map((method, idx) => `
                            <div class="method-box dispersal-animation" onclick="showDispersalMethod('${method.method}')">
                                <div class="method-icon">${method.icon}</div>
                                <div class="method-name">${method.method}</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 5px;">${method.examples}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <table class="reproduction-table">
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>Plants</th>
                            <th>Animals</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="font-weight: bold; color: var(--accent-orange);">Reproductive Structures</td>
                            <td>Flowers, cones</td>
                            <td>Reproductive organs</td>
                        </tr>
                        <tr>
                            <td style="font-weight: bold; color: var(--accent-orange);">Gamete Transfer</td>
                            <td>Pollination (wind, insects)</td>
                            <td>Mating, spawning</td>
                        </tr>
                        <tr>
                            <td style="font-weight: bold; color: var(--accent-orange);">Fertilization</td>
                            <td>In ovule, forms seed</td>
                            <td>Internal or external</td>
                        </tr>
                        <tr>
                            <td style="font-weight: bold; color: var(--accent-orange);">Offspring Development</td>
                            <td>In seeds/fruits</td>
                            <td>In eggs or uterus</td>
                        </tr>
                        <tr>
                            <td style="font-weight: bold; color: var(--accent-orange);">Asexual Methods</td>
                            <td>Runners, tubers, cuttings</td>
                            <td>Budding, fission, fragmentation</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="real-world-example" style="background: var(--dark-card); padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid var(--accent-teal); font-style: italic; color: var(--text-secondary);">
                    <div style="color: var(--accent-teal); font-weight: bold; margin-bottom: 10px;">Real-World Reproduction:</div>
                    "Apple trees rely on bees for pollination. Bees visit apple blossoms for nectar, transferring pollen between flowers. After fertilization, the ovary develops into an apple containing seeds. When animals eat apples, they disperse the seeds in their droppings, helping new apple trees grow in different locations."
                    <div style="margin-top: 10px;">
                        <strong>Animal example:</strong> "Frogs lay eggs in water, which hatch into tadpoles. Tadpoles undergo metamorphosis, developing legs and lungs to become adult frogs that can live on land."
                    </div>
                </div>
                
                <div class="interactive-practice">
                    <div class="practice-title">Interactive Reproduction Practice</div>
                    <div class="practice-controls">
                        <div class="practice-button" onclick="labelFlowerParts()">Label Flower Parts</div>
                        <div class="practice-button" onclick="sequenceLifeCycle()">Sequence Life Cycle</div>
                        <div class="practice-button" onclick="matchDispersal()">Match Dispersal Methods</div>
                        <div class="practice-button" onclick="reproductionQuiz()">Reproduction Quiz</div>
                    </div>
                    <div class="practice-display" id="practiceDisplay">
                        Click buttons above to practice reproduction concepts
                    </div>
                </div>
                
                <div style="background: var(--dark-card); padding: 15px; border-radius: 8px; margin-top: 20px; border-left: 4px solid var(--accent-orange);">
                    <div style="color: var(--accent-orange); font-weight: bold; margin-bottom: 10px;">Quick Practice:</div>
                    <div style="color: var(--text-secondary); font-size: 0.9rem;">
                        1. Name the male and female parts of a flower.<br>
                        2. What is pollination and why is it important?<br>
                        3. List three methods of seed dispersal.<br>
                        4. What's the difference between oviparous and viviparous animals?<br>
                        5. Describe the butterfly life cycle stages.
                    </div>
                </div>
                
                <div style="background: var(--dark-card); padding: 15px; border-radius: 8px; margin-top: 20px; border: 2px solid var(--primary-pink);">
                    <div style="color: var(--primary-pink); font-weight: bold; margin-bottom: 10px; text-align: center;">Reproduction Tips</div>
                    <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">
                        <strong>Plants:</strong> Flowers = reproductive organs<br>
                        <strong>Pollination:</strong> Pollen transfer ‚Üí Fertilization<br>
                        <strong>Seed Dispersal:</strong> Prevents competition<br>
                        <strong>Animals:</strong> Oviparous = eggs, Viviparous = live birth
                    </div>
                </div>
            `;
            
            return vizDiv;
        }

        // Helper functions
        function getIconForPlant(plantName) {
            const iconMap = {
                "Rose": "üåπ",
                "Potato": "ü•î",
                "Fern": "üåø",
                "Strawberry": "üçì",
                "Apple": "üçé",
                "Sunflower": "üåª",
                "Dandelion": "üåº",
                "Coconut": "ü••"
            };
            return iconMap[plantName] || "üå±";
        }

        function getStageIcon(organism, stageIndex) {
            if (organism === "Butterfly") {
                const icons = ["ü•ö", "üêõ", "ü¶ã", "ü¶ã"];
                return icons[stageIndex] || "ü¶ã";
            } else if (organism === "Frog") {
                const icons = ["ü•ö", "üê∏", "üê∏", "üê∏"];
                return icons[stageIndex] || "üê∏";
            } else if (organism === "Chicken") {
                const icons = ["ü•ö", "üê£", "üê•", "üêî"];
                return icons[stageIndex] || "üêî";
            } else {
                const icons = ["üë∂", "üë∂", "üëß", "üë©"];
                return icons[stageIndex] || "üë§";
            }
        }

        // Global functions for interactive practice
        window.showPlantReproduction = function() {
            const plant = plantExamples[Math.floor(Math.random() * plantExamples.length)];
            
            alert(`${plant.plant} Reproduction\n\nType: ${plant.reproduction}\n\nMethod: ${plant.method || plant.pollination}\n\nSpecial Feature: ${plant.special}`);
        };

        window.showAnimalReproduction = function() {
            const animalTypes = [
                {
                    animal: "Mammal (Dog)",
                    reproduction: "Sexual, viviparous",
                    gestation: "About 2 months",
                    offspring: "Puppies born live"
                },
                {
                    animal: "Bird (Chicken)",
                    reproduction: "Sexual, oviparous",
                    incubation: "21 days",
                    offspring: "Chicks hatch from eggs"
                },
                {
                    animal: "Fish (Goldfish)",
                    reproduction: "Sexual, oviparous",
                    fertilization: "External",
                    offspring: "Eggs laid in water"
                },
                {
                    animal: "Insect (Butterfly)",
                    reproduction: "Sexual, oviparous",
                    metamorphosis: "Complete",
                    offspring: "Eggs ‚Üí Caterpillars ‚Üí Chrysalis ‚Üí Butterfly"
                }
            ];
            
            const animal = animalTypes[Math.floor(Math.random() * animalTypes.length)];
            
            alert(`${animal.animal}\n\nReproduction: ${animal.reproduction}\n\nDevelopment: ${animal.gestation || animal.incubation || animal.fertilization || animal.metamorphosis}\n\nOffspring: ${animal.offspring}`);
        };

        window.showFlowerPart = function(partName) {
            const part = flowerParts.find(p => p.part === partName);
            if (part) {
                alert(`${part.part}\n\nFunction: ${part.function}\n\n${part.components ? 'Components: ' + part.components : ''}${part.characteristics ? 'Characteristics: ' + part.characteristics : ''}${part.location ? 'Location: ' + part.location : ''}`);
            } else if (partName === "Petals") {
                alert("Petals\n\nFunction: Attract pollinators with color and scent\n\nCharacteristics: Often brightly colored, sometimes scented\n\nImportance: Help in cross-pollination by attracting insects and birds");
            } else if (partName === "Sepals") {
                alert("Sepals\n\nFunction: Protect the developing flower bud\n\nCharacteristics: Usually green, leaf-like structures\n\nLocation: Outermost part of the flower");
            } else if (partName === "Receptacle") {
                alert("Receptacle\n\nFunction: Base of the flower where all parts are attached\n\nLocation: Top of the flower stalk\n\nImportance: Provides support for all flower parts");
            }
        };

        window.showPollinationMethod = function(methodName) {
            const method = pollinationMethods.find(m => m.method === methodName);
            if (!method) return;
            
            alert(`${method.method}\n\nAgents: ${method.agents}\n\nFeatures: ${method.features}\n\nExamples: ${method.examples}`);
        };

        window.showLifecycleStage = function(organism, stageIndex) {
            const lifecycle = lifeCycles.find(l => l.organism === organism);
            if (!lifecycle || !lifecycle.stages[stageIndex]) return;
            
            let stageDetails = "";
            
            if (organism === "Butterfly") {
                const details = [
                    "Egg: Laid on leaves, hatches in 3-5 days",
                    "Larva (Caterpillar): Eating stage, grows rapidly, molts several times",
                    "Pupa (Chrysalis): Transformation stage, caterpillar becomes butterfly",
                    "Adult: Reproductive stage, feeds on nectar, lives 2-4 weeks"
                ];
                stageDetails = details[stageIndex];
            } else if (organism === "Frog") {
                const details = [
                    "Egg: Laid in water, protected by jelly coating",
                    "Tadpole: Aquatic stage, has gills and tail, herbivorous",
                    "Froglet: Develops legs, lungs replace gills, tail shrinks",
                    "Adult Frog: Terrestrial, carnivorous, returns to water to breed"
                ];
                stageDetails = details[stageIndex];
            }
            
            alert(`${lifecycle.organism} - ${lifecycle.stages[stageIndex]}\n\n${stageDetails}\n\nStage: ${stageIndex + 1} of ${lifecycle.stages.length}`);
        };

        window.showAnimalReproductionType = function(typeName) {
            const type = animalReproduction.find(t => t.type === typeName);
            if (!type) return;
            
            alert(`${type.type}\n\nDescription: ${type.description}\n\nMethods: ${type.methods}\n\nExamples: ${type.examples}`);
        };

        window.showDispersalMethod = function(methodName) {
            const method = dispersalMethods.find(m => m.method === methodName);
            if (!method) return;
            
            alert(`${method.method}\n\nAdaptations: ${method.adaptation}\n\nExamples: ${method.examples}\n\nImportance: Reduces competition, spreads species to new areas`);
        };

        window.labelFlowerParts = function() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--secondary-green);">Label Flower Parts</div>
                    <div style="margin-bottom: 15px;">
                        Drag labels to the correct flower parts:
                    </div>
                    
                    <div style="position: relative; width: 250px; height: 250px; margin: 20px auto; background: radial-gradient(circle, rgba(156, 39, 176, 0.1), transparent 70%); border-radius: 50%; border: 2px solid var(--accent-purple);">
                        <div id="flowerCenter" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 60px; height: 60px; background: rgba(233, 30, 99, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            ?
                        </div>
                        <div id="flowerTop" style="position: absolute; top: 20%; left: 50%; transform: translateX(-50%); width: 80px; height: 40px; background: rgba(255, 193, 7, 0.2); border-radius: 20px; display: flex; align-items: center; justify-content: center;">
                            ?
                        </div>
                        <div id="flowerLeft" style="position: absolute; top: 35%; left: 25%; width: 60px; height: 60px; background: rgba(33, 150, 243, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            ?
                        </div>
                        <div id="flowerRight" style="position: absolute; top: 35%; right: 25%; width: 60px; height: 60px; background: rgba(33, 150, 243, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            ?
                        </div>
                        <div id="flowerBottomLeft" style="position: absolute; bottom: 25%; left: 25%; width: 50px; height: 30px; background: rgba(76, 175, 80, 0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                            ?
                        </div>
                        <div id="flowerBottomRight" style="position: absolute; bottom: 25%; right: 25%; width: 50px; height: 30px; background: rgba(76, 175, 80, 0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                            ?
                        </div>
                    </div>
                    
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin: 20px 0;">
                        <div class="draggable-item living" draggable="true" ondragstart="dragLabel(event, 'Pistil')" style="cursor: move;">
                            Pistil
                        </div>
                        <div class="draggable-item living" draggable="true" ondragstart="dragLabel(event, 'Stamen')" style="cursor: move;">
                            Stamen
                        </div>
                        <div class="draggable-item living" draggable="true" ondragstart="dragLabel(event, 'Petal')" style="cursor: move;">
                            Petal
                        </div>
                        <div class="draggable-item living" draggable="true" ondragstart="dragLabel(event, 'Sepal')" style="cursor: move;">
                            Sepal
                        </div>
                        <div class="draggable-item living" draggable="true" ondragstart="dragLabel(event, 'Ovary')" style="cursor: move;">
                            Ovary
                        </div>
                        <div class="draggable-item living" draggable="true" ondragstart="dragLabel(event, 'Anther')" style="cursor: move;">
                            Anther
                        </div>
                    </div>
                    
                    <div id="flowerLabelResult" style="margin-top: 20px; min-height: 30px; font-weight: bold;"></div>
                    <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                        <strong>Hint:</strong> Pistil is female, Stamen is male
                    </div>
                </div>
            `;
        };

        window.dragLabel = function(ev, labelName) {
            ev.dataTransfer.setData("text/plain", labelName);
        };

        // Set up drop zones for flower parts
        function setupFlowerDropZones() {
            const zones = ['flowerCenter', 'flowerTop', 'flowerLeft', 'flowerRight', 'flowerBottomLeft', 'flowerBottomRight'];
            zones.forEach(zoneId => {
                const zone = document.getElementById(zoneId);
                if (zone) {
                    zone.ondragover = function(ev) {
                        ev.preventDefault();
                    };
                    zone.ondrop = function(ev) {
                        ev.preventDefault();
                        const label = ev.dataTransfer.getData("text/plain");
                        
                        // Check if correct (simple checking for demo)
                        let isCorrect = false;
                        if (zoneId === 'flowerCenter' && label === 'Pistil') isCorrect = true;
                        if (zoneId === 'flowerTop' && label === 'Petal') isCorrect = true;
                        if ((zoneId === 'flowerLeft' || zoneId === 'flowerRight') && label === 'Stamen') isCorrect = true;
                        if ((zoneId === 'flowerBottomLeft' || zoneId === 'flowerBottomRight') && label === 'Sepal') isCorrect = true;
                        
                        if (isCorrect) {
                            zone.style.backgroundColor = 'rgba(76, 175, 80, 0.4)';
                            zone.textContent = label;
                            
                            const resultDiv = document.getElementById('flowerLabelResult');
                            if (resultDiv) {
                                resultDiv.textContent = `Correct! ${label} placed correctly!`;
                                resultDiv.style.color = 'var(--secondary-green)';
                            }
                        } else {
                            zone.style.backgroundColor = 'rgba(244, 67, 54, 0.4)';
                            
                            const resultDiv = document.getElementById('flowerLabelResult');
                            if (resultDiv) {
                                resultDiv.textContent = 'Try again!';
                                resultDiv.style.color = 'var(--accent-red)';
                            }
                        }
                    };
                }
            });
        }

        window.sequenceLifeCycle = function() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            const lifecycle = lifeCycles[0]; // Butterfly
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--accent-blue);">Sequence the Life Cycle</div>
                    <div style="margin-bottom: 15px;">
                        Arrange the ${lifecycle.organism} life cycle in correct order:
                    </div>
                    
                    <div id="lifecycleContainer" style="display: flex; justify-content: center; gap: 15px; margin: 30px 0; flex-wrap: wrap; min-height: 100px;">
                        ${shuffleArray([...lifecycle.stages]).map((stage, idx) => `
                            <div class="draggable-item living" draggable="true" ondragstart="dragLifecycle(event, '${stage}')" 
                                 style="cursor: move; min-width: 100px;" id="stage${idx}">
                                <div style="font-size: 1.5rem;">${getStageIcon(lifecycle.organism, lifecycle.stages.indexOf(stage))}</div>
                                <div style="margin-top: 10px; font-weight: bold;">${stage}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <div style="font-weight: bold; color: var(--accent-orange);">Correct Order:</div>
                        <div id="correctLifecycle" style="font-size: 1.2rem; margin-top: 10px; min-height: 30px;"></div>
                    </div>
                    
                    <div>
                        <button class="btn btn-small btn-secondary" onclick="checkLifecycleSequence()">Check My Sequence</button>
                        <button class="btn btn-small btn-outline" onclick="showLifecycleAnswer()">Show Answer</button>
                    </div>
                    
                    <div id="lifecycleResult" style="margin-top: 20px; min-height: 30px; font-weight: bold;"></div>
                </div>
            `;
        };

        window.dragLifecycle = function(ev, stageName) {
            ev.dataTransfer.setData("text/plain", stageName);
        };

        window.checkLifecycleSequence = function() {
            const container = document.getElementById('lifecycleContainer');
            const resultDiv = document.getElementById('lifecycleResult');
            
            if (!container || !resultDiv) return;
            
            const children = Array.from(container.children);
            const order = children.map(child => child.querySelector('div:nth-child(2)').textContent);
            
            const correctOrder = lifeCycles[0].stages;
            
            if (JSON.stringify(order) === JSON.stringify(correctOrder)) {
                resultDiv.textContent = "Perfect! Correct life cycle sequence! üåü";
                resultDiv.style.color = 'var(--primary-pink)';
                
                // Add arrows between items
                children.forEach((child, index) => {
                    if (index < children.length - 1) {
                        const arrow = document.createElement('div');
                        arrow.textContent = '‚Üí';
                        arrow.style.fontSize = '1.5rem';
                        arrow.style.color = 'var(--accent-orange)';
                        arrow.style.margin = '0 10px';
                        container.insertBefore(arrow, child.nextSibling);
                    }
                });
            } else {
                resultDiv.textContent = "Not quite right. Try rearranging!";
                resultDiv.style.color = 'var(--accent-orange)';
            }
            
            resultDiv.classList.add('pulse');
            setTimeout(() => resultDiv.classList.remove('pulse'), 500);
        };

        window.showLifecycleAnswer = function() {
            const correctDiv = document.getElementById('correctLifecycle');
            if (correctDiv) {
                correctDiv.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        ${lifeCycles[0].stages.map((stage, idx) => `
                            <span style="display: flex; flex-direction: column; align-items: center;">
                                <span style="font-size: 1.5rem;">${getStageIcon(lifeCycles[0].organism, idx)}</span>
                                <span>${stage}</span>
                            </span>
                            ${idx < lifeCycles[0].stages.length - 1 ? '<span style="font-size: 1.5rem; color: var(--accent-orange);">‚Üí</span>' : ''}
                        `).join('')}
                    </div>
                    <div style="margin-top: 10px; font-size: 0.9rem; color: var(--text-secondary);">
                        ${lifeCycles[0].type}: ${lifeCycles[0].duration}
                    </div>
                `;
            }
        };

        window.matchDispersal = function() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--accent-lime);">Match Dispersal Methods</div>
                    <div style="margin-bottom: 15px;">
                        Match seeds with their dispersal methods:
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0;">
                        <div style="text-align: right;">
                            ${dispersalMethods.map(method => `
                                <div class="draggable-item living" style="margin-bottom: 10px; cursor: move;" 
                                     draggable="true" ondragstart="dragDispersal(event, '${method.method}')">
                                    <div style="display: flex; align-items: center; gap: 10px; justify-content: flex-end;">
                                        <span style="font-weight: bold;">${method.method}</span>
                                        <span style="font-size: 1.5rem;">${method.icon}</span>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div style="text-align: left;">
                            ${shuffleArray([...dispersalMethods]).map(method => `
                                <div class="draggable-item nonliving" style="margin-bottom: 10px; min-height: 60px; display: flex; align-items: center;"
                                     ondrop="dropDispersal(event)" ondragover="allowDrop(event)">
                                    <div>
                                        <div><strong>Examples:</strong> ${method.examples}</div>
                                        <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;">
                                            Adaptations: ${method.adaptation}
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div id="dispersalResult" style="margin-top: 20px; min-height: 30px;"></div>
                    <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                        <strong>Remember:</strong> Different seeds have different adaptations for dispersal
                    </div>
                </div>
            `;
        };

        window.dragDispersal = function(ev, methodName) {
            ev.dataTransfer.setData("text/plain", methodName);
        };

        window.dropDispersal = function(ev) {
            ev.preventDefault();
            const methodName = ev.dataTransfer.getData("text/plain");
            const target = ev.target.closest('.draggable-item') || ev.target;
            
            // Find the correct method
            const method = dispersalMethods.find(m => m.method === methodName);
            const targetExamples = target.textContent.split('Examples:')[1]?.split('Adaptations:')[0]?.trim();
            
            if (method && targetExamples && targetExamples.includes(method.examples.split(',')[0])) {
                target.style.borderColor = 'var(--primary-pink)';
                target.style.backgroundColor = 'rgba(233, 30, 99, 0.2)';
                
                const resultDiv = document.getElementById('dispersalResult');
                if (resultDiv) {
                    resultDiv.textContent = "Correct match!";
                    resultDiv.style.color = 'var(--primary-pink)';
                }
            } else {
                target.style.borderColor = 'var(--accent-red)';
                target.style.backgroundColor = 'rgba(244, 67, 54, 0.2)';
                
                const resultDiv = document.getElementById('dispersalResult');
                if (resultDiv) {
                    resultDiv.textContent = "Try again!";
                    resultDiv.style.color = 'var(--accent-red)';
                }
            }
        };

        window.allowDrop = function(ev) {
            ev.preventDefault();
        };

        window.reproductionQuiz = function() {
            const practiceDisplay = document.getElementById('practiceDisplay');
            if (!practiceDisplay) return;
            
            const quizQuestions = [
                {
                    question: "What part of the flower produces pollen?",
                    options: ["Anther", "Stigma", "Ovary", "Petal"],
                    answer: 0
                },
                {
                    question: "Which animal is oviparous?",
                    options: ["Chicken", "Dog", "Human", "Whale"],
                    answer: 0
                },
                {
                    question: "What is pollination?",
                    options: ["Transfer of pollen", "Growth of seed", "Germination", "Fertilization"],
                    answer: 0
                }
            ];
            
            const currentQuestion = quizQuestions[Math.floor(Math.random() * quizQuestions.length)];
            
            practiceDisplay.innerHTML = `
                <div style="text-align: center; width: 100%;">
                    <div style="font-size: 1.5rem; margin-bottom: 15px; color: var(--primary-pink);">Reproduction Quiz</div>
                    <div style="font-size: 1.2rem; margin-bottom: 15px;">
                        ${currentQuestion.question}
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr; gap: 10px; margin: 20px 0;">
                        ${currentQuestion.options.map((option, idx) => `
                            <div class="option" onclick="checkQuizAnswer(this, ${idx}, ${currentQuestion.answer})">
                                <div class="option-letter">${String.fromCharCode(65 + idx)}</div>
                                <div class="option-text">${option}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div id="quizResult" style="margin-top: 20px; min-height: 30px; font-weight: bold;"></div>
                </div>
            `;
        };

        window.checkQuizAnswer = function(element, selectedIndex, correctIndex) {
            const resultDiv = document.getElementById('quizResult');
            if (!resultDiv) return;
            
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            if (selectedIndex === correctIndex) {
                element.classList.add('correct');
                resultDiv.textContent = "Correct! Well done!";
                resultDiv.style.color = 'var(--primary-pink)';
            } else {
                element.classList.add('incorrect');
                options[correctIndex].classList.add('correct');
                resultDiv.textContent = `Correct answer: ${String.fromCharCode(65 + correctIndex)}`;
                resultDiv.style.color = 'var(--accent-orange)';
            }
            
            resultDiv.classList.add('pulse');
            setTimeout(() => resultDiv.classList.remove('pulse'), 500);
        };

        // Load current question
        function loadQuestion() {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${appState.currentQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / appState.currentQuestions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            scienceFact.innerHTML = '';
            conceptDisplay.innerHTML = '';
            visualizationContainer.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            scienceFact.appendChild(createScienceFact());
            conceptDisplay.appendChild(createConceptDisplay());
            visualizationContainer.appendChild(createReproductionVisualization());
            
            // Set up drop zones after visualization is created
            setTimeout(setupFlowerDropZones, 100);
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation, question.answer);
            }
            
            nextQuestionBtn.disabled = false;
            saveStateToStorage();
        }

        // Show feedback
        function showFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    const correctOption = String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65));
                    const correctText = questions.find(q => 
                        appState.currentQuestions[appState.currentQuestionIndex].question === q.question
                    )?.options[correctAnswer.charCodeAt(0) - 65];
                    
                    feedbackMessage.textContent = `Correct answer: ${correctOption} (${correctText})`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Move to next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions();
            
            saveStateToStorage();
            showPracticePage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            alert("In a complete implementation, this would navigate to the topics selection page.");
        }

        // Start practice session
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            if (appState.currentQuestions.length === 0) {
                initializeQuestions();
            }
            
            saveStateToStorage();
            showPracticePage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
