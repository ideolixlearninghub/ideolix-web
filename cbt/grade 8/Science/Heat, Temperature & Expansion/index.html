<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 8 Science - Heat, Temperature & Expansion | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Thermal Physics Theme */
        :root {
            --heat-red: #F44336;
            --heat-orange: #FF9800;
            --heat-yellow: #FFC107;
            --heat-blue: #2196F3;
            --heat-teal: #009688;
            --heat-purple: #9C27B0;
            --heat-pink: #E91E63;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --temperature-glow: 0 0 20px rgba(244, 67, 54, 0.4);
            --heat-glow: 0 0 20px rgba(255, 152, 0, 0.4);
            --expansion-glow: 0 0 20px rgba(33, 150, 243, 0.4);
            --transfer-glow: 0 0 20px rgba(255, 193, 7, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(244, 67, 54, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 152, 0, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(33, 150, 243, 0.05) 0%, transparent 50%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 10px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info h1 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--heat-red), var(--heat-orange), var(--heat-yellow), var(--heat-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(244, 67, 54, 0.15);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            border: 2px solid var(--heat-red);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--heat-red);
        }

        .input-group {
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--heat-red);
            box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--heat-red);
            color: white;
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3);
        }

        .btn-primary:hover {
            background: #d32f2f;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(244, 67, 54, 0.4);
        }

        .btn-secondary {
            background: var(--heat-orange);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
        }

        .btn-secondary:hover {
            background: #F57C00;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 152, 0, 0.4);
        }

        .btn-success {
            background: var(--heat-teal);
            color: white;
            box-shadow: 0 4px 12px rgba(0, 150, 136, 0.3);
        }

        .btn-success:hover {
            background: #00796B;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 150, 136, 0.4);
        }

        .btn-warning {
            background: var(--heat-yellow);
            color: #212121;
            box-shadow: 0 4px 12px rgba(255, 193, 7, 0.3);
        }

        .btn-warning:hover {
            background: #FFB300;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 193, 7, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--heat-red);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Thermal Grid */
        .thermal-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        @media (max-width: 1200px) {
            .thermal-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .thermal-grid {
                grid-template-columns: 1fr;
            }
        }

        .thermal-card {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .thermal-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .thermal-card.temperature {
            border-color: var(--heat-red);
            background: linear-gradient(135deg, rgba(244, 67, 54, 0.1), transparent);
        }

        .thermal-card.heat {
            border-color: var(--heat-orange);
            background: linear-gradient(135deg, rgba(255, 152, 0, 0.1), transparent);
        }

        .thermal-card.expansion {
            border-color: var(--heat-blue);
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), transparent);
        }

        .thermal-card.transfer {
            border-color: var(--heat-yellow);
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), transparent);
        }

        .thermal-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .thermal-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .thermal-card.temperature .thermal-title {
            color: var(--heat-red);
        }

        .thermal-card.heat .thermal-title {
            color: var(--heat-orange);
        }

        .thermal-card.expansion .thermal-title {
            color: var(--heat-blue);
        }

        .thermal-card.transfer .thermal-title {
            color: var(--heat-yellow);
        }

        .thermal-features {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--dark-border);
            flex-grow: 1;
        }

        .thermal-features h4 {
            font-size: 0.9rem;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .feature-list {
            list-style-type: none;
        }

        .feature-list li {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-bottom: 4px;
            padding-left: 15px;
            position: relative;
        }

        .feature-list li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: var(--heat-teal);
        }

        /* Practice Page */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 8px;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--heat-red), var(--heat-orange), var(--heat-yellow), var(--heat-blue));
            border-radius: 8px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(244, 67, 54, 0.5);
        }

        .question-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .thermal-tip {
            background: rgba(255, 193, 7, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--heat-yellow);
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--heat-red);
            background: rgba(244, 67, 54, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(0, 150, 136, 0.1);
            border-color: var(--heat-teal);
            color: var(--heat-teal);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 25px;
            height: 25px;
            background: var(--heat-teal);
            border-radius: 50%;
            margin-right: 12px;
            font-weight: bold;
            color: white;
        }

        .option.correct .option-letter {
            background: var(--heat-teal);
        }

        .option.incorrect .option-letter {
            background: #F44336;
        }

        /* Feedback */
        .feedback-container {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(0, 150, 136, 0.1);
            border-left: 4px solid var(--heat-teal);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--heat-teal);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .feedback-correct .feedback-title {
            color: var(--heat-teal);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-explanation {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Navigation */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        /* Visualization Side */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
            overflow: auto;
            max-height: 800px;
        }

        /* Thermal Visualizers */
        .thermal-visualizer {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid;
            position: relative;
        }

        .temperature-visualizer {
            border-color: var(--heat-red);
        }

        .heat-visualizer {
            border-color: var(--heat-orange);
        }

        .expansion-visualizer {
            border-color: var(--heat-blue);
        }

        .transfer-visualizer {
            border-color: var(--heat-yellow);
        }

        .visualizer-title {
            color: inherit;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .thermal-canvas {
            width: 100%;
            height: 200px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        /* Particle Models */
        .particle-model {
            width: 100%;
            height: 150px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        .molecule {
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .molecule:hover {
            transform: scale(1.2);
            z-index: 100;
        }

        .cold-molecule {
            background: var(--heat-blue);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
        }

        .hot-molecule {
            background: var(--heat-red);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
        }

        .thermal-arrow {
            position: absolute;
            border-left: 2px solid;
            border-bottom: 2px solid;
            transform-origin: 0 0;
        }

        .thermal-label {
            position: absolute;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* Thermometer */
        .thermometer-container {
            width: 100%;
            height: 200px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
            border: 1px solid var(--dark-border);
        }

        .thermometer {
            position: absolute;
            width: 30px;
            height: 180px;
            left: 50%;
            top: 10px;
            transform: translateX(-50%);
            background: #2a2a2a;
            border-radius: 15px;
            border: 2px solid var(--dark-border);
        }

        .mercury {
            position: absolute;
            width: 20px;
            bottom: 10px;
            left: 5px;
            background: linear-gradient(to top, var(--heat-blue), var(--heat-red));
            border-radius: 10px;
            transition: height 1s ease;
        }

        .temperature-scale {
            position: absolute;
            right: 20%;
            top: 10px;
            height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            font-size: 0.8rem;
        }

        /* Expansion Models */
        .expansion-model {
            width: 100%;
            height: 150px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
            border: 1px solid var(--dark-border);
        }

        .metal-bar {
            position: absolute;
            background: linear-gradient(to right, #FFD180, #FFAB40);
            border-radius: 5px;
            transition: all 1s ease;
        }

        .bimetallic-strip {
            position: absolute;
            background: linear-gradient(to right, #2196F3, #F44336);
            border-radius: 5px;
            transition: all 1s ease;
        }

        /* Heat Transfer Models */
        .transfer-model {
            width: 100%;
            height: 150px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        /* Formulas Section */
        .formulas-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--heat-purple);
        }

        .formulas-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .formulas-grid {
                grid-template-columns: 1fr;
            }
        }

        .formula-card {
            background: var(--dark-surface);
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid var(--heat-purple);
        }

        .formula-expression {
            font-size: 1.5rem;
            text-align: center;
            margin: 10px 0;
            color: var(--heat-purple);
            font-family: 'Cambria Math', serif;
        }

        .formula-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 8px;
        }

        /* Comparison Tables */
        .comparison-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--heat-teal);
        }

        .comparison-tables {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .comparison-tables {
                grid-template-columns: 1fr;
            }
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
        }

        .comparison-table th {
            background: var(--dark-card);
            padding: 10px;
            text-align: left;
            color: var(--heat-teal);
            border-bottom: 2px solid var(--heat-teal);
        }

        .comparison-table td {
            padding: 8px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
            font-size: 0.85rem;
            cursor: pointer;
        }

        .comparison-table td:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Interactive Lab */
        .lab-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--heat-pink);
        }

        .lab-bench {
            width: 100%;
            height: 150px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
            border: 1px solid var(--dark-border);
        }

        .lab-equipment {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .lab-equipment:hover {
            transform: scale(1.1);
        }

        /* Classification Quiz */
        .classification-quiz {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--heat-pink);
        }

        .classification-items {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 10px 0;
        }

        .classification-item {
            padding: 8px;
            background: var(--dark-surface);
            border: 2px dashed var(--dark-border);
            border-radius: 6px;
            text-align: center;
            cursor: grab;
            transition: all 0.2s ease;
        }

        .classification-item:hover {
            border-color: var(--heat-pink);
        }

        .classification-zones {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .classification-zones {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .classification-zone {
            padding: 15px;
            border: 2px dashed var(--dark-border);
            border-radius: 8px;
            min-height: 100px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .classification-zone.active {
            border-color: var(--heat-teal);
            background: rgba(0, 150, 136, 0.1);
        }

        /* Properties Panel */
        .properties-panel {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--heat-orange);
        }

        .properties-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 10px 0;
        }

        .property-item {
            background: var(--dark-surface);
            padding: 10px;
            border-radius: 6px;
            border-left: 4px solid var(--heat-orange);
        }

        .property-name {
            font-weight: bold;
            color: var(--heat-orange);
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .property-value {
            color: var(--text-primary);
            font-size: 0.85rem;
        }

        /* Interactive Controls */
        .controls-panel {
            background: var(--dark-surface);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .control-group {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .control-slider {
            flex: 1;
            min-width: 200px;
        }

        .control-slider label {
            display: block;
            margin-bottom: 5px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .control-slider input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--dark-border);
            outline: none;
        }

        .control-slider input[type="range"]::-webkit-slider-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--heat-red);
            cursor: pointer;
        }

        /* Temperature Display */
        .temp-display {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
            transition: color 0.5s ease;
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }

        .results-title {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--heat-red), var(--heat-orange), var(--heat-yellow), var(--heat-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--heat-red), var(--heat-orange), var(--heat-yellow), var(--heat-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--heat-red);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes spin {
            0% { transform: rotate(0); }
            100% { transform: rotate(360deg); }
        }

        .spinning {
            animation: spin 2s linear infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .floating {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes vibrate {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }

        .vibrating {
            animation: vibrate 0.1s linear infinite;
        }

        @keyframes heatFlow {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        .heating {
            background: linear-gradient(90deg, #2196F3, #F44336, #2196F3);
            background-size: 200% 100%;
            animation: heatFlow 2s linear infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 1.8rem;
            }
            
            .thermal-grid {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .comparison-tables {
                grid-template-columns: 1fr;
            }
            
            .formulas-grid {
                grid-template-columns: 1fr;
            }
            
            .classification-items {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .classification-zones {
                grid-template-columns: 1fr;
            }
            
            .properties-list {
                grid-template-columns: 1fr;
            }
            
            .control-group {
                flex-direction: column;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <h1 class="welcome-title">Grade 8 Physics: Heat, Temperature & Expansion</h1>
            <p class="welcome-subtitle">Explore the invisible world of thermal energy! Discover how temperature affects matter, how heat transfers, and why materials expand when heated. From thermometers to thermostats, understand the thermal phenomena all around us.</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üî•üå°Ô∏èüìà‚ÜîÔ∏è</span>
                <span class="topic-name">Temperature, Heat Transfer, Thermal Expansion</span>
            </div>
            
            <div class="thermal-grid">
                <div class="thermal-card temperature" onclick="showThermalDetail('temperature')">
                    <div class="thermal-icon">üå°Ô∏è</div>
                    <h3 class="thermal-title">Temperature</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Measure of average kinetic energy of particles</p>
                    <div class="thermal-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Measured in ¬∞C, ¬∞F, K</li>
                            <li>Related to particle motion</li>
                            <li>Thermometer operation</li>
                            <li>Absolute zero concept</li>
                        </ul>
                    </div>
                </div>
                
                <div class="thermal-card heat" onclick="showThermalDetail('heat')">
                    <div class="thermal-icon">üî•</div>
                    <h3 class="thermal-title">Heat Energy</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Energy transferred due to temperature difference</p>
                    <div class="thermal-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Measured in Joules</li>
                            <li>Different from temperature</li>
                            <li>Specific heat capacity</li>
                            <li>Latent heat</li>
                        </ul>
                    </div>
                </div>
                
                <div class="thermal-card expansion" onclick="showThermalDetail('expansion')">
                    <div class="thermal-icon">üìà</div>
                    <h3 class="thermal-title">Thermal Expansion</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Materials expand when heated, contract when cooled</p>
                    <div class="thermal-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Linear expansion</li>
                            <li>Volume expansion</li>
                            <li>Bimetallic strips</li>
                            <li>Real-world applications</li>
                        </ul>
                    </div>
                </div>
                
                <div class="thermal-card transfer" onclick="showThermalDetail('transfer')">
                    <div class="thermal-icon">‚ÜîÔ∏è</div>
                    <h3 class="thermal-title">Heat Transfer</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Three methods of heat movement</p>
                    <div class="thermal-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Conduction</li>
                            <li>Convection</li>
                            <li>Radiation</li>
                            <li>Insulators vs Conductors</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your name:</label>
                <input type="text" id="studentName" placeholder="Your name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>üî• Begin Thermal Physics Practice</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 25</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 4%"></div>
                </div>
            </div>

            <div class="question-container">
                <div id="thermalTip"></div>
                
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-explanation" id="feedbackExplanation"></div>
                </div>
            </div>
            
            <!-- Visualization Area -->
            <div class="content-wrapper">
                <div class="visualization-container">
                    <!-- Temperature Visualizer -->
                    <div class="thermal-visualizer temperature-visualizer">
                        <div class="visualizer-title">Temperature & Particle Motion</div>
                        <div class="particle-model" id="temperatureModel">
                            <!-- Particle motion visualization -->
                        </div>
                        <div class="temp-display" id="tempDisplay">25¬∞C</div>
                        <div class="controls-panel">
                            <div class="control-group">
                                <button class="btn btn-small btn-secondary" onclick="showParticleModel('cold')">Cold Matter</button>
                                <button class="btn btn-small btn-secondary" onclick="showParticleModel('room')">Room Temperature</button>
                                <button class="btn btn-small btn-secondary" onclick="showParticleModel('hot')">Hot Matter</button>
                            </div>
                            <div class="control-slider">
                                <label>Temperature: <span id="temperatureValue">25¬∞C</span></label>
                                <input type="range" id="temperatureSlider" min="-20" max="100" value="25" oninput="updateTemperature(this.value)">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Thermometer -->
                    <div class="thermal-visualizer temperature-visualizer">
                        <div class="visualizer-title">Interactive Thermometer</div>
                        <div class="thermometer-container" id="thermometer">
                            <!-- Thermometer visualization -->
                        </div>
                        <div class="controls-panel">
                            <div class="control-group">
                                <button class="btn btn-small btn-secondary" onclick="setTemperature(0)">0¬∞C (Freezing)</button>
                                <button class="btn btn-small btn-secondary" onclick="setTemperature(20)">20¬∞C (Room)</button>
                                <button class="btn btn-small btn-secondary" onclick="setTemperature(37)">37¬∞C (Body)</button>
                                <button class="btn btn-small btn-secondary" onclick="setTemperature(100)">100¬∞C (Boiling)</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Heat Transfer Models -->
                    <div class="thermal-visualizer transfer-visualizer">
                        <div class="visualizer-title">Heat Transfer Methods</div>
                        <div class="transfer-model" id="transferModel">
                            <!-- Heat transfer visualization -->
                        </div>
                        <div class="controls-panel">
                            <div class="control-group">
                                <button class="btn btn-small btn-warning" onclick="showTransferModel('conduction')">Conduction</button>
                                <button class="btn btn-small btn-warning" onclick="showTransferModel('convection')">Convection</button>
                                <button class="btn btn-small btn-warning" onclick="showTransferModel('radiation')">Radiation</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Thermal Expansion -->
                    <div class="thermal-visualizer expansion-visualizer">
                        <div class="visualizer-title">Thermal Expansion</div>
                        <div class="expansion-model" id="expansionModel">
                            <!-- Expansion visualization -->
                        </div>
                        <div class="controls-panel">
                            <div class="control-group">
                                <button class="btn btn-small btn-success" onclick="showExpansionModel('linear')">Linear Expansion</button>
                                <button class="btn btn-small btn-success" onclick="showExpansionModel('bimetallic')">Bimetallic Strip</button>
                                <button class="btn btn-small btn-success" onclick="showExpansionModel('volume')">Volume Expansion</button>
                            </div>
                            <div class="control-slider">
                                <label>Heat Level: <span id="heatLevelValue">Medium</span></label>
                                <input type="range" id="heatLevel" min="1" max="100" value="50" oninput="updateHeatLevel(this.value)">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Formulas Section -->
                    <div class="formulas-section">
                        <div class="visualizer-title">Thermal Physics Formulas</div>
                        <div class="formulas-grid">
                            <div class="formula-card">
                                <div style="color: var(--heat-red); font-weight: bold;">Temperature Conversion</div>
                                <div class="formula-expression">¬∞F = (9/5)¬∞C + 32</div>
                                <div class="formula-description">
                                    Fahrenheit to Celsius conversion<br>
                                    K = ¬∞C + 273.15 (Kelvin)
                                </div>
                            </div>
                            <div class="formula-card">
                                <div style="color: var(--heat-orange); font-weight: bold;">Heat Energy</div>
                                <div class="formula-expression">Q = mcŒîT</div>
                                <div class="formula-description">
                                    Q = heat energy (J)<br>
                                    m = mass (kg)<br>
                                    c = specific heat (J/kg¬∞C)<br>
                                    ŒîT = temperature change
                                </div>
                            </div>
                            <div class="formula-card">
                                <div style="color: var(--heat-blue); font-weight: bold;">Linear Expansion</div>
                                <div class="formula-expression">ŒîL = Œ±L‚ÇÄŒîT</div>
                                <div class="formula-description">
                                    ŒîL = change in length<br>
                                    Œ± = coefficient of linear expansion<br>
                                    L‚ÇÄ = original length<br>
                                    ŒîT = temperature change
                                </div>
                            </div>
                            <div class="formula-card">
                                <div style="color: var(--heat-teal); font-weight: bold;">Heat Transfer Rate</div>
                                <div class="formula-expression">Q/t = kAŒîT/d</div>
                                <div class="formula-description">
                                    Q/t = heat transfer rate<br>
                                    k = thermal conductivity<br>
                                    A = area<br>
                                    ŒîT = temperature difference<br>
                                    d = thickness
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Comparison Tables -->
                    <div class="comparison-section">
                        <div class="visualizer-title">Heat Transfer Methods Comparison</div>
                        <div class="comparison-tables">
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Conduction</th>
                                        <th>Characteristics</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr onclick="showComparisonDetail('conduction_detail')">
                                        <td>Mechanism</td>
                                        <td>Direct contact, particle collisions</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('conduction_examples')">
                                        <td>Examples</td>
                                        <td>Spoon in hot soup, metal rod</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('conduction_materials')">
                                        <td>Good Conductors</td>
                                        <td>Metals (Cu, Al, Fe)</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('conduction_insulators')">
                                        <td>Good Insulators</td>
                                        <td>Wood, plastic, air, fiberglass</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Convection</th>
                                        <th>Characteristics</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr onclick="showComparisonDetail('convection_detail')">
                                        <td>Mechanism</td>
                                        <td>Fluid movement (liquids/gases)</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('convection_examples')">
                                        <td>Examples</td>
                                        <td>Boiling water, sea breeze, AC</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('convection_types')">
                                        <td>Types</td>
                                        <td>Natural & forced convection</td>
                                    </tr>
                                    <tr onclick="showComparisonDetail('convection_applications')">
                                        <td>Applications</td>
                                        <td>Heating systems, weather</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Properties Panel -->
                    <div class="properties-panel">
                        <div class="visualizer-title">Thermal Properties of Materials</div>
                        <div class="properties-list" id="propertiesList">
                            <!-- Properties will be populated by JavaScript -->
                        </div>
                        <div class="control-group" style="margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="showConductivity()">Thermal Conductivity</button>
                            <button class="btn btn-small btn-secondary" onclick="showSpecificHeat()">Specific Heat Capacity</button>
                            <button class="btn btn-small btn-secondary" onclick="showExpansionCoeff()">Expansion Coefficients</button>
                            <button class="btn btn-small btn-secondary" onclick="showInsulation()">Insulation Properties</button>
                        </div>
                    </div>
                    
                    <!-- Interactive Classification Quiz -->
                    <div class="classification-quiz">
                        <div class="visualizer-title">Thermal Concepts Classification</div>
                        <div id="quizInstruction" style="margin-bottom: 10px; color: var(--text-primary); text-align: center;">
                            Drag items to correct category:
                        </div>
                        <div class="classification-items" id="classificationItems">
                            <!-- Items to classify will be added here -->
                        </div>
                        <div class="classification-zones">
                            <div class="classification-zone" id="zoneTemperature" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <div style="color: var(--heat-red); font-weight: bold;">Temperature</div>
                            </div>
                            <div class="classification-zone" id="zoneHeat" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <div style="color: var(--heat-orange); font-weight: bold;">Heat</div>
                            </div>
                            <div class="classification-zone" id="zoneExpansion" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <div style="color: var(--heat-blue); font-weight: bold;">Expansion</div>
                            </div>
                            <div class="classification-zone" id="zoneTransfer" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <div style="color: var(--heat-yellow); font-weight: bold;">Heat Transfer</div>
                            </div>
                        </div>
                        <div id="classificationFeedback" style="margin-top: 10px; color: var(--text-secondary); text-align: center; font-size: 0.9rem;"></div>
                        <div class="control-group" style="margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="newClassificationChallenge()">New Challenge</button>
                            <button class="btn btn-small btn-secondary" onclick="checkClassification()">Check Answers</button>
                            <button class="btn btn-small btn-secondary" onclick="resetClassification()">Reset</button>
                        </div>
                    </div>
                    
                    <!-- Interactive Lab -->
                    <div class="lab-section">
                        <div class="visualizer-title">Thermal Physics Lab</div>
                        <div class="lab-bench" id="labBench">
                            <!-- Lab equipment will be added here -->
                        </div>
                        <div class="control-group" style="margin-top: 10px;">
                            <button class="btn btn-small btn-success" onclick="setupHeatConduction()">Heat Conduction</button>
                            <button class="btn btn-small btn-success" onclick="setupExpansionDemo()">Expansion Demo</button>
                            <button class="btn btn-small btn-success" onclick="setupThermometerCal()">Thermometer Calibration</button>
                            <button class="btn btn-small btn-success" onclick="clearLabBench()">Clear Bench</button>
                        </div>
                        <div id="labInstructions" style="margin-top: 10px; color: var(--text-secondary); font-size: 0.9rem; text-align: center;">
                            Click setup buttons to build thermal experiments
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-secondary" id="skipQuestion">Skip Question</button>
                <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Thermal Physics Practice Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="timeSpent">0min</div>
                        <div class="stat-label">Time Spent</div>
                    </div>
                </div>
                
                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn btn-primary" id="retryTopic">Try Again</button>
                    <button class="btn btn-secondary" id="viewTopics">Other Topics</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Questions array - 25 comprehensive thermal physics questions
        const questions = [
            {
                question: "What is the main difference between heat and temperature?",
                options: ["Heat is total energy; temperature is average kinetic energy", "Temperature is total energy; heat is average kinetic energy", "They are the same thing", "Heat is measured in ¬∞C; temperature in Joules"],
                answer: "A",
                explanation: "Heat is the total thermal energy transferred due to temperature difference (measured in Joules). Temperature is the average kinetic energy of particles (measured in ¬∞C, ¬∞F, or K)."
            },
            {
                question: "At what temperature does water freeze on the Celsius scale?",
                options: ["0¬∞C", "32¬∞C", "100¬∞C", "-273¬∞C"],
                answer: "A",
                explanation: "Water freezes at 0¬∞C and boils at 100¬∞C on the Celsius scale. On Fahrenheit, water freezes at 32¬∞F and boils at 212¬∞F."
            },
            {
                question: "Which method of heat transfer occurs through direct contact?",
                options: ["Conduction", "Convection", "Radiation", "Insulation"],
                answer: "A",
                explanation: "Conduction is heat transfer through direct contact between particles. Examples: metal spoon in hot soup, touching a hot surface."
            },
            {
                question: "What happens to most materials when they are heated?",
                options: ["They expand", "They contract", "They stay the same size", "They become denser"],
                answer: "A",
                explanation: "Most materials expand when heated because increased particle motion causes particles to move farther apart, increasing volume."
            },
            {
                question: "What is absolute zero in Kelvin?",
                options: ["0 K", "-273 K", "273 K", "100 K"],
                answer: "A",
                explanation: "Absolute zero is 0 Kelvin (-273.15¬∞C), the theoretical temperature where all particle motion stops. It's the coldest possible temperature."
            },
            {
                question: "Which material is the BEST conductor of heat?",
                options: ["Copper", "Wood", "Plastic", "Air"],
                answer: "A",
                explanation: "Metals like copper, silver, and aluminum are excellent heat conductors. Wood, plastic, and air are good insulators (poor conductors)."
            },
            {
                question: "What type of heat transfer occurs in fluids (liquids and gases)?",
                options: ["Convection", "Conduction", "Radiation", "Insulation"],
                answer: "A",
                explanation: "Convection is heat transfer through fluid movement. Hot fluid rises (less dense), cool fluid sinks (more dense), creating convection currents."
            },
            {
                question: "Why do bridges have expansion joints?",
                options: ["To allow for thermal expansion and contraction", "To make construction easier", "To reduce weight", "For decoration"],
                answer: "A",
                explanation: "Expansion joints allow bridges to expand in summer heat and contract in winter cold without cracking or buckling."
            },
            {
                question: "Which temperature scale is used in scientific work?",
                options: ["Kelvin", "Fahrenheit", "Celsius", "Rankine"],
                answer: "A",
                explanation: "Kelvin is used in scientific work because it starts at absolute zero and has no negative values, making calculations easier."
            },
            {
                question: "What is specific heat capacity?",
                options: ["Heat needed to raise 1g of substance by 1¬∞C", "Temperature change per unit heat", "Heat transferred through conduction", "Expansion per degree temperature"],
                answer: "A",
                explanation: "Specific heat capacity is the amount of heat energy needed to raise 1 gram of a substance by 1¬∞C. Water has high specific heat (4.18 J/g¬∞C)."
            },
            {
                question: "How does heat from the Sun reach Earth?",
                options: ["Radiation", "Conduction", "Convection", "Insulation"],
                answer: "A",
                explanation: "Solar energy reaches Earth through radiation (electromagnetic waves) since space is a vacuum with no material for conduction or convection."
            },
            {
                question: "What is a bimetallic strip used for?",
                options: ["Thermostats (temperature control)", "Measuring heat capacity", "Radiation detection", "Insulation testing"],
                answer: "A",
                explanation: "Bimetallic strips bend when heated because two different metals expand at different rates. Used in thermostats, thermometers, and circuit breakers."
            },
            {
                question: "What is the normal human body temperature?",
                options: ["37¬∞C", "25¬∞C", "100¬∞C", "0¬∞C"],
                answer: "A",
                explanation: "Normal human body temperature is approximately 37¬∞C (98.6¬∞F). Fever is typically above 38¬∞C (100.4¬∞F)."
            },
            {
                question: "Why does ice float on water?",
                options: ["Ice is less dense than water", "Ice is colder than water", "Ice has lower specific heat", "Water contracts when freezing"],
                answer: "A",
                explanation: "Water expands when freezing, making ice less dense than liquid water. Most substances are denser as solids, but water is unique."
            },
            {
                question: "What is the principle behind a mercury thermometer?",
                options: ["Thermal expansion of liquid", "Radiation absorption", "Convection currents", "Electrical resistance change"],
                answer: "A",
                explanation: "Mercury (or alcohol) in a thermometer expands when heated and contracts when cooled, rising or falling in a narrow tube to indicate temperature."
            },
            {
                question: "What does 'R-value' measure?",
                options: ["Thermal resistance (insulation effectiveness)", "Heat conductivity", "Expansion coefficient", "Specific heat capacity"],
                answer: "A",
                explanation: "R-value measures thermal resistance - higher R-value = better insulation. Used for building materials, windows, and clothing."
            },
            {
                question: "Why do metal objects feel colder than wooden objects at same temperature?",
                options: ["Metal conducts heat away from skin faster", "Metal has lower temperature", "Wood absorbs heat", "Psychological effect"],
                answer: "A",
                explanation: "Metal feels colder because it's a good conductor - quickly conducts heat away from your skin. Wood is a poor conductor (insulator)."
            },
            {
                question: "What is latent heat?",
                options: ["Heat absorbed/released during phase change at constant temperature", "Heat measured by thermometer", "Heat transferred by radiation", "Heat causing expansion"],
                answer: "A",
                explanation: "Latent heat is energy absorbed or released during phase changes (melting, freezing, vaporization, condensation) without temperature change."
            },
            {
                question: "Why are gaps left between railway tracks?",
                options: ["Allow for thermal expansion in hot weather", "Reduce construction cost", "Allow water drainage", "Make train ride smoother"],
                answer: "A",
                explanation: "Railway tracks expand in summer heat. Without expansion gaps, tracks would buckle and derail trains."
            },
            {
                question: "What is conduction?",
                options: ["Heat transfer through particle collisions", "Heat transfer through fluid movement", "Heat transfer through electromagnetic waves", "Heat storage in materials"],
                answer: "A",
                explanation: "Conduction is heat transfer through direct particle collisions, most effective in solids where particles are closely packed."
            },
            {
                question: "What temperature is the same on both Celsius and Fahrenheit scales?",
                options: ["-40¬∞", "0¬∞", "100¬∞", "32¬∞"],
                answer: "A",
                explanation: "-40¬∞C = -40¬∞F. This is the only temperature where both scales read the same value."
            },
            {
                question: "Why are double-pane windows more energy efficient?",
                options: ["Air gap between panes provides insulation", "They reflect more light", "They're thicker", "They absorb less heat"],
                answer: "A",
                explanation: "The air (or argon gas) between double panes acts as an insulator, reducing heat transfer by conduction and convection."
            },
            {
                question: "What is convection current?",
                options: ["Circular movement of heated fluid", "Heat transfer in solids", "Radiation pattern", "Expansion measurement"],
                answer: "A",
                explanation: "Convection currents are circular movements where hot fluid rises, cools, sinks, and is reheated. Drives weather, ocean currents, and mantle convection."
            },
            {
                question: "Why do liquids generally expand more than solids when heated?",
                options: ["Particles have more freedom to move", "Liquids have higher specific heat", "Solids conduct heat better", "Liquids have lower density"],
                answer: "A",
                explanation: "Liquid particles have more freedom to move apart when heated compared to solids where particles vibrate in fixed positions."
            },
            {
                question: "What is the greenhouse effect?",
                options: ["Atmosphere traps heat by absorbing and re-radiating infrared", "Plants growing in greenhouses", "Heat conduction in glass", "Convection in enclosed spaces"],
                answer: "A",
                explanation: "Greenhouse gases (CO‚ÇÇ, methane) trap heat by absorbing Earth's infrared radiation and re-radiating it back, warming the atmosphere."
            }
        ];

        // Thermal physics tips
        const thermalTips = [
            "Remember: Heat = total energy transfer; Temperature = average particle energy!",
            "Three heat transfer methods: Conduction (contact), Convection (fluids), Radiation (waves)",
            "Most materials expand when heated, contract when cooled. Water is unique - expands when freezing!",
            "Good conductors (metals) feel cold because they conduct heat away from your skin quickly.",
            "Absolute zero = 0K = -273.15¬∞C = no particle motion. Can't reach absolute zero!",
            "Specific heat: Water needs more heat to warm up than most substances (4.18 J/g¬∞C).",
            "Kelvin = Celsius + 273.15. No negative temperatures in Kelvin!",
            "Insulation works by trapping air - air is a poor conductor of heat!"
        ];

        // Classification items for drag-and-drop
        const classificationItems = [
            { name: "Particle kinetic energy", type: "temperature", color: "#F44336" },
            { name: "Total thermal energy", type: "heat", color: "#FF9800" },
            { name: "Bridge expansion joints", type: "expansion", color: "#2196F3" },
            { name: "Metal spoon in hot soup", type: "transfer", color: "#FFC107" },
            { name: "37¬∞C human body", type: "temperature", color: "#F44336" },
            { name: "Joules measurement", type: "heat", color: "#FF9800" },
            { name: "Bimetallic strip bending", type: "expansion", color: "#2196F3" },
            { name: "Sea breeze circulation", type: "transfer", color: "#FFC107" },
            { name: "Thermometer reading", type: "temperature", color: "#F44336" },
            { name: "Specific heat capacity", type: "heat", color: "#FF9800" },
            { name: "Railway track gaps", type: "expansion", color: "#2196F3" },
            { name: "Sun warming Earth", type: "transfer", color: "#FFC107" }
        ];

        // Properties data
        const properties = {
            conductivity: [
                { name: "Copper", value: "401 W/m¬∑K (Excellent conductor)" },
                { name: "Aluminum", value: "237 W/m¬∑K (Very good conductor)" },
                { name: "Iron", value: "80 W/m¬∑K (Good conductor)" },
                { name: "Glass", value: "1.0 W/m¬∑K (Poor conductor)" },
                { name: "Water", value: "0.6 W/m¬∑K (Poor conductor)" },
                { name: "Air", value: "0.024 W/m¬∑K (Excellent insulator)" }
            ],
            specificHeat: [
                { name: "Water", value: "4.18 J/g¬∞C (Very high)" },
                { name: "Aluminum", value: "0.90 J/g¬∞C" },
                { name: "Iron", value: "0.45 J/g¬∞C" },
                { name: "Copper", value: "0.39 J/g¬∞C" },
                { name: "Lead", value: "0.13 J/g¬∞C (Low)" },
                { name: "Air", value: "1.01 J/g¬∞C" }
            ],
            expansion: [
                { name: "Aluminum", value: "23 √ó 10‚Åª‚Å∂/¬∞C" },
                { name: "Copper", value: "17 √ó 10‚Åª‚Å∂/¬∞C" },
                { name: "Iron/Steel", value: "12 √ó 10‚Åª‚Å∂/¬∞C" },
                { name: "Glass", value: "9 √ó 10‚Åª‚Å∂/¬∞C" },
                { name: "Concrete", value: "12 √ó 10‚Åª‚Å∂/¬∞C" },
                { name: "Invar", value: "1.2 √ó 10‚Åª‚Å∂/¬∞C (Low expansion)" }
            ],
            insulation: [
                { name: "Fiberglass", value: "R-3.1 per inch (Good)" },
                { name: "Polystyrene", value: "R-5 per inch (Very good)" },
                { name: "Polyurethane", value: "R-6.25 per inch (Excellent)" },
                { name: "Wood", value: "R-1.4 per inch" },
                { name: "Brick", value: "R-0.2 per inch" },
                { name: "Air (still)", value: "R-3.6 per inch" }
            ]
        };

        // Comparison details
        const comparisonDetails = {
            conduction_detail: {
                title: "Conduction - Detailed Explanation",
                info: "Conduction is heat transfer through direct particle collisions. In solids, particles vibrate in fixed positions. When heated, particles at hot end vibrate more vigorously, colliding with neighboring particles and transferring kinetic energy along the material.\n\nRate depends on:\n‚Ä¢ Thermal conductivity of material\n‚Ä¢ Temperature difference\n‚Ä¢ Cross-sectional area\n‚Ä¢ Length/thickness\n\nFormula: Q/t = kAŒîT/d"
            },
            conduction_examples: {
                title: "Conduction Examples",
                info: "Everyday examples of conduction:\n\n‚Ä¢ Touching a hot pan handle\n‚Ä¢ Metal spoon in hot soup\n‚Ä¢ Walking barefoot on hot sand\n‚Ä¢ Ice melting in your hand\n‚Ä¢ Heating element on stove\n‚Ä¢ Soldering iron tip\n\nIndustrial: Heat exchangers, cooking utensils, electronic heat sinks"
            },
            conduction_materials: {
                title: "Thermal Conductors",
                info: "Best conductors (descending order):\n\n1. Diamond - 2000 W/m¬∑K\n2. Silver - 429 W/m¬∑K\n3. Copper - 401 W/m¬∑K\n4. Gold - 318 W/m¬∑K\n5. Aluminum - 237 W/m¬∑K\n6. Iron - 80 W/m¬∑K\n\nMetals are good conductors due to free electrons that carry heat efficiently."
            },
            conduction_insulators: {
                title: "Thermal Insulators",
                info: "Good insulators (poor conductors):\n\n‚Ä¢ Air - 0.024 W/m¬∑K\n‚Ä¢ Fiberglass - 0.04 W/m¬∑K\n‚Ä¢ Wood - 0.12 W/m¬∑K\n‚Ä¢ Plastic - 0.2 W/m¬∑K\n‚Ä¢ Rubber - 0.16 W/m¬∑K\n‚Ä¢ Wool - 0.04 W/m¬∑K\n\nInsulators work by trapping air pockets that prevent convection and reduce conduction."
            },
            convection_detail: {
                title: "Convection - Detailed Explanation",
                info: "Convection is heat transfer through fluid movement (liquids or gases). When fluid is heated, it expands, becomes less dense, and rises. Cooler, denser fluid sinks to replace it, creating convection currents.\n\nTwo types:\n1. Natural convection - Density differences drive flow\n2. Forced convection - Pumps/fans force fluid movement\n\nExamples: Weather systems, ocean currents, heating systems"
            },
            convection_examples: {
                title: "Convection Examples",
                info: "Everyday examples:\n\n‚Ä¢ Boiling water (bubbles rise)\n‚Ä¢ Sea breeze (day: land heats faster ‚Üí air rises ‚Üí sea breeze)\n‚Ä¢ Land breeze (night: land cools faster ‚Üí air sinks ‚Üí land breeze)\n‚Ä¢ Hot air balloon (heated air rises)\n‚Ä¢ Heating system radiators\n‚Ä¢ Refrigerator cooling coils\n\nNatural: Mantle convection, atmospheric circulation"
            },
            convection_types: {
                title: "Types of Convection",
                info: "1. NATURAL CONVECTION:\n   ‚Ä¢ Driven by density differences\n   ‚Ä¢ No external force needed\n   ‚Ä¢ Examples: Weather, mantle convection\n\n2. FORCED CONVECTION:\n   ‚Ä¢ External force moves fluid\n   ‚Ä¢ Examples: Fan, pump, blowing on hot food\n   ‚Ä¢ More efficient than natural\n\nMixed convection combines both natural and forced."
            },
            convection_applications: {
                title: "Convection Applications",
                info: "Practical applications:\n\n‚Ä¢ Heating/cooling systems\n‚Ä¢ Weather forecasting\n‚Ä¢ Oceanography studies\n‚Ä¢ Industrial heat exchangers\n‚Ä¢ Electronic cooling (computer fans)\n‚Ä¢ Cooking (convection ovens)\n‚Ä¢ Car radiators\n\nUnderstanding convection helps design efficient heating/cooling systems and predict weather patterns."
            }
        };

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            studentName: "",
            startTime: null,
            currentClassification: [],
            draggedItem: null,
            currentProperties: 'conductivity',
            currentTemperature: 25
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const backToHomeBtn = document.getElementById('backToHome');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const thermalTip = document.getElementById('thermalTip');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const feedbackExplanation = document.getElementById('feedbackExplanation');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const timeSpent = document.getElementById('timeSpent');
        const temperatureModel = document.getElementById('temperatureModel');
        const thermometer = document.getElementById('thermometer');
        const transferModel = document.getElementById('transferModel');
        const expansionModel = document.getElementById('expansionModel');
        const tempDisplay = document.getElementById('tempDisplay');
        const temperatureValue = document.getElementById('temperatureValue');
        const temperatureSlider = document.getElementById('temperatureSlider');
        const heatLevelValue = document.getElementById('heatLevelValue');
        const heatLevel = document.getElementById('heatLevel');
        const propertiesList = document.getElementById('propertiesList');
        const classificationItemsContainer = document.getElementById('classificationItems');
        const classificationFeedback = document.getElementById('classificationFeedback');
        const labBench = document.getElementById('labBench');
        const labInstructions = document.getElementById('labInstructions');

        // Initialize
        function initApp() {
            setupEventListeners();
            showWelcomePage();
            setupClassification();
            showConductivity();
            createThermalModels();
            createThermometer();
        }

        // Setup classification
        function setupClassification() {
            newClassificationChallenge();
        }

        function newClassificationChallenge() {
            // Shuffle and select 8 random items
            const shuffled = [...classificationItems].sort(() => Math.random() - 0.5).slice(0, 8);
            appState.currentClassification = shuffled;
            
            classificationItemsContainer.innerHTML = '';
            classificationFeedback.textContent = 'Drag items to correct categories';
            classificationFeedback.style.color = 'var(--text-secondary)';
            
            // Clear zones
            document.getElementById('zoneTemperature').innerHTML = '<div style="color: var(--heat-red); font-weight: bold;">Temperature</div>';
            document.getElementById('zoneHeat').innerHTML = '<div style="color: var(--heat-orange); font-weight: bold;">Heat</div>';
            document.getElementById('zoneExpansion').innerHTML = '<div style="color: var(--heat-blue); font-weight: bold;">Expansion</div>';
            document.getElementById('zoneTransfer').innerHTML = '<div style="color: var(--heat-yellow); font-weight: bold;">Heat Transfer</div>';
            
            shuffled.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'classification-item';
                itemDiv.textContent = item.name;
                itemDiv.style.backgroundColor = item.color;
                itemDiv.style.color = 'white';
                itemDiv.draggable = true;
                itemDiv.id = `item-${index}`;
                itemDiv.dataset.type = item.type;
                
                itemDiv.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', index);
                    appState.draggedItem = item;
                    itemDiv.style.opacity = '0.5';
                });
                
                itemDiv.addEventListener('dragend', () => {
                    itemDiv.style.opacity = '1';
                });
                
                classificationItemsContainer.appendChild(itemDiv);
            });
        }

        function allowDrop(event) {
            event.preventDefault();
            event.currentTarget.classList.add('active');
        }

        function drop(event) {
            event.preventDefault();
            const zone = event.currentTarget;
            zone.classList.remove('active');
            
            if (appState.draggedItem) {
                const itemDiv = document.createElement('div');
                itemDiv.textContent = appState.draggedItem.name;
                itemDiv.style.margin = '5px';
                itemDiv.style.padding = '5px';
                itemDiv.style.backgroundColor = appState.draggedItem.color;
                itemDiv.style.color = 'white';
                itemDiv.style.borderRadius = '4px';
                itemDiv.style.fontSize = '0.8rem';
                
                zone.appendChild(itemDiv);
                classificationFeedback.textContent = `Placed ${appState.draggedItem.name} in ${zone.id.replace('zone', '')} category`;
            }
        }

        function checkClassification() {
            let correct = 0;
            let total = appState.currentClassification.length;
            
            // Check each zone
            const zones = {
                zoneTemperature: 'temperature',
                zoneHeat: 'heat', 
                zoneExpansion: 'expansion',
                zoneTransfer: 'transfer'
            };
            
            for (const [zoneId, correctType] of Object.entries(zones)) {
                const zone = document.getElementById(zoneId);
                const items = zone.querySelectorAll('div:not(:first-child)'); // Skip title div
                
                items.forEach(item => {
                    const itemName = item.textContent;
                    const originalItem = appState.currentClassification.find(i => i.name === itemName);
                    
                    if (originalItem && originalItem.type === correctType) {
                        correct++;
                        item.style.border = '2px solid var(--heat-teal)';
                    } else {
                        item.style.border = '2px solid var(--heat-red)';
                    }
                });
            }
            
            const percentage = Math.round((correct / total) * 100);
            classificationFeedback.textContent = `Score: ${correct}/${total} (${percentage}%)`;
            classificationFeedback.style.color = percentage >= 80 ? 'var(--heat-teal)' : 
                                               percentage >= 60 ? 'var(--heat-yellow)' : 'var(--heat-red)';
            
            if (percentage === 100) {
                classificationFeedback.textContent += ' - Perfect! All items correctly classified!';
            }
        }

        function resetClassification() {
            newClassificationChallenge();
        }

        // Create thermal models
        function createThermalModels() {
            showParticleModel('room');
            showTransferModel('conduction');
            showExpansionModel('linear');
        }

        function createThermometer() {
            thermometer.innerHTML = '';
            
            // Thermometer tube
            const tube = document.createElement('div');
            tube.className = 'thermometer';
            thermometer.appendChild(tube);
            
            // Mercury
            const mercury = document.createElement('div');
            mercury.className = 'mercury';
            mercury.id = 'mercury';
            mercury.style.height = '90px'; // Start at 25¬∞C
            tube.appendChild(mercury);
            
            // Temperature scale
            const scale = document.createElement('div');
            scale.className = 'temperature-scale';
            
            const temps = ['100¬∞C', '80¬∞C', '60¬∞C', '40¬∞C', '20¬∞C', '0¬∞C', '-20¬∞C'];
            temps.forEach(temp => {
                const tempMark = document.createElement('div');
                tempMark.textContent = temp;
                tempMark.style.color = 'var(--text-secondary)';
                scale.appendChild(tempMark);
            });
            
            thermometer.appendChild(scale);
            
            // Bulb at bottom
            const bulb = document.createElement('div');
            bulb.style.position = 'absolute';
            bulb.style.width = '40px';
            bulb.style.height = '40px';
            bulb.style.left = '50%';
            bulb.style.bottom = '5px';
            bulb.style.transform = 'translateX(-50%)';
            bulb.style.backgroundColor = '#F44336';
            bulb.style.borderRadius = '50%';
            bulb.style.border = '2px solid var(--dark-border)';
            thermometer.appendChild(bulb);
        }

        function showParticleModel(type) {
            temperatureModel.innerHTML = '';
            
            let temp, color, speed, title;
            
            if (type === 'cold') {
                temp = -10;
                color = '#2196F3';
                speed = 1;
                title = 'Cold Matter (-10¬∞C)\nParticles vibrate slowly\nLow kinetic energy\nClose together';
            } else if (type === 'room') {
                temp = 25;
                color = '#4CAF50';
                speed = 2;
                title = 'Room Temperature (25¬∞C)\nModerate vibration\nMedium kinetic energy\nNormal spacing';
            } else {
                temp = 80;
                color = '#F44336';
                speed = 4;
                title = 'Hot Matter (80¬∞C)\nParticles vibrate rapidly\nHigh kinetic energy\nFar apart (expanded)';
            }
            
            // Create particles
            for (let i = 0; i < 15; i++) {
                const particle = document.createElement('div');
                particle.className = 'molecule';
                particle.classList.add(temp < 10 ? 'cold-molecule' : temp > 50 ? 'hot-molecule' : '');
                particle.style.width = '25px';
                particle.style.height = '25px';
                particle.style.left = `${10 + (i % 5) * 20}%`;
                particle.style.top = `${10 + Math.floor(i / 5) * 20}%`;
                particle.style.backgroundColor = color;
                particle.textContent = '‚Ä¢';
                particle.style.fontSize = '1.5rem';
                particle.title = title;
                
                // Add vibration animation
                particle.classList.add('vibrating');
                particle.style.animationDuration = `${speed}s`;
                
                temperatureModel.appendChild(particle);
            }
            
            // Update display
            appState.currentTemperature = temp;
            tempDisplay.textContent = `${temp}¬∞C`;
            tempDisplay.style.color = temp < 0 ? '#2196F3' : temp < 50 ? '#4CAF50' : '#F44336';
            temperatureValue.textContent = `${temp}¬∞C`;
            temperatureSlider.value = temp;
            
            // Update thermometer
            updateThermometer(temp);
        }

        function showTransferModel(type) {
            transferModel.innerHTML = '';
            
            if (type === 'conduction') {
                // Conduction - metal rod with heat flow
                const rod = document.createElement('div');
                rod.style.position = 'absolute';
                rod.style.width = '80%';
                rod.style.height = '20px';
                rod.style.left = '10%';
                rod.style.top = '40%';
                rod.style.background = 'linear-gradient(to right, #F44336, #FF9800, #4CAF50, #2196F3)';
                rod.style.borderRadius = '10px';
                rod.title = 'Conduction in Metal Rod\nHeat flows from hot (red) to cold (blue)\nParticle collisions transfer energy';
                transferModel.appendChild(rod);
                
                // Heat source
                const flame = document.createElement('div');
                flame.style.position = 'absolute';
                flame.style.width = '30px';
                flame.style.height = '40px';
                flame.style.left = '5%';
                flame.style.top = '35%';
                flame.style.background = 'linear-gradient(to top, #FF9800, #F44336)';
                flame.style.clipPath = 'polygon(50% 0%, 0% 100%, 100% 100%)';
                flame.textContent = 'üî•';
                flame.style.display = 'flex';
                flame.style.alignItems = 'center';
                flame.style.justifyContent = 'center';
                flame.style.fontSize = '1.2rem';
                transferModel.appendChild(flame);
                
                // Particle animation along rod
                for (let i = 0; i < 5; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'molecule';
                    particle.style.width = '15px';
                    particle.style.height = '15px';
                    particle.style.left = `${20 + i * 15}%`;
                    particle.style.top = '38%';
                    particle.style.backgroundColor = '#FFC107';
                    particle.classList.add('vibrating');
                    particle.style.animationDuration = `${0.5 + i * 0.2}s`;
                    transferModel.appendChild(particle);
                }
                
                // Labels
                const hotLabel = document.createElement('div');
                hotLabel.className = 'thermal-label';
                hotLabel.textContent = 'Hot (100¬∞C)';
                hotLabel.style.color = '#F44336';
                hotLabel.style.left = '10%';
                hotLabel.style.top = '65%';
                transferModel.appendChild(hotLabel);
                
                const coldLabel = document.createElement('div');
                coldLabel.className = 'thermal-label';
                coldLabel.textContent = 'Cold (20¬∞C)';
                coldLabel.style.color = '#2196F3';
                coldLabel.style.left = '75%';
                coldLabel.style.top = '65%';
                transferModel.appendChild(coldLabel);
                
            } else if (type === 'convection') {
                // Convection - fluid currents
                const container = document.createElement('div');
                container.style.position = 'absolute';
                container.style.width = '80%';
                container.style.height = '70%';
                container.style.left = '10%';
                container.style.top = '15%';
                container.style.border = '2px solid var(--heat-teal)';
                container.style.borderRadius = '5px';
                transferModel.appendChild(container);
                
                // Heat source at bottom
                const heater = document.createElement('div');
                heater.style.position = 'absolute';
                heater.style.width = '40%';
                heater.style.height = '15px';
                heater.style.left = '30%';
                heater.style.bottom = '0';
                heater.style.backgroundColor = '#F44336';
                heater.style.borderRadius = '5px 5px 0 0';
                heater.textContent = 'Heater';
                heater.style.display = 'flex';
                heater.style.alignItems = 'center';
                heater.style.justifyContent = 'center';
                heater.style.fontSize = '0.8rem';
                transferModel.appendChild(heater);
                
                // Convection currents (arrows)
                const arrows = [
                    { x1: 35, y1: 85, x2: 35, y2: 40, color: '#F44336' },
                    { x1: 35, y1: 40, x2: 65, y2: 40, color: '#FF9800' },
                    { x1: 65, y1: 40, x2: 65, y2: 85, color: '#2196F3' },
                    { x1: 65, y1: 85, x2: 35, y2: 85, color: '#4CAF50' }
                ];
                
                arrows.forEach(arrow => {
                    const arrowDiv = document.createElement('div');
                    arrowDiv.className = 'thermal-arrow';
                    arrowDiv.style.left = `${arrow.x1}%`;
                    arrowDiv.style.top = `${arrow.y1}%`;
                    arrowDiv.style.width = '30px';
                    arrowDiv.style.borderColor = arrow.color;
                    
                    // Calculate angle
                    const dx = arrow.x2 - arrow.x1;
                    const dy = arrow.y2 - arrow.y1;
                    const angle = Math.atan2(dy, dx) * (180 / Math.PI);
                    arrowDiv.style.transform = `rotate(${angle}deg)`;
                    
                    transferModel.appendChild(arrowDiv);
                });
                
                // Labels
                const riseLabel = document.createElement('div');
                riseLabel.className = 'thermal-label';
                riseLabel.textContent = 'Hot rises';
                riseLabel.style.color = '#F44336';
                riseLabel.style.left = '30%';
                riseLabel.style.top = '60%';
                transferModel.appendChild(riseLabel);
                
                const sinkLabel = document.createElement('div');
                sinkLabel.className = 'thermal-label';
                sinkLabel.textContent = 'Cool sinks';
                sinkLabel.style.color = '#2196F3';
                sinkLabel.style.left = '62%';
                sinkLabel.style.top = '60%';
                transferModel.appendChild(sinkLabel);
                
                transferModel.title = 'Convection Currents\nHot fluid rises (less dense)\nCool fluid sinks (more dense)\nCreates circular convection current';
                
            } else if (type === 'radiation') {
                // Radiation - waves from sun
                const sun = document.createElement('div');
                sun.style.position = 'absolute';
                sun.style.width = '50px';
                sun.style.height = '50px';
                sun.style.left = '10%';
                sun.style.top = '30%';
                sun.style.background = 'radial-gradient(circle at 30% 30%, #FFC107, #FF9800, #F44336)';
                sun.style.borderRadius = '50%';
                sun.textContent = '‚òÄÔ∏è';
                sun.style.display = 'flex';
                sun.style.alignItems = 'center';
                sun.style.justifyContent = 'center';
                sun.style.fontSize = '1.5rem';
                sun.title = 'Sun\nEmits electromagnetic radiation\nTravels through vacuum\nNo medium needed';
                transferModel.appendChild(sun);
                
                // Radiation waves
                for (let i = 0; i < 3; i++) {
                    const wave = document.createElement('div');
                    wave.style.position = 'absolute';
                    wave.style.width = `${60 + i * 30}%`;
                    wave.style.height = `${60 + i * 30}%`;
                    wave.style.left = `${5 - i * 5}%`;
                    wave.style.top = `${25 - i * 10}%`;
                    wave.style.border = `2px dashed rgba(255, 193, 7, ${0.5 - i * 0.1})`;
                    wave.style.borderRadius = '50%';
                    wave.style.animation = `pulse ${2 + i}s infinite`;
                    transferModel.appendChild(wave);
                }
                
                // Earth
                const earth = document.createElement('div');
                earth.style.position = 'absolute';
                earth.style.width = '40px';
                earth.style.height = '40px';
                earth.style.right = '15%';
                earth.style.top = '35%';
                earth.style.background = 'radial-gradient(circle at 30% 30%, #4CAF50, #2196F3, #1A237E)';
                earth.style.borderRadius = '50%';
                earth.textContent = 'üåç';
                earth.style.display = 'flex';
                earth.style.alignItems = 'center';
                earth.style.justifyContent = 'center';
                earth.style.fontSize = '1.2rem';
                earth.title = 'Earth\nAbsorbs solar radiation\nConverts to heat\nGreenhouse effect traps some heat';
                transferModel.appendChild(earth);
                
                // Radiation arrows
                for (let i = 0; i < 5; i++) {
                    const arrow = document.createElement('div');
                    arrow.className = 'thermal-arrow';
                    arrow.style.left = `${25 + i * 10}%`;
                    arrow.style.top = '40%';
                    arrow.style.width = '20px';
                    arrow.style.borderColor = '#FFC107';
                    arrow.style.transform = 'rotate(0deg)';
                    transferModel.appendChild(arrow);
                }
                
                transferModel.title = 'Radiation Heat Transfer\nElectromagnetic waves through space\nNo medium required\nExamples: Sunlight, microwave, infrared heater';
            }
        }

        function showExpansionModel(type) {
            expansionModel.innerHTML = '';
            
            if (type === 'linear') {
                // Linear expansion - metal bar
                const coldBar = document.createElement('div');
                coldBar.className = 'metal-bar';
                coldBar.style.width = '60%';
                coldBar.style.height = '20px';
                coldBar.style.left = '20%';
                coldBar.style.top = '30%';
                coldBar.style.background = 'linear-gradient(to right, #2196F3, #42A5F5)';
                coldBar.textContent = 'Cold Bar (20¬∞C)';
                coldBar.style.display = 'flex';
                coldBar.style.alignItems = 'center';
                coldBar.style.justifyContent = 'center';
                coldBar.style.fontSize = '0.8rem';
                expansionModel.appendChild(coldBar);
                
                const hotBar = document.createElement('div');
                hotBar.className = 'metal-bar';
                hotBar.style.width = '70%';
                hotBar.style.height = '20px';
                hotBar.style.left = '15%';
                hotBar.style.top = '60%';
                hotBar.style.background = 'linear-gradient(to right, #F44336, #EF5350)';
                hotBar.textContent = 'Heated Bar (100¬∞C)';
                hotBar.style.display = 'flex';
                hotBar.style.alignItems = 'center';
                hotBar.style.justifyContent = 'center';
                hotBar.style.fontSize = '0.8rem';
                expansionModel.appendChild(hotBar);
                
                // Expansion arrows
                const expandArrow = document.createElement('div');
                expandArrow.className = 'thermal-arrow';
                expandArrow.style.left = '55%';
                expandArrow.style.top = '40%';
                expandArrow.style.width = '30px';
                expandArrow.style.borderColor = '#4CAF50';
                expandArrow.style.transform = 'rotate(0deg)';
                expandArrow.textContent = '‚Üí';
                expandArrow.style.display = 'flex';
                expandArrow.style.alignItems = 'center';
                expandArrow.style.justifyContent = 'center';
                expandArrow.style.fontSize = '1rem';
                expansionModel.appendChild(expandArrow);
                
                expansionModel.title = 'Linear Thermal Expansion\nMost materials expand when heated\nŒîL = Œ±L‚ÇÄŒîT\nŒ± = coefficient of linear expansion\nApplications: Expansion joints, thermostats';
                
            } else if (type === 'bimetallic') {
                // Bimetallic strip
                const coldStrip = document.createElement('div');
                coldStrip.className = 'bimetallic-strip';
                coldStrip.style.width = '70%';
                coldStrip.style.height = '15px';
                coldStrip.style.left = '15%';
                coldStrip.style.top = '30%';
                coldStrip.style.background = 'linear-gradient(to right, #2196F3 50%, #F44336 50%)';
                coldStrip.style.borderRadius = '7px';
                coldStrip.textContent = 'Cold (Straight)';
                coldStrip.style.display = 'flex';
                coldStrip.style.alignItems = 'center';
                coldStrip.style.justifyContent = 'center';
                coldStrip.style.fontSize = '0.7rem';
                expansionModel.appendChild(coldStrip);
                
                const hotStrip = document.createElement('div');
                hotStrip.className = 'bimetallic-strip';
                hotStrip.style.width = '70%';
                hotStrip.style.height = '15px';
                hotStrip.style.left = '15%';
                hotStrip.style.top = '60%';
                hotStrip.style.background = 'linear-gradient(to right, #2196F3 50%, #F44336 50%)';
                hotStrip.style.borderRadius = '7px';
                hotStrip.style.transform = 'rotate(10deg)';
                hotStrip.style.transformOrigin = 'left center';
                hotStrip.textContent = 'Heated (Bends)';
                hotStrip.style.display = 'flex';
                hotStrip.style.alignItems = 'center';
                hotStrip.style.justifyContent = 'center';
                hotStrip.style.fontSize = '0.7rem';
                expansionModel.appendChild(hotStrip);
                
                // Metal labels
                const metal1 = document.createElement('div');
                metal1.className = 'thermal-label';
                metal1.textContent = 'Metal A (expands more)';
                metal1.style.color = '#F44336';
                metal1.style.left = '60%';
                metal1.style.top = '50%';
                metal1.style.fontSize = '0.7rem';
                expansionModel.appendChild(metal1);
                
                const metal2 = document.createElement('div');
                metal2.className = 'thermal-label';
                metal2.textContent = 'Metal B (expands less)';
                metal2.style.color = '#2196F3';
                metal2.style.left = '25%';
                metal2.style.top = '50%';
                metal2.style.fontSize = '0.7rem';
                expansionModel.appendChild(metal2);
                
                expansionModel.title = 'Bimetallic Strip\nTwo different metals bonded together\nDifferent expansion rates cause bending when heated\nUsed in: Thermostats, thermometers, circuit breakers';
                
            } else if (type === 'volume') {
                // Volume expansion - ball and ring
                const ring = document.createElement('div');
                ring.style.position = 'absolute';
                ring.style.width = '60px';
                ring.style.height = '60px';
                ring.style.left = '30%';
                ring.style.top = '30%';
                ring.style.border = '10px solid #2196F3';
                ring.style.borderRadius = '50%';
                ring.textContent = 'Metal Ring';
                ring.style.display = 'flex';
                ring.style.alignItems = 'center';
                ring.style.justifyContent = 'center';
                ring.style.fontSize = '0.7rem';
                expansionModel.appendChild(ring);
                
                const coldBall = document.createElement('div');
                coldBall.style.position = 'absolute';
                coldBall.style.width = '50px';
                coldBall.style.height = '50px';
                coldBall.style.left = '31%';
                coldBall.style.top = '31%';
                coldBall.style.backgroundColor = '#4CAF50';
                coldBall.style.borderRadius = '50%';
                coldBall.textContent = 'Ball fits';
                coldBall.style.display = 'flex';
                coldBall.style.alignItems = 'center';
                coldBall.style.justifyContent = 'center';
                coldBall.style.fontSize = '0.7rem';
                expansionModel.appendChild(coldBall);
                
                const hotBall = document.createElement('div');
                hotBall.style.position = 'absolute';
                hotBall.style.width = '70px';
                hotBall.style.height = '70px';
                hotBall.style.left = '55%';
                hotBall.style.top = '50%';
                hotBall.style.backgroundColor = '#F44336';
                hotBall.style.borderRadius = '50%';
                hotBall.textContent = 'Heated ball';
                hotBall.style.display = 'flex';
                hotBall.style.alignItems = 'center';
                hotBall.style.justifyContent = 'center';
                hotBall.style.fontSize = '0.7rem';
                expansionModel.appendChild(hotBall);
                
                // Expansion arrow
                const expandArrow = document.createElement('div');
                expandArrow.className = 'thermal-arrow';
                expandArrow.style.left = '45%';
                expandArrow.style.top = '40%';
                expandArrow.style.width = '40px';
                expandArrow.style.borderColor = '#FF9800';
                expandArrow.style.transform = 'rotate(30deg)';
                expandModel.appendChild(expandArrow);
                
                expansionModel.title = 'Volume Expansion - Ball and Ring\nBall fits through ring when cold\nWhen heated, ball expands and won\'t fit\nDemonstrates thermal expansion in all directions';
            }
        }

        // Temperature controls
        function updateTemperature(value) {
            const temp = parseInt(value);
            appState.currentTemperature = temp;
            
            // Update display
            tempDisplay.textContent = `${temp}¬∞C`;
            temperatureValue.textContent = `${temp}¬∞C`;
            
            // Update color based on temperature
            if (temp < 0) {
                tempDisplay.style.color = '#2196F3';
            } else if (temp < 50) {
                tempDisplay.style.color = '#4CAF50';
            } else {
                tempDisplay.style.color = '#F44336';
            }
            
            // Update particle animation speed
            const particles = temperatureModel.querySelectorAll('.molecule');
            const speed = Math.max(0.5, 4 - (temp + 20) / 30); // Faster vibration for higher temps
            particles.forEach(particle => {
                particle.style.animationDuration = `${speed}s`;
                particle.style.backgroundColor = temp < 10 ? '#2196F3' : temp > 50 ? '#F44336' : '#4CAF50';
            });
            
            // Update thermometer
            updateThermometer(temp);
        }

        function setTemperature(temp) {
            temperatureSlider.value = temp;
            updateTemperature(temp);
        }

        function updateThermometer(temp) {
            const mercury = document.getElementById('mercury');
            if (!mercury) return;
            
            // Convert temperature to height (0¬∞C = 45px, 100¬∞C = 135px)
            let height = 45 + (temp * 0.9);
            if (temp < -20) height = 27; // Minimum
            if (temp > 100) height = 135; // Maximum
            
            mercury.style.height = `${height}px`;
            
            // Update mercury color gradient based on temperature
            if (temp < 0) {
                mercury.style.background = 'linear-gradient(to top, #2196F3, #42A5F5)';
            } else if (temp < 50) {
                mercury.style.background = 'linear-gradient(to top, #4CAF50, #2196F3)';
            } else {
                mercury.style.background = 'linear-gradient(to top, #F44336, #FF9800)';
            }
        }

        function updateHeatLevel(value) {
            const level = Math.round(value / 25);
            heatLevelValue.textContent = level === 2 ? 'Medium' : level < 2 ? 'Low' : 'High';
            
            // Update expansion models
            const bars = expansionModel.querySelectorAll('.metal-bar, .bimetallic-strip');
            bars.forEach(bar => {
                if (bar.classList.contains('metal-bar')) {
                    const width = level === 2 ? '65%' : level < 2 ? '60%' : '70%';
                    bar.style.width = width;
                }
                if (bar.classList.contains('bimetallic-strip') && bar.textContent.includes('Heated')) {
                    const rotation = level === 2 ? '10deg' : level < 2 ? '5deg' : '20deg';
                    bar.style.transform = `rotate(${rotation})`;
                    bar.style.transformOrigin = 'left center';
                }
            });
        }

        // Properties display
        function showConductivity() {
            appState.currentProperties = 'conductivity';
            displayProperties('conductivity');
        }

        function showSpecificHeat() {
            appState.currentProperties = 'specificHeat';
            displayProperties('specificHeat');
        }

        function showExpansionCoeff() {
            appState.currentProperties = 'expansion';
            displayProperties('expansion');
        }

        function showInsulation() {
            appState.currentProperties = 'insulation';
            displayProperties('insulation');
        }

        function displayProperties(type) {
            propertiesList.innerHTML = '';
            const props = properties[type];
            
            let title = '';
            if (type === 'conductivity') title = 'Thermal Conductivity (W/m¬∑K)';
            else if (type === 'specificHeat') title = 'Specific Heat Capacity (J/g¬∞C)';
            else if (type === 'expansion') title = 'Coefficient of Linear Expansion (/¬∞C)';
            else title = 'Insulation R-value (per inch)';
            
            document.querySelector('.properties-panel .visualizer-title').textContent = title;
            
            props.forEach(property => {
                const item = document.createElement('div');
                item.className = 'property-item';
                item.innerHTML = `
                    <div class="property-name">${property.name}</div>
                    <div class="property-value">${property.value}</div>
                `;
                propertiesList.appendChild(item);
            });
            
            labInstructions.textContent = `${title} - Click lab setup buttons below`;
        }

        // Lab setup functions
        function setupHeatConduction() {
            labBench.innerHTML = '';
            labInstructions.textContent = 'Heat Conduction Experiment: Compare how quickly different materials conduct heat';
            
            const materials = [
                { name: 'Copper', color: '#FF9800', left: '15%' },
                { name: 'Aluminum', color: '#B0BEC5', left: '35%' },
                { name: 'Iron', color: '#78909C', left: '55%' },
                { name: 'Wood', color: '#8D6E63', left: '75%' }
            ];
            
            materials.forEach(material => {
                const rod = document.createElement('div');
                rod.className = 'lab-equipment';
                rod.style.width = '15px';
                rod.style.height = '80px';
                rod.style.left = material.left;
                rod.style.top = '20%';
                rod.style.backgroundColor = material.color;
                rod.style.borderRadius = '5px';
                labBench.appendChild(rod);
                
                const label = document.createElement('div');
                label.className = 'lab-equipment';
                label.style.width = '40px';
                label.style.height = '20px';
                label.style.left = `calc(${material.left} - 12px)`;
                label.style.top = '85%';
                label.style.backgroundColor = 'transparent';
                label.textContent = material.name;
                label.style.color = 'var(--text-primary)';
                label.style.fontSize = '0.7rem';
                label.style.display = 'flex';
                label.style.alignItems = 'center';
                label.style.justifyContent = 'center';
                labBench.appendChild(label);
                
                // Heat source at top
                const heat = document.createElement('div');
                heat.className = 'lab-equipment';
                heat.style.width = '25px';
                heat.style.height = '10px';
                heat.style.left = `calc(${material.left} - 5px)`;
                heat.style.top = '15%';
                heat.style.backgroundColor = '#F44336';
                heat.style.borderRadius = '3px';
                heat.textContent = 'üî•';
                heat.style.fontSize = '0.6rem';
                heat.style.display = 'flex';
                heat.style.alignItems = 'center';
                heat.style.justifyContent = 'center';
                labBench.appendChild(heat);
            });
        }

        function setupExpansionDemo() {
            labBench.innerHTML = '';
            labInstructions.textContent = 'Thermal Expansion Demo: Metal ball and ring - ball expands when heated and won\'t fit through ring';
            
            const ring = document.createElement('div');
            ring.className = 'lab-equipment';
            ring.style.width = '60px';
            ring.style.height = '60px';
            ring.style.left = '30%';
            ring.style.top = '30%';
            ring.style.border = '8px solid #2196F3';
            ring.style.borderRadius = '50%';
            ring.textContent = 'Ring';
            ring.style.display = 'flex';
            ring.style.alignItems = 'center';
            ring.style.justifyContent = 'center';
            ring.style.fontSize = '0.8rem';
            labBench.appendChild(ring);
            
            const coldBall = document.createElement('div');
            coldBall.className = 'lab-equipment';
            coldBall.style.width = '50px';
            coldBall.style.height = '50px';
            coldBall.style.left = '31%';
            coldBall.style.top = '31%';
            coldBall.style.backgroundColor = '#4CAF50';
            coldBall.style.borderRadius = '50%';
            coldBall.textContent = 'Cold';
            coldBall.style.display = 'flex';
            coldBall.style.alignItems = 'center';
            coldBall.style.justifyContent = 'center';
            coldBall.style.fontSize = '0.7rem';
            labBench.appendChild(coldBall);
            
            const hotBall = document.createElement('div');
            hotBall.className = 'lab-equipment';
            hotBall.style.width = '70px';
            hotBall.style.height = '70px';
            hotBall.style.left = '55%';
            hotBall.style.top = '50%';
            hotBall.style.backgroundColor = '#F44336';
            hotBall.style.borderRadius = '50%';
            hotBall.textContent = 'Heated';
            hotBall.style.display = 'flex';
            hotBall.style.alignItems = 'center';
            hotBall.style.justifyContent = 'center';
            hotBall.style.fontSize = '0.7rem';
            labBench.appendChild(hotBall);
            
            const burner = document.createElement('div');
            burner.className = 'lab-equipment';
            burner.style.width = '30px';
            burner.style.height = '15px';
            burner.style.left = '60%';
            burner.style.top = '80%';
            burner.style.backgroundColor = '#FF9800';
            burner.style.borderRadius = '3px';
            burner.textContent = 'Burner';
            burner.style.display = 'flex';
            burner.style.alignItems = 'center';
            burner.style.justifyContent = 'center';
            burner.style.fontSize = '0.6rem';
            labBench.appendChild(burner);
        }

        function setupThermometerCal() {
            labBench.innerHTML = '';
            labInstructions.textContent = 'Thermometer Calibration: Compare different temperature scales and calibration points';
            
            // Thermometer
            const therm = document.createElement('div');
            therm.className = 'lab-equipment';
            therm.style.width = '20px';
            therm.style.height = '100px';
            therm.style.left = '20%';
            therm.style.top = '20%';
            therm.style.backgroundColor = '#2a2a2a';
            therm.style.border = '2px solid var(--dark-border)';
            therm.style.borderRadius = '10px';
            labBench.appendChild(therm);
            
            const mercury = document.createElement('div');
            mercury.className = 'lab-equipment';
            mercury.style.width = '12px';
            mercury.style.height = '60px';
            mercury.style.left = '20.5%';
            mercury.style.bottom = '20%';
            mercury.style.backgroundColor = '#F44336';
            mercury.style.borderRadius = '5px';
            labBench.appendChild(mercury);
            
            // Temperature scales
            const scales = [
                { name: 'Celsius', points: ['0¬∞C', '100¬∞C'], left: '25%' },
                { name: 'Fahrenheit', points: ['32¬∞F', '212¬∞F'], left: '45%' },
                { name: 'Kelvin', points: ['273K', '373K'], left: '65%' }
            ];
            
            scales.forEach(scale => {
                const scaleDiv = document.createElement('div');
                scaleDiv.className = 'lab-equipment';
                scaleDiv.style.width = '30px';
                scaleDiv.style.height = '60px';
                scaleDiv.style.left = scale.left;
                scaleDiv.style.top = '30%';
                scaleDiv.style.backgroundColor = 'transparent';
                scaleDiv.style.borderLeft = '2px solid var(--heat-teal)';
                
                // Scale marks
                scale.points.forEach((point, i) => {
                    const mark = document.createElement('div');
                    mark.style.position = 'absolute';
                    mark.style.left = '0';
                    mark.style.top = i === 0 ? '50px' : '0';
                    mark.style.width = '10px';
                    mark.style.height = '2px';
                    mark.style.backgroundColor = 'var(--heat-teal)';
                    scaleDiv.appendChild(mark);
                    
                    const label = document.createElement('div');
                    label.style.position = 'absolute';
                    label.style.left = '15px';
                    label.style.top = i === 0 ? '45px' : '-5px';
                    label.textContent = point;
                    label.style.color = 'var(--text-primary)';
                    label.style.fontSize = '0.6rem';
                    scaleDiv.appendChild(label);
                });
                
                const nameLabel = document.createElement('div');
                nameLabel.style.position = 'absolute';
                nameLabel.style.bottom = '-20px';
                nameLabel.style.left = '0';
                nameLabel.style.width = '100%';
                nameLabel.style.textAlign = 'center';
                nameLabel.textContent = scale.name;
                nameLabel.style.color = 'var(--text-secondary)';
                nameLabel.style.fontSize = '0.7rem';
                scaleDiv.appendChild(nameLabel);
                
                labBench.appendChild(scaleDiv);
            });
            
            // Calibration points
            const points = [
                { temp: '0¬∞C', desc: 'Water freezes', top: '70%' },
                { temp: '37¬∞C', desc: 'Body temp', top: '50%' },
                { temp: '100¬∞C', desc: 'Water boils', top: '30%' }
            ];
            
            points.forEach(point => {
                const pt = document.createElement('div');
                pt.className = 'lab-equipment';
                pt.style.width = '80px';
                pt.style.height = '25px';
                pt.style.right = '10%';
                pt.style.top = point.top;
                pt.style.backgroundColor = 'rgba(33, 150, 243, 0.2)';
                pt.style.borderRadius = '5px';
                pt.style.padding = '5px';
                pt.innerHTML = `<div style="font-weight: bold;">${point.temp}</div><div style="font-size: 0.6rem;">${point.desc}</div>`;
                pt.style.fontSize = '0.7rem';
                labBench.appendChild(pt);
            });
        }

        function clearLabBench() {
            labBench.innerHTML = '';
            labInstructions.textContent = 'Click setup buttons to build thermal experiments';
        }

        // Comparison detail
        window.showComparisonDetail = function(detail) {
            const detailInfo = comparisonDetails[detail];
            if (!detailInfo) return;
            
            let info = `${detailInfo.title}\n\n`;
            info += `${detailInfo.info}`;
            
            alert(info);
        };

        // Thermal detail
        window.showThermalDetail = function(topic) {
            let info = '';
            if (topic === 'temperature') {
                info = "üå°Ô∏è Temperature üå°Ô∏è\n\n";
                info += "Definition: Measure of average kinetic energy of particles in a substance.\n\n";
                info += "Key Concepts:\n";
                info += "‚Ä¢ NOT the same as heat (temperature = intensity, heat = quantity)\n";
                info += "‚Ä¢ Higher temperature = faster particle motion\n";
                info += "‚Ä¢ Absolute zero = 0K = -273.15¬∞C (no particle motion)\n\n";
                info += "Temperature Scales:\n";
                info += "1. Celsius (¬∞C): Water freezes at 0¬∞C, boils at 100¬∞C\n";
                info += "2. Fahrenheit (¬∞F): Water freezes at 32¬∞F, boils at 212¬∞F\n";
                info += "3. Kelvin (K): Absolute scale, 0K = absolute zero\n\n";
                info += "Conversion Formulas:\n";
                info += "‚Ä¢ ¬∞F = (9/5)¬∞C + 32\n";
                info += "‚Ä¢ K = ¬∞C + 273.15\n";
                info += "‚Ä¢ -40¬∞C = -40¬∞F (only equal point)\n\n";
                info += "Measurement: Thermometers (mercury, alcohol, digital)\n";
                info += "Normal ranges: Room ~20-25¬∞C, Body ~37¬∞C, Freezing 0¬∞C, Boiling 100¬∞C";
            } else if (topic === 'heat') {
                info = "üî• Heat Energy üî•\n\n";
                info += "Definition: Energy transferred due to temperature difference (flows hot ‚Üí cold).\n\n";
                info += "Key Concepts:\n";
                info += "‚Ä¢ Measured in Joules (J) or calories (cal)\n";
                info += "‚Ä¢ 1 cal = 4.18 J (heat to raise 1g water by 1¬∞C)\n";
                info += "‚Ä¢ Heat always flows from hotter to colder objects\n";
                info += "‚Ä¢ Different from temperature (heat = total energy, temp = average energy)\n\n";
                info += "Heat Capacity Formulas:\n";
                info += "1. Specific Heat Capacity (c):\n";
                info += "   Q = mcŒîT\n";
                info += "   Q = heat (J), m = mass (kg), c = specific heat (J/kg¬∞C), ŒîT = temp change\n\n";
                info += "2. Latent Heat:\n";
                info += "   Q = mL\n";
                info += "   L = latent heat (J/kg) for phase changes\n";
                info += "   ‚Ä¢ Fusion (melting/freezing)\n";
                info += "   ‚Ä¢ Vaporization (boiling/condensing)\n\n";
                info += "Examples: Water has high specific heat (4.18 J/g¬∞C) - heats/cools slowly";
            } else if (topic === 'expansion') {
                info = "üìà Thermal Expansion üìà\n\n";
                info += "Definition: Increase in size of materials when heated, decrease when cooled.\n\n";
                info += "Why it happens:\n";
                info += "‚Ä¢ Increased temperature ‚Üí increased particle vibration\n";
                info += "‚Ä¢ Particles push each other farther apart\n";
                info += "‚Ä¢ Most materials expand when heated (except few exceptions like water 0-4¬∞C)\n\n";
                info += "Types of Expansion:\n";
                info += "1. Linear Expansion (length): ŒîL = Œ±L‚ÇÄŒîT\n";
                info += "   Œ± = coefficient of linear expansion (/¬∞C)\n\n";
                info += "2. Area Expansion (surface): ŒîA = 2Œ±A‚ÇÄŒîT\n\n";
                info += "3. Volume Expansion (solids/liquids): ŒîV = Œ≤V‚ÇÄŒîT\n";
                info += "   Œ≤ = coefficient of volume expansion ‚âà 3Œ±\n\n";
                info += "4. Gas Expansion: Follows gas laws (Charles' Law: V ‚àù T at constant P)\n\n";
                info += "Important Applications:\n";
                info += "‚Ä¢ Expansion joints in bridges/railways\n";
                info += "‚Ä¢ Bimetallic strips in thermostats\n";
                info += "‚Ä¢ Thermometers (liquid expansion)\n";
                info += "‚Ä¢ Loosely hung telephone/power lines\n";
                info += "‚Ä¢ Piston-engine clearances\n\n";
                info += "Water anomaly: Expands when freezing (ice less dense than water)";
            } else {
                info = "‚ÜîÔ∏è Heat Transfer ‚ÜîÔ∏è\n\n";
                info += "Three Methods of Heat Transfer:\n\n";
                info += "1. CONDUCTION:\n";
                info += "   ‚Ä¢ Through direct contact\n";
                info += "   ‚Ä¢ Particle collisions transfer energy\n";
                info += "   ‚Ä¢ Best in solids (especially metals)\n";
                info += "   ‚Ä¢ Formula: Q/t = kAŒîT/d\n";
                info += "   ‚Ä¢ Examples: Metal spoon in soup, touching hot pan\n\n";
                info += "2. CONVECTION:\n";
                info += "   ‚Ä¢ Through fluid movement (liquids/gases)\n";
                info += "   ‚Ä¢ Hot fluid rises (less dense), cool sinks (more dense)\n";
                info += "   ‚Ä¢ Creates convection currents\n";
                info += "   ‚Ä¢ Types: Natural (density differences) & Forced (fans/pumps)\n";
                info += "   ‚Ä¢ Examples: Boiling water, weather systems, heating systems\n\n";
                info += "3. RADIATION:\n";
                info += "   ‚Ä¢ Through electromagnetic waves\n";
                info += "   ‚Ä¢ No medium required (works in vacuum)\n";
                info += "   ‚Ä¢ All objects emit radiation (depends on temperature)\n";
                info += "   ‚Ä¢ Examples: Sunlight, microwave, infrared heater\n\n";
                info += "Insulation: Reduces heat transfer (traps air, poor conductor)\n";
                info += "R-value measures insulation effectiveness";
            }
            alert(info);
        };

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', showWelcomePage);
            viewTopicsBtn.addEventListener('click', () => alert("Other science topics would be available here."));
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') startPractice();
            });
        }

        // Create thermal tip display
        function createThermalTip() {
            const tipDiv = document.createElement('div');
            tipDiv.className = 'thermal-tip';
            tipDiv.innerHTML = `<strong>Thermal Tip:</strong> ${thermalTips[Math.floor(Math.random() * thermalTips.length)]}`;
            return tipDiv;
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            appState.startTime = new Date();
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const percentage = Math.round((appState.score / questions.length) * 100);
            const timeDiff = new Date() - appState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            timeSpent.textContent = `${minutes}min`;
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Brilliant! You're a thermal physics expert!";
            } else if (percentage >= 75) {
                scoreMessage.textContent = "Excellent work! You understand heat and temperature deeply!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good job! You're getting warm with thermal concepts!";
            } else {
                scoreMessage.textContent = "Keep practicing! Thermal physics explains everyday phenomena!";
            }
        }

        // Load question
        function loadQuestion() {
            const question = questions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${questions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            thermalTip.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            thermalTip.appendChild(createThermalTip());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = questions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation);
            }
            
            nextQuestionBtn.disabled = false;
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Skip question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Retry topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            showPracticePage();
        }

        // Start practice
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin thermal physics practice!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            showPracticePage();
        }

        // Initialize app
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
