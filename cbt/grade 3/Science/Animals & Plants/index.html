<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 3 Science - Animals & Plants | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Dark Theme */
        :root {
            --primary-green: #00C853;
            --secondary-orange: #FF6D00;
            --accent-purple: #7C4DFF;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(0, 200, 83, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Slideshow */
        .slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(0, 200, 83, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-green);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 200, 83, 0.4);
        }

        .btn-primary:hover {
            background: #00B248;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 200, 83, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-orange);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 109, 0, 0.4);
        }

        .btn-secondary:hover {
            background: #E65C00;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 109, 0, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-green);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Topic Selection Page */
        .topics-page {
            display: none;
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .topic-card {
            background: var(--dark-surface);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }

        .topic-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-green);
            box-shadow: var(--shadow), var(--glow);
        }

        .topic-icon {
            width: 60px;
            height: 60px;
            margin-bottom: 15px;
            border-radius: 12px;
            background: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }

        .topic-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .topic-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Learning Content Page */
        .learning-page {
            display: none;
        }

        .content-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--primary-green);
            border-bottom: 2px solid var(--primary-green);
            padding-bottom: 10px;
        }

        .concept-explanation {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 4px solid var(--accent-purple);
        }

        .concept-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .concept-description {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .characteristics-list {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .characteristic-item {
            margin-bottom: 8px;
            padding-left: 10px;
            border-left: 2px solid var(--secondary-orange);
        }

        /* Animal Classification */
        .animal-groups {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .animal-group-card {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .animal-group-card:hover {
            transform: translateY(-3px);
            border-color: var(--primary-green);
            box-shadow: 0 5px 15px rgba(0, 200, 83, 0.3);
        }

        .group-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .group-icon {
            font-size: 2.5rem;
            margin-right: 15px;
        }

        .group-title {
            font-size: 1.3rem;
            color: var(--text-primary);
        }

        .group-characteristics {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* Plant Parts Diagram */
        .plant-diagram {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
        }

        .diagram-container {
            position: relative;
            max-width: 400px;
            margin: 0 auto;
            height: 400px;
        }

        .plant-part {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 8px 12px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid transparent;
        }

        .plant-part:hover {
            background: rgba(0, 200, 83, 0.2);
            border-color: var(--primary-green);
            transform: scale(1.05);
        }

        .plant-part.active {
            background: rgba(0, 200, 83, 0.3);
            border-color: var(--primary-green);
        }

        .part-info {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .part-info.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .part-title {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: var(--primary-green);
        }

        .part-function {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Classification Activity */
        .classification-activity {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .item-card {
            background: var(--dark-card);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: grab;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 120px;
        }

        .item-card:hover {
            border-color: var(--accent-purple);
            transform: translateY(-3px);
        }

        .item-card.dragging {
            opacity: 0.7;
        }

        .item-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .item-name {
            font-size: 1rem;
            font-weight: 500;
        }

        .classification-areas {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .classification-area {
            background: var(--dark-card);
            border-radius: 12px;
            padding: 20px;
            min-height: 200px;
            border: 2px dashed var(--dark-border);
            transition: all 0.3s ease;
        }

        .classification-area.active {
            border-color: var(--primary-green);
            background: rgba(0, 200, 83, 0.05);
        }

        .area-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            text-align: center;
            color: var(--text-primary);
        }

        .area-items {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            min-height: 150px;
            align-items: flex-start;
        }

        /* Matching Activity */
        .matching-activity {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .matching-pairs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 768px) {
            .matching-pairs {
                grid-template-columns: 1fr;
            }
        }

        .matching-item {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
            text-align: center;
        }

        .matching-item:hover {
            border-color: var(--secondary-orange);
        }

        .matching-item.matched {
            background: rgba(0, 200, 83, 0.1);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        /* Quiz Section */
        .quiz-section {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-green);
            background: rgba(0, 200, 83, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(0, 200, 83, 0.1);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-bg);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
        }

        .option.correct .option-letter {
            background: var(--primary-green);
            color: white;
        }

        .option.incorrect .option-letter {
            background: #F44336;
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            display: none;
        }

        .feedback-correct {
            background: rgba(0, 200, 83, 0.1);
            border-left: 5px solid var(--primary-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-green);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-green);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
        }

        /* Progress Tracking */
        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-green), var(--secondary-orange));
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(0, 200, 83, 0.5);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-green);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Science Facts */
        .science-facts {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
        }

        .facts-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary-green);
        }

        .facts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .fact-card {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid var(--accent-purple);
        }

        .fact-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .fact-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .topics-grid {
                grid-template-columns: 1fr;
            }
            
            .animal-groups {
                grid-template-columns: 1fr;
            }
            
            .items-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .classification-areas {
                grid-template-columns: 1fr;
            }
            
            .facts-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        .bounce {
            animation: bounce 1s;
        }

        /* Special styling for science content */
        .science-example {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--accent-purple);
            line-height: 1.6;
        }

        .mammal-example {
            border-left-color: #FF4081;
        }

        .bird-example {
            border-left-color: #00B0FF;
        }

        .fish-example {
            border-left-color: #00C853;
        }

        .reptile-example {
            border-left-color: #FFC400;
        }

        .amphibian-example {
            border-left-color: #7C4DFF;
        }

        .insect-example {
            border-left-color: #FF6D00;
        }

        .highlight {
            background-color: rgba(255, 215, 0, 0.2);
            padding: 2px 4px;
            border-radius: 4px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Background Slideshow -->
    <div class="slideshow" id="slideshow">
        <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1459411552884-841db9b3cc2a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1418065460487-3e41a6c84dc5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1470115636492-6d2b56f9146d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1426170042593-200f250dfdaf?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 3 Science - Animals & Plants</h1>
            <p class="welcome-subtitle">Discover the amazing world of animals and plants! Learn how scientists classify animals and explore the different parts of plants and their important functions.</p>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startLearning">
                    <span>Start Exploring</span>
                </button>
            </div>
        </div>

        <!-- Topics Selection Page -->
        <div class="topics-page card fade-in" id="topicsPage">
            <h2 class="welcome-title">Science Learning Activities</h2>
            <p class="welcome-subtitle">Choose a topic to explore the amazing world of animals and plants.</p>
            
            <div class="topics-grid">
                <div class="topic-card" data-topic="animals">
                    <div class="topic-icon">üêæ</div>
                    <h3 class="topic-title">Animal Classification</h3>
                    <p class="topic-description">Learn how scientists group animals into mammals, birds, fish, reptiles, amphibians, and insects.</p>
                </div>
                
                <div class="topic-card" data-topic="plants">
                    <div class="topic-icon">üå±</div>
                    <h3 class="topic-title">Plant Parts & Functions</h3>
                    <p class="topic-description">Discover the different parts of plants and learn what each part does to help the plant survive.</p>
                </div>
                
                <div class="topic-card" data-topic="quiz">
                    <div class="topic-icon">üß†</div>
                    <h3 class="topic-title">Knowledge Challenge</h3>
                    <p class="topic-description">Test your knowledge about animals and plants with fun interactive quizzes.</p>
                </div>
            </div>
        </div>

        <!-- Learning Content Page -->
        <div class="learning-page card fade-in" id="learningPage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Section 1 of 3</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 33%"></div>
                </div>
            </div>

            <!-- Animal Classification Section -->
            <div class="content-section" id="animalClassification">
                <h2 class="section-title">Animal Classification</h2>
                
                <div class="concept-explanation">
                    <h3 class="concept-title">How Scientists Classify Animals</h3>
                    <p class="concept-description">Scientists group animals based on their similarities. This helps us understand how different animals are related and how they live.</p>
                    
                    <div class="science-example">
                        <p><strong>Main Animal Groups:</strong> mammals, birds, fish, reptiles, amphibians, and insects</p>
                    </div>
                </div>

                <div class="animal-groups">
                    <!-- Mammals -->
                    <div class="animal-group-card">
                        <div class="group-header">
                            <div class="group-icon">üêò</div>
                            <h3 class="group-title">Mammals</h3>
                        </div>
                        <p class="group-characteristics">
                            <strong>Characteristics:</strong> Have hair or fur, feed milk to their babies, breathe with lungs, are warm-blooded
                            <br><strong>Examples:</strong> Humans, dogs, cats, elephants, whales
                        </p>
                    </div>

                    <!-- Birds -->
                    <div class="animal-group-card">
                        <div class="group-header">
                            <div class="group-icon">ü¶Ö</div>
                            <h3 class="group-title">Birds</h3>
                        </div>
                        <p class="group-characteristics">
                            <strong>Characteristics:</strong> Have feathers, lay eggs, have wings, breathe with lungs, are warm-blooded
                            <br><strong>Examples:</strong> Eagles, sparrows, penguins, owls, chickens
                        </p>
                    </div>

                    <!-- Fish -->
                    <div class="animal-group-card">
                        <div class="group-header">
                            <div class="group-icon">üê†</div>
                            <h3 class="group-title">Fish</h3>
                        </div>
                        <p class="group-characteristics">
                            <strong>Characteristics:</strong> Live in water, breathe with gills, have scales, lay eggs, are cold-blooded
                            <br><strong>Examples:</strong> Goldfish, sharks, salmon, clownfish, tuna
                        </p>
                    </div>

                    <!-- Reptiles -->
                    <div class="animal-group-card">
                        <div class="group-header">
                            <div class="group-icon">üêç</div>
                            <h3 class="group-title">Reptiles</h3>
                        </div>
                        <p class="group-characteristics">
                            <strong>Characteristics:</strong> Have scales, lay eggs, breathe with lungs, are cold-blooded
                            <br><strong>Examples:</strong> Snakes, lizards, turtles, crocodiles, alligators
                        </p>
                    </div>

                    <!-- Amphibians -->
                    <div class="animal-group-card">
                        <div class="group-header">
                            <div class="group-icon">üê∏</div>
                            <h3 class="group-title">Amphibians</h3>
                        </div>
                        <p class="group-characteristics">
                            <strong>Characteristics:</strong> Live both in water and on land, have moist skin, lay eggs in water, are cold-blooded
                            <br><strong>Examples:</strong> Frogs, toads, salamanders, newts
                        </p>
                    </div>

                    <!-- Insects -->
                    <div class="animal-group-card">
                        <div class="group-header">
                            <div class="group-icon">üêõ</div>
                            <h3 class="group-title">Insects</h3>
                        </div>
                        <p class="group-characteristics">
                            <strong>Characteristics:</strong> Have 6 legs, 3 body parts, often have wings, lay eggs
                            <br><strong>Examples:</strong> Butterflies, ants, bees, beetles, grasshoppers
                        </p>
                    </div>
                </div>

                <div class="classification-activity">
                    <h3>Animal Classification Game</h3>
                    <p>Drag each animal to its correct group!</p>
                    
                    <div class="items-grid" id="animalItemsGrid">
                        <!-- Animal items will be populated by JavaScript -->
                    </div>
                    
                    <div class="classification-areas" id="animalClassificationAreas">
                        <!-- Classification areas will be populated by JavaScript -->
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" id="nextToPlants">Next: Plant Parts</button>
                </div>
            </div>

            <!-- Plant Parts Section -->
            <div class="content-section" id="plantParts" style="display: none;">
                <h2 class="section-title">Plant Parts & Their Functions</h2>
                
                <div class="concept-explanation">
                    <h3 class="concept-title">The Main Parts of a Plant</h3>
                    <p class="concept-description">Plants have different parts that work together to help them grow, get food, and reproduce.</p>
                </div>

                <div class="plant-diagram">
                    <h3>Interactive Plant Diagram</h3>
                    <p>Click on each plant part to learn about its function!</p>
                    
                    <div class="diagram-container">
                        <!-- Plant parts will be positioned by JavaScript -->
                        <div class="plant-part" id="roots-part" data-part="roots" style="bottom: 20px; left: 50%; transform: translateX(-50%);">
                            Roots üå±
                        </div>
                        <div class="plant-part" id="stem-part" data-part="stem" style="bottom: 100px; left: 50%; transform: translateX(-50%);">
                            Stem ü™¥
                        </div>
                        <div class="plant-part" id="leaves-part" data-part="leaves" style="bottom: 180px; left: 50%; transform: translateX(-50%); width: 120px;">
                            Leaves üçÉ
                        </div>
                        <div class="plant-part" id="flower-part" data-part="flower" style="bottom: 260px; left: 50%; transform: translateX(-50%);">
                            Flower üå∏
                        </div>
                    </div>
                    
                    <div class="part-info" id="roots-info">
                        <h3 class="part-title">Roots</h3>
                        <p class="part-function"><strong>Functions:</strong> Anchor the plant in soil, absorb water and nutrients from soil, store food for the plant</p>
                    </div>
                    
                    <div class="part-info" id="stem-info">
                        <h3 class="part-title">Stem</h3>
                        <p class="part-function"><strong>Functions:</strong> Support the plant, transport water and nutrients between roots and leaves, store food</p>
                    </div>
                    
                    <div class="part-info" id="leaves-info">
                        <h3 class="part-title">Leaves</h3>
                        <p class="part-function"><strong>Functions:</strong> Make food for the plant through photosynthesis, exchange gases with air, release water vapor</p>
                    </div>
                    
                    <div class="part-info" id="flower-info">
                        <h3 class="part-title">Flower</h3>
                        <p class="part-function"><strong>Functions:</strong> Produce seeds for reproduction, attract pollinators with colors and scents</p>
                    </div>
                </div>

                <div class="matching-activity">
                    <h3>Match Plant Parts to Their Functions</h3>
                    <div class="matching-pairs" id="plantMatchingGame">
                        <!-- Matching pairs will be populated by JavaScript -->
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-outline" id="backToAnimals">Previous: Animals</button>
                    <button class="btn btn-primary" id="nextToQuiz">Next: Knowledge Challenge</button>
                </div>
            </div>

            <!-- Quiz Section -->
            <div class="content-section" id="quizSection" style="display: none;">
                <h2 class="section-title">Knowledge Challenge</h2>
                <p class="welcome-subtitle">Test your knowledge about animals and plants!</p>
                
                <div class="quiz-section">
                    <div class="question-container">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                        
                        <div class="navigation-buttons">
                            <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                            <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                        </div>
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-outline" id="backToPlants">Previous: Plants</button>
                    <button class="btn btn-primary" id="completeLearning">Complete Learning</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Science Exploration Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="activitiesCompleted">0</div>
                        <div class="stat-label">Activities Completed</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="animalsClassified">0</div>
                        <div class="stat-label">Animals Classified</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>

            <div class="science-facts">
                <h3 class="facts-title">Amazing Animal & Plant Facts</h3>
                <div class="facts-grid">
                    <div class="fact-card">
                        <h4 class="fact-title">Dolphins Are Mammals!</h4>
                        <p class="fact-description">Even though dolphins live in the ocean, they're mammals - not fish! They breathe air, give birth to live babies, and feed them milk.</p>
                    </div>
                    <div class="fact-card">
                        <h4 class="fact-title">Plants Can Communicate</h4>
                        <p class="fact-description">Some plants can warn each other about danger! When attacked by insects, they release chemicals that alert nearby plants.</p>
                    </div>
                    <div class="fact-card">
                        <h4 class="fact-title">The Blue Whale</h4>
                        <p class="fact-description">The blue whale is the largest animal ever known to exist - even bigger than dinosaurs! It's a mammal that lives in the ocean.</p>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Explore Again</button>
                <button class="btn btn-secondary" id="viewTopics">View Other Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize slideshow
        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 5000);
        }

        // Science Content Data
        const scienceData = {
            animalGroups: [
                {
                    name: "Mammals",
                    icon: "üêò",
                    characteristics: "Have hair/fur, feed milk to babies, breathe with lungs, warm-blooded",
                    examples: "Humans, dogs, cats, elephants, whales"
                },
                {
                    name: "Birds",
                    icon: "ü¶Ö",
                    characteristics: "Have feathers, lay eggs, have wings, breathe with lungs, warm-blooded",
                    examples: "Eagles, sparrows, penguins, owls, chickens"
                },
                {
                    name: "Fish",
                    icon: "üê†",
                    characteristics: "Live in water, breathe with gills, have scales, lay eggs, cold-blooded",
                    examples: "Goldfish, sharks, salmon, clownfish, tuna"
                },
                {
                    name: "Reptiles",
                    icon: "üêç",
                    characteristics: "Have scales, lay eggs, breathe with lungs, cold-blooded",
                    examples: "Snakes, lizards, turtles, crocodiles"
                },
                {
                    name: "Amphibians",
                    icon: "üê∏",
                    characteristics: "Live in water and on land, moist skin, lay eggs in water, cold-blooded",
                    examples: "Frogs, toads, salamanders, newts"
                },
                {
                    name: "Insects",
                    icon: "üêõ",
                    characteristics: "6 legs, 3 body parts, often have wings, lay eggs",
                    examples: "Butterflies, ants, bees, beetles, grasshoppers"
                }
            ],
            classificationAnimals: [
                { name: "Dog", type: "Mammals", icon: "üêï" },
                { name: "Eagle", type: "Birds", icon: "ü¶Ö" },
                { name: "Goldfish", type: "Fish", icon: "üê†" },
                { name: "Snake", type: "Reptiles", icon: "üêç" },
                { name: "Frog", type: "Amphibians", icon: "üê∏" },
                { name: "Butterfly", type: "Insects", icon: "ü¶ã" },
                { name: "Cat", type: "Mammals", icon: "üêà" },
                { name: "Penguin", type: "Birds", icon: "üêß" },
                { name: "Shark", type: "Fish", icon: "ü¶à" },
                { name: "Turtle", type: "Reptiles", icon: "üê¢" },
                { name: "Salamander", type: "Amphibians", icon: "üî¨" },
                { name: "Ant", type: "Insects", icon: "üêú" }
            ],
            plantParts: [
                {
                    part: "roots",
                    name: "Roots",
                    icon: "üå±",
                    functions: ["Anchor the plant in soil", "Absorb water and nutrients from soil", "Store food for the plant"]
                },
                {
                    part: "stem",
                    name: "Stem",
                    icon: "ü™¥",
                    functions: ["Support the plant", "Transport water and nutrients between roots and leaves", "Store food"]
                },
                {
                    part: "leaves",
                    name: "Leaves",
                    icon: "üçÉ",
                    functions: ["Make food through photosynthesis", "Exchange gases with air", "Release water vapor"]
                },
                {
                    part: "flower",
                    name: "Flower",
                    icon: "üå∏",
                    functions: ["Produce seeds for reproduction", "Attract pollinators with colors and scents"]
                }
            ],
            quizQuestions: [
                {
                    question: "Which animal group has feathers and lays eggs?",
                    options: ["Birds", "Mammals", "Fish", "Reptiles"],
                    answer: "A",
                    explanation: "Birds are the animal group that has feathers and lays eggs. Mammals have fur/hair, fish have scales, and reptiles have scales but not feathers."
                },
                {
                    question: "What is the main function of plant roots?",
                    options: ["Absorb water and nutrients", "Make food through photosynthesis", "Produce seeds", "Attract pollinators"],
                    answer: "A",
                    explanation: "Roots absorb water and nutrients from the soil. Leaves make food through photosynthesis, flowers produce seeds and attract pollinators."
                },
                {
                    question: "Which of these is a mammal?",
                    options: ["Dolphin", "Eagle", "Shark", "Frog"],
                    answer: "A",
                    explanation: "Dolphins are mammals - they breathe air, give birth to live babies, and feed them milk. Eagles are birds, sharks are fish, and frogs are amphibians."
                },
                {
                    question: "What do plants need for photosynthesis?",
                    options: ["Sunlight, water, and carbon dioxide", "Soil and fertilizer", "Bees and other insects", "Rain and wind"],
                    answer: "A",
                    explanation: "Plants use sunlight, water, and carbon dioxide to make their own food through photosynthesis."
                },
                {
                    question: "Which animal group is cold-blooded and has scales?",
                    options: ["Reptiles", "Mammals", "Birds", "Amphibians"],
                    answer: "A",
                    explanation: "Reptiles are cold-blooded and have scales. Mammals and birds are warm-blooded, and amphibians have moist skin instead of scales."
                },
                {
                    question: "What is the function of a plant's stem?",
                    options: ["Transport water and nutrients", "Make food", "Absorb water from soil", "Produce seeds"],
                    answer: "A",
                    explanation: "The stem transports water and nutrients between the roots and leaves. Leaves make food, roots absorb water, and flowers produce seeds."
                },
                {
                    question: "How many legs do insects have?",
                    options: ["6", "4", "8", "2"],
                    answer: "A",
                    explanation: "All insects have 6 legs. Spiders have 8 legs but are not insects - they're arachnids."
                },
                {
                    question: "Which part of the plant makes food?",
                    options: ["Leaves", "Roots", "Flowers", "Stem"],
                    answer: "A",
                    explanation: "Leaves make food for the plant through photosynthesis using sunlight, water, and carbon dioxide."
                },
                {
                    question: "Which animal can live both in water and on land?",
                    options: ["Frog", "Fish", "Bird", "Mammal"],
                    answer: "A",
                    explanation: "Frogs are amphibians that can live both in water and on land. Fish live only in water, birds and mammals primarily live on land or in air."
                },
                {
                    question: "What do flowers help plants do?",
                    options: ["Reproduce", "Grow taller", "Absorb sunlight", "Store water"],
                    answer: "A",
                    explanation: "Flowers help plants reproduce by producing seeds. Some flowers also attract pollinators like bees and butterflies."
                }
            ]
        };

        // App state
        let appState = {
            studentName: "",
            currentSection: "animals",
            quizScore: 0,
            quizAnswered: 0,
            animalsClassified: 0,
            activitiesCompleted: 0,
            currentQuestionIndex: 0
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent science skills!",
            "Fantastic knowledge!",
            "Great job!",
            "Amazing!",
            "Well done!",
            "You're a science expert!",
            "Perfect!",
            "Outstanding!",
            "Brilliant!",
            "You're on fire!"
        ];

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const topicsPage = document.getElementById('topicsPage');
        const learningPage = document.getElementById('learningPage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startLearningBtn = document.getElementById('startLearning');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const topicCards = document.querySelectorAll('.topic-card');

        // Section navigation
        const animalClassification = document.getElementById('animalClassification');
        const plantParts = document.getElementById('plantParts');
        const quizSection = document.getElementById('quizSection');
        const nextToPlants = document.getElementById('nextToPlants');
        const nextToQuiz = document.getElementById('nextToQuiz');
        const backToAnimals = document.getElementById('backToAnimals');
        const backToPlants = document.getElementById('backToPlants');
        const completeLearning = document.getElementById('completeLearning');

        // Quiz elements
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');

        // Results elements
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const activitiesCompleted = document.getElementById('activitiesCompleted');
        const animalsClassified = document.getElementById('animalsClassified');
        const highestScore = document.getElementById('highestScore');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');

        // Initialize the app
        function initApp() {
            initSlideshow();
            loadStateFromStorage();
            setupEventListeners();
            
            // Show appropriate page based on state
            if (appState.studentName && appState.activitiesCompleted > 0) {
                showLearningPage();
                loadSection(appState.currentSection);
            } else if (appState.studentName) {
                showTopicsPage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade3ScienceAnimalsPlants');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentSection = parsed.currentSection || "animals";
                appState.quizScore = parsed.quizScore || 0;
                appState.quizAnswered = parsed.quizAnswered || 0;
                appState.animalsClassified = parsed.animalsClassified || 0;
                appState.activitiesCompleted = parsed.activitiesCompleted || 0;
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade3ScienceAnimalsPlants', JSON.stringify(appState));
        }

        // Setup event listeners
        function setupEventListeners() {
            startLearningBtn.addEventListener('click', startLearning);
            
            // Add event listeners to topic cards
            topicCards.forEach(card => {
                card.addEventListener('click', () => selectTopic(card.dataset.topic));
            });
            
            // Section navigation
            nextToPlants.addEventListener('click', () => navigateSection('next'));
            nextToQuiz.addEventListener('click', () => navigateSection('next'));
            backToAnimals.addEventListener('click', () => navigateSection('prev'));
            backToPlants.addEventListener('click', () => navigateSection('prev'));
            completeLearning.addEventListener('click', showResultsPage);
            
            // Plant diagram interactions
            setupPlantDiagram();
            
            // Quiz navigation
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            
            // Results navigation
            retryTopicBtn.addEventListener('click', retryTopic);
            viewTopicsBtn.addEventListener('click', backToTopics);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            
            // Allow pressing Enter to start learning
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startLearning();
                }
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            topicsPage.style.display = 'none';
            learningPage.style.display = 'none';
            resultsPage.style.display = 'none';
            
            // Clear any previous input
            studentNameInput.value = appState.studentName || '';
        }

        // Show topics page
        function showTopicsPage() {
            welcomePage.style.display = 'none';
            topicsPage.style.display = 'block';
            learningPage.style.display = 'none';
            resultsPage.style.display = 'none';
        }

        // Show learning page
        function showLearningPage() {
            welcomePage.style.display = 'none';
            topicsPage.style.display = 'none';
            learningPage.style.display = 'block';
            resultsPage.style.display = 'none';
            
            // Display student name
            studentNameDisplay.textContent = appState.studentName;
            
            // Load the current section
            loadSection(appState.currentSection);
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            topicsPage.style.display = 'none';
            learningPage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            // Calculate and display results
            const percentage = Math.round((appState.quizScore / scienceData.quizQuestions.length) * 100);
            
            finalScore.textContent = appState.quizScore;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.quizScore;
            activitiesCompleted.textContent = appState.activitiesCompleted;
            animalsClassified.textContent = appState.animalsClassified;
            
            // Get highest score from localStorage
            const highest = localStorage.getItem('ideolixGrade3ScienceAnimalsPlants_highestScore') || 0;
            highestScore.textContent = Math.max(highest, appState.quizScore);
            
            // Save new highest score if applicable
            if (appState.quizScore > highest) {
                localStorage.setItem('ideolixGrade3ScienceAnimalsPlants_highestScore', appState.quizScore);
            }
            
            // Set encouraging message
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a biology expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You know a lot about animals and plants!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! You understand animal classification and plant parts well!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review the concepts and try again!";
            } else {
                scoreMessage.textContent = "Keep exploring! Biology is full of amazing discoveries!";
            }
            
            // Save state
            saveStateToStorage();
        }

        // Start learning - show topic selection
        function startLearning() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert('Please enter your name to continue.');
                return;
            }
            
            appState.studentName = name;
            saveStateToStorage();
            showTopicsPage();
        }

        // Select a topic and start learning
        function selectTopic(topic) {
            appState.currentSection = topic === 'quiz' ? 'quiz' : 'animals';
            saveStateToStorage();
            showLearningPage();
        }

        // Load a specific section
        function loadSection(section) {
            // Hide all sections first
            animalClassification.style.display = 'none';
            plantParts.style.display = 'none';
            quizSection.style.display = 'none';
            
            // Update progress
            updateProgress(section);
            
            // Load the selected section
            switch(section) {
                case 'animals':
                    animalClassification.style.display = 'block';
                    loadAnimalClassificationActivity();
                    break;
                case 'plants':
                    plantParts.style.display = 'block';
                    loadPlantMatchingActivity();
                    break;
                case 'quiz':
                    quizSection.style.display = 'block';
                    loadQuizQuestion();
                    break;
            }
        }

        // Update progress indicator
        function updateProgress(section) {
            let progress = 33;
            let sectionText = "Section 1 of 3";
            
            switch(section) {
                case 'plants':
                    progress = 66;
                    sectionText = "Section 2 of 3";
                    break;
                case 'quiz':
                    progress = 100;
                    sectionText = "Section 3 of 3";
                    break;
            }
            
            progressText.textContent = sectionText;
            progressFill.style.width = `${progress}%`;
        }

        // Navigate between sections
        function navigateSection(direction) {
            const sections = ['animals', 'plants', 'quiz'];
            let currentIndex = sections.indexOf(appState.currentSection);
            
            if (direction === 'next' && currentIndex < sections.length - 1) {
                appState.currentSection = sections[currentIndex + 1];
            } else if (direction === 'prev' && currentIndex > 0) {
                appState.currentSection = sections[currentIndex - 1];
            }
            
            // Update activities completed
            if (direction === 'next' && currentIndex >= appState.activitiesCompleted) {
                appState.activitiesCompleted = currentIndex + 1;
            }
            
            saveStateToStorage();
            loadSection(appState.currentSection);
        }

        // Load animal classification activity
        function loadAnimalClassificationActivity() {
            const itemsGrid = document.getElementById('animalItemsGrid');
            const classificationAreas = document.getElementById('animalClassificationAreas');
            
            itemsGrid.innerHTML = '';
            classificationAreas.innerHTML = '';
            
            // Shuffle animals
            const shuffledAnimals = [...scienceData.classificationAnimals]
                .sort(() => 0.5 - Math.random())
                .slice(0, 8); // Use 8 animals for the activity
            
            // Create animal cards
            shuffledAnimals.forEach(animal => {
                const itemCard = document.createElement('div');
                itemCard.className = 'item-card';
                itemCard.setAttribute('draggable', 'true');
                itemCard.setAttribute('data-type', animal.type);
                itemCard.innerHTML = `
                    <div class="item-icon">${animal.icon}</div>
                    <div class="item-name">${animal.name}</div>
                `;
                
                // Add drag event listeners
                itemCard.addEventListener('dragstart', handleDragStart);
                itemCard.addEventListener('dragend', handleDragEnd);
                
                itemsGrid.appendChild(itemCard);
            });
            
            // Create classification areas for each animal group
            scienceData.animalGroups.forEach(group => {
                const area = document.createElement('div');
                area.className = 'classification-area';
                area.setAttribute('data-type', group.name);
                area.innerHTML = `
                    <h3 class="area-title">${group.icon} ${group.name}</h3>
                    <div class="area-items"></div>
                `;
                
                area.addEventListener('dragover', handleDragOver);
                area.addEventListener('drop', (e) => handleAnimalDrop(e, group.name));
                
                classificationAreas.appendChild(area);
            });
            
            // Reset classified animals count
            appState.animalsClassified = 0;
            saveStateToStorage();
        }

        // Setup plant diagram interactions
        function setupPlantDiagram() {
            const plantParts = document.querySelectorAll('.plant-part');
            
            plantParts.forEach(part => {
                part.addEventListener('click', function() {
                    const partType = this.getAttribute('data-part');
                    
                    // Remove active class from all parts
                    plantParts.forEach(p => p.classList.remove('active'));
                    
                    // Hide all part info
                    document.querySelectorAll('.part-info').forEach(info => {
                        info.classList.remove('active');
                    });
                    
                    // Add active class to clicked part
                    this.classList.add('active');
                    
                    // Show corresponding part info
                    document.getElementById(`${partType}-info`).classList.add('active');
                });
            });
        }

        // Load plant matching activity
        function loadPlantMatchingActivity() {
            const matchingGame = document.getElementById('plantMatchingGame');
            matchingGame.innerHTML = '';
            
            // Create plant part cards
            scienceData.plantParts.forEach(part => {
                const partCard = document.createElement('div');
                partCard.className = 'matching-item';
                partCard.setAttribute('data-part', part.part);
                partCard.innerHTML = `
                    <strong>${part.icon} ${part.name}</strong>
                `;
                matchingGame.appendChild(partCard);
            });
            
            // Create function cards (shuffled)
            const shuffledFunctions = [...scienceData.plantParts]
                .sort(() => 0.5 - Math.random())
                .map(part => part.functions[0]); // Use the first function for simplicity
            
            shuffledFunctions.forEach(func => {
                const funcCard = document.createElement('div');
                funcCard.className = 'matching-item';
                funcCard.setAttribute('data-function', func);
                funcCard.textContent = func;
                matchingGame.appendChild(funcCard);
            });
            
            // Setup matching game
            setupMatchingGame();
        }

        // Setup matching game
        function setupMatchingGame() {
            let selectedPart = null;
            let selectedFunction = null;
            
            document.querySelectorAll('#plantMatchingGame .matching-item').forEach(item => {
                item.addEventListener('click', function() {
                    if (this.getAttribute('data-part')) {
                        // This is a plant part
                        if (selectedPart) {
                            selectedPart.style.borderColor = 'transparent';
                        }
                        selectedPart = this;
                        this.style.borderColor = 'var(--secondary-orange)';
                    } else {
                        // This is a function
                        if (selectedFunction) {
                            selectedFunction.style.borderColor = 'transparent';
                        }
                        selectedFunction = this;
                        this.style.borderColor = 'var(--secondary-orange)';
                    }
                    
                    // Check if we have a pair to match
                    if (selectedPart && selectedFunction) {
                        checkPlantMatch(selectedPart, selectedFunction);
                        selectedPart = null;
                        selectedFunction = null;
                    }
                });
            });
        }

        // Check if plant part and function match
        function checkPlantMatch(partElement, functionElement) {
            const partType = partElement.getAttribute('data-part');
            const functionText = functionElement.getAttribute('data-function');
            
            // Find the plant part that has this function
            const correctPart = scienceData.plantParts.find(part => 
                part.functions.includes(functionText)
            );
            
            if (correctPart && correctPart.part === partType) {
                // Correct match
                partElement.classList.add('matched');
                functionElement.classList.add('matched');
                partElement.style.borderColor = 'transparent';
                functionElement.style.borderColor = 'transparent';
                
                // Show success feedback
                showClassificationFeedback(true, `Correct! ${partElement.textContent.trim()} ${functionText.toLowerCase()}`);
            } else {
                // Incorrect match - reset borders after a delay
                setTimeout(() => {
                    partElement.style.borderColor = 'transparent';
                    functionElement.style.borderColor = 'transparent';
                }, 1000);
                
                // Show error feedback
                showClassificationFeedback(false, "Try again! That's not the right match.");
            }
        }

        // Drag and drop handlers for animal classification
        function handleDragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.getAttribute('data-type'));
            e.target.classList.add('dragging');
            
            // Add visual feedback to drop zones
            document.querySelectorAll('.classification-area').forEach(area => {
                area.classList.add('active');
            });
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
            
            // Remove visual feedback from drop zones
            document.querySelectorAll('.classification-area').forEach(area => {
                area.classList.remove('active');
            });
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleAnimalDrop(e, expectedType) {
            e.preventDefault();
            const animalType = e.dataTransfer.getData('text/plain');
            const draggedElement = document.querySelector('.item-card.dragging');
            
            if (draggedElement && animalType === expectedType) {
                // Correct classification
                const areaItems = e.currentTarget.querySelector('.area-items');
                
                // Create a new card for the drop area
                const newCard = document.createElement('div');
                newCard.className = 'item-card';
                newCard.innerHTML = draggedElement.innerHTML;
                newCard.style.cursor = 'default';
                
                areaItems.appendChild(newCard);
                
                // Remove the original card
                draggedElement.remove();
                
                // Update classified animals count
                appState.animalsClassified++;
                saveStateToStorage();
                
                // Show success feedback
                showClassificationFeedback(true, `Correct! ${draggedElement.querySelector('.item-name').textContent} is a ${expectedType.toLowerCase()}.`);
            } else if (draggedElement) {
                // Incorrect classification
                showClassificationFeedback(false, `Try again! ${draggedElement.querySelector('.item-name').textContent} is not a ${expectedType.toLowerCase()}.`);
            }
        }

        // Show classification feedback
        function showClassificationFeedback(isCorrect, message) {
            // Create a temporary feedback element
            const feedback = document.createElement('div');
            feedback.style.position = 'fixed';
            feedback.style.top = '50%';
            feedback.style.left = '50%';
            feedback.style.transform = 'translate(-50%, -50%)';
            feedback.style.padding = '20px 30px';
            feedback.style.borderRadius = '12px';
            feedback.style.fontWeight = 'bold';
            feedback.style.zIndex = '1000';
            feedback.style.boxShadow = '0 8px 32px rgba(0, 0, 0, 0.4)';
            feedback.textContent = message;
            
            if (isCorrect) {
                feedback.style.background = 'var(--primary-green)';
                feedback.style.color = 'white';
            } else {
                feedback.style.background = 'var(--secondary-orange)';
                feedback.style.color = 'white';
            }
            
            document.body.appendChild(feedback);
            
            // Remove after 2 seconds
            setTimeout(() => {
                document.body.removeChild(feedback);
            }, 2000);
        }

        // Load quiz question
        function loadQuizQuestion() {
            const question = scienceData.quizQuestions[appState.currentQuestionIndex];
            
            // Set question text
            questionText.textContent = question.question;
            
            // Clear previous options and feedback
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            // Create option elements
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectQuizOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle quiz option selection
        function selectQuizOption(optionElement, selectedIndex) {
            const question = scienceData.quizQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            // Disable all options
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Mark correct/incorrect
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                // Correct answer
                optionElement.classList.add('correct');
                appState.quizScore++;
                appState.quizAnswered++;
                
                // Show positive feedback
                showQuizFeedback(true, question.explanation);
            } else {
                // Incorrect answer
                optionElement.classList.add('incorrect');
                appState.quizAnswered++;
                
                // Show negative feedback
                showQuizFeedback(false, question.explanation, question.answer);
            }
            
            // Enable next question button
            nextQuestionBtn.disabled = false;
            
            // Save progress
            saveStateToStorage();
        }

        // Show quiz feedback
        function showQuizFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    feedbackMessage.textContent = `Correct answer: ${String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65))}`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
        }

        // Move to next quiz question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < scienceData.quizQuestions.length) {
                loadQuizQuestion();
            } else {
                // Quiz completed
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current quiz question
        function skipQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < scienceData.quizQuestions.length) {
                loadQuizQuestion();
            } else {
                // Quiz completed
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.quizScore = 0;
            appState.quizAnswered = 0;
            appState.animalsClassified = 0;
            appState.currentQuestionIndex = 0;
            appState.currentSection = "animals";
            saveStateToStorage();
            showLearningPage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            showTopicsPage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
