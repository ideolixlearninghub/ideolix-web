<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 5 Science - Adaptations of Living Things | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Biology/Adaptations Theme */
        :root {
            --primary-blue: #2196F3;
            --secondary-teal: #009688;
            --accent-orange: #FF9800;
            --accent-green: #4CAF50;
            --accent-yellow: #FFEB3B;
            --accent-red: #F44336;
            --accent-purple: #9C27B0;
            --accent-brown: #795548;
            --accent-lime: #CDDC39;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(33, 150, 243, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Slideshow */
        .slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        /* Topic Selection */
        .topic-selection {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
            width: 100%;
            max-width: 1000px;
        }

        @media (max-width: 768px) {
            .topic-selection {
                grid-template-columns: 1fr;
            }
        }

        .topic-card {
            background: var(--dark-surface);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 280px;
        }

        .topic-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
        }

        .topic-card.active {
            border-color: var(--primary-blue);
            background: rgba(33, 150, 243, 0.1);
        }

        .topic-card.animal {
            border-color: var(--primary-blue);
        }

        .topic-card.plant {
            border-color: var(--accent-green);
        }

        .topic-card.extreme {
            border-color: var(--accent-orange);
        }

        .topic-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .topic-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .topic-card.animal .topic-title {
            color: var(--primary-blue);
        }

        .topic-card.plant .topic-title {
            color: var(--accent-green);
        }

        .topic-card.extreme .topic-title {
            color: var(--accent-orange);
        }

        .topic-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .topic-examples {
            text-align: left;
            font-size: 0.85rem;
            color: var(--text-muted);
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            padding: 10px;
            border-radius: 8px;
        }

        .topic-examples div {
            margin: 5px 0;
            padding-left: 10px;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(33, 150, 243, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 25px;
            border: 1px solid var(--primary-blue);
        }

        .topic-icon-small {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-blue);
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-blue);
            color: white;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);
        }

        .btn-primary:hover {
            background: #1976D2;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.5);
        }

        .btn-animal {
            background: var(--primary-blue);
            color: white;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);
        }

        .btn-animal:hover {
            background: #1976D2;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.5);
        }

        .btn-plant {
            background: var(--accent-green);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-plant:hover {
            background: #388E3C;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
        }

        .btn-extreme {
            background: var(--accent-orange);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.4);
        }

        .btn-extreme:hover {
            background: #F57C00;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 152, 0, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-teal);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 150, 136, 0.4);
        }

        .btn-secondary:hover {
            background: #00796B;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 150, 136, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-blue);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Mode */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(33, 150, 243, 0.5);
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .science-fact {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-orange);
            font-style: italic;
            color: var(--text-secondary);
        }

        /* Content Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .question-side {
            display: flex;
            flex-direction: column;
        }

        .visualization-side {
            display: flex;
            flex-direction: column;
        }

        .concept-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .concept-box {
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .concept-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .concept-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 5px;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-blue);
            background: rgba(33, 150, 243, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(33, 150, 243, 0.1);
            border-color: var(--primary-blue);
            color: var(--primary-blue);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: var(--accent-red);
            color: var(--accent-red);
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-card);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            background: var(--secondary-teal);
        }

        .option.correct .option-letter {
            background: var(--primary-blue);
            color: white;
        }

        .option.incorrect .option-letter {
            background: var(--accent-red);
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(33, 150, 243, 0.1);
            border-left: 5px solid var(--primary-blue);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid var(--accent-red);
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-blue);
        }

        .feedback-incorrect .feedback-icon {
            background: var(--accent-red);
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-blue);
        }

        .feedback-incorrect .feedback-title {
            color: var(--accent-red);
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Visualization Components */
        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            height: 100%;
            border: 1px solid var(--dark-border);
            overflow: auto;
        }

        /* Animal Adaptations Display */
        .adaptation-diagram {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid var(--accent-blue);
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .diagram-title {
            color: var(--primary-blue);
            margin-bottom: 15px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .adaptation-part {
            position: relative;
            margin: 10px 0;
            padding: 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .adaptation-part:hover {
            background: rgba(33, 150, 243, 0.1);
            transform: translateX(5px);
        }

        .part-label {
            font-weight: bold;
            color: var(--primary-blue);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .part-function {
            font-size: 0.95rem;
            color: var(--text-secondary);
            padding-left: 30px;
        }

        /* Adaptations Comparison */
        .adaptations-comparison {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .adaptations-comparison {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .adaptations-comparison {
                grid-template-columns: 1fr;
            }
        }

        .adaptation-card {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: transform 0.3s ease;
        }

        .adaptation-card:hover {
            transform: translateY(-5px);
        }

        .adaptation-card.physical {
            border-color: var(--primary-blue);
        }

        .adaptation-card.behavioral {
            border-color: var(--accent-orange);
        }

        .adaptation-card.physiological {
            border-color: var(--accent-purple);
        }

        .adaptation-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            text-align: center;
        }

        .adaptation-name {
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .adaptation-card.physical .adaptation-name {
            color: var(--primary-blue);
        }

        .adaptation-card.behavioral .adaptation-name {
            color: var(--accent-orange);
        }

        .adaptation-card.physiological .adaptation-name {
            color: var(--accent-purple);
        }

        .adaptation-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-align: center;
            line-height: 1.4;
        }

        /* Process Display */
        .process-display {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--accent-teal);
        }

        .process-title {
            color: var(--secondary-teal);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .process-steps {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .process-step {
            background: rgba(0, 150, 136, 0.1);
            padding: 15px;
            border-radius: 6px;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .step-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--secondary-teal);
            border-radius: 50%;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-weight: bold;
            color: var(--secondary-teal);
            margin-bottom: 5px;
        }

        .step-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Habitat Display */
        .habitat-display {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .habitat-display {
                grid-template-columns: 1fr;
            }
        }

        .habitat-item {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .habitat-icon {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--accent-green);
        }

        .habitat-title {
            font-weight: bold;
            color: var(--accent-green);
            margin-bottom: 8px;
        }

        .habitat-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Extreme Environment Display */
        .extreme-display {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--accent-orange);
        }

        .extreme-title {
            color: var(--accent-orange);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .extreme-examples {
            background: rgba(255, 152, 0, 0.1);
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            text-align: center;
        }

        .example-item {
            padding: 5px 10px;
            border-radius: 4px;
            margin: 5px;
            display: inline-block;
        }

        .desert {
            background: rgba(121, 85, 72, 0.2);
            color: var(--accent-brown);
        }

        .arctic {
            background: rgba(33, 150, 243, 0.2);
            color: var(--primary-blue);
        }

        .ocean {
            background: rgba(0, 150, 136, 0.2);
            color: var(--secondary-teal);
        }

        /* Examples Table */
        .examples-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--dark-card);
            border-radius: 8px;
            overflow: hidden;
        }

        .examples-table th {
            background: var(--dark-surface);
            padding: 12px;
            text-align: left;
            color: var(--primary-blue);
            border-bottom: 2px solid var(--primary-blue);
        }

        .examples-table td {
            padding: 10px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
        }

        .examples-table tr:hover {
            background: rgba(33, 150, 243, 0.05);
        }

        /* Science Challenge */
        .science-challenge {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .challenge-title {
            color: var(--accent-red);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .challenge-area {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .challenge-scenario {
            font-style: italic;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .challenge-question {
            font-weight: bold;
            color: var(--accent-orange);
            margin-bottom: 15px;
        }

        .challenge-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        @media (max-width: 768px) {
            .challenge-options {
                grid-template-columns: 1fr;
            }
        }

        .challenge-option {
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .challenge-option:hover {
            background: rgba(255, 152, 0, 0.1);
            transform: translateY(-2px);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .concept-box {
                min-width: 140px;
                font-size: 1.5rem;
                padding: 15px 20px;
            }
            
            .adaptations-comparison {
                grid-template-columns: 1fr;
            }
            
            .habitat-display {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes grow {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .grow {
            animation: grow 0.5s ease forwards;
        }
        
        @keyframes camouflage {
            0% { background-color: rgba(33, 150, 243, 0.1); }
            50% { background-color: rgba(121, 85, 72, 0.3); }
            100% { background-color: rgba(76, 175, 80, 0.2); }
        }
        
        .camouflage-anim {
            animation: camouflage 2s ease-in-out infinite;
        }
        
        @keyframes animalMove {
            0% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            100% { transform: translateX(-10px); }
        }
        
        .animal-move {
            animation: animalMove 3s ease-in-out infinite;
        }
        
        @keyframes swim {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .swim {
            animation: swim 2s ease-in-out infinite;
        }
        
        @keyframes fly {
            0% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-5px) rotate(5deg); }
            75% { transform: translateY(-5px) rotate(-5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }
        
        .fly {
            animation: fly 1s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <!-- Background Slideshow -->
    <div class="slideshow" id="slideshow">
        <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1470115636492-6d2b56f9146d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1550684848-fac1c5b4e853?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 5 Science: Adaptations of Living Things</h1>
            <p class="welcome-subtitle">Discover how animals and plants survive in different environments! Learn about physical, behavioral, and physiological adaptations that help living things thrive in deserts, oceans, forests, and extreme habitats.</p>
            
            <div class="topic-selection" id="topicSelection">
                <!-- Animal Adaptations Card -->
                <div class="topic-card animal" id="animalCard">
                    <div class="topic-icon">ü¶Åüîç</div>
                    <div class="topic-title">Animal Adaptations</div>
                    <div class="topic-description">Explore how animals are perfectly designed for their habitats. Learn about camouflage, mimicry, body coverings, and special features that help animals survive.</div>
                    <div class="topic-examples">
                        <div><strong>Camouflage:</strong> Blending with environment</div>
                        <div><strong>Mimicry:</strong> Looking like another animal</div>
                        <div><strong>Body Coverings:</strong> Fur, feathers, scales</div>
                    </div>
                </div>
                
                <!-- Plant Adaptations Card -->
                <div class="topic-card plant" id="plantCard">
                    <div class="topic-icon">üåµ‚öôÔ∏è</div>
                    <div class="topic-title">Plant Adaptations</div>
                    <div class="topic-description">Discover how plants survive in different environments. Learn about leaf adaptations, root systems, water storage, and defense mechanisms.</div>
                    <div class="topic-examples">
                        <div><strong>Desert Plants:</strong> Thick stems, small leaves</div>
                        <div><strong>Water Plants:</strong> Air spaces, floating leaves</div>
                        <div><strong>Forest Plants:</strong> Large leaves, climbing vines</div>
                    </div>
                </div>
                
                <!-- Extreme Adaptations Card -->
                <div class="topic-card extreme" id="extremeCard">
                    <div class="topic-icon">‚ùÑÔ∏èüî•</div>
                    <div class="topic-title">Extreme Environment Adaptations</div>
                    <div class="topic-description">Explore amazing adaptations for survival in extreme conditions. Learn about Arctic animals, deep sea creatures, desert survivors, and high-altitude life.</div>
                    <div class="topic-examples">
                        <div><strong>Arctic:</strong> Thick fur, blubber layers</div>
                        <div><strong>Deep Sea:</strong> Bioluminescence, pressure adaptations</div>
                        <div><strong>Desert:</strong> Nocturnal behavior, water conservation</div>
                    </div>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-animal" id="startAnimal">
                    <span>Start Animal Adaptations Challenge</span>
                </button>
                <button class="btn btn-plant" id="startPlant">
                    <span>Start Plant Adaptations Challenge</span>
                </button>
                <button class="btn btn-extreme" id="startExtreme">
                    <span>Start Extreme Adaptations Challenge</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 45</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 2%"></div>
                </div>
            </div>

            <div class="question-container">
                <!-- Science fact display -->
                <div id="scienceFact"></div>
                
                <!-- Concept display area -->
                <div id="conceptDisplay"></div>
                
                <!-- Content Wrapper: Questions on left, Visualizations on right -->
                <div class="content-wrapper" id="contentWrapper">
                    <!-- Left side: Question and Options -->
                    <div class="question-side">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                    </div>
                    
                    <!-- Right side: Visualizations -->
                    <div class="visualization-side">
                        <div class="visualization-container" id="visualizationContainer">
                            <!-- All visualizations will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                    <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Adaptations Science Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Try Again</button>
                <button class="btn btn-secondary" id="viewTopics">Explore Other Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize slideshow
        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 5000);
        }

        // Animal Adaptations Questions (45 questions)
        const animalAdaptationsQuestions = [
            // Basic Animal Adaptations (1-15)
            {
                type: "basic_adaptations",
                question: "What is an adaptation?",
                options: ["A trait that helps an organism survive", "A change in weather", "A type of animal behavior", "A plant's root system"],
                answer: "A",
                explanation: "Adaptations are special traits that help organisms survive and reproduce in their environment."
            },
            {
                type: "basic_adaptations",
                question: "Which adaptation helps Arctic animals stay warm?",
                options: ["Thick fur and blubber", "Large ears", "Bright colors", "Webbed feet"],
                answer: "A",
                explanation: "Thick fur and blubber (fat) provide insulation against cold temperatures."
            },
            {
                type: "basic_adaptations",
                question: "What adaptation helps birds fly?",
                options: ["Lightweight bones and wings", "Sharp claws", "Thick fur", "Webbed feet"],
                answer: "A",
                explanation: "Hollow bones reduce weight, and wings provide lift for flight."
            },
            {
                type: "basic_adaptations",
                question: "Why do some animals have camouflage?",
                options: ["To hide from predators or prey", "To attract mates", "To stay warm", "To communicate"],
                answer: "A",
                explanation: "Camouflage helps animals blend into their environment to avoid detection."
            },
            {
                type: "basic_adaptations",
                question: "What is mimicry in animals?",
                options: ["Looking like another animal for protection", "Changing colors with seasons", "Making sounds to communicate", "Storing food for winter"],
                answer: "A",
                explanation: "Mimicry is when one animal looks like another more dangerous animal to avoid predators."
            },
            {
                type: "basic_adaptations",
                question: "Which adaptation helps fish swim?",
                options: ["Streamlined body and fins", "Wings", "Legs", "Antennae"],
                answer: "A",
                explanation: "Streamlined bodies reduce water resistance, and fins provide control and propulsion."
            },
            {
                type: "basic_adaptations",
                question: "Why do desert animals often have large ears?",
                options: ["To release body heat", "To hear better", "To attract mates", "To store water"],
                answer: "A",
                explanation: "Large ears have more blood vessels near the surface, helping release excess heat."
            },
            {
                type: "basic_adaptations",
                question: "What adaptation helps climbing animals?",
                options: ["Sharp claws and strong limbs", "Webbed feet", "Thick fur", "Large wings"],
                answer: "A",
                explanation: "Sharp claws grip surfaces, and strong limbs provide climbing power."
            },
            {
                type: "basic_adaptations",
                question: "Why do some animals hibernate?",
                options: ["To survive when food is scarce", "To avoid predators", "To find mates", "To migrate"],
                answer: "A",
                explanation: "Hibernation conserves energy during winter when food is unavailable."
            },
            {
                type: "basic_adaptations",
                question: "What adaptation helps animals see at night?",
                options: ["Large eyes that gather more light", "Small eyes", "Colorful eyes", "Eyes that glow"],
                answer: "A",
                explanation: "Larger eyes have more light-sensitive cells for better night vision."

            // Defense Adaptations (16-25)
            },
            {
                type: "defense_adaptations",
                question: "What is a porcupine's main defense adaptation?",
                options: ["Sharp quills", "Poisonous skin", "Loud noises", "Fast running"],
                answer: "A",
                explanation: "Porcupines have sharp quills that detach and stick in predators."
            },
            {
                type: "defense_adaptations",
                question: "How do skunks defend themselves?",
                options: ["Spraying foul-smelling liquid", "Playing dead", "Changing colors", "Hiding underground"],
                answer: "A",
                explanation: "Skunks spray a strong-smelling liquid to deter predators."
            },
            {
                type: "defense_adaptations",
                question: "What adaptation helps turtles defend themselves?",
                options: ["Hard shell", "Sharp teeth", "Poisonous bite", "Camouflage"],
                answer: "A",
                explanation: "Turtles retreat into their hard shells for protection."
            },
            {
                type: "defense_adaptations",
                question: "How do some insects use mimicry for defense?",
                options: ["Looking like dangerous insects", "Making loud sounds", "Spraying chemicals", "Burying themselves"],
                answer: "A",
                explanation: "Harmless insects often mimic the appearance of dangerous ones to avoid being eaten."
            },
            {
                type: "defense_adaptations",
                question: "What adaptation helps octopuses escape predators?",
                options: ["Ink cloud and color changing", "Sharp spines", "Loud noises", "Playing dead"],
                answer: "A",
                explanation: "Octopuses release ink clouds and change color to confuse predators."

            // Feeding Adaptations (26-35)
            },
            {
                type: "feeding_adaptations",
                question: "What adaptation helps carnivores catch prey?",
                options: ["Sharp teeth and claws", "Flat teeth", "Long necks", "Webbed feet"],
                answer: "A",
                explanation: "Sharp teeth tear meat, and sharp claws help catch and hold prey."
            },
            {
                type: "feeding_adaptations",
                question: "What adaptation helps herbivores eat plants?",
                options: ["Flat teeth for grinding", "Sharp teeth", "Long claws", "Strong jaws"],
                answer: "A",
                explanation: "Flat molars grind tough plant material for easier digestion."
            },
            {
                type: "feeding_adaptations",
                question: "What adaptation helps hummingbirds drink nectar?",
                options: ["Long, thin beaks", "Short, thick beaks", "Webbed feet", "Sharp claws"],
                answer: "A",
                explanation: "Long beaks reach deep into flowers to access nectar."
            },
            {
                type: "feeding_adaptations",
                question: "What adaptation helps anteaters eat ants?",
                options: ["Long, sticky tongue", "Sharp teeth", "Strong claws", "Webbed feet"],
                answer: "A",
                explanation: "Long sticky tongues reach into ant nests to collect insects."
            },
            {
                type: "feeding_adaptations",
                question: "What adaptation helps pelicans catch fish?",
                options: ["Pouch under beak", "Sharp teeth", "Webbed feet", "Strong wings"],
                answer: "A",
                explanation: "The expandable pouch scoops up fish from the water."

            // Movement Adaptations (36-45)
            },
            {
                type: "movement_adaptations",
                question: "What adaptation helps kangaroos move efficiently?",
                options: ["Powerful hind legs", "Webbed feet", "Wings", "Fins"],
                answer: "A",
                explanation: "Strong hind legs allow kangaroos to hop long distances using less energy."
            },
            {
                type: "movement_adaptations",
                question: "What adaptation helps ducks swim?",
                options: ["Webbed feet", "Sharp claws", "Wings", "Long legs"],
                answer: "A",
                explanation: "Webbed feet act like paddles for efficient swimming."
            },
            {
                type: "movement_adaptations",
                question: "What adaptation helps monkeys swing through trees?",
                options: ["Long arms and prehensile tail", "Wings", "Fins", "Webbed feet"],
                answer: "A",
                explanation: "Long arms reach branches, and prehensile tails grip like an extra hand."
            },
            {
                type: "movement_adaptations",
                question: "What adaptation helps cheetahs run fast?",
                options: ["Long legs and flexible spine", "Wings", "Fins", "Webbed feet"],
                answer: "A",
                explanation: "Long legs provide stride length, and flexible spine allows for greater extension."
            },
            {
                type: "movement_adaptations",
                question: "What adaptation helps snakes move without legs?",
                options: ["Muscular body and scales", "Wings", "Fins", "Webbed feet"],
                answer: "A",
                explanation: "Muscles contract in waves, and scales grip surfaces for movement."
            }
        ];

        // Plant Adaptations Questions (45 questions)
        const plantAdaptationsQuestions = [
            // Basic Plant Adaptations (1-15)
            {
                type: "basic_plant_adaptations",
                question: "What adaptation helps desert plants conserve water?",
                options: ["Thick stems and waxy coating", "Large leaves", "Deep roots only", "Bright flowers"],
                answer: "A",
                explanation: "Thick stems store water, and waxy coating reduces water loss."
            },
            {
                type: "basic_plant_adaptations",
                question: "Why do some plants have thorns or spines?",
                options: ["To protect from animals", "To attract pollinators", "To store water", "To absorb sunlight"],
                answer: "A",
                explanation: "Thorns and spines deter animals from eating the plants."
            },
            {
                type: "basic_plant_adaptations",
                question: "What adaptation helps water plants float?",
                options: ["Air spaces in stems", "Thick bark", "Deep roots", "Small leaves"],
                answer: "A",
                explanation: "Air spaces provide buoyancy to keep plants floating."
            },
            {
                type: "basic_plant_adaptations",
                question: "Why do forest floor plants have large leaves?",
                options: ["To capture limited sunlight", "To store water", "To attract pollinators", "To repel insects"],
                answer: "A",
                explanation: "Large leaves maximize sunlight capture in shady forest conditions."
            },
            {
                type: "basic_plant_adaptations",
                question: "What adaptation helps climbing plants reach sunlight?",
                options: ["Tendrils or clinging roots", "Deep taproots", "Thick bark", "Bright flowers"],
                answer: "A",
                explanation: "Tendrils wrap around supports, helping plants climb toward light."
            },
            {
                type: "basic_plant_adaptations",
                question: "Why do some plants have very deep roots?",
                options: ["To reach water deep underground", "To store food", "To attract animals", "To absorb more sunlight"],
                answer: "A",
                explanation: "Deep roots access water sources far below the surface in dry areas."
            },
            {
                type: "basic_plant_adaptations",
                question: "What adaptation helps plants in windy areas?",
                options: ["Flexible stems", "Thick bark", "Bright flowers", "Large leaves"],
                answer: "A",
                explanation: "Flexible stems bend without breaking in strong winds."
            },
            {
                type: "basic_plant_adaptations",
                question: "Why do alpine plants grow close to the ground?",
                options: ["To avoid wind and cold", "To attract pollinators", "To store water", "To get more sunlight"],
                answer: "A",
                explanation: "Low growth protects from freezing winds and conserves heat."
            },
            {
                type: "basic_plant_adaptations",
                question: "What adaptation helps carnivorous plants get nutrients?",
                options: ["Traps to catch insects", "Deep roots", "Large leaves", "Bright flowers"],
                answer: "A",
                explanation: "Specialized traps capture insects for nutrients in poor soil."
            },
            {
                type: "basic_plant_adaptations",
                question: "Why do some plants drop their leaves in winter?",
                options: ["To conserve water and energy", "To attract animals", "To get more sunlight", "To store food"],
                answer: "A",
                explanation: "Dropping leaves reduces water loss during freezing conditions."

            // Leaf Adaptations (16-25)
            },
            {
                type: "leaf_adaptations",
                question: "Why do cacti have spines instead of leaves?",
                options: ["To reduce water loss", "To attract pollinators", "To store water", "To absorb sunlight"],
                answer: "A",
                explanation: "Spines have less surface area than leaves, reducing water loss through transpiration."
            },
            {
                type: "leaf_adaptations",
                question: "What adaptation helps water lily leaves float?",
                options: ["Waxy coating and air pockets", "Thick stems", "Deep roots", "Small size"],
                answer: "A",
                explanation: "Waxy coating repels water, and air pockets provide buoyancy."
            },
            {
                type: "leaf_adaptations",
                question: "Why do pine trees have needle-like leaves?",
                options: ["To reduce water loss in cold/windy areas", "To attract animals", "To store food", "To absorb more sunlight"],
                answer: "A",
                explanation: "Needles have small surface area, reducing water loss in harsh conditions."
            },
            {
                type: "leaf_adaptations",
                question: "What is special about succulent leaves?",
                options: ["They store water", "They trap insects", "They change color", "They produce poison"],
                answer: "A",
                explanation: "Succulent leaves are thick and fleshy to store water for dry periods."
            },
            {
                type: "leaf_adaptations",
                question: "Why do some tropical plants have drip tips on leaves?",
                options: ["To shed excess rainwater", "To attract pollinators", "To store water", "To absorb nutrients"],
                answer: "A",
                explanation: "Drip tips allow rainwater to run off quickly, preventing fungal growth."

            // Root Adaptations (26-35)
            },
            {
                type: "root_adaptations",
                question: "What is special about mangrove roots?",
                options: ["They grow above water for oxygen", "They store food", "They attract fish", "They change color"],
                answer: "A",
                explanation: "Mangroves have aerial roots that absorb oxygen in waterlogged soil."
            },
            {
                type: "root_adaptations",
                question: "Why do some desert plants have shallow but widespread roots?",
                options: ["To quickly absorb rainwater", "To store food", "To attract animals", "To get more sunlight"],
                answer: "A",
                explanation: "Shallow roots spread wide to capture scarce rainwater before it evaporates."
            },
            {
                type: "root_adaptations",
                question: "What adaptation helps plants in rocky soil?",
                options: ["Roots that can grow through cracks", "Deep taproots", "Aerial roots", "Buttress roots"],
                answer: "A",
                explanation: "Strong roots can penetrate cracks in rocks to find soil and moisture."
            },
            {
                type: "root_adaptations",
                question: "Why do some trees have buttress roots?",
                options: ["To support tall growth in shallow soil", "To store water", "To attract animals", "To absorb nutrients"],
                answer: "A",
                explanation: "Buttress roots provide extra support in tropical areas with shallow soil."
            },
            {
                type: "root_adaptations",
                question: "What adaptation helps parasitic plants?",
                options: ["Roots that penetrate other plants", "Deep taproots", "Aerial roots", "Buttress roots"],
                answer: "A",
                explanation: "Haustoria (special roots) penetrate host plants to steal water and nutrients."

            // Reproduction Adaptations (36-45)
            },
            {
                type: "reproduction_adaptations",
                question: "Why do some plants have brightly colored flowers?",
                options: ["To attract pollinators", "To store water", "To repel insects", "To absorb sunlight"],
                answer: "A",
                explanation: "Bright colors attract insects and birds that help with pollination."
            },
            {
                type: "reproduction_adaptations",
                question: "What adaptation helps dandelion seeds spread?",
                options: ["Parachute-like structures", "Bright colors", "Sweet scent", "Large size"],
                answer: "A",
                explanation: "Parachute-like structures catch wind, carrying seeds far from parent plant."
            },
            {
                type: "reproduction_adaptations",
                question: "Why do some fruits taste sweet?",
                options: ["To attract animals to eat and disperse seeds", "To store water", "To repel insects", "To absorb nutrients"],
                answer: "A",
                explanation: "Sweet fruits encourage animals to eat them and later deposit seeds elsewhere."
            },
            {
                type: "reproduction_adaptations",
                question: "What adaptation helps plants in fire-prone areas?",
                options: ["Seeds that need fire to germinate", "Bright flowers", "Deep roots", "Thick bark"],
                answer: "A",
                explanation: "Some seeds only germinate after fire clears competition and provides nutrients."
            },
            {
                type: "reproduction_adaptations",
                question: "Why do some plants produce many small seeds?",
                options: ["To increase chances of some surviving", "To attract pollinators", "To store food", "To repel animals"],
                answer: "A",
                explanation: "Producing many seeds increases the likelihood that some will find suitable growing conditions."
            }
        ];

        // Extreme Environment Adaptations Questions (45 questions)
        const extremeAdaptationsQuestions = [
            // Desert Adaptations (1-15)
            {
                type: "desert_adaptations",
                question: "How do desert animals conserve water?",
                options: ["Producing concentrated urine", "Drinking seawater", "Storing water in humps", "Sweating a lot"],
                answer: "A",
                explanation: "Concentrated urine contains less water, reducing water loss from the body."
            },
            {
                type: "desert_adaptations",
                question: "Why are many desert animals nocturnal?",
                options: ["To avoid daytime heat", "To find more food", "To avoid predators", "To conserve energy"],
                answer: "A",
                explanation: "Being active at night helps avoid extreme daytime temperatures."
            },
            {
                type: "desert_adaptations",
                question: "What adaptation helps camels survive long periods without water?",
                options: ["Storing fat in humps", "Storing water in humps", "Not sweating", "Drinking salt water"],
                answer: "A",
                explanation: "Fat in humps can be converted to water and energy when needed."
            },
            {
                type: "desert_adaptations",
                question: "How do desert plants reduce water loss?",
                options: ["Small or no leaves", "Large leaves", "Bright flowers", "Deep roots only"],
                answer: "A",
                explanation: "Reduced leaf surface area minimizes water loss through transpiration."
            },
            {
                type: "desert_adaptations",
                question: "What adaptation helps desert animals stay cool?",
                options: ["Burrowing underground", "Light-colored fur", "Large ears", "All of the above"],
                answer: "D",
                explanation: "All these adaptations help desert animals regulate body temperature."

            // Arctic/Antarctic Adaptations (16-25)
            },
            {
                type: "arctic_adaptations",
                question: "What adaptation helps polar bears stay warm?",
                options: ["Thick fur and blubber", "Large ears", "Thin skin", "Light color"],
                answer: "A",
                explanation: "Two layers of fur and thick blubber provide excellent insulation."
            },
            {
                type: "arctic_adaptations",
                question: "Why are Arctic animals often white?",
                options: ["Camouflage in snow", "To reflect sunlight", "To attract mates", "To stay cool"],
                answer: "A",
                explanation: "White coloration provides camouflage against snow and ice."
            },
            {
                type: "arctic_adaptations",
                question: "What adaptation helps penguins survive extreme cold?",
                options: ["Dense feathers and fat layer", "Large wings", "Webbed feet", "Sharp beak"],
                answer: "A",
                explanation: "Overlapping feathers trap air for insulation, and fat provides additional warmth."
            },
            {
                type: "arctic_adaptations",
                question: "How do Arctic foxes survive winter?",
                options: ["Thick winter fur and food caching", "Migrating south", "Hibernating", "Changing color"],
                answer: "A",
                explanation: "Dense winter fur provides warmth, and cached food sustains them through scarcity."
            },
            {
                type: "arctic_adaptations",
                question: "What adaptation helps reindeer find food under snow?",
                options: ["Strong sense of smell", "Sharp claws", "Large antlers", "Webbed feet"],
                answer: "A",
                explanation: "Excellent sense of smell detects lichens and plants buried under deep snow."

            // Ocean Deep Adaptations (26-35)
            },
            {
                type: "deep_sea_adaptations",
                question: "What adaptation helps deep-sea fish withstand pressure?",
                options: ["Flexible bodies and no swim bladder", "Thick scales", "Large size", "Bright colors"],
                answer: "A",
                explanation: "Flexible bodies and lack of air spaces prevent crushing under extreme pressure."
            },
            {
                type: "deep_sea_adaptations",
                question: "Why do many deep-sea creatures produce light?",
                options: ["To attract prey or mates", "To see in darkness", "To communicate", "All of the above"],
                answer: "D",
                explanation: "Bioluminescence serves multiple purposes in the dark ocean depths."
            },
            {
                type: "deep_sea_adaptations",
                question: "What adaptation helps deep-sea animals find food?",
                options: ["Enhanced senses like smell and vibration detection", "Large eyes", "Sharp teeth", "Fast swimming"],
                answer: "A",
                explanation: "In complete darkness, other senses compensate for limited vision."
            },
            {
                type: "deep_sea_adaptations",
                question: "How do deep-sea creatures conserve energy?",
                options: ["Slow metabolism and movement", "Hibernation", "Migrating to surface", "Eating constantly"],
                answer: "A",
                explanation: "Slow lifestyles conserve energy in food-scarce environments."
            },
            {
                type: "deep_sea_adaptations",
                question: "What adaptation helps anglerfish catch prey?",
                options: ["Bioluminescent lure", "Sharp teeth", "Large mouth", "Camouflage"],
                answer: "A",
                explanation: "The glowing lure attracts prey in the dark depths."

            // High Altitude Adaptations (36-45)
            },
            {
                type: "altitude_adaptations",
                question: "What adaptation helps mountain animals get enough oxygen?",
                options: ["Larger lungs and more red blood cells", "Slower breathing", "Smaller size", "Thicker fur"],
                answer: "A",
                explanation: "Enhanced oxygen-carrying capacity compensates for thin air."
            },
            {
                type: "altitude_adaptations",
                question: "Why do mountain goats have special hooves?",
                options: ["Rubbery pads for grip on rocks", "Sharp edges for digging", "Webbed for swimming", "Large for walking on snow"],
                answer: "A",
                explanation: "Rubbery hoof pads provide traction on steep, rocky terrain."
            },
            {
                type: "altitude_adaptations",
                question: "What adaptation helps alpine plants survive cold winds?",
                options: ["Low, cushion-like growth", "Tall stems", "Large leaves", "Bright flowers"],
                answer: "A",
                explanation: "Compact growth reduces exposure to freezing winds."
            },
            {
                type: "altitude_adaptations",
                question: "How do some high-altitude animals stay warm?",
                options: ["Thick, dense fur", "Migrating lower", "Hibernating", "Building shelters"],
                answer: "A",
                explanation: "Exceptionally thick fur provides insulation against cold temperatures."
            },
            {
                type: "altitude_adaptations",
                question: "What adaptation helps yaks survive mountain conditions?",
                options: ["Thick coat and ability to find sparse vegetation", "Large ears", "Webbed feet", "Bright colors"],
                answer: "A",
                explanation: "Dense hair provides warmth, and efficient digestion extracts nutrients from poor vegetation."
            }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            currentQuestions: [],
            studentName: "",
            topicType: "" // "animal", "plant", or "extreme"
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent adaptation knowledge!",
            "Fantastic understanding of survival strategies!",
            "Great job! You're an adaptations expert!",
            "Amazing! Perfect adaptation answers!",
            "Well done! You understand survival perfectly!",
            "You're an adaptation science champion!",
            "Perfect! You think like a biologist!",
            "Outstanding adaptation understanding!",
            "Brilliant! You know how life survives!",
            "You're on fire! Great adaptation knowledge!"
        ];

        // Science facts for display
        const scienceFacts = [
            "The Arctic tern migrates 44,000 miles yearly - the longest migration of any animal!",
            "Some bacteria survive in boiling hot springs at temperatures over 200¬∞F!",
            "The tardigrade (water bear) can survive in space, extreme heat, and freezing cold!",
            "Cactus roots can spread over 50 feet wide to catch every drop of rain!",
            "The bar-headed goose flies over the Himalayas at 29,000 feet where oxygen is scarce!",
            "Some deep-sea fish can survive pressure 1,000 times greater than sea level!",
            "The Saharan silver ant can withstand temperatures of 140¬∞F while foraging!",
            "Mudskippers are fish that can walk on land and breathe through their skin!"
        ];

        // Sample adaptation data for visualizations
        const adaptationData = {
            types: [
                {name: "Physical", icon: "ü¶¥", color: "var(--primary-blue)", description: "Body structures and features"},
                {name: "Behavioral", icon: "üèÉ", color: "var(--accent-orange)", description: "Actions and behaviors"},
                {name: "Physiological", icon: "üíì", color: "var(--accent-purple)", description: "Internal body processes"}
            ],
            habitats: [
                {name: "Desert", icon: "üèúÔ∏è", color: "var(--accent-brown)", description: "Hot, dry environments"},
                {name: "Arctic", icon: "‚ùÑÔ∏è", color: "var(--accent-blue)", description: "Freezing cold environments"},
                {name: "Ocean", icon: "üåä", color: "var(--secondary-teal)", description: "Aquatic environments"},
                {name: "Forest", icon: "üå≥", color: "var(--accent-green)", description: "Woodland environments"}
            ],
            animalExamples: [
                {animal: "Camel", adaptation: "Hump stores fat, not water", habitat: "Desert"},
                {animal: "Polar Bear", adaptation: "Thick fur and blubber", habitat: "Arctic"},
                {animal: "Fish", adaptation: "Gills for breathing underwater", habitat: "Ocean"},
                {animal: "Chameleon", adaptation: "Color-changing skin", habitat: "Forest"},
                {animal: "Kangaroo Rat", adaptation: "Never drinks water", habitat: "Desert"},
                {animal: "Penguin", adaptation: "Counter-current heat exchange", habitat: "Antarctic"}
            ]
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startAnimalBtn = document.getElementById('startAnimal');
        const startPlantBtn = document.getElementById('startPlant');
        const startExtremeBtn = document.getElementById('startExtreme');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const scienceFact = document.getElementById('scienceFact');
        const conceptDisplay = document.getElementById('conceptDisplay');
        const visualizationContainer = document.getElementById('visualizationContainer');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const highestScore = document.getElementById('highestScore');
        
        // Topic cards
        const animalCard = document.getElementById('animalCard');
        const plantCard = document.getElementById('plantCard');
        const extremeCard = document.getElementById('extremeCard');

        // Initialize the app
        function initApp() {
            initSlideshow();
            loadStateFromStorage();
            setupEventListeners();
            
            if (appState.studentName && appState.currentQuestions.length > 0) {
                showPracticePage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade5Adaptations');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
                appState.score = parsed.score || 0;
                appState.skipped = parsed.skipped || 0;
                appState.answered = parsed.answered || 0;
                appState.currentQuestions = parsed.currentQuestions || [];
                appState.topicType = parsed.topicType || "";
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade5Adaptations', JSON.stringify(appState));
        }

        // Initialize questions based on topic type
        function initializeQuestions(topicType) {
            appState.topicType = topicType;
            
            switch(topicType) {
                case "animal":
                    appState.currentQuestions = [...animalAdaptationsQuestions];
                    break;
                case "plant":
                    appState.currentQuestions = [...plantAdaptationsQuestions];
                    break;
                case "extreme":
                    appState.currentQuestions = [...extremeAdaptationsQuestions];
                    break;
            }
            
            shuffleArray(appState.currentQuestions);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Setup event listeners
        function setupEventListeners() {
            startAnimalBtn.addEventListener('click', () => startPractice("animal"));
            startPlantBtn.addEventListener('click', () => startPractice("plant"));
            startExtremeBtn.addEventListener('click', () => startPractice("extreme"));
            
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            viewTopicsBtn.addEventListener('click', backToTopics);
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startPractice("animal");
                }
            });
            
            // Add click events to topic cards
            animalCard.addEventListener('click', () => {
                clearActiveCards();
                animalCard.classList.add('active');
                startAnimalBtn.classList.add('btn-animal');
            });
            
            plantCard.addEventListener('click', () => {
                clearActiveCards();
                plantCard.classList.add('active');
                startPlantBtn.classList.add('btn-plant');
            });
            
            extremeCard.addEventListener('click', () => {
                clearActiveCards();
                extremeCard.classList.add('active');
                startExtremeBtn.classList.add('btn-extreme');
            });
        }
        
        function clearActiveCards() {
            animalCard.classList.remove('active');
            plantCard.classList.remove('active');
            extremeCard.classList.remove('active');
            startAnimalBtn.classList.remove('btn-animal');
            startPlantBtn.classList.remove('btn-plant');
            startExtremeBtn.classList.remove('btn-extreme');
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            
            // Set progress bar color based on topic type
            switch(appState.topicType) {
                case "animal":
                    progressFill.style.background = "linear-gradient(to right, var(--primary-blue), #1976D2)";
                    break;
                case "plant":
                    progressFill.style.background = "linear-gradient(to right, var(--accent-green), #388E3C)";
                    break;
                case "extreme":
                    progressFill.style.background = "linear-gradient(to right, var(--accent-orange), #F57C00)";
                    break;
                default:
                    progressFill.style.background = "linear-gradient(to right, var(--primary-blue), var(--secondary-teal))";
            }
            
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const totalQuestions = appState.currentQuestions.length;
            const percentage = Math.round((appState.score / totalQuestions) * 100);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            
            const highest = localStorage.getItem(`ideolixGrade5Adaptations_${appState.topicType}_highestScore`) || 0;
            highestScore.textContent = Math.max(highest, appState.score);
            
            if (appState.score > highest) {
                localStorage.setItem(`ideolixGrade5Adaptations_${appState.topicType}_highestScore`, appState.score);
            }
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're an adaptations expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You have excellent adaptation knowledge!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! Keep learning to become a biology master!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review adaptation concepts and try again!";
            } else {
                scoreMessage.textContent = "Keep learning! Biological knowledge grows with practice!";
            }
        }

        // Create science fact display
        function createScienceFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'science-fact';
            
            factDiv.innerHTML = `<strong>Adaptation Fact:</strong> ${scienceFacts[Math.floor(Math.random() * scienceFacts.length)]}`;
            
            return factDiv;
        }

        // Create concept display based on topic type
        function createConceptDisplay() {
            const display = document.createElement('div');
            display.className = 'concept-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            let conceptName = "";
            let conceptIcon = "";
            let conceptColor = "";
            
            switch(appState.topicType) {
                case "animal":
                    conceptName = "Animal Adaptations";
                    conceptIcon = "ü¶Åüîç";
                    conceptColor = "var(--primary-blue)";
                    break;
                case "plant":
                    conceptName = "Plant Adaptations";
                    conceptIcon = "üåµ‚öôÔ∏è";
                    conceptColor = "var(--accent-green)";
                    break;
                case "extreme":
                    conceptName = "Extreme Adaptations";
                    conceptIcon = "‚ùÑÔ∏èüî•";
                    conceptColor = "var(--accent-orange)";
                    break;
            }
            
            const conceptBox = document.createElement('div');
            conceptBox.className = 'concept-box grow';
            conceptBox.style.background = `linear-gradient(135deg, ${conceptColor}, ${conceptColor}80)`;
            conceptBox.innerHTML = `
                <div class="concept-icon">${conceptIcon}</div>
                <div class="concept-text">${conceptName.toUpperCase()}</div>
            `;
            
            const label = document.createElement('div');
            label.className = 'concept-label';
            
            // Add specific label based on question type
            if (question.type.includes("basic_adaptations")) {
                label.textContent = "Basic Animal Adaptations";
            } else if (question.type.includes("defense_adaptations")) {
                label.textContent = "Defense Adaptations";
            } else if (question.type.includes("feeding_adaptations")) {
                label.textContent = "Feeding Adaptations";
            } else if (question.type.includes("movement_adaptations")) {
                label.textContent = "Movement Adaptations";
            } else if (question.type.includes("basic_plant_adaptations")) {
                label.textContent = "Basic Plant Adaptations";
            } else if (question.type.includes("leaf_adaptations")) {
                label.textContent = "Leaf Adaptations";
            } else if (question.type.includes("root_adaptations")) {
                label.textContent = "Root Adaptations";
            } else if (question.type.includes("reproduction_adaptations")) {
                label.textContent = "Reproduction Adaptations";
            } else if (question.type.includes("desert_adaptations")) {
                label.textContent = "Desert Adaptations";
            } else if (question.type.includes("arctic_adaptations")) {
                label.textContent = "Arctic Adaptations";
            } else if (question.type.includes("deep_sea_adaptations")) {
                label.textContent = "Deep Sea Adaptations";
            } else if (question.type.includes("altitude_adaptations")) {
                label.textContent = "High Altitude Adaptations";
            } else {
                label.textContent = "Adaptation Science Concepts";
            }
            
            display.appendChild(conceptBox);
            display.appendChild(label);
            
            return display;
        }

        // Create visualization based on topic type
        function createScienceVisualization() {
            const vizDiv = document.createElement('div');
            vizDiv.className = 'visualization-container';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            switch(appState.topicType) {
                case "animal":
                    vizDiv.innerHTML = createAnimalAdaptationsVisualization(question);
                    break;
                case "plant":
                    vizDiv.innerHTML = createPlantAdaptationsVisualization(question);
                    break;
                case "extreme":
                    vizDiv.innerHTML = createExtremeAdaptationsVisualization(question);
                    break;
            }
            
            return vizDiv;
        }

        // Animal adaptations visualization
        function createAnimalAdaptationsVisualization(question) {
            return `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--primary-blue);">Animal Adaptations for Survival</h3>
                
                <div class="adaptation-diagram">
                    <div class="diagram-title">Three Types of Adaptations</div>
                    <div style="text-align: center; margin: 20px 0;">
                        <div style="display: inline-block; padding: 20px; background: rgba(33, 150, 243, 0.1); border-radius: 12px; font-size: 1.2rem;">
                            ü¶¥ Physical (Body Structures)<br>
                            ‚¨á<br>
                            üèÉ Behavioral (Actions & Habits)<br>
                            ‚¨á<br>
                            üíì Physiological (Internal Processes)
                        </div>
                    </div>
                </div>
                
                <div class="adaptations-comparison">
                    ${adaptationData.types.map(type => `
                        <div class="adaptation-card ${type.name.toLowerCase()}">
                            <div class="adaptation-icon">${type.icon}</div>
                            <div class="adaptation-name">${type.name} Adaptations</div>
                            <div class="adaptation-description">${type.description}</div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="process-display">
                    <div class="process-title">How Adaptations Help Animals Survive</div>
                    <div class="process-steps">
                        <div class="process-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">Getting Food</div>
                                <div class="step-description">Specialized teeth, claws, beaks, hunting strategies</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">Avoiding Predators</div>
                                <div class="step-description">Camouflage, warning colors, defensive structures</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">Surviving Climate</div>
                                <div class="step-description">Insulation, temperature regulation, water conservation</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <div class="step-title">Finding Shelter</div>
                                <div class="step-description">Burrowing, nest building, habitat selection</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="habitat-display">
                    ${adaptationData.habitats.map(habitat => `
                        <div class="habitat-item">
                            <div class="habitat-icon">${habitat.icon}</div>
                            <div class="habitat-title">${habitat.name}</div>
                            <div class="habitat-description">${habitat.description}</div>
                        </div>
                    `).join('')}
                </div>
                
                <table class="examples-table">
                    <thead>
                        <tr>
                            <th>Animal</th>
                            <th>Adaptation</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${adaptationData.animalExamples.map(example => `
                            <tr>
                                <td style="font-weight: bold;">${example.animal}</td>
                                <td>${example.adaptation}</td>
                                <td>Survive in ${example.habitat}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
                
                <div class="science-challenge">
                    <div class="challenge-title">Quick Challenge</div>
                    <div class="challenge-area">
                        <div class="challenge-scenario">
                            A new species is discovered in a tropical rainforest. It has bright blue and yellow patterns, sticky toe pads for climbing, and produces a mild toxin in its skin.
                        </div>
                        <div class="challenge-question">Which adaptation serves as a warning to predators?</div>
                        <div class="challenge-options">
                            <div class="challenge-option">Bright blue and yellow patterns (warning coloration)</div>
                            <div class="challenge-option">Sticky toe pads (for climbing)</div>
                            <div class="challenge-option">Mild skin toxin (chemical defense)</div>
                            <div class="challenge-option">All are defensive adaptations</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Plant adaptations visualization
        function createPlantAdaptationsVisualization(question) {
            return `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-green);">Plant Adaptations for Different Environments</h3>
                
                <div class="extreme-display">
                    <div class="extreme-title">Extreme Environment Plant Survivors</div>
                    <div class="extreme-examples">
                        <span class="example-item desert">üåµ Cacti (Desert)</span>
                        <span class="example-item arctic">üå≤ Pine Trees (Cold)</span>
                        <span class="example-item ocean">üåä Seaweed (Ocean)</span>
                        <span class="example-item desert">üçÉ Venus Flytrap (Poor Soil)</span>
                    </div>
                </div>
                
                <div class="adaptations-comparison">
                    <div class="adaptation-card">
                        <div class="adaptation-icon">üíß</div>
                        <div class="adaptation-name">Water Conservation</div>
                        <div class="adaptation-description">Thick cuticles, reduced leaves, water storage</div>
                    </div>
                    <div class="adaptation-card">
                        <div class="adaptation-icon">‚òÄÔ∏è</div>
                        <div class="adaptation-name">Sunlight Capture</div>
                        <div class="adaptation-description">Large leaves, climbing vines, sun-tracking</div>
                    </div>
                    <div class="adaptation-card">
                        <div class="adaptation-icon">üõ°Ô∏è</div>
                        <div class="adaptation-name">Defense</div>
                        <div class="adaptation-description">Thorns, toxins, bitter taste, tough leaves</div>
                    </div>
                    <div class="adaptation-card">
                        <div class="adaptation-icon">üå±</div>
                        <div class="adaptation-name">Root Adaptations</div>
                        <div class="adaptation-description">Deep taproots, wide-spreading roots, aerial roots</div>
                    </div>
                    <div class="adaptation-card">
                        <div class="adaptation-icon">üå∏</div>
                        <div class="adaptation-name">Reproduction</div>
                        <div class="adaptation-description">Wind dispersal, animal attraction, fire germination</div>
                    </div>
                    <div class="adaptation-card">
                        <div class="adaptation-icon">‚ùÑÔ∏è</div>
                        <div class="adaptation-name">Cold Adaptation</div>
                        <div class="adaptation-description">Antifreeze chemicals, small size, protective hairs</div>
                    </div>
                </div>
                
                <div class="process-display">
                    <div class="process-title">Desert Plant Survival Strategies</div>
                    <div class="process-steps">
                        <div class="process-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">Water Storage</div>
                                <div class="step-description">Succulent stems and leaves store water</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">Reduced Water Loss</div>
                                <div class="step-description">Spines instead of leaves, waxy coatings</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">Efficient Roots</div>
                                <div class="step-description">Wide-spreading shallow roots catch rain</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <div class="step-title">Timing</div>
                                <div class="step-description">Quick growth after rare rains, seed dormancy</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="habitat-display">
                    <div class="habitat-item">
                        <div class="habitat-icon">üèúÔ∏è</div>
                        <div class="habitat-title">Desert Plants</div>
                        <div class="habitat-description">Cacti, succulents, deep roots, water storage</div>
                    </div>
                    <div class="habitat-item">
                        <div class="habitat-icon">üå≥</div>
                        <div class="habitat-title">Forest Plants</div>
                        <div class="habitat-description">Large leaves, climbing vines, shade tolerance</div>
                    </div>
                    <div class="habitat-item">
                        <div class="habitat-icon">üåä</div>
                        <div class="habitat-title">Water Plants</div>
                        <div class="habitat-description">Air spaces, floating leaves, flexible stems</div>
                    </div>
                    <div class="habitat-item">
                        <div class="habitat-icon">üèîÔ∏è</div>
                        <div class="habitat-title">Mountain Plants</div>
                        <div class="habitat-description">Low growth, hairy leaves, antifreeze chemicals</div>
                    </div>
                </div>
                
                <table class="examples-table">
                    <thead>
                        <tr>
                            <th>Plant</th>
                            <th>Adaptation</th>
                            <th>Environment</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="color: var(--accent-brown); font-weight: bold;">Cactus</td>
                            <td>Spines, thick stem, shallow roots</td>
                            <td>Desert</td>
                        </tr>
                        <tr>
                            <td style="color: var(--accent-green); font-weight: bold;">Water Lily</td>
                            <td>Floating leaves, air spaces</td>
                            <td>Pond/Lake</td>
                        </tr>
                        <tr>
                            <td style="color: var(--accent-orange); font-weight: bold;">Venus Flytrap</td>
                            <td>Insect-trapping leaves</td>
                            <td>Nutrient-poor soil</td>
                        </tr>
                        <tr>
                            <td style="color: var(--primary-blue); font-weight: bold;">Pine Tree</td>
                            <td>Needle leaves, thick bark</td>
                            <td>Cold/Windy areas</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="science-challenge">
                    <div class="challenge-title">Quick Challenge</div>
                    <div class="challenge-area">
                        <div class="challenge-question">What would happen if you transplanted a rainforest plant to a desert?</div>
                        <div class="challenge-options">
                            <div class="challenge-option">It would wilt and die from water loss</div>
                            <div class="challenge-option">It would grow faster with more sun</div>
                            <div class="challenge-option">It would adapt immediately</div>
                            <div class="challenge-option">It would produce more flowers</div>
                        </div>
                        <div style="margin-top: 15px; color: var(--text-secondary); font-size: 0.9rem;">
                            <strong>Think about:</strong> What adaptations does a rainforest plant have, and how would they work in a desert?
                        </div>
                    </div>
                </div>
            `;
        }

        // Extreme adaptations visualization
        function createExtremeAdaptationsVisualization(question) {
            return `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-orange);">Extreme Environment Adaptations</h3>
                
                <div class="process-display">
                    <div class="process-title">Surviving Earth's Harshest Environments</div>
                    <div class="process-steps">
                        <div class="process-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">Extreme Heat (Deserts)</div>
                                <div class="step-description">Nocturnal behavior, water conservation, heat dissipation</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">Extreme Cold (Polar Regions)</div>
                                <div class="step-description">Insulation, counter-current heat exchange, hibernation</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">High Pressure (Deep Ocean)</div>
                                <div class="step-description">Flexible bodies, no air spaces, slow metabolism</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <div class="step-title">High Altitude (Mountains)</div>
                                <div class="step-description">Enhanced oxygen uptake, UV protection, temperature regulation</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="adaptations-comparison">
                    <div class="adaptation-card">
                        <div class="adaptation-icon">üê™</div>
                        <div class="adaptation-name">Desert Survivors</div>
                        <div class="adaptation-description">Camels, kangaroo rats, fennec foxes, desert plants</div>
                    </div>
                    <div class="adaptation-card">
                        <div class="adaptation-icon">üêß</div>
                        <div class="adaptation-name">Polar Survivors</div>
                        <div class="adaptation-description">Penguins, polar bears, Arctic foxes, seals</div>
                    </div>
                    <div class="adaptation-card">
                        <div class="adaptation-icon">üêô</div>
                        <div class="adaptation-name">Deep Sea Survivors</div>
                        <div class="adaptation-description">Anglerfish, giant squid, tube worms, jellyfish</div>
                    </div>
                    <div class="adaptation-card">
                        <div class="adaptation-icon">üêê</div>
                        <div class="adaptation-name">Mountain Survivors</div>
                        <div class="adaptation-description">Mountain goats, yaks, snow leopards, alpine plants</div>
                    </div>
                    <div class="adaptation-card">
                        <div class="adaptation-icon">üî•</div>
                        <div class="adaptation-name">Heat Survivors</div>
                        <div class="adaptation-description">Thermophilic bacteria, desert animals, heat-resistant plants</div>
                    </div>
                    <div class="adaptation-card">
                        <div class="adaptation-icon">üßä</div>
                        <div class="adaptation-name">Cold Survivors</div>
                        <div class="adaptation-description">Antifreeze fish, hibernating animals, cold-resistant plants</div>
                    </div>
                </div>
                
                <div class="extreme-display">
                    <div class="extreme-title">Amazing Extreme Adaptations</div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 15px 0;">
                        <div style="background: rgba(121, 85, 72, 0.1); padding: 15px; border-radius: 8px;">
                            <div style="font-weight: bold; color: var(--accent-brown); margin-bottom: 5px;">Kangaroo Rat</div>
                            <div style="font-size: 0.9rem; color: var(--text-secondary);">Never drinks water - gets all moisture from seeds it eats</div>
                        </div>
                        <div style="background: rgba(33, 150, 243, 0.1); padding: 15px; border-radius: 8px;">
                            <div style="font-weight: bold; color: var(--primary-blue); margin-bottom: 5px;">Antarctic Fish</div>
                            <div style="font-size: 0.9rem; color: var(--text-secondary);">Antifreeze proteins in blood prevent freezing</div>
                        </div>
                        <div style="background: rgba(0, 150, 136, 0.1); padding: 15px; border-radius: 8px;">
                            <div style="font-weight: bold; color: var(--secondary-teal); margin-bottom: 5px;">Anglerfish</div>
                            <div style="font-size: 0.9rem; color: var(--text-secondary);">Bioluminescent lure attracts prey in complete darkness</div>
                        </div>
                        <div style="background: rgba(156, 39, 176, 0.1); padding: 15px; border-radius: 8px;">
                            <div style="font-weight: bold; color: var(--accent-purple); margin-bottom: 5px;">Bar-headed Goose</div>
                            <div style="font-size: 0.9rem; color: var(--text-secondary);">Special hemoglobin absorbs oxygen efficiently at high altitudes</div>
                        </div>
                    </div>
                </div>
                
                <table class="examples-table">
                    <thead>
                        <tr>
                            <th>Environment</th>
                            <th>Challenge</th>
                            <th>Adaptation Solution</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="color: var(--accent-brown); font-weight: bold;">Desert</td>
                            <td>Extreme heat, water scarcity</td>
                            <td>Nocturnal activity, water conservation, heat tolerance</td>
                        </tr>
                        <tr>
                            <td style="color: var(--primary-blue); font-weight: bold;">Arctic</td>
                            <td>Freezing temperatures, food scarcity</td>
                            <td>Insulation, hibernation, food storage, white camouflage</td>
                        </tr>
                        <tr>
                            <td style="color: var(--secondary-teal); font-weight: bold;">Deep Ocean</td>
                            <td>Complete darkness, extreme pressure</td>
                            <td>Bioluminescence, pressure-resistant bodies, enhanced senses</td>
                        </tr>
                        <tr>
                            <td style="color: var(--accent-purple); font-weight: bold;">High Mountains</td>
                            <td>Thin air, UV radiation, cold</td>
                            <td>Efficient oxygen use, UV protection, insulation, grip adaptations</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="science-challenge">
                    <div class="challenge-title">Quick Challenge</div>
                    <div class="challenge-area">
                        <div class="challenge-scenario">
                            Scientists discover a new animal species living near hydrothermal vents at the ocean floor. The water temperature is 400¬∞F, pressure is extreme, and there's no sunlight.
                        </div>
                        <div class="challenge-question">What adaptations would this animal MOST LIKELY have?</div>
                        <div class="challenge-options">
                            <div class="challenge-option">Heat-resistant proteins, pressure-resistant body, chemosynthesis symbiosis</div>
                            <div class="challenge-option">Large eyes, fast swimming, sharp teeth</div>
                            <div class="challenge-option">Thick fur, hibernation ability, food storage</div>
                            <div class="challenge-option">Bright colors, loud calls, social behavior</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Load current question
        function loadQuestion() {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${appState.currentQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / appState.currentQuestions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            scienceFact.innerHTML = '';
            conceptDisplay.innerHTML = '';
            visualizationContainer.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            scienceFact.appendChild(createScienceFact());
            conceptDisplay.appendChild(createConceptDisplay());
            visualizationContainer.appendChild(createScienceVisualization());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation, question.answer);
            }
            
            nextQuestionBtn.disabled = false;
            saveStateToStorage();
        }

        // Show feedback
        function showFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    const correctOption = String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65));
                    feedbackMessage.textContent = `Correct answer: ${correctOption}`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Move to next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions(appState.topicType);
            
            saveStateToStorage();
            showPracticePage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            showWelcomePage();
        }

        // Start practice session
        function startPractice(topicType) {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions(topicType);
            
            saveStateToStorage();
            showPracticePage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
