<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 7 Math - Coordinate Geometry | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Coordinate Geometry Theme */
        :root {
            --primary-blue: #2196F3;      /* Axes/Grid */
            --primary-red: #F44336;       /* Points */
            --primary-green: #4CAF50;     /* Lines */
            --primary-purple: #9C27B0;    /* Equations */
            --accent-yellow: #FFC107;     /* Gradient */
            --accent-orange: #FF9800;     /* Intercepts */
            --accent-teal: #009688;       /* Quadrants */
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --grid-color: rgba(255, 255, 255, 0.1);
            --axis-color: rgba(33, 150, 243, 0.6);
            --point-color: rgba(244, 67, 54, 0.8);
            --line-color: rgba(76, 175, 80, 0.8);
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(33, 150, 243, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(244, 67, 54, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(76, 175, 80, 0.05) 0%, transparent 50%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 10px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info h1 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-red), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(33, 150, 243, 0.15);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            border: 2px solid var(--primary-blue);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-blue);
        }

        .input-group {
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-primary:hover {
            background: #1976D2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
        }

        .btn-secondary {
            background: var(--primary-red);
            color: white;
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3);
        }

        .btn-secondary:hover {
            background: #D32F2F;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(244, 67, 54, 0.4);
        }

        .btn-accent {
            background: var(--primary-green);
            color: white;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .btn-accent:hover {
            background: #388E3C;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-blue);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Coordinate Geometry Topics Grid */
        .topics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .topics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .topics-grid {
                grid-template-columns: 1fr;
            }
        }

        .topic-card {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .topic-card.coordinates {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), transparent);
        }

        .topic-card.graphing {
            border-color: var(--primary-green);
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), transparent);
        }

        .topic-card.equations {
            border-color: var(--primary-purple);
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.1), transparent);
        }

        .topic-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .topic-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .topic-card.coordinates .topic-title {
            color: var(--primary-blue);
        }

        .topic-card.graphing .topic-title {
            color: var(--primary-green);
        }

        .topic-card.equations .topic-title {
            color: var(--primary-purple);
        }

        .topic-features {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--dark-border);
        }

        .topic-features h4 {
            font-size: 0.9rem;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .feature-list {
            list-style-type: none;
        }

        .feature-list li {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-bottom: 4px;
            padding-left: 15px;
            position: relative;
        }

        .feature-list li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: var(--accent-teal);
        }

        /* Practice Page */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 8px;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-blue), var(--primary-green), var(--primary-purple));
            border-radius: 8px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(33, 150, 243, 0.5);
        }

        .question-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.5;
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
        }

        .math-fact {
            background: rgba(255, 193, 7, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--accent-yellow);
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            font-family: 'Courier New', monospace;
        }

        .option:hover {
            border-color: var(--primary-blue);
            background: rgba(33, 150, 243, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: #4CAF50;
            color: #4CAF50;
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: var(--primary-red);
            color: var(--primary-red);
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 25px;
            height: 25px;
            background: var(--primary-blue);
            border-radius: 50%;
            margin-right: 12px;
            font-weight: bold;
            color: white;
        }

        .option.correct .option-letter {
            background: #4CAF50;
        }

        .option.incorrect .option-letter {
            background: var(--primary-red);
        }

        /* Feedback */
        .feedback-container {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid #4CAF50;
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid var(--primary-red);
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: #4CAF50;
        }

        .feedback-incorrect .feedback-icon {
            background: var(--primary-red);
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .feedback-correct .feedback-title {
            color: #4CAF50;
        }

        .feedback-incorrect .feedback-title {
            color: var(--primary-red);
        }

        .feedback-explanation {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
            font-family: 'Courier New', monospace;
        }

        /* Navigation */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        /* Visualization Side */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
            overflow: auto;
        }

        /* Coordinate Plane */
        .coordinate-plane {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-blue);
            position: relative;
            overflow: hidden;
        }

        .diagram-title {
            color: var(--accent-teal);
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .plane-container {
            width: 100%;
            height: 300px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        /* Grid lines */
        .grid-line {
            position: absolute;
            background: var(--grid-color);
        }

        .grid-line.vertical {
            width: 1px;
            height: 100%;
        }

        .grid-line.horizontal {
            height: 1px;
            width: 100%;
        }

        /* Axes */
        .axis {
            position: absolute;
            background: var(--axis-color);
            z-index: 2;
        }

        .x-axis {
            width: 100%;
            height: 2px;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
        }

        .y-axis {
            width: 2px;
            height: 100%;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        /* Points */
        .point {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--point-color);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
            z-index: 3;
            box-shadow: 0 0 5px rgba(244, 67, 54, 0.5);
            transition: transform 0.2s ease;
        }

        .point:hover {
            transform: translate(-50%, -50%) scale(1.5);
        }

        .point-label {
            position: absolute;
            color: var(--text-primary);
            font-size: 0.8rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 2px 5px;
            border-radius: 3px;
            white-space: nowrap;
        }

        /* Lines */
        .line {
            position: absolute;
            background: var(--line-color);
            height: 2px;
            transform-origin: 0 0;
            z-index: 1;
        }

        .plane-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        /* Graphing Calculator */
        .graphing-calculator {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-green);
        }

        .calculator-container {
            background: #1a1a1a;
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
        }

        .equation-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
        }

        .equation-input input {
            flex: 1;
            padding: 10px;
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 5px;
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
        }

        .calculator-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin-top: 10px;
        }

        /* Gradient and Intercepts */
        .gradient-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--accent-yellow);
        }

        .gradient-visualizer {
            width: 100%;
            height: 180px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            margin: 10px 0;
            overflow: hidden;
        }

        .triangle {
            position: absolute;
            border: 2px dashed var(--accent-yellow);
        }

        .rise-run {
            position: absolute;
            color: var(--text-primary);
            font-size: 0.8rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 2px 5px;
            border-radius: 3px;
        }

        .gradient-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        /* Quadrants */
        .quadrants-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--accent-teal);
        }

        .quadrants-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }

        .quadrant {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .quadrant:hover {
            transform: scale(1.05);
            border-color: var(--accent-teal);
        }

        .quadrant.q1 { background: rgba(76, 175, 80, 0.1); }
        .quadrant.q2 { background: rgba(33, 150, 243, 0.1); }
        .quadrant.q3 { background: rgba(255, 152, 0, 0.1); }
        .quadrant.q4 { background: rgba(156, 39, 176, 0.1); }

        .quadrant-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .quadrant-signs {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Linear Equations */
        .equations-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-purple);
        }

        .equation-forms {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .equation-forms {
                grid-template-columns: 1fr;
            }
        }

        .equation-form {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid var(--primary-purple);
        }

        .equation-form:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(156, 39, 176, 0.2);
        }

        .form-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--primary-purple);
        }

        .form-equation {
            font-family: 'Courier New', monospace;
            color: var(--text-primary);
            font-size: 1rem;
            margin-bottom: 8px;
        }

        .form-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Practice Plotting */
        .plotting-practice {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--accent-orange);
        }

        .plotting-container {
            background: #1a1a1a;
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            min-height: 200px;
            position: relative;
        }

        .plot-instructions {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .coordinate-input {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .coordinate-input input {
            width: 60px;
            padding: 8px;
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 5px;
            color: var(--text-primary);
            text-align: center;
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }

        .results-title {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green), var(--primary-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green), var(--primary-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-blue);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes plotPoint {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            70% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .plotting {
            animation: plotPoint 0.5s ease forwards;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 1.8rem;
            }
            
            .topics-grid {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .equation-forms {
                grid-template-columns: 1fr;
            }
            
            .quadrants-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
        }

        /* Coordinate Notation */
        .coordinate {
            font-family: 'Courier New', monospace;
            color: var(--primary-red);
        }

        .gradient {
            color: var(--accent-yellow);
        }

        .intercept {
            color: var(--accent-orange);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <h1 class="welcome-title">Grade 7 Math: Coordinate Geometry</h1>
            <p class="welcome-subtitle">Master the art of plotting points, drawing lines, and understanding graphs! Learn about the coordinate plane, gradients, intercepts, and linear equations - the foundation for graphing and visualizing mathematical relationships.</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üìàüìç</span>
                <span class="topic-name">Coordinate Geometry: Points, Lines & Graphs</span>
            </div>
            
            <div class="topics-grid">
                <div class="topic-card coordinates" onclick="showTopicDetails('coordinates')">
                    <div class="topic-icon">(ùë•, ùë¶)</div>
                    <h3 class="topic-title">Coordinate Plane</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">The grid system for locating points using x and y coordinates</p>
                    <div class="topic-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Origin (0,0)</li>
                            <li>x-axis and y-axis</li>
                            <li>Four quadrants</li>
                            <li>Ordered pairs (x,y)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="topic-card graphing" onclick="showTopicDetails('graphing')">
                    <div class="topic-icon">üìâ‚û°Ô∏èüìà</div>
                    <h3 class="topic-title">Graphing Lines</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Plotting linear equations and understanding their properties</p>
                    <div class="topic-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Gradient (slope)</li>
                            <li>y-intercept</li>
                            <li>x-intercept</li>
                            <li>Rise over run</li>
                        </ul>
                    </div>
                </div>
                
                <div class="topic-card equations" onclick="showTopicDetails('equations')">
                    <div class="topic-icon">ùë¶ = ùëöùë• + ùëè</div>
                    <h3 class="topic-title">Linear Equations</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Equations that graph as straight lines on the coordinate plane</p>
                    <div class="topic-features">
                        <h4>Key Forms:</h4>
                        <ul class="feature-list">
                            <li>Slope-intercept form</li>
                            <li>Standard form</li>
                            <li>Point-slope form</li>
                            <li>Finding equations from graphs</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your name:</label>
                <input type="text" id="studentName" placeholder="Your name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>üìä Begin Coordinate Geometry</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 25</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 4%"></div>
                </div>
            </div>

            <div class="question-container">
                <div id="mathFact"></div>
                
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-explanation" id="feedbackExplanation"></div>
                </div>
            </div>
            
            <!-- Visualization Area -->
            <div class="content-wrapper">
                <div class="visualization-container">
                    <div class="coordinate-plane">
                        <div class="diagram-title">Interactive Coordinate Plane</div>
                        <div class="plane-container" id="planeContainer">
                            <!-- Grid, axes, points, and lines will be added by JavaScript -->
                        </div>
                        <div class="plane-controls">
                            <button class="btn btn-small btn-primary" onclick="plotPointInteractive()">Plot Point</button>
                            <button class="btn btn-small btn-accent" onclick="drawLineInteractive()">Draw Line</button>
                            <button class="btn btn-small btn-secondary" onclick="clearPlane()">Clear</button>
                            <button class="btn btn-small btn-outline" onclick="showQuadrants()">Show Quadrants</button>
                        </div>
                    </div>
                    
                    <div class="graphing-calculator">
                        <div class="diagram-title">Linear Equation Grapher</div>
                        <div class="calculator-container">
                            <div class="equation-input">
                                <label for="equationInput" style="color: var(--text-secondary);">y = </label>
                                <input type="text" id="equationInput" placeholder="2x + 3" value="2x + 3">
                                <button class="btn btn-small btn-accent" onclick="graphEquation()">Graph</button>
                            </div>
                            <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                                Try: <span style="color: var(--primary-green); cursor: pointer;" onclick="setEquation('2x+1')">y = 2x + 1</span> | 
                                <span style="color: var(--primary-red); cursor: pointer;" onclick="setEquation('-x+4')">y = -x + 4</span> | 
                                <span style="color: var(--primary-purple); cursor: pointer;" onclick="setEquation('0.5x-2')">y = 0.5x - 2</span>
                            </div>
                        </div>
                        <div class="calculator-controls">
                            <button class="btn btn-small" onclick="findIntercepts()" style="background: var(--accent-orange);">Find Intercepts</button>
                            <button class="btn btn-small" onclick="calculateGradient()" style="background: var(--accent-yellow);">Calculate Gradient</button>
                            <button class="btn btn-small" onclick="showTableOfValues()" style="background: var(--primary-purple);">Table of Values</button>
                        </div>
                    </div>
                    
                    <div class="gradient-section">
                        <div class="diagram-title">Gradient (Slope) Visualizer</div>
                        <div class="gradient-visualizer" id="gradientContainer">
                            <!-- Gradient visualization will be added by JavaScript -->
                        </div>
                        <div class="gradient-controls">
                            <button class="btn btn-small" onclick="showPositiveGradient()" style="background: var(--primary-green);">Positive Slope</button>
                            <button class="btn btn-small" onclick="showNegativeGradient()" style="background: var(--primary-red);">Negative Slope</button>
                            <button class="btn btn-small" onclick="showZeroGradient()" style="background: var(--primary-blue);">Zero Slope</button>
                            <button class="btn btn-small" onclick="showUndefinedGradient()" style="background: var(--primary-purple);">Undefined Slope</button>
                        </div>
                    </div>
                    
                    <div class="quadrants-section">
                        <div class="diagram-title">Coordinate Plane Quadrants</div>
                        <div class="quadrants-grid">
                            <div class="quadrant q1" onclick="showQuadrantDetails(1)">
                                <div class="quadrant-title">Quadrant I</div>
                                <div class="quadrant-signs">(+, +)</div>
                                <div style="font-size: 0.8rem; margin-top: 5px;">x positive, y positive</div>
                            </div>
                            <div class="quadrant q2" onclick="showQuadrantDetails(2)">
                                <div class="quadrant-title">Quadrant II</div>
                                <div class="quadrant-signs">(-, +)</div>
                                <div style="font-size: 0.8rem; margin-top: 5px;">x negative, y positive</div>
                            </div>
                            <div class="quadrant q3" onclick="showQuadrantDetails(3)">
                                <div class="quadrant-title">Quadrant III</div>
                                <div class="quadrant-signs">(-, -)</div>
                                <div style="font-size: 0.8rem; margin-top: 5px;">x negative, y negative</div>
                            </div>
                            <div class="quadrant q4" onclick="showQuadrantDetails(4)">
                                <div class="quadrant-title">Quadrant IV</div>
                                <div class="quadrant-signs">(+, -)</div>
                                <div style="font-size: 0.8rem; margin-top: 5px;">x positive, y negative</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equations-section">
                        <div class="diagram-title">Linear Equation Forms</div>
                        <div class="equation-forms">
                            <div class="equation-form" onclick="showEquationForm('slope-intercept')">
                                <div class="form-title">Slope-Intercept Form</div>
                                <div class="form-equation">y = mx + b</div>
                                <div class="form-desc">m = gradient, b = y-intercept</div>
                            </div>
                            <div class="equation-form" onclick="showEquationForm('standard')">
                                <div class="form-title">Standard Form</div>
                                <div class="form-equation">Ax + By = C</div>
                                <div class="form-desc">A, B, C are integers, A ‚â• 0</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="plotting-practice">
                        <div class="diagram-title">Plotting Practice</div>
                        <div class="plotting-container" id="plottingContainer">
                            <div class="plot-instructions">Click anywhere to plot a point. Coordinates will be shown.</div>
                            <!-- Points will be plotted here -->
                        </div>
                        <div class="coordinate-input">
                            <input type="number" id="plotX" placeholder="x" value="2">
                            <input type="number" id="plotY" placeholder="y" value="3">
                            <button class="btn btn-small btn-secondary" onclick="plotFromInput()">Plot Point</button>
                            <button class="btn btn-small btn-outline" onclick="clearPlotting()">Clear</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-secondary" id="skipQuestion">Skip Question</button>
                <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Coordinate Geometry Study Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="timeSpent">0min</div>
                        <div class="stat-label">Time Spent Learning</div>
                    </div>
                </div>
                
                <div style="margin: 25px 0; padding: 15px; background: rgba(33, 150, 243, 0.1); border-radius: 10px;">
                    <h3 style="color: var(--primary-blue); margin-bottom: 10px;">Coordinate Geometry Skills</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem;">
                        You've mastered essential graphing skills: plotting points, understanding gradients and intercepts, 
                        and working with linear equations. These are foundations for advanced mathematics and data visualization!
                    </p>
                </div>
                
                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn btn-primary" id="retryTopic">Study Again</button>
                    <button class="btn btn-accent" id="viewTopics">Other Topics</button>
                    <button class="btn btn-secondary" onclick="showGraphingChallenge()">Graphing Challenge</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Questions array - 25 focused questions on Coordinate Geometry
        const questions = [
            {
                question: "What are the coordinates of the origin?",
                options: ["(0, 0)", "(1, 1)", "(0, 1)", "(1, 0)"],
                answer: "A",
                explanation: "The origin is where the x-axis and y-axis intersect, with coordinates (0, 0)."
            },
            {
                question: "In the ordered pair (3, -2), what is the x-coordinate?",
                options: ["3", "-2", "Both", "Neither"],
                answer: "A",
                explanation: "In ordered pairs (x, y), the first number is the x-coordinate and the second is the y-coordinate."
            },
            {
                question: "Which quadrant contains points with both coordinates positive?",
                options: ["Quadrant I", "Quadrant II", "Quadrant III", "Quadrant IV"],
                answer: "A",
                explanation: "Quadrant I (top-right) has positive x and positive y coordinates: (+, +)."
            },
            {
                question: "What is the gradient of a horizontal line?",
                options: ["0", "1", "Undefined", "-1"],
                answer: "A",
                explanation: "Horizontal lines have zero gradient (slope) because there's no vertical change (rise = 0)."
            },
            {
                question: "Where does the line y = 2x + 3 cross the y-axis?",
                options: ["At y = 3", "At y = 2", "At x = 3", "At the origin"],
                answer: "A",
                explanation: "In y = mx + b, b is the y-intercept. Here b = 3, so the line crosses at (0, 3)."
            },
            {
                question: "What is the gradient formula?",
                options: ["(y‚ÇÇ - y‚ÇÅ) √∑ (x‚ÇÇ - x‚ÇÅ)", "(x‚ÇÇ - x‚ÇÅ) √∑ (y‚ÇÇ - y‚ÇÅ)", "y √∑ x", "x √∑ y"],
                answer: "A",
                explanation: "Gradient = vertical change √∑ horizontal change = rise √∑ run = (y‚ÇÇ - y‚ÇÅ)/(x‚ÇÇ - x‚ÇÅ)."
            },
            {
                question: "Which point lies on the x-axis?",
                options: ["(5, 0)", "(0, 5)", "(5, 5)", "(-5, -5)"],
                answer: "A",
                explanation: "Points on the x-axis have y-coordinate = 0, like (5, 0)."
            },
            {
                question: "What is the gradient of the line through points (1, 2) and (3, 6)?",
                options: ["2", "1", "3", "4"],
                answer: "A",
                explanation: "Gradient = (6 - 2) √∑ (3 - 1) = 4 √∑ 2 = 2."
            },
            {
                question: "In which quadrant is the point (-3, -4)?",
                options: ["Quadrant III", "Quadrant I", "Quadrant II", "Quadrant IV"],
                answer: "A",
                explanation: "Both coordinates negative (-, -) places the point in Quadrant III (bottom-left)."
            },
            {
                question: "What is the y-intercept of y = -x + 5?",
                options: ["5", "-1", "1", "-5"],
                answer: "A",
                explanation: "In y = mx + b, b = 5, so y-intercept is 5 (the line crosses at (0, 5))."
            },
            {
                question: "What does a positive gradient indicate?",
                options: ["Line slopes upward left to right", "Line slopes downward", "Line is horizontal", "Line is vertical"],
                answer: "A",
                explanation: "Positive gradient means as x increases, y increases - upward slope from left to right."
            },
            {
                question: "Which equation represents a vertical line?",
                options: ["x = 3", "y = 3", "y = x", "y = 2x + 1"],
                answer: "A",
                explanation: "x = constant gives a vertical line. All points have the same x-coordinate."
            },
            {
                question: "What is the distance from (0,0) to (3,4)?",
                options: ["5 units", "7 units", "12 units", "1 unit"],
                answer: "A",
                explanation: "Using distance formula: ‚àö((3-0)¬≤ + (4-0)¬≤) = ‚àö(9 + 16) = ‚àö25 = 5 units."
            },
            {
                question: "Which point is in Quadrant IV?",
                options: ["(2, -3)", "(-2, 3)", "(-2, -3)", "(2, 3)"],
                answer: "A",
                explanation: "Quadrant IV has (+, -) coordinates. Only (2, -3) fits."
            },
            {
                question: "What is the x-intercept of y = 2x - 6?",
                options: ["x = 3", "x = -3", "x = 6", "x = -6"],
                answer: "A",
                explanation: "Set y = 0: 0 = 2x - 6 ‚Üí 2x = 6 ‚Üí x = 3. So x-intercept is 3 (point (3, 0))."
            },
            {
                question: "How do you plot the point (-2, 5)?",
                options: ["2 left, 5 up", "2 right, 5 up", "2 left, 5 down", "2 right, 5 down"],
                answer: "A",
                explanation: "Negative x = left, positive y = up. So from origin: 2 units left, 5 units up."
            },
            {
                question: "What is the gradient of y = 4?",
                options: ["0", "4", "Undefined", "1"],
                answer: "A",
                explanation: "y = 4 is horizontal line (y always 4). Horizontal lines have gradient = 0."
            },
            {
                question: "Which line has the steepest gradient?",
                options: ["y = 5x + 2", "y = 2x + 5", "y = 0.5x + 1", "y = -3x + 4"],
                answer: "A",
                explanation: "Steepness depends on absolute value of gradient. |5| > |2|, |0.5|, |‚àí3|."
            },
            {
                question: "Where is the point (0, -4)?",
                options: ["On y-axis", "On x-axis", "In Quadrant IV", "At origin"],
                answer: "A",
                explanation: "x = 0 places it on y-axis. Specifically, 4 units below origin on y-axis."
            },
            {
                question: "What is the midpoint between (2, 4) and (6, 8)?",
                options: ["(4, 6)", "(3, 4)", "(4, 4)", "(8, 12)"],
                answer: "A",
                explanation: "Midpoint = average of x's, average of y's: ((2+6)/2, (4+8)/2) = (4, 6)."
            },
            {
                question: "Which equation passes through the origin?",
                options: ["y = 3x", "y = 3x + 1", "x = 3", "y = 5"],
                answer: "A",
                explanation: "y = 3x has y-intercept 0, so when x = 0, y = 0 ‚Üí passes through (0, 0)."
            },
            {
                question: "What does a gradient of -2 mean?",
                options: ["Down 2 for every right 1", "Up 2 for every right 1", "Right 2 for every up 1", "Line is horizontal"],
                answer: "A",
                explanation: "Gradient = -2 = -2/1 means down 2 units for every 1 unit right."
            },
            {
                question: "Which is true about parallel lines?",
                options: ["Same gradient", "Same y-intercept", "Perpendicular", "Opposite gradients"],
                answer: "A",
                explanation: "Parallel lines have equal gradients. They never intersect."
            },
            {
                question: "What is the gradient of a line perpendicular to y = 2x + 1?",
                options: ["-1/2", "2", "-2", "1/2"],
                answer: "A",
                explanation: "Perpendicular lines have gradients that are negative reciprocals. Reciprocal of 2 is 1/2, negative is -1/2."
            },
            {
                question: "What is coordinate geometry?",
                options: ["Study of geometry using coordinate system", "Only plotting points", "Only finding gradients", "Advanced calculus"],
                answer: "A",
                explanation: "Coordinate geometry (analytic geometry) uses coordinates to represent and analyze geometric shapes and relationships."
            }
        ];

        // Math facts
        const mathFacts = [
            "Ren√© Descartes invented the coordinate plane in 1637, which is why it's often called the Cartesian plane.",
            "The coordinate plane is divided into four quadrants by the x-axis and y-axis.",
            "The gradient (slope) of a line measures its steepness: rise √∑ run.",
            "A horizontal line has gradient 0, while a vertical line has undefined gradient.",
            "The y-intercept is where a line crosses the y-axis (x = 0).",
            "The x-intercept is where a line crosses the x-axis (y = 0).",
            "Parallel lines have equal gradients, while perpendicular lines have gradients that are negative reciprocals.",
            "The distance between two points (x‚ÇÅ, y‚ÇÅ) and (x‚ÇÇ, y‚ÇÇ) is ‚àö[(x‚ÇÇ - x‚ÇÅ)¬≤ + (y‚ÇÇ - y‚ÇÅ)¬≤]."
        ];

        // Topic details
        const topicDetails = {
            coordinates: {
                title: "Coordinate Plane",
                info: "A two-dimensional plane formed by two perpendicular number lines: the x-axis (horizontal) and y-axis (vertical)."
            },
            graphing: {
                title: "Graphing Lines",
                info: "The process of plotting points and drawing lines that represent linear equations on the coordinate plane."
            },
            equations: {
                title: "Linear Equations",
                info: "Equations of the form y = mx + b that graph as straight lines, where m is the gradient and b is the y-intercept."
            }
        };

        // Equation forms
        const equationForms = {
            'slope-intercept': {
                title: "Slope-Intercept Form",
                equation: "y = mx + b",
                explanation: "m = gradient (slope), b = y-intercept. This is the most common form for graphing lines."
            },
            'standard': {
                title: "Standard Form",
                equation: "Ax + By = C",
                explanation: "A, B, and C are integers, with A ‚â• 0. Useful for finding intercepts quickly."
            }
        };

        // Quadrant information
        const quadrants = {
            1: { name: "Quadrant I", signs: "(+, +)", description: "Both x and y coordinates are positive." },
            2: { name: "Quadrant II", signs: "(-, +)", description: "x is negative, y is positive." },
            3: { name: "Quadrant III", signs: "(-, -)", description: "Both x and y coordinates are negative." },
            4: { name: "Quadrant IV", signs: "(+, -)", description: "x is positive, y is negative." }
        };

        // Gradient examples
        const gradientExamples = {
            positive: { value: 2, description: "Positive gradient: Line slopes upward left to right." },
            negative: { value: -1.5, description: "Negative gradient: Line slopes downward left to right." },
            zero: { value: 0, description: "Zero gradient: Horizontal line (no vertical change)." },
            undefined: { value: undefined, description: "Undefined gradient: Vertical line (no horizontal change)." }
        };

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            studentName: "",
            startTime: null,
            planePoints: [],
            planeLines: [],
            plottingPoints: []
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const backToHomeBtn = document.getElementById('backToHome');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const mathFact = document.getElementById('mathFact');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const feedbackExplanation = document.getElementById('feedbackExplanation');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const timeSpent = document.getElementById('timeSpent');
        const planeContainer = document.getElementById('planeContainer');
        const equationInput = document.getElementById('equationInput');
        const gradientContainer = document.getElementById('gradientContainer');
        const plottingContainer = document.getElementById('plottingContainer');
        const plotX = document.getElementById('plotX');
        const plotY = document.getElementById('plotY');

        // Initialize
        function initApp() {
            setupEventListeners();
            showWelcomePage();
            initializeCoordinatePlane();
            initializePlottingArea();
            initializeGradientVisualizer();
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', showWelcomePage);
            viewTopicsBtn.addEventListener('click', () => alert("Other math topics would be available here."));
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') startPractice();
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            appState.startTime = new Date();
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const percentage = Math.round((appState.score / questions.length) * 100);
            const timeDiff = new Date() - appState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            timeSpent.textContent = `${minutes}min`;
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Excellent! You're a coordinate geometry expert!";
            } else if (percentage >= 75) {
                scoreMessage.textContent = "Great job! You understand graphs and gradients well!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good work! You're getting the hang of coordinate geometry!";
            } else {
                scoreMessage.textContent = "Keep practicing! Graphing takes time to master - try again!";
            }
        }

        // Create math fact display
        function createMathFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'math-fact';
            factDiv.innerHTML = `<strong>Graphing Fact:</strong> ${mathFacts[Math.floor(Math.random() * mathFacts.length)]}`;
            return factDiv;
        }

        // Load question
        function loadQuestion() {
            const question = questions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${questions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            mathFact.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            mathFact.appendChild(createMathFact());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = questions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation);
            }
            
            nextQuestionBtn.disabled = false;
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Skip question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Retry topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            showPracticePage();
        }

        // Start practice
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin studying coordinate geometry!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            showPracticePage();
        }

        // Interactive functions
        window.showTopicDetails = function(topic) {
            const topicInfo = topicDetails[topic];
            if (!topicInfo) return;
            
            let info = `${topicInfo.title}\n\n`;
            info += `${topicInfo.info}\n\n`;
            
            if (topic === 'coordinates') {
                info += "Key Features:\n";
                info += "‚Ä¢ Origin: (0, 0)\n";
                info += "‚Ä¢ x-axis: Horizontal number line\n";
                info += "‚Ä¢ y-axis: Vertical number line\n";
                info += "‚Ä¢ Quadrants: Four regions\n";
                info += "‚Ä¢ Ordered pairs: (x, y) coordinates\n\n";
                info += "Example: Plot (3, 4):\n";
                info += "1. Start at origin (0,0)\n";
                info += "2. Move 3 units right (positive x)\n";
                info += "3. Move 4 units up (positive y)";
            } else if (topic === 'graphing') {
                info += "Steps to Graph a Line:\n";
                info += "1. Identify y-intercept (where line crosses y-axis)\n";
                info += "2. Use gradient to find another point\n";
                info += "3. Plot both points\n";
                info += "4. Draw line through points\n\n";
                info += "Example: Graph y = 2x + 1\n";
                info += "‚Ä¢ y-intercept: (0, 1)\n";
                info += "‚Ä¢ Gradient: 2 = 2/1 (up 2, right 1)\n";
                info += "‚Ä¢ Next point: (1, 3)\n";
                info += "‚Ä¢ Draw line through (0,1) and (1,3)";
            } else if (topic === 'equations') {
                info += "Linear Equation Forms:\n";
                info += "1. Slope-intercept: y = mx + b\n";
                info += "   ‚Ä¢ m = gradient, b = y-intercept\n\n";
                info += "2. Standard form: Ax + By = C\n";
                info += "   ‚Ä¢ Easier for finding intercepts\n\n";
                info += "3. Point-slope: y - y‚ÇÅ = m(x - x‚ÇÅ)\n";
                info += "   ‚Ä¢ Useful when you know a point and gradient";
            }
            
            alert(info);
        };

        // Coordinate plane functions
        function initializeCoordinatePlane() {
            // Clear container
            planeContainer.innerHTML = '';
            
            // Grid lines
            const gridSize = 20; // pixels per unit
            const centerX = planeContainer.clientWidth / 2;
            const centerY = planeContainer.clientHeight / 2;
            
            // Vertical grid lines
            for (let x = 0; x <= planeContainer.clientWidth; x += gridSize) {
                const line = document.createElement('div');
                line.className = 'grid-line vertical';
                line.style.left = `${x}px`;
                planeContainer.appendChild(line);
            }
            
            // Horizontal grid lines
            for (let y = 0; y <= planeContainer.clientHeight; y += gridSize) {
                const line = document.createElement('div');
                line.className = 'grid-line horizontal';
                line.style.top = `${y}px`;
                planeContainer.appendChild(line);
            }
            
            // Axes
            const xAxis = document.createElement('div');
            xAxis.className = 'axis x-axis';
            planeContainer.appendChild(xAxis);
            
            const yAxis = document.createElement('div');
            yAxis.className = 'axis y-axis';
            planeContainer.appendChild(yAxis);
            
            // Store plane dimensions for coordinate conversion
            planeContainer.dataset.gridSize = gridSize;
            planeContainer.dataset.centerX = centerX;
            planeContainer.dataset.centerY = centerY;
        }

        // Convert coordinates to pixel positions
        function coordinatesToPixels(x, y) {
            const gridSize = parseInt(planeContainer.dataset.gridSize);
            const centerX = parseInt(planeContainer.dataset.centerX);
            const centerY = parseInt(planeContainer.dataset.centerY);
            
            const pixelX = centerX + (x * gridSize);
            const pixelY = centerY - (y * gridSize); // Invert y for screen coordinates
            
            return { pixelX, pixelY };
        }

        // Convert pixel positions to coordinates
        function pixelsToCoordinates(pixelX, pixelY) {
            const gridSize = parseInt(planeContainer.dataset.gridSize);
            const centerX = parseInt(planeContainer.dataset.centerX);
            const centerY = parseInt(planeContainer.dataset.centerY);
            
            const x = (pixelX - centerX) / gridSize;
            const y = (centerY - pixelY) / gridSize; // Invert y for coordinate system
            
            return { x, y };
        }

        window.plotPointInteractive = function() {
            const x = prompt("Enter x-coordinate:", "2");
            const y = prompt("Enter y-coordinate:", "3");
            
            if (x !== null && y !== null && !isNaN(x) && !isNaN(y)) {
                plotPoint(parseFloat(x), parseFloat(y));
            }
        };

        function plotPoint(x, y, color = "var(--point-color)") {
            const { pixelX, pixelY } = coordinatesToPixels(x, y);
            
            const point = document.createElement('div');
            point.className = 'point plotting';
            point.style.left = `${pixelX}px`;
            point.style.top = `${pixelY}px`;
            point.style.background = color;
            point.title = `(${x}, ${y})`;
            
            const label = document.createElement('div');
            label.className = 'point-label';
            label.textContent = `(${x}, ${y})`;
            label.style.left = `${pixelX + 10}px`;
            label.style.top = `${pixelY - 20}px`;
            
            planeContainer.appendChild(point);
            planeContainer.appendChild(label);
            
            appState.planePoints.push({ x, y, element: point, label });
            
            return { point, label };
        }

        window.drawLineInteractive = function() {
            const x1 = prompt("Enter first x-coordinate:", "1");
            const y1 = prompt("Enter first y-coordinate:", "2");
            const x2 = prompt("Enter second x-coordinate:", "3");
            const y2 = prompt("Enter second y-coordinate:", "4");
            
            if (x1 !== null && y1 !== null && x2 !== null && y2 !== null &&
                !isNaN(x1) && !isNaN(y1) && !isNaN(x2) && !isNaN(y2)) {
                drawLine(parseFloat(x1), parseFloat(y1), parseFloat(x2), parseFloat(y2));
                
                // Calculate and show gradient
                const gradient = (parseFloat(y2) - parseFloat(y1)) / (parseFloat(x2) - parseFloat(x1));
                alert(`Line from (${x1},${y1}) to (${x2},${y2})\n\nGradient = ${gradient.toFixed(2)}`);
            }
        };

        function drawLine(x1, y1, x2, y2, color = "var(--line-color)") {
            const point1 = coordinatesToPixels(x1, y1);
            const point2 = coordinatesToPixels(x2, y2);
            
            // Calculate line length and angle
            const dx = point2.pixelX - point1.pixelX;
            const dy = point2.pixelY - point1.pixelY;
            const length = Math.sqrt(dx * dx + dy * dy);
            const angle = Math.atan2(dy, dx) * 180 / Math.PI;
            
            const line = document.createElement('div');
            line.className = 'line';
            line.style.left = `${point1.pixelX}px`;
            line.style.top = `${point1.pixelY}px`;
            line.style.width = `${length}px`;
            line.style.transform = `rotate(${angle}deg)`;
            line.style.background = color;
            
            planeContainer.appendChild(line);
            
            appState.planeLines.push({ x1, y1, x2, y2, element: line });
            
            // Plot the endpoints
            plotPoint(x1, y1, color);
            plotPoint(x2, y2, color);
            
            return line;
        }

        window.clearPlane = function() {
            // Remove all points and lines
            appState.planePoints.forEach(item => {
                if (item.element && item.element.parentNode) {
                    item.element.parentNode.removeChild(item.element);
                }
                if (item.label && item.label.parentNode) {
                    item.label.parentNode.removeChild(item.label);
                }
            });
            
            appState.planeLines.forEach(line => {
                if (line.element && line.element.parentNode) {
                    line.element.parentNode.removeChild(line.element);
                }
            });
            
            appState.planePoints = [];
            appState.planeLines = [];
        };

        window.showQuadrants = function() {
            let info = "Coordinate Plane Quadrants\n\n";
            info += "Quadrant I (top-right): (+, +)\n";
            info += "Quadrant II (top-left): (-, +)\n";
            info += "Quadrant III (bottom-left): (-, -)\n";
            info += "Quadrant IV (bottom-right): (+, -)\n\n";
            info += "Examples:\n";
            info += "‚Ä¢ (3, 4) is in Quadrant I\n";
            info += "‚Ä¢ (-2, 5) is in Quadrant II\n";
            info += "‚Ä¢ (-1, -3) is in Quadrant III\n";
            info += "‚Ä¢ (4, -2) is in Quadrant IV";
            
            alert(info);
        };

        // Equation graphing
        window.setEquation = function(equation) {
            equationInput.value = equation;
        };

        window.graphEquation = function() {
            const equation = equationInput.value.trim();
            
            // Simple parsing for linear equations in form y = mx + b
            const match = equation.match(/y\s*=\s*([-+]?\d*\.?\d*)x\s*([-+]?\d*\.?\d*)/i) ||
                          equation.match(/([-+]?\d*\.?\d*)x\s*([-+]?\d*\.?\d*)/i);
            
            if (!match) {
                alert("Please enter equation in form: y = mx + b\n\nExamples:\ny = 2x + 1\ny = -x + 3\ny = 0.5x - 2");
                return;
            }
            
            let m, b;
            if (match[1] === undefined || match[1] === '' || match[1] === '+') {
                m = 1;
            } else if (match[1] === '-') {
                m = -1;
            } else {
                m = parseFloat(match[1]);
            }
            
            if (match[2] === undefined || match[2] === '') {
                b = 0;
            } else {
                b = parseFloat(match[2]);
            }
            
            // Clear previous lines
            clearPlane();
            
            // Calculate two points to draw the line
            // Use x = -5 and x = 5 for range
            const x1 = -5;
            const y1 = m * x1 + b;
            const x2 = 5;
            const y2 = m * x2 + b;
            
            // Plot points and draw line
            drawLine(x1, y1, x2, y2);
            
            // Show equation information
            let info = `Equation: y = ${m}x ${b >= 0 ? '+' : ''}${b}\n\n`;
            info += `Gradient (m): ${m}\n`;
            info += `y-intercept (b): ${b}\n`;
            info += `Line passes through (0, ${b})`;
            
            alert(info);
        };

        window.findIntercepts = function() {
            const equation = equationInput.value.trim();
            const match = equation.match(/y\s*=\s*([-+]?\d*\.?\d*)x\s*([-+]?\d*\.?\d*)/i);
            
            if (!match) {
                alert("Please enter an equation first!");
                return;
            }
            
            let m, b;
            if (match[1] === undefined || match[1] === '' || match[1] === '+') {
                m = 1;
            } else if (match[1] === '-') {
                m = -1;
            } else {
                m = parseFloat(match[1]);
            }
            
            if (match[2] === undefined || match[2] === '') {
                b = 0;
            } else {
                b = parseFloat(match[2]);
            }
            
            // y-intercept: when x = 0
            const yIntercept = b;
            
            // x-intercept: when y = 0
            let xIntercept = null;
            if (m !== 0) {
                xIntercept = -b / m;
            }
            
            let info = `For y = ${m}x ${b >= 0 ? '+' : ''}${b}:\n\n`;
            info += `y-intercept: (0, ${yIntercept})\n`;
            if (xIntercept !== null) {
                info += `x-intercept: (${xIntercept.toFixed(2)}, 0)`;
            } else {
                info += `x-intercept: None (horizontal line)`;
            }
            
            alert(info);
        };

        window.calculateGradient = function() {
            const equation = equationInput.value.trim();
            const match = equation.match(/y\s*=\s*([-+]?\d*\.?\d*)x\s*([-+]?\d*\.?\d*)/i);
            
            if (!match) {
                alert("Please enter an equation first!");
                return;
            }
            
            let m;
            if (match[1] === undefined || match[1] === '' || match[1] === '+') {
                m = 1;
            } else if (match[1] === '-') {
                m = -1;
            } else {
                m = parseFloat(match[1]);
            }
            
            let info = `Gradient = ${m}\n\n`;
            
            if (m > 0) {
                info += `Positive gradient: Line slopes upward\n`;
                info += `For every 1 unit right, go ${m} units up`;
            } else if (m < 0) {
                info += `Negative gradient: Line slopes downward\n`;
                info += `For every 1 unit right, go ${Math.abs(m)} units down`;
            } else {
                info += `Zero gradient: Horizontal line`;
            }
            
            alert(info);
        };

        window.showTableOfValues = function() {
            const equation = equationInput.value.trim();
            const match = equation.match(/y\s*=\s*([-+]?\d*\.?\d*)x\s*([-+]?\d*\.?\d*)/i);
            
            if (!match) {
                alert("Please enter an equation first!");
                return;
            }
            
            let m, b;
            if (match[1] === undefined || match[1] === '' || match[1] === '+') {
                m = 1;
            } else if (match[1] === '-') {
                m = -1;
            } else {
                m = parseFloat(match[1]);
            }
            
            if (match[2] === undefined || match[2] === '') {
                b = 0;
            } else {
                b = parseFloat(match[2]);
            }
            
            let info = `Table of Values for y = ${m}x ${b >= 0 ? '+' : ''}${b}\n\n`;
            info += "x  |  y\n";
            info += "---|----\n";
            
            for (let x = -2; x <= 2; x++) {
                const y = m * x + b;
                info += `${x}  |  ${y}\n`;
            }
            
            alert(info);
        };

        // Gradient visualizer
        function initializeGradientVisualizer() {
            showPositiveGradient();
        }

        window.showPositiveGradient = function() {
            gradientContainer.innerHTML = '';
            
            // Draw a line with positive gradient
            const line = document.createElement('div');
            line.style.position = 'absolute';
            line.style.width = '150px';
            line.style.height = '2px';
            line.style.background = 'var(--line-color)';
            line.style.top = '100px';
            line.style.left = '50px';
            line.style.transform = 'rotate(30deg)';
            line.style.transformOrigin = '0 0';
            gradientContainer.appendChild(line);
            
            // Draw rise/run triangle
            const triangle = document.createElement('div');
            triangle.className = 'triangle';
            triangle.style.width = '130px';
            triangle.style.height = '75px';
            triangle.style.borderRight = '2px dashed var(--accent-yellow)';
            triangle.style.borderBottom = '2px dashed var(--accent-yellow)';
            triangle.style.top = '30px';
            triangle.style.left = '50px';
            gradientContainer.appendChild(triangle);
            
            // Label rise and run
            const rise = document.createElement('div');
            rise.className = 'rise-run';
            rise.textContent = 'Rise = 3';
            rise.style.top = '60px';
            rise.style.left = '180px';
            gradientContainer.appendChild(rise);
            
            const run = document.createElement('div');
            run.className = 'rise-run';
            run.textContent = 'Run = 5';
            run.style.top = '120px';
            run.style.left = '100px';
            gradientContainer.appendChild(run);
            
            const gradient = document.createElement('div');
            gradient.className = 'rise-run';
            gradient.textContent = 'Gradient = 3/5 = 0.6';
            gradient.style.top = '10px';
            gradient.style.left = '10px';
            gradient.style.background = 'rgba(255, 193, 7, 0.9)';
            gradientContainer.appendChild(gradient);
            
            setTimeout(() => {
                alert("Positive Gradient:\n\n‚Ä¢ Line slopes upward left to right\n‚Ä¢ Rise/Run = 3/5 = 0.6\n‚Ä¢ As x increases, y increases");
            }, 500);
        };

        window.showNegativeGradient = function() {
            gradientContainer.innerHTML = '';
            
            const line = document.createElement('div');
            line.style.position = 'absolute';
            line.style.width = '150px';
            line.style.height = '2px';
            line.style.background = 'var(--line-color)';
            line.style.top = '30px';
            line.style.left = '50px';
            line.style.transform = 'rotate(-30deg)';
            line.style.transformOrigin = '0 0';
            gradientContainer.appendChild(line);
            
            const triangle = document.createElement('div');
            triangle.className = 'triangle';
            triangle.style.width = '130px';
            triangle.style.height = '75px';
            triangle.style.borderRight = '2px dashed var(--accent-yellow)';
            triangle.style.borderTop = '2px dashed var(--accent-yellow)';
            triangle.style.top = '30px';
            triangle.style.left = '50px';
            gradientContainer.appendChild(triangle);
            
            const rise = document.createElement('div');
            rise.className = 'rise-run';
            rise.textContent = 'Rise = -3';
            rise.style.top = '10px';
            rise.style.left = '180px';
            gradientContainer.appendChild(rise);
            
            const run = document.createElement('div');
            run.className = 'rise-run';
            run.textContent = 'Run = 5';
            run.style.top = '60px';
            run.style.left = '100px';
            gradientContainer.appendChild(run);
            
            const gradient = document.createElement('div');
            gradient.className = 'rise-run';
            gradient.textContent = 'Gradient = -3/5 = -0.6';
            gradient.style.top = '140px';
            gradient.style.left = '10px';
            gradient.style.background = 'rgba(255, 193, 7, 0.9)';
            gradientContainer.appendChild(gradient);
            
            setTimeout(() => {
                alert("Negative Gradient:\n\n‚Ä¢ Line slopes downward left to right\n‚Ä¢ Rise/Run = -3/5 = -0.6\n‚Ä¢ As x increases, y decreases");
            }, 500);
        };

        window.showZeroGradient = function() {
            gradientContainer.innerHTML = '';
            
            const line = document.createElement('div');
            line.style.position = 'absolute';
            line.style.width = '200px';
            line.style.height = '2px';
            line.style.background = 'var(--line-color)';
            line.style.top = '90px';
            line.style.left = '30px';
            gradientContainer.appendChild(line);
            
            const gradient = document.createElement('div');
            gradient.className = 'rise-run';
            gradient.textContent = 'Gradient = 0';
            gradient.style.top = '60px';
            gradient.style.left = '10px';
            gradient.style.background = 'rgba(255, 193, 7, 0.9)';
            gradientContainer.appendChild(gradient);
            
            setTimeout(() => {
                alert("Zero Gradient:\n\n‚Ä¢ Horizontal line\n‚Ä¢ Rise = 0, so Gradient = 0\n‚Ä¢ y is constant (doesn't change as x changes)");
            }, 500);
        };

        window.showUndefinedGradient = function() {
            gradientContainer.innerHTML = '';
            
            const line = document.createElement('div');
            line.style.position = 'absolute';
            line.style.width = '2px';
            line.style.height = '150px';
            line.style.background = 'var(--line-color)';
            line.style.top = '15px';
            line.style.left = '100px';
            gradientContainer.appendChild(line);
            
            const gradient = document.createElement('div');
            gradient.className = 'rise-run';
            gradient.textContent = 'Gradient = Undefined';
            gradient.style.top = '10px';
            gradient.style.left = '10px';
            gradient.style.background = 'rgba(255, 193, 7, 0.9)';
            gradientContainer.appendChild(gradient);
            
            setTimeout(() => {
                alert("Undefined Gradient:\n\n‚Ä¢ Vertical line\n‚Ä¢ Run = 0, so Gradient is undefined (division by zero)\n‚Ä¢ x is constant (doesn't change as y changes)");
            }, 500);
        };

        // Quadrants
        window.showQuadrantDetails = function(quadrantNum) {
            const quadrant = quadrants[quadrantNum];
            if (!quadrant) return;
            
            let info = `${quadrant.name}\n\n`;
            info += `Coordinates: ${quadrant.signs}\n`;
            info += `${quadrant.description}\n\n`;
            info += "Examples:\n";
            
            switch(quadrantNum) {
                case 1: info += "(2, 5), (1, 3), (4, 1)"; break;
                case 2: info += "(-3, 4), (-1, 2), (-5, 1)"; break;
                case 3: info += "(-2, -3), (-4, -1), (-1, -5)"; break;
                case 4: info += "(3, -2), (1, -4), (5, -1)"; break;
            }
            
            alert(info);
        };

        // Equation forms
        window.showEquationForm = function(form) {
            const formInfo = equationForms[form];
            if (!formInfo) return;
            
            let info = `${formInfo.title}\n\n`;
            info += `Equation: ${formInfo.equation}\n\n`;
            info += `Explanation: ${formInfo.explanation}\n\n`;
            
            if (form === 'slope-intercept') {
                info += "Example: y = 2x + 3\n";
                info += "‚Ä¢ Gradient (m) = 2\n";
                info += "‚Ä¢ y-intercept (b) = 3\n";
                info += "‚Ä¢ Line passes through (0, 3)\n";
                info += "‚Ä¢ For every 1 right, go 2 up";
            } else if (form === 'standard') {
                info += "Example: 3x + 2y = 6\n";
                info += "‚Ä¢ To find x-intercept: set y=0 ‚Üí 3x=6 ‚Üí x=2\n";
                info += "‚Ä¢ To find y-intercept: set x=0 ‚Üí 2y=6 ‚Üí y=3\n";
                info += "‚Ä¢ Can convert to slope-intercept: y = -1.5x + 3";
            }
            
            alert(info);
        };

        // Plotting practice
        function initializePlottingArea() {
            plottingContainer.addEventListener('click', function(e) {
                const rect = plottingContainer.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // Convert to coordinates (simplified: each 40px = 1 unit)
                const coordX = Math.round((x - 100) / 40 * 10) / 10;
                const coordY = Math.round((100 - y) / 40 * 10) / 10;
                
                plotInPracticeArea(coordX, coordY);
            });
        }

        function plotInPracticeArea(x, y) {
            const point = document.createElement('div');
            point.style.position = 'absolute';
            point.style.width = '10px';
            point.style.height = '10px';
            point.style.background = 'var(--point-color)';
            point.style.borderRadius = '50%';
            point.style.left = `${100 + (x * 40)}px`;
            point.style.top = `${100 - (y * 40)}px`;
            point.style.transform = 'translate(-50%, -50%)';
            point.style.cursor = 'pointer';
            point.title = `(${x}, ${y})`;
            
            const label = document.createElement('div');
            label.style.position = 'absolute';
            label.style.color = 'var(--text-primary)';
            label.style.fontSize = '0.8rem';
            label.style.background = 'rgba(0, 0, 0, 0.7)';
            label.style.padding = '2px 5px';
            label.style.borderRadius = '3px';
            label.style.left = `${110 + (x * 40)}px`;
            label.style.top = `${90 - (y * 40)}px`;
            label.textContent = `(${x}, ${y})`;
            
            point.addEventListener('click', function(e) {
                e.stopPropagation();
                point.parentNode.removeChild(point);
                label.parentNode.removeChild(label);
                // Remove from state
                appState.plottingPoints = appState.plottingPoints.filter(p => !(p.x === x && p.y === y));
            });
            
            plottingContainer.appendChild(point);
            plottingContainer.appendChild(label);
            
            appState.plottingPoints.push({ x, y, point, label });
            
            alert(`Plotted point at (${x}, ${y})`);
        }

        window.plotFromInput = function() {
            const x = parseFloat(plotX.value);
            const y = parseFloat(plotY.value);
            
            if (isNaN(x) || isNaN(y)) {
                alert("Please enter valid numbers for x and y coordinates.");
                return;
            }
            
            plotInPracticeArea(x, y);
        };

        window.clearPlotting = function() {
            plottingContainer.querySelectorAll('div').forEach(el => {
                if (el !== plottingContainer.querySelector('.plot-instructions')) {
                    el.parentNode.removeChild(el);
                }
            });
            appState.plottingPoints = [];
        };

        // Graphing challenge
        window.showGraphingChallenge = function() {
            const challenges = [
                "Challenge 1: Plot and connect these points: (1,2), (3,6), (5,10). What do you notice?",
                "Challenge 2: Find the equation of a line passing through (2,3) with gradient 4.",
                "Challenge 3: Graph y = -2x + 5 and find its x-intercept and y-intercept.",
                "Challenge 4: Plot points in all four quadrants and label them."
            ];
            
            const randomChallenge = challenges[Math.floor(Math.random() * challenges.length)];
            
            let info = "üìà Graphing Challenge üìà\n\n";
            info += randomChallenge + "\n\n";
            info += "Use the interactive tools to solve it!\n\n";
            info += "Solutions:\n";
            info += "1. Points lie on line y = 2x\n";
            info += "2. y - 3 = 4(x - 2) or y = 4x - 5\n";
            info += "3. y-intercept: (0,5), x-intercept: (2.5,0)\n";
            info += "4. Example: (3,4), (-3,4), (-3,-4), (3,-4)";
            
            alert(info);
        };

        // Initialize app
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
