<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 5 English - Homophones & Homonyms | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for English/Language Arts Theme */
        :root {
            --primary-indigo: #3F51B5;
            --secondary-teal: #009688;
            --accent-orange: #FF9800;
            --accent-pink: #E91E63;
            --accent-purple: #9C27B0;
            --accent-green: #4CAF50;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(63, 81, 181, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Slideshow */
        .slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-indigo), var(--secondary-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(63, 81, 181, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 25px;
            border: 1px solid var(--primary-indigo);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-indigo);
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-indigo);
            box-shadow: 0 0 0 3px rgba(63, 81, 181, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-indigo);
            color: white;
            box-shadow: 0 4px 15px rgba(63, 81, 181, 0.4);
        }

        .btn-primary:hover {
            background: #303F9F;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(63, 81, 181, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-teal);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 150, 136, 0.4);
        }

        .btn-secondary:hover {
            background: #00796B;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 150, 136, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-indigo);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Mode */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-indigo), var(--secondary-teal));
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(63, 81, 181, 0.5);
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .english-fact {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-orange);
            font-style: italic;
            color: var(--text-secondary);
        }

        /* Content Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .question-side {
            display: flex;
            flex-direction: column;
        }

        .visualization-side {
            display: flex;
            flex-direction: column;
        }

        .concept-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .concept-box {
            background: linear-gradient(135deg, var(--primary-indigo), var(--accent-purple));
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 4px 15px rgba(63, 81, 181, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .concept-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .concept-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 5px;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-indigo);
            background: rgba(63, 81, 181, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(63, 81, 181, 0.1);
            border-color: var(--primary-indigo);
            color: var(--primary-indigo);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-card);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            background: var(--secondary-teal);
        }

        .option.correct .option-letter {
            background: var(--primary-indigo);
            color: white;
        }

        .option.incorrect .option-letter {
            background: #F44336;
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(63, 81, 181, 0.1);
            border-left: 5px solid var(--primary-indigo);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-indigo);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-indigo);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Visualization Components */
        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            height: 100%;
            border: 1px solid var(--dark-border);
            overflow: auto;
        }

        /* Word Display */
        .word-display {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid var(--secondary-teal);
            line-height: 1.6;
            font-size: 1.1rem;
            font-family: 'Courier New', monospace;
        }

        .word-title {
            color: var(--secondary-teal);
            margin-bottom: 10px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .word-type {
            display: inline-block;
            padding: 5px 10px;
            background: var(--primary-indigo);
            color: white;
            border-radius: 4px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .homophone .word-type { background: var(--accent-orange); }
        .homonym .word-type { background: var(--accent-green); }

        /* Comparison Display */
        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .comparison-container {
                grid-template-columns: 1fr;
            }
        }

        .word-column {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            border: 2px solid transparent;
        }

        .word-column.homophone {
            border-color: var(--accent-orange);
        }

        .word-column.homonym {
            border-color: var(--accent-green);
        }

        .column-title {
            color: var(--accent-orange);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .word-column.homonym .column-title {
            color: var(--accent-green);
        }

        /* Word Pair Display */
        .word-pair-display {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .word-pair-display {
                grid-template-columns: 1fr;
            }
        }

        .pair-item {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .pair-icon {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--accent-pink);
        }

        .pair-word {
            font-weight: bold;
            color: var(--primary-indigo);
            margin-bottom: 8px;
            font-size: 1.3rem;
        }

        .pair-meaning {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Rule Cards */
        .rules-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .rules-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .rules-grid {
                grid-template-columns: 1fr;
            }
        }

        .rule-card {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: transform 0.3s ease;
        }

        .rule-card:hover {
            transform: translateY(-3px);
        }

        .rule-card.active {
            border-color: var(--primary-indigo);
            background: rgba(63, 81, 181, 0.1);
        }

        .rule-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            text-align: center;
        }

        .rule-title {
            font-weight: bold;
            color: var(--primary-indigo);
            margin-bottom: 8px;
            text-align: center;
        }

        .rule-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-align: center;
        }

        /* Word Examples Display */
        .word-examples {
            margin: 20px 0;
        }

        .word-example {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid var(--accent-orange);
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .example-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--accent-orange);
            border-radius: 50%;
            font-weight: bold;
            flex-shrink: 0;
        }

        .example-content {
            flex: 1;
        }

        .example-title {
            font-weight: bold;
            color: var(--primary-indigo);
            margin-bottom: 5px;
        }

        .example-sentence {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-style: italic;
            margin-top: 5px;
        }

        /* Memory Tips Display */
        .memory-tips {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--accent-green);
        }

        .tips-title {
            color: var(--accent-green);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .tips-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .tip-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 10px;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 6px;
        }

        .tip-icon {
            color: var(--accent-green);
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .tip-text {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Examples Table */
        .examples-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--dark-card);
            border-radius: 8px;
            overflow: hidden;
        }

        .examples-table th {
            background: var(--dark-surface);
            padding: 12px;
            text-align: left;
            color: var(--primary-indigo);
            border-bottom: 2px solid var(--primary-indigo);
        }

        .examples-table td {
            padding: 10px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
        }

        .examples-table tr:hover {
            background: rgba(63, 81, 181, 0.05);
        }

        .homophone-cell {
            border-left: 4px solid var(--accent-orange);
        }

        .homonym-cell {
            border-left: 4px solid var(--accent-green);
        }

        /* Practice Area */
        .practice-area {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .practice-title {
            color: var(--accent-orange);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .practice-exercise {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .sentence-box {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            border: 2px solid var(--dark-border);
            min-height: 100px;
        }

        .answer-box {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            border: 2px solid var(--accent-green);
            min-height: 100px;
            color: var(--accent-green);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-indigo), var(--secondary-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-indigo), var(--secondary-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-indigo);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .concept-box {
                min-width: 140px;
                font-size: 1.5rem;
                padding: 15px 20px;
            }
            
            .rules-grid {
                grid-template-columns: 1fr;
            }
            
            .word-pair-display {
                grid-template-columns: 1fr;
            }
            
            .tips-list {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes grow {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .grow {
            animation: grow 0.5s ease forwards;
        }
        
        @keyframes wordReveal {
            0% { transform: translateX(-10px); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }
        
        .word-reveal {
            animation: wordReveal 0.5s ease forwards;
        }
        
        @keyframes pairMatch {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        .pair-match {
            animation: pairMatch 0.8s ease forwards;
        }
        
        @keyframes ruleHighlight {
            0%, 100% { background-color: rgba(63, 81, 181, 0.1); border-color: var(--primary-indigo); }
            50% { background-color: rgba(63, 81, 181, 0.3); border-color: var(--secondary-teal); }
        }
        
        .rule-highlight {
            animation: ruleHighlight 1s ease-in-out infinite;
        }
        
        @keyframes soundWave {
            0% { color: var(--accent-orange); }
            50% { color: var(--accent-pink); }
            100% { color: var(--accent-green); }
        }
        
        .sound-wave {
            animation: soundWave 2s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <!-- Background Slideshow -->
    <div class="slideshow" id="slideshow">
        <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1456513080510-34499c43696c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1507842217343-583bb7270b66?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1524578271613-d550eacf6090?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 5 English</h1>
            <p class="welcome-subtitle">Master homophones and homonyms! Learn to distinguish between words that sound alike (homophones) and words that are spelled alike but have different meanings (homonyms). Improve your spelling, vocabulary, and language precision!</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üîäüìù</span>
                <span class="topic-name">Homophones & Homonyms</span>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>Start Word Adventure</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 130</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0.8%"></div>
                </div>
            </div>

            <div class="question-container">
                <!-- English fact display -->
                <div id="englishFact"></div>
                
                <!-- Concept display area -->
                <div id="conceptDisplay"></div>
                
                <!-- Content Wrapper: Questions on left, Visualizations on right -->
                <div class="content-wrapper" id="contentWrapper">
                    <!-- Left side: Question and Options -->
                    <div class="question-side">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                    </div>
                    
                    <!-- Right side: Visualizations -->
                    <div class="visualization-side">
                        <div class="visualization-container" id="visualizationContainer">
                            <!-- All visualizations will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                    <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Word Mastery Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Try Again</button>
                <button class="btn btn-secondary" id="viewTopics">Explore Other Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize slideshow
        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 5000);
        }

        // Questions array - 130+ Grade 5 Homophones & Homonyms questions
        const questions = [
            // Basic Homophone Identification (1-25)
            {
                type: "identify_homophone",
                question: "Which pair are homophones?",
                options: ["Sea - See", "Book - Look", "Run - Ran", "Happy - Sad"],
                answer: "A",
                explanation: "'Sea' and 'See' sound the same but have different meanings and spellings."
            },
            {
                type: "identify_homophone",
                question: "Find the homophone pair:",
                options: ["Two - Too - To", "Cat - Dog", "Fast - Slow", "Big - Large"],
                answer: "A",
                explanation: "'Two', 'Too', and 'To' all sound the same but have different meanings."
            },
            {
                type: "identify_homophone",
                question: "Which are homophones?",
                options: ["Flower - Flour", "Tree - Plant", "Car - Vehicle", "House - Home"],
                answer: "A",
                explanation: "'Flower' (plant) and 'Flour' (baking ingredient) sound the same."
            },
            {
                type: "identify_homophone",
                question: "Identify the homophones:",
                options: ["Hear - Here", "Listen - Hear", "Sound - Noise", "Quiet - Silent"],
                answer: "A",
                explanation: "'Hear' (listen) and 'Here' (location) sound identical."
            },
            {
                type: "identify_homophone",
                question: "Which pair sounds the same?",
                options: ["Peace - Piece", "War - Peace", "Love - Hate", "Friend - Enemy"],
                answer: "A",
                explanation: "'Peace' (calm) and 'Piece' (part) are homophones."
            },
            {
                type: "identify_homophone",
                question: "Find the homophone:",
                options: ["Week - Weak", "Month - Year", "Day - Night", "Hour - Minute"],
                answer: "A",
                explanation: "'Week' (7 days) and 'Weak' (not strong) sound alike."
            },
            {
                type: "identify_homophone",
                question: "Which are homophones?",
                options: ["Sun - Son", "Moon - Star", "Planet - Earth", "Sky - Cloud"],
                answer: "A",
                explanation: "'Sun' (star) and 'Son' (male child) sound the same."
            },
            {
                type: "identify_homophone",
                question: "Identify the homophone pair:",
                options: ["Mail - Male", "Letter - Note", "Package - Box", "Post - Send"],
                answer: "A",
                explanation: "'Mail' (post) and 'Male' (gender) are homophones."
            },
            {
                type: "identify_homophone",
                question: "Which sounds like 'new'?",
                options: ["Knew", "Old", "Fresh", "Recent"],
                answer: "A",
                explanation: "'New' (recent) and 'Knew' (past of know) are homophones."
            },
            {
                type: "identify_homophone",
                question: "Find the homophone for 'right':",
                options: ["Write", "Wrong", "Correct", "Left"],
                answer: "A",
                explanation: "'Right' (correct) and 'Write' (to inscribe) sound the same."

            },
            // Homophone Selection in Sentences (26-50)
            {
                type: "choose_homophone",
                question: "Complete: I need to ___ a letter to my friend.",
                options: ["write", "right", "rite", "wright"],
                answer: "A",
                explanation: "'Write' means to put words on paper, which fits the sentence about a letter."
            },
            {
                type: "choose_homophone",
                question: "Choose: The sun shines brightly in the ___.",
                options: ["sky", "ski", "scei", "skye"],
                answer: "A",
                explanation: "'Sky' refers to the atmosphere above us where the sun is."
            },
            {
                type: "choose_homophone",
                question: "Which is correct? I can ___ the birds singing.",
                options: ["hear", "here", "heer", "heare"],
                answer: "A",
                explanation: "'Hear' means to perceive sound, which fits with birds singing."
            },
            {
                type: "choose_homophone",
                question: "Select: Please come ___ so I can see you.",
                options: ["here", "hear", "heer", "heir"],
                answer: "A",
                explanation: "'Here' means at this location, which fits asking someone to come closer."
            },
            {
                type: "choose_homophone",
                question: "Complete: She ate a ___ of pizza.",
                options: ["piece", "peace", "peese", "peice"],
                answer: "A",
                explanation: "'Piece' means a part or portion, which fits with pizza."
            },
            {
                type: "choose_homophone",
                question: "Choose: We want world ___.",
                options: ["peace", "piece", "peese", "piese"],
                answer: "A",
                explanation: "'Peace' means freedom from war, which fits with 'world peace'."
            },
            {
                type: "choose_homophone",
                question: "Which is correct? I have ___ apples.",
                options: ["eight", "ate", "ait", "eate"],
                answer: "A",
                explanation: "'Eight' is the number, which fits with counting apples."
            },
            {
                type: "choose_homophone",
                question: "Select: Yesterday, I ___ an apple.",
                options: ["ate", "eight", "ait", "eate"],
                answer: "A",
                explanation: "'Ate' is the past tense of eat, which fits with eating an apple."
            },
            {
                type: "choose_homophone",
                question: "Complete: The ___ is shining today.",
                options: ["sun", "son", "sunne", "sonn"],
                answer: "A",
                explanation: "'Sun' is the star that gives us light and heat."
            },
            {
                type: "choose_homophone",
                question: "Choose: My ___ is ten years old.",
                options: ["son", "sun", "sunne", "sonn"],
                answer: "A",
                explanation: "'Son' means male child, which fits with describing age."

            },
            // Homonym Identification (51-75)
            {
                type: "identify_homonym",
                question: "Which word is a homonym?",
                options: ["Bat (animal and sports equipment)", "Cat (only animal)", "Dog (only animal)", "Fish (only animal)"],
                answer: "A",
                explanation: "'Bat' has two meanings: flying mammal and sports equipment used in baseball."
            },
            {
                type: "identify_homonym",
                question: "Find the homonym:",
                options: ["Bank (river side and financial institution)", "River (only water body)", "Lake (only water body)", "Ocean (only water body)"],
                answer: "A",
                explanation: "'Bank' can mean the side of a river or a place where money is kept."
            },
            {
                type: "identify_homonym",
                question: "Which word has multiple meanings?",
                options: ["Light (not heavy and illumination)", "Heavy (only weight)", "Dark (only absence of light)", "Bright (only shining)"],
                answer: "A",
                explanation: "'Light' can mean not heavy or something that illuminates."
            },
            {
                type: "identify_homonym",
                question: "Identify the homonym:",
                options: ["Wave (hand gesture and ocean movement)", "Water (only liquid)", "Swim (only action)", "Boat (only vehicle)"],
                answer: "A",
                explanation: "'Wave' can mean to move your hand or a movement in water."
            },
            {
                type: "identify_homonym",
                question: "Which is a homonym?",
                options: ["Match (game and fire starter)", "Fire (only combustion)", "Game (only activity)", "Player (only person)"],
                answer: "A",
                explanation: "'Match' can mean a sports game or a stick for starting fire."
            },
            {
                type: "identify_homonym",
                question: "Find the word with two meanings:",
                options: ["Watch (timepiece and observe)", "Clock (only timepiece)", "See (only observe)", "Look (only observe)"],
                answer: "A",
                explanation: "'Watch' can be a device that tells time or the action of observing."
            },
            {
                type: "identify_homonym",
                question: "Which homonym can be both noun and verb?",
                options: ["Play (activity and to perform)", "Run (only verb)", "Book (only noun)", "Jump (only verb)"],
                answer: "A",
                explanation: "'Play' can be a noun (a drama) or verb (to engage in activity)."
            },
            {
                type: "identify_homonym",
                question: "Identify: A word that means both 'present time' and 'a gift'",
                options: ["Present", "Gift", "Now", "Current"],
                answer: "A",
                explanation: "'Present' can mean current time or something given as a gift."
            },
            {
                type: "identify_homonym",
                question: "Which word means both 'to tear' and 'water drop'?",
                options: ["Tear", "Rip", "Drop", "Water"],
                answer: "A",
                explanation: "'Tear' (pronounced differently) can mean to rip or a drop from crying."
            },
            {
                type: "identify_homonym",
                question: "Find the homonym for 'ring':",
                options: ["Jewelry and sound", "Only jewelry", "Only sound", "Only circle"],
                answer: "A",
                explanation: "'Ring' can be jewelry for fingers or the sound a bell makes."

            },
            // Homonym Meaning in Context (76-100)
            {
                type: "homonym_context",
                question: "What does 'bat' mean in: 'The baseball player swung the bat.'",
                options: ["Sports equipment", "Flying animal", "To hit", "To blink"],
                answer: "A",
                explanation: "In baseball context, 'bat' refers to the wooden or metal club used to hit the ball."
            },
            {
                type: "homonym_context",
                question: "What does 'bat' mean in: 'The bat flew out of the cave at night.'",
                options: ["Flying mammal", "Sports equipment", "To hit", "Club"],
                answer: "A",
                explanation: "With 'flew' and 'cave', 'bat' refers to the nocturnal flying animal."
            },
            {
                type: "homonym_context",
                question: "Which meaning of 'bank' is used: 'We sat on the river bank to fish.'",
                options: ["Side of river", "Financial institution", "To tilt", "Collection"],
                answer: "A",
                explanation: "'River bank' means the land alongside a river."
            },
            {
                type: "homonym_context",
                question: "What does 'bank' mean in: 'I need to deposit money at the bank.'",
                options: ["Financial institution", "River side", "To rely", "Slope"],
                answer: "A",
                explanation: "With 'deposit money', 'bank' refers to the financial institution."
            },
            {
                type: "homonym_context",
                question: "Identify meaning: 'Please watch your step.'",
                options: ["Be careful", "Timepiece", "Observe closely", "Guard"],
                answer: "A",
                explanation: "'Watch your step' means be careful where you walk."
            },
            {
                type: "homonym_context",
                question: "What does 'watch' mean in: 'My watch says it's 3 o'clock.'",
                options: ["Timepiece", "Observe", "Guard", "Be careful"],
                answer: "A",
                explanation: "When telling time, 'watch' refers to the wrist timepiece."
            },
            {
                type: "homonym_context",
                question: "Which meaning of 'light' is used: 'The room is filled with light.'",
                options: ["Illumination", "Not heavy", "Pale color", "Gentle"],
                answer: "A",
                explanation: "'Filled with light' refers to brightness or illumination."
            },
            {
                type: "homonym_context",
                question: "What does 'light' mean in: 'This box is very light.'",
                options: ["Not heavy", "Bright", "Illumination", "Pale"],
                answer: "A",
                explanation: "Describing weight, 'light' means not heavy."
            },
            {
                type: "homonym_context",
                question: "Identify: 'She will present her project tomorrow.'",
                options: ["Show/display", "Gift", "Current time", "Attend"],
                answer: "A",
                explanation: "'Present her project' means to show or display it to others."
            },
            {
                type: "homonym_context",
                question: "What does 'present' mean in: 'I bought a present for your birthday.'",
                options: ["Gift", "Current time", "To show", "To introduce"],
                answer: "A",
                explanation: "For a birthday, 'present' means a gift."

            },
            // Tricky Homophone Pairs (101-125)
            {
                type: "tricky_homophones",
                question: "Which is correct? Their/There/They're house is blue.",
                options: ["Their", "There", "They're", "Ther"],
                answer: "A",
                explanation: "'Their' shows possession (their house = the house belonging to them)."
            },
            {
                type: "tricky_homophones",
                question: "Complete: ___ going to the park tomorrow.",
                options: ["They're", "Their", "There", "Thier"],
                answer: "A",
                explanation: "'They're' is contraction for 'they are' (they are going)."
            },
            {
                type: "tricky_homophones",
                question: "Choose: Put the book over ___.",
                options: ["there", "their", "they're", "thare"],
                answer: "A",
                explanation: "'There' indicates a place (over there = in that place)."
            },
            {
                type: "tricky_homophones",
                question: "Which is correct? Its/It's raining outside.",
                options: ["It's", "Its", "Its'", "Ites"],
                answer: "A",
                explanation: "'It's' is contraction for 'it is' (it is raining)."
            },
            {
                type: "tricky_homophones",
                question: "Complete: The dog wagged ___ tail.",
                options: ["its", "it's", "its'", "it is"],
                answer: "A",
                explanation: "'Its' shows possession (the dog's tail). No apostrophe for possessive 'its'."
            },
            {
                type: "tricky_homophones",
                question: "Choose: ___ too late to go now.",
                options: ["It's", "Its", "Its'", "Ites"],
                answer: "A",
                explanation: "'It's' = 'it is' (it is too late)."
            },
            {
                type: "tricky_homophones",
                question: "Which is correct? Your/You're book is on the table.",
                options: ["Your", "You're", "Yore", "Yor"],
                answer: "A",
                explanation: "'Your' shows possession (your book = the book belonging to you)."
            },
            {
                type: "tricky_homophones",
                question: "Complete: ___ very good at math.",
                options: ["You're", "Your", "Yore", "Yor"],
                answer: "A",
                explanation: "'You're' is contraction for 'you are' (you are very good)."
            },
            {
                type: "tricky_homophones",
                question: "Choose: ___ going to be a great day!",
                options: ["It's", "Its", "Its'", "Ites"],
                answer: "A",
                explanation: "'It's' = 'it is' (it is going to be)."
            },
            {
                type: "tricky_homophones",
                question: "Which is correct? Whose/Who's jacket is this?",
                options: ["Whose", "Who's", "Whos", "Whoes"],
                answer: "A",
                explanation: "'Whose' asks about possession (whose jacket = which person's jacket)."

            },
            // Sentence Correction with Homophones (126-150)
            {
                type: "correct_homophone",
                question: "Correct: I have to right a story for class.",
                options: ["write", "right", "rite", "wright"],
                answer: "A",
                explanation: "For creating a story, use 'write' (to put words on paper)."
            },
            {
                type: "correct_homophone",
                question: "Fix: Please by some milk at the store.",
                options: ["buy", "by", "bye", "bai"],
                answer: "A",
                explanation: "For purchasing, use 'buy' (to purchase). 'By' means near or through."
            },
            {
                type: "correct_homophone",
                question: "Correct: Their going to the movies tonight.",
                options: ["They're", "Their", "There", "Thier"],
                answer: "A",
                explanation: "Need contraction for 'they are' = 'They're' (they are going)."
            },
            {
                type: "correct_homophone",
                question: "Fix: I can sea the mountains from here.",
                options: ["see", "sea", "seea", "cie"],
                answer: "A",
                explanation: "For vision, use 'see' (to perceive with eyes). 'Sea' is ocean."
            },
            {
                type: "correct_homophone",
                question: "Correct: The whether is nice today.",
                options: ["weather", "whether", "wether", "wheather"],
                answer: "A",
                explanation: "For atmospheric conditions, use 'weather'. 'Whether' expresses alternatives."
            },
            {
                type: "correct_homophone",
                question: "Fix: I ate for pieces of pizza.",
                options: ["four", "for", "fore", "foure"],
                answer: "A",
                explanation: "For the number, use 'four'. 'For' indicates purpose or duration."
            },
            {
                type: "correct_homophone",
                question: "Correct: The flower needs son to grow.",
                options: ["sun", "son", "sunne", "sonn"],
                answer: "A",
                explanation: "Plants need 'sun' (sunlight). 'Son' is a male child."
            },
            {
                type: "correct_homophone",
                question: "Fix: I need a peace of paper.",
                options: ["piece", "peace", "peese", "peice"],
                answer: "A",
                explanation: "For a part of something, use 'piece'. 'Peace' means calm or no war."
            },
            {
                type: "correct_homophone",
                question: "Correct: Do you no the answer?",
                options: ["know", "no", "now", "kno"],
                answer: "A",
                explanation: "For knowledge, use 'know'. 'No' means negative or refusal."
            },
            {
                type: "correct_homophone",
                question: "Fix: She has blew eyes.",
                options: ["blue", "blew", "bloo", "blu"],
                answer: "A",
                explanation: "For color, use 'blue'. 'Blew' is past tense of blow."

            },
            // Advanced Homophone/Homonym Distinction (151-155)
            {
                type: "advanced_distinction",
                question: "What's the difference between homophones and homonyms?",
                options: ["Homophones sound same, homonyms are spelled same", "Homophones are spelled same, homonyms sound same", "Both are the same", "Homophones have same meaning"],
                answer: "A",
                explanation: "Homophones: sound alike (sea/see). Homonyms: spelled alike, different meanings (bat animal/bat sports)."
            },
            {
                type: "advanced_distinction",
                question: "Which is both homophone and homonym?",
                options: ["Bark (dog sound and tree covering)", "Sea/See", "Right/Write", "Flower/Flour"],
                answer: "A",
                explanation: "'Bark' is homonym (same spelling, different meanings) and also homophone with no other word."
            },
            {
                type: "advanced_distinction",
                question: "What are words like 'read' (present) and 'read' (past) called?",
                options: ["Homographs", "Homophones", "Synonyms", "Antonyms"],
                answer: "A",
                explanation: "Homographs are spelled the same but may sound different and have different meanings."
            },
            {
                type: "advanced_distinction",
                question: "Which pair are homonyms but NOT homophones?",
                options: ["Tear (rip) and Tear (cry drop)", "Sea and See", "Flower and Flour", "Right and Write"],
                answer: "A",
                explanation: "'Tear' has different pronunciations for different meanings, so same spelling but different sounds."
            },
            {
                type: "advanced_distinction",
                question: "What do we call words that are spelled and sound the same but have different origins?",
                options: ["Homonyms", "Homophones", "Synonyms", "Etymology"],
                answer: "A",
                explanation: "Homonyms are words that share spelling and pronunciation but have different meanings and origins."
            }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            currentQuestions: [],
            studentName: ""
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent word knowledge!",
            "Fantastic homophone skills!",
            "Great job! You're a vocabulary expert!",
            "Amazing! Your word distinction is perfect!",
            "Well done! Perfect homophone selection!",
            "You're a homophone/homonym champion!",
            "Perfect! You understand word relationships!",
            "Outstanding language precision!",
            "Brilliant! You think like a word expert!",
            "You're on fire! Great linguistic insight!"
        ];

        // Sample homophones for visualization
        const sampleHomophones = [
            {
                words: ["Sea", "See"],
                meanings: ["Large body of salt water", "To perceive with eyes"],
                sentences: ["We sailed across the sea.", "I can see the mountains."]
            },
            {
                words: ["Flower", "Flour"],
                meanings: ["Blooming plant", "Ground grain for baking"],
                sentences: ["She picked a beautiful flower.", "We need flour to make bread."]
            },
            {
                words: ["Son", "Sun"],
                meanings: ["Male child", "Star that gives light"],
                sentences: ["Their son is five years old.", "The sun rises in the east."]
            },
            {
                words: ["Write", "Right"],
                meanings: ["To put words on paper", "Correct or direction"],
                sentences: ["Please write your name here.", "Turn right at the corner."]
            }
        ];

        // Sample homonyms for visualization
        const sampleHomonyms = [
            {
                word: "Bat",
                meanings: ["Nocturnal flying mammal", "Sports equipment for hitting balls"],
                sentences: ["The bat flew out of the cave at dusk.", "He swung the bat and hit a home run."]
            },
            {
                word: "Bank",
                meanings: ["Side of a river", "Financial institution"],
                sentences: ["We had a picnic on the river bank.", "I deposited money at the bank."]
            },
            {
                word: "Light",
                meanings: ["Not heavy", "Source of illumination"],
                sentences: ["This suitcase is very light.", "Turn on the light so we can see."]
            },
            {
                word: "Watch",
                meanings: ["Timepiece worn on wrist", "To observe carefully"],
                sentences: ["My watch says it's 3 o'clock.", "Watch the road while driving."]
            }
        ];

        // Rules for homophones and homonyms
        const wordRules = [
            {
                title: "Homophones",
                icon: "üîä",
                description: "Sound the same, different spellings/meanings",
                examples: ["Sea/See", "Flower/Flour", "Right/Write"]
            },
            {
                title: "Homonyms",
                icon: "üìù",
                description: "Same spelling, different meanings",
                examples: ["Bat (animal/sports)", "Bank (river/money)", "Light (weight/bright)"]
            },
            {
                title: "Context Clues",
                icon: "üîç",
                description: "Use sentence context to determine meaning",
                examples: ["'Bank' with money vs river", "'Bat' flying vs hitting"]
            },
            {
                title: "Common Confusions",
                icon: "‚ö†Ô∏è",
                description: "Watch for tricky pairs",
                examples: ["Their/There/They're", "Your/You're", "Its/It's"]
            },
            {
                title: "Memory Tricks",
                icon: "üí°",
                description: "Use mnemonics to remember",
                examples: ["'Hear' with your ear", "'Here' is a place"]
            },
            {
                title: "Spelling Patterns",
                icon: "‚úèÔ∏è",
                description: "Notice spelling differences",
                examples: ["Flower has 'ower' like power", "Flour has 'our' like sour"]
            }
        ];

        // Tricky homophone groups
        const trickyGroups = [
            {
                group: "Their/There/They're",
                rules: [
                    "Their = possession (their house)",
                    "There = location (over there)", 
                    "They're = contraction (they are)"
                ]
            },
            {
                group: "Your/You're",
                rules: [
                    "Your = possession (your book)",
                    "You're = contraction (you are)"
                ]
            },
            {
                group: "Its/It's",
                rules: [
                    "Its = possession (its tail)",
                    "It's = contraction (it is)"
                ]
            },
            {
                group: "To/Too/Two",
                rules: [
                    "To = preposition (go to school)",
                    "Too = also or excessive (me too, too much)",
                    "Two = number (two apples)"
                ]
            }
        ];

        // Memory tips for common homophones
        const memoryTips = [
            "Hear with your ear",
            "Here is a place (here and there)",
            "Principal is your pal (school principal)",
            "Principle is a rule",
            "Stationery has 'e' for envelope",
            "Stationary has 'a' for stay",
            "Desert has one 's' like sand",
            "Dessert has two 's' like sweet stuff",
            "Affect is usually a verb (action)",
            "Effect is usually a noun (result)"
        ];

        // Homophone categories
        const homophoneCategories = [
            {
                category: "Common Pairs",
                pairs: ["Sea/See", "Sun/Son", "Flower/Flour", "Hear/Here", "Write/Right"]
            },
            {
                category: "Number Words", 
                pairs: ["One/Won", "Two/Too/To", "Four/For", "Eight/Ate"]
            },
            {
                category: "Weather/Time",
                pairs: ["Weather/Whether", "Week/Weak", "Hour/Our", "Days/Daze"]
            },
            {
                category: "Body/Health",
                pairs: ["Heal/Heel", "Pain/Pane", "Muscle/Mussel", "Vein/Vane"]
            }
        ];

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const englishFact = document.getElementById('englishFact');
        const conceptDisplay = document.getElementById('conceptDisplay');
        const visualizationContainer = document.getElementById('visualizationContainer');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const highestScore = document.getElementById('highestScore');

        // Initialize the app
        function initApp() {
            initSlideshow();
            loadStateFromStorage();
            setupEventListeners();
            
            if (appState.studentName && appState.currentQuestions.length > 0) {
                showPracticePage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade5Homophones');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
                appState.score = parsed.score || 0;
                appState.skipped = parsed.skipped || 0;
                appState.answered = parsed.answered || 0;
                appState.currentQuestions = parsed.currentQuestions || [];
                
                if (appState.currentQuestions.length === 0) {
                    initializeQuestions();
                }
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade5Homophones', JSON.stringify(appState));
        }

        // Initialize and shuffle questions
        function initializeQuestions() {
            appState.currentQuestions = [...questions];
            shuffleArray(appState.currentQuestions);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            viewTopicsBtn.addEventListener('click', backToTopics);
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startPractice();
                }
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const totalQuestions = appState.currentQuestions.length;
            const percentage = Math.round((appState.score / totalQuestions) * 100);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            
            const highest = localStorage.getItem('ideolixGrade5Homophones_highestScore') || 0;
            highestScore.textContent = Math.max(highest, appState.score);
            
            if (appState.score > highest) {
                localStorage.setItem('ideolixGrade5Homophones_highestScore', appState.score);
            }
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a word wizard!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You have excellent vocabulary skills!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! Keep practicing to become a word master!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review word pairs and try again!";
            } else {
                scoreMessage.textContent = "Keep learning! Vocabulary grows with practice!";
            }
        }

        // Create English fact display
        function createEnglishFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'english-fact';
            
            const facts = [
                "English has over 6000 homophones! That's why spelling can be tricky!",
                "The longest homophone pair in English is 'altar' (religious table) and 'alter' (to change)!",
                "Some languages like Chinese have many more homophones than English!",
                "The word 'homophone' comes from Greek: 'homo' (same) + 'phone' (sound)!",
                "Shakespeare loved playing with homophones for puns and wordplay!",
                "The most common homophone mistake in English is their/there/they're!",
                "Some homophones are spelled the same but pronounced differently (homographs)!",
                "Homophones are a major reason why English spelling seems irregular!"
            ];
            
            factDiv.innerHTML = `<strong>Word Fact:</strong> ${facts[Math.floor(Math.random() * facts.length)]}`;
            
            return factDiv;
        }

        // Create concept display
        function createConceptDisplay() {
            const display = document.createElement('div');
            display.className = 'concept-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            const conceptIcons = {
                "identify_homophone": "üîä",
                "choose_homophone": "‚úÖ",
                "identify_homonym": "üìù",
                "homonym_context": "üîç",
                "tricky_homophones": "‚ö†Ô∏è",
                "correct_homophone": "‚úèÔ∏è",
                "advanced_distinction": "üß†"
            };
            
            let conceptName = "Homophones";
            let conceptIcon = "üîä";
            
            if (question.type.includes("identify_homophone")) {
                conceptName = "Identifying Homophones";
                conceptIcon = conceptIcons.identify_homophone;
            } else if (question.type.includes("choose_homophone")) {
                conceptName = "Choosing Homophones";
                conceptIcon = conceptIcons.choose_homophone;
            } else if (question.type.includes("identify_homonym")) {
                conceptName = "Identifying Homonyms";
                conceptIcon = conceptIcons.identify_homonym;
            } else if (question.type.includes("homonym_context")) {
                conceptName = "Homonym Context";
                conceptIcon = conceptIcons.homonym_context;
            } else if (question.type.includes("tricky_homophones")) {
                conceptName = "Tricky Homophones";
                conceptIcon = conceptIcons.tricky_homophones;
            } else if (question.type.includes("correct_homophone")) {
                conceptName = "Correcting Homophones";
                conceptIcon = conceptIcons.correct_homophone;
            } else if (question.type.includes("advanced_distinction")) {
                conceptName = "Advanced Concepts";
                conceptIcon = conceptIcons.advanced_distinction;
            }
            
            const conceptBox = document.createElement('div');
            conceptBox.className = 'concept-box grow';
            conceptBox.innerHTML = `
                <div class="concept-icon">${conceptIcon}</div>
                <div class="concept-text">${conceptName.toUpperCase()}</div>
            `;
            
            const label = document.createElement('div');
            label.className = 'concept-label';
            
            if (question.type.includes("identify_homophone")) {
                label.textContent = "Recognizing words that sound the same";
            } else if (question.type.includes("choose_homophone")) {
                label.textContent = "Selecting correct homophone in sentences";
            } else if (question.type.includes("identify_homonym")) {
                label.textContent = "Recognizing words with multiple meanings";
            } else if (question.type.includes("homonym_context")) {
                label.textContent = "Determining meaning from context";
            } else if (question.type.includes("tricky_homophones")) {
                label.textContent = "Mastering commonly confused words";
            } else if (question.type.includes("correct_homophone")) {
                label.textContent = "Fixing homophone errors in writing";
            } else if (question.type.includes("advanced_distinction")) {
                label.textContent = "Understanding word relationships";
            }
            
            display.appendChild(conceptBox);
            display.appendChild(label);
            
            return display;
        }

        // Create word visualization
        function createWordVisualization() {
            const vizDiv = document.createElement('div');
            vizDiv.className = 'visualization-container';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const homophone = sampleHomophones[Math.floor(Math.random() * sampleHomophones.length)];
            const homonym = sampleHomonyms[Math.floor(Math.random() * sampleHomonyms.length)];
            
            vizDiv.innerHTML = `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--primary-indigo);">Homophones & Homonyms</h3>
                
                <div class="comparison-container">
                    <div class="word-column homophone">
                        <div class="column-title">Homophones</div>
                        <div class="word-display homophone">
                            <div style="text-align: center; font-size: 1.5rem; font-weight: bold; margin-bottom: 15px; color: var(--accent-orange);">
                                ${homophone.words[0]} / ${homophone.words[1]}
                            </div>
                            <div style="margin-bottom: 15px;">
                                <strong>${homophone.words[0]}:</strong> ${homophone.meanings[0]}<br>
                                <em>"${homophone.sentences[0]}"</em>
                            </div>
                            <div>
                                <strong>${homophone.words[1]}:</strong> ${homophone.meanings[1]}<br>
                                <em>"${homophone.sentences[1]}"</em>
                            </div>
                        </div>
                        <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                            <strong>Key Point:</strong> Same sound, different spellings and meanings
                        </div>
                    </div>
                    
                    <div class="word-column homonym">
                        <div class="column-title">Homonyms</div>
                        <div class="word-display homonym">
                            <div style="text-align: center; font-size: 1.5rem; font-weight: bold; margin-bottom: 15px; color: var(--accent-green);">
                                ${homonym.word}
                            </div>
                            <div style="margin-bottom: 15px;">
                                <strong>Meaning 1:</strong> ${homonym.meanings[0]}<br>
                                <em>"${homonym.sentences[0]}"</em>
                            </div>
                            <div>
                                <strong>Meaning 2:</strong> ${homonym.meanings[1]}<br>
                                <em>"${homonym.sentences[1]}"</em>
                            </div>
                        </div>
                        <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                            <strong>Key Point:</strong> Same spelling, different meanings
                        </div>
                    </div>
                </div>
                
                <div class="word-pair-display">
                    <div class="pair-item word-reveal" style="animation-delay: 0s">
                        <div class="pair-icon">üîä</div>
                        <div class="pair-word">Sea / See</div>
                        <div class="pair-meaning">Ocean vs Vision</div>
                    </div>
                    <div class="pair-item word-reveal" style="animation-delay: 0.1s">
                        <div class="pair-icon">üîä</div>
                        <div class="pair-word">Flower / Flour</div>
                        <div class="pair-meaning">Plant vs Baking</div>
                    </div>
                    <div class="pair-item word-reveal" style="animation-delay: 0.2s">
                        <div class="pair-icon">üìù</div>
                        <div class="pair-word">Bat</div>
                        <div class="pair-meaning">Animal / Sports</div>
                    </div>
                    <div class="pair-item word-reveal" style="animation-delay: 0.3s">
                        <div class="pair-icon">üìù</div>
                        <div class="pair-word">Bank</div>
                        <div class="pair-meaning">River / Money</div>
                    </div>
                </div>
                
                <div class="rules-grid">
                    ${wordRules.map((rule, index) => `
                        <div class="rule-card rule-highlight" style="animation-delay: ${index * 0.1}s">
                            <div class="rule-icon">${rule.icon}</div>
                            <div class="rule-title">${rule.title}</div>
                            <div class="rule-description">${rule.description}</div>
                            <div style="font-size: 0.8rem; color: var(--accent-orange); margin-top: 8px;">
                                ${rule.examples.join(', ')}
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="memory-tips">
                    <div class="tips-title">Memory Tips</div>
                    <div class="tips-list">
                        ${memoryTips.slice(0, 6).map((tip, index) => `
                            <div class="tip-item sound-wave" style="animation-delay: ${index * 0.1}s">
                                <div class="tip-icon">üí°</div>
                                <div class="tip-text">${tip}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="word-examples">
                    <h4 style="color: var(--accent-purple); margin-bottom: 15px; text-align: center;">Tricky Homophone Groups</h4>
                    
                    ${trickyGroups.map((group, groupIndex) => `
                        <div class="word-example pair-match" style="animation-delay: ${groupIndex * 0.1}s">
                            <div class="example-number">${groupIndex + 1}</div>
                            <div class="example-content">
                                <div class="example-title" style="color: var(--accent-orange);">${group.group}</div>
                                <div style="font-size: 0.9rem; color: var(--text-secondary);">
                                    ${group.rules.map(rule => `<div>‚Ä¢ ${rule}</div>`).join('')}
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <table class="examples-table">
                    <thead>
                        <tr>
                            <th>Category</th>
                            <th>Word Pairs</th>
                            <th>Type</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${homophoneCategories.map((category, index) => `
                            <tr>
                                <td>${category.category}</td>
                                <td class="homophone-cell">${category.pairs.join(', ')}</td>
                                <td>${index < 2 ? 'Homophones' : 'Mixed'}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
                
                <div class="practice-area">
                    <div class="practice-title">Quick Practice</div>
                    <div class="practice-exercise">
                        <div class="sentence-box">
                            <strong>Complete the sentence:</strong><br>
                            "I need to ___ a letter to my grandma."
                        </div>
                        <div class="answer-box">
                            <strong>Answer:</strong><br>
                            "write" (not "right") - because you create a letter with writing
                        </div>
                    </div>
                </div>
                
                <div style="background: var(--dark-card); padding: 15px; border-radius: 8px; margin-top: 20px; border-left: 4px solid var(--accent-pink);">
                    <div style="color: var(--accent-pink); font-weight: bold; margin-bottom: 10px;">Quick Test Yourself:</div>
                    <div style="color: var(--text-secondary); font-size: 0.9rem;">
                        1. Which is correct: "Their/There/They're" going to the store?<br>
                        2. What are two meanings of "bank"?<br>
                        3. Complete: "The ___ (sun/son) is bright today."
                    </div>
                </div>
            `;
            
            return vizDiv;
        }

        // Load current question
        function loadQuestion() {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${appState.currentQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / appState.currentQuestions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            englishFact.innerHTML = '';
            conceptDisplay.innerHTML = '';
            visualizationContainer.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            englishFact.appendChild(createEnglishFact());
            conceptDisplay.appendChild(createConceptDisplay());
            visualizationContainer.appendChild(createWordVisualization());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation, question.answer);
            }
            
            nextQuestionBtn.disabled = false;
            saveStateToStorage();
        }

        // Show feedback
        function showFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    const correctOption = String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65));
                    const correctText = questions.find(q => 
                        appState.currentQuestions[appState.currentQuestionIndex].question === q.question
                    )?.options[correctAnswer.charCodeAt(0) - 65];
                    
                    feedbackMessage.textContent = `Correct answer: ${correctOption} (${correctText})`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Move to next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions();
            
            saveStateToStorage();
            showPracticePage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            alert("In a complete implementation, this would navigate to the topics selection page.");
        }

        // Start practice session
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            if (appState.currentQuestions.length === 0) {
                initializeQuestions();
            }
            
            saveStateToStorage();
            showPracticePage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
