<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 8 English - Clauses: Main, Subordinate, Relative | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for English Theme */
        :root {
            --main-clause: #9C27B0;
            --subordinate-clause: #2196F3;
            --relative-clause: #4CAF50;
            --clause-red: #F44336;
            --clause-orange: #FF9800;
            --clause-yellow: #FFC107;
            --clause-teal: #009688;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --main-glow: 0 0 20px rgba(156, 39, 176, 0.4);
            --sub-glow: 0 0 20px rgba(33, 150, 243, 0.4);
            --relative-glow: 0 0 20px rgba(76, 175, 80, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(156, 39, 176, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(33, 150, 243, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(76, 175, 80, 0.05) 0%, transparent 50%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 10px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info h1 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--main-clause), var(--subordinate-clause), var(--relative-clause));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(156, 39, 176, 0.15);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            border: 2px solid var(--main-clause);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--main-clause);
        }

        .input-group {
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--main-clause);
            box-shadow: 0 0 0 3px rgba(156, 39, 176, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--main-clause);
            color: white;
            box-shadow: 0 4px 12px rgba(156, 39, 176, 0.3);
        }

        .btn-primary:hover {
            background: #7b1fa2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(156, 39, 176, 0.4);
        }

        .btn-secondary {
            background: var(--subordinate-clause);
            color: white;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-secondary:hover {
            background: #1976D2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
        }

        .btn-success {
            background: var(--relative-clause);
            color: white;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .btn-success:hover {
            background: #388E3C;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--main-clause);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Clause Grid */
        .clause-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        @media (max-width: 768px) {
            .clause-grid {
                grid-template-columns: 1fr;
            }
        }

        .clause-card {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .clause-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .clause-card.main {
            border-color: var(--main-clause);
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.1), transparent);
        }

        .clause-card.subordinate {
            border-color: var(--subordinate-clause);
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), transparent);
        }

        .clause-card.relative {
            border-color: var(--relative-clause);
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), transparent);
        }

        .clause-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .clause-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .clause-card.main .clause-title {
            color: var(--main-clause);
        }

        .clause-card.subordinate .clause-title {
            color: var(--subordinate-clause);
        }

        .clause-card.relative .clause-title {
            color: var(--relative-clause);
        }

        .clause-features {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--dark-border);
            flex-grow: 1;
        }

        .clause-features h4 {
            font-size: 0.9rem;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .feature-list {
            list-style-type: none;
        }

        .feature-list li {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-bottom: 4px;
            padding-left: 15px;
            position: relative;
        }

        .feature-list li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: var(--clause-teal);
        }

        /* Practice Page */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 8px;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--main-clause), var(--subordinate-clause), var(--relative-clause));
            border-radius: 8px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(156, 39, 176, 0.5);
        }

        .question-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .english-tip {
            background: rgba(255, 193, 7, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--clause-yellow);
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--main-clause);
            background: rgba(156, 39, 176, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--relative-clause);
            color: var(--relative-clause);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 25px;
            height: 25px;
            background: var(--clause-teal);
            border-radius: 50%;
            margin-right: 12px;
            font-weight: bold;
            color: white;
        }

        .option.correct .option-letter {
            background: var(--relative-clause);
        }

        .option.incorrect .option-letter {
            background: #F44336;
        }

        /* Feedback */
        .feedback-container {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--relative-clause);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--relative-clause);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .feedback-correct .feedback-title {
            color: var(--relative-clause);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-explanation {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Navigation */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        /* Visualization Side */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
            overflow: auto;
            max-height: 800px;
        }

        /* Clause Visualizers */
        .clause-visualizer {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid;
            position: relative;
        }

        .main-visualizer {
            border-color: var(--main-clause);
        }

        .subordinate-visualizer {
            border-color: var(--subordinate-clause);
        }

        .relative-visualizer {
            border-color: var(--relative-clause);
        }

        .visualizer-title {
            color: inherit;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .clause-canvas {
            width: 100%;
            height: 150px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        /* Sentence Builder */
        .sentence-builder {
            width: 100%;
            min-height: 200px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
            padding: 15px;
            border: 1px solid var(--dark-border);
        }

        .clause-piece {
            display: inline-block;
            padding: 8px 12px;
            margin: 5px;
            border-radius: 6px;
            cursor: grab;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .clause-piece:hover {
            transform: scale(1.05);
        }

        .main-piece {
            background: var(--main-clause);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .sub-piece {
            background: var(--subordinate-clause);
            border: 2px dashed rgba(255, 255, 255, 0.3);
        }

        .relative-piece {
            background: var(--relative-clause);
            border: 2px dotted rgba(255, 255, 255, 0.3);
        }

        .sentence-area {
            min-height: 100px;
            border: 2px dashed var(--dark-border);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 8px;
        }

        /* Clause Examples */
        .examples-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--clause-yellow);
        }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .examples-grid {
                grid-template-columns: 1fr;
            }
        }

        .example-card {
            background: var(--dark-surface);
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid;
        }

        .main-example {
            border-left-color: var(--main-clause);
        }

        .sub-example {
            border-left-color: var(--subordinate-clause);
        }

        .relative-example {
            border-left-color: var(--relative-clause);
        }

        .example-sentence {
            font-size: 1rem;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .example-analysis {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .highlight {
            font-weight: bold;
            text-decoration: underline;
        }

        /* Comparison Tables */
        .comparison-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--clause-teal);
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
        }

        .comparison-table th {
            background: var(--dark-card);
            padding: 10px;
            text-align: left;
            color: var(--clause-teal);
            border-bottom: 2px solid var(--clause-teal);
        }

        .comparison-table td {
            padding: 8px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
            font-size: 0.85rem;
            cursor: pointer;
        }

        .comparison-table td:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Interactive Quiz */
        .classification-quiz {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--clause-orange);
        }

        .classification-items {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .classification-items {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .classification-item {
            padding: 8px;
            background: var(--dark-surface);
            border: 2px dashed var(--dark-border);
            border-radius: 6px;
            text-align: center;
            cursor: grab;
            transition: all 0.2s ease;
            font-size: 0.85rem;
        }

        .classification-item:hover {
            border-color: var(--clause-orange);
        }

        .classification-zones {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .classification-zone {
            padding: 15px;
            border: 2px dashed var(--dark-border);
            border-radius: 8px;
            min-height: 100px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .classification-zone.active {
            border-color: var(--relative-clause);
            background: rgba(76, 175, 80, 0.1);
        }

        /* Clause Connectors */
        .connectors-panel {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--subordinate-clause);
        }

        .connectors-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 10px 0;
        }

        .connector-item {
            background: var(--dark-surface);
            padding: 10px;
            border-radius: 6px;
            border-left: 4px solid var(--subordinate-clause);
            font-size: 0.9rem;
            text-align: center;
        }

        /* Interactive Controls */
        .controls-panel {
            background: var(--dark-surface);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .control-group {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }

        .results-title {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--main-clause), var(--subordinate-clause), var(--relative-clause));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--main-clause), var(--subordinate-clause), var(--relative-clause));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--main-clause);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .floating {
            animation: float 3s ease-in-out infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 1.8rem;
            }
            
            .clause-grid {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .examples-grid {
                grid-template-columns: 1fr;
            }
            
            .classification-items {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .classification-zones {
                grid-template-columns: 1fr;
            }
            
            .connectors-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <h1 class="welcome-title">Grade 8 English: Mastering Clauses</h1>
            <p class="welcome-subtitle">Unlock the building blocks of complex sentences! Learn to identify and use main, subordinate, and relative clauses to enhance your writing and analysis skills.</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üìö‚úçÔ∏èüîç</span>
                <span class="topic-name">Main, Subordinate & Relative Clauses</span>
            </div>
            
            <div class="clause-grid">
                <div class="clause-card main" onclick="showClauseDetail('main')">
                    <div class="clause-icon">‚≠ê</div>
                    <h3 class="clause-title">Main Clause</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Independent clause that can stand alone</p>
                    <div class="clause-features">
                        <h4>Characteristics:</h4>
                        <ul class="feature-list">
                            <li>Can stand alone as sentence</li>
                            <li>Has subject and predicate</li>
                            <li>Expresses complete thought</li>
                            <li>Also called independent clause</li>
                        </ul>
                    </div>
                </div>
                
                <div class="clause-card subordinate" onclick="showClauseDetail('subordinate')">
                    <div class="clause-icon">üîó</div>
                    <h3 class="clause-title">Subordinate Clause</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Dependent clause that cannot stand alone</p>
                    <div class="clause-features">
                        <h4>Characteristics:</h4>
                        <ul class="feature-list">
                            <li>Cannot stand alone</li>
                            <li>Begins with subordinating conjunction</li>
                            <li>Adds information to main clause</li>
                            <li>Also called dependent clause</li>
                        </ul>
                    </div>
                </div>
                
                <div class="clause-card relative" onclick="showClauseDetail('relative')">
                    <div class="clause-icon">üéØ</div>
                    <h3 class="clause-title">Relative Clause</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Type of subordinate clause that modifies nouns</p>
                    <div class="clause-features">
                        <h4>Characteristics:</h4>
                        <ul class="feature-list">
                            <li>Begins with relative pronoun</li>
                            <li>Modifies noun/pronoun</li>
                            <li>Adds essential/extra information</li>
                            <li>Can be restrictive or non-restrictive</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your name:</label>
                <input type="text" id="studentName" placeholder="Your name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>üìö Begin Clause Practice</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 100</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 1%"></div>
                </div>
            </div>

            <div class="question-container">
                <div id="englishTip"></div>
                
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-explanation" id="feedbackExplanation"></div>
                </div>
            </div>
            
            <!-- Visualization Area -->
            <div class="content-wrapper">
                <div class="visualization-container">
                    <!-- Sentence Builder -->
                    <div class="clause-visualizer main-visualizer">
                        <div class="visualizer-title">Sentence Builder</div>
                        <div class="sentence-builder">
                            <div id="clausePieces">
                                <!-- Clause pieces will be added here -->
                            </div>
                            <div class="sentence-area" id="sentenceArea" ondrop="dropPiece(event)" ondragover="allowDrop(event)">
                                Drag clause pieces here to build sentences
                            </div>
                        </div>
                        <div class="controls-panel">
                            <div class="control-group">
                                <button class="btn btn-small btn-primary" onclick="buildSimpleSentence()">Simple Sentence</button>
                                <button class="btn btn-small btn-secondary" onclick="buildComplexSentence()">Complex Sentence</button>
                                <button class="btn btn-small btn-success" onclick="buildRelativeSentence()">Relative Clause Sentence</button>
                                <button class="btn btn-small btn-outline" onclick="clearSentence()">Clear</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Clause Examples -->
                    <div class="examples-section">
                        <div class="visualizer-title">Clause Examples</div>
                        <div class="examples-grid">
                            <div class="example-card main-example">
                                <div class="example-sentence">
                                    "<span class="highlight" style="color: var(--main-clause);">She completed her homework</span> before dinner."
                                </div>
                                <div class="example-analysis">
                                    <strong>Main Clause:</strong> "She completed her homework" - Can stand alone
                                </div>
                            </div>
                            <div class="example-card sub-example">
                                <div class="example-sentence">
                                    "We will go <span class="highlight" style="color: var(--subordinate-clause);">if it doesn't rain</span>."
                                </div>
                                <div class="example-analysis">
                                    <strong>Subordinate Clause:</strong> "if it doesn't rain" - Cannot stand alone
                                </div>
                            </div>
                            <div class="example-card relative-example">
                                <div class="example-sentence">
                                    "The book <span class="highlight" style="color: var(--relative-clause);">that I borrowed</span> was excellent."
                                </div>
                                <div class="example-analysis">
                                    <strong>Relative Clause:</strong> "that I borrowed" - Modifies "book"
                                </div>
                            </div>
                            <div class="example-card main-example">
                                <div class="example-sentence">
                                    "<span class="highlight" style="color: var(--main-clause);">He runs every morning</span> to stay healthy."
                                </div>
                                <div class="example-analysis">
                                    <strong>Main Clause:</strong> "He runs every morning" - Complete thought
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Comparison Table -->
                    <div class="comparison-section">
                        <div class="visualizer-title">Clause Types Comparison</div>
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Feature</th>
                                    <th>Main Clause</th>
                                    <th>Subordinate Clause</th>
                                    <th>Relative Clause</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr onclick="showComparisonDetail('stand_alone')">
                                    <td>Can Stand Alone</td>
                                    <td>‚úì Yes</td>
                                    <td>‚úó No</td>
                                    <td>‚úó No</td>
                                </tr>
                                <tr onclick="showComparisonDetail('begins_with')">
                                    <td>Begins With</td>
                                    <td>Capital letter</td>
                                    <td>Subordinating conjunction</td>
                                    <td>Relative pronoun</td>
                                </tr>
                                <tr onclick="showComparisonDetail('function')">
                                    <td>Function</td>
                                    <td>Main statement</td>
                                    <td>Adds information</td>
                                    <td>Modifies noun</td>
                                </tr>
                                <tr onclick="showComparisonDetail('examples_start')">
                                    <td>Example Starters</td>
                                    <td>I, We, He, She, They</td>
                                    <td>if, when, because, although</td>
                                    <td>who, which, that, whose</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Connectors Panel -->
                    <div class="connectors-panel">
                        <div class="visualizer-title">Clause Connectors</div>
                        <div class="connectors-grid">
                            <div class="connector-item">if</div>
                            <div class="connector-item">when</div>
                            <div class="connector-item">because</div>
                            <div class="connector-item">although</div>
                            <div class="connector-item">since</div>
                            <div class="connector-item">while</div>
                            <div class="connector-item">until</div>
                            <div class="connector-item">unless</div>
                            <div class="connector-item">who</div>
                            <div class="connector-item">which</div>
                            <div class="connector-item">that</div>
                            <div class="connector-item">whose</div>
                        </div>
                        <div style="margin-top: 10px; color: var(--text-secondary); font-size: 0.9rem; text-align: center;">
                            Subordinating conjunctions and relative pronouns
                        </div>
                    </div>
                    
                    <!-- Interactive Quiz -->
                    <div class="classification-quiz">
                        <div class="visualizer-title">Clause Classification Challenge</div>
                        <div id="quizInstruction" style="margin-bottom: 10px; color: var(--text-primary); text-align: center;">
                            Drag sentences to correct category:
                        </div>
                        <div class="classification-items" id="classificationItems">
                            <!-- Sentences to classify will be added here -->
                        </div>
                        <div class="classification-zones">
                            <div class="classification-zone" id="zoneMain" ondrop="dropClassification(event)" ondragover="allowDrop(event)">
                                <div style="color: var(--main-clause); font-weight: bold;">Main Clause</div>
                            </div>
                            <div class="classification-zone" id="zoneSubordinate" ondrop="dropClassification(event)" ondragover="allowDrop(event)">
                                <div style="color: var(--subordinate-clause); font-weight: bold;">Subordinate Clause</div>
                            </div>
                            <div class="classification-zone" id="zoneRelative" ondrop="dropClassification(event)" ondragover="allowDrop(event)">
                                <div style="color: var(--relative-clause); font-weight: bold;">Relative Clause</div>
                            </div>
                        </div>
                        <div id="classificationFeedback" style="margin-top: 10px; color: var(--text-secondary); text-align: center; font-size: 0.9rem;"></div>
                        <div class="control-group" style="margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="newClassificationChallenge()">New Challenge</button>
                            <button class="btn btn-small btn-secondary" onclick="checkClassification()">Check Answers</button>
                            <button class="btn btn-small btn-secondary" onclick="resetClassification()">Reset</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-secondary" id="skipQuestion">Skip Question</button>
                <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Clause Mastery Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="timeSpent">0min</div>
                        <div class="stat-label">Time Spent</div>
                    </div>
                </div>
                
                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn btn-primary" id="retryTopic">Try Again</button>
                    <button class="btn btn-secondary" id="viewTopics">Other Topics</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 100 Comprehensive Clause Questions
        const questions = [
            // Main Clause Questions (1-30)
            {
                question: "What is a main clause?",
                options: ["Independent clause that can stand alone", "Dependent clause", "Phrase without subject", "Sentence fragment"],
                answer: "A",
                explanation: "A main clause is an independent clause that contains a subject and predicate and can stand alone as a complete sentence."
            },
            {
                question: "Which of these is a main clause?",
                options: ["She reads books", "Because she reads books", "When she reads books", "That she reads books"],
                answer: "A",
                explanation: "'She reads books' is a main clause - it has subject (she) and predicate (reads books) and expresses a complete thought."
            },
            {
                question: "How many main clauses are in a simple sentence?",
                options: ["One", "Two", "Three", "None"],
                answer: "A",
                explanation: "A simple sentence contains exactly one main clause (independent clause)."
            },
            {
                question: "Which sentence contains only a main clause?",
                options: ["The dog barked loudly.", "When the dog barked", "Although the dog barked", "If the dog barked"],
                answer: "A",
                explanation: "'The dog barked loudly.' is a simple sentence with only a main clause."
            },
            {
                question: "What must every main clause have?",
                options: ["Subject and predicate", "Subordinating conjunction", "Relative pronoun", "Comma"],
                answer: "A",
                explanation: "Every main clause must have a subject (who/what) and a predicate (action/state)."
            },
            {
                question: "Identify the main clause: 'After I finish work, I will call you.'",
                options: ["I will call you", "After I finish work", "finish work", "call you"],
                answer: "A",
                explanation: "'I will call you' is the main clause - it can stand alone as a complete sentence."
            },
            {
                question: "Which is NOT a characteristic of a main clause?",
                options: ["Begins with 'because'", "Can stand alone", "Has subject and verb", "Expresses complete thought"],
                answer: "A",
                explanation: "Main clauses don't begin with subordinating conjunctions like 'because' - those are for subordinate clauses."
            },
            {
                question: "What type of clause is this: 'Birds fly south in winter'?",
                options: ["Main clause", "Subordinate clause", "Relative clause", "Phrase"],
                answer: "A",
                explanation: "This is a main clause - complete thought with subject (birds) and predicate (fly south in winter)."
            },
            {
                question: "How can you identify a main clause?",
                options: ["It can stand alone as sentence", "It starts with 'who'", "It needs another clause", "It modifies a noun"],
                answer: "A",
                explanation: "The key test: if it can stand alone as a complete sentence, it's a main clause."
            },
            {
                question: "Which sentence has two main clauses?",
                options: ["I read and she writes.", "Because I read, she writes.", "The book that I read", "Reading books daily"],
                answer: "A",
                explanation: "'I read and she writes.' has two main clauses joined by 'and'."
            },
            {
                question: "What punctuation joins two main clauses?",
                options: ["Semicolon or comma + conjunction", "Only comma", "No punctuation needed", "Colon always"],
                answer: "A",
                explanation: "Two main clauses can be joined by semicolon or comma + coordinating conjunction."
            },
            {
                question: "Which is a compound sentence?",
                options: ["Two main clauses joined", "One main clause", "Main + subordinate clause", "Three phrases"],
                answer: "A",
                explanation: "A compound sentence contains two or more main clauses."
            },
            {
                question: "Identify main clause: 'Although tired, she continued working.'",
                options: ["she continued working", "Although tired", "continued working", "tired she"],
                answer: "A",
                explanation: "'she continued working' is the main clause; 'Although tired' is subordinate."
            },
            {
                question: "What's another name for main clause?",
                options: ["Independent clause", "Dependent clause", "Relative clause", "Noun clause"],
                answer: "A",
                explanation: "Main clause = independent clause (can stand independently)."
            },
            {
                question: "Which can be a complete sentence?",
                options: ["Main clause only", "Subordinate clause only", "Relative clause only", "Phrase only"],
                answer: "A",
                explanation: "Only a main clause can be a complete sentence on its own."
            },
            {
                question: "How many clauses in: 'He runs fast'?",
                options: ["One main clause", "Two clauses", "One subordinate", "No clause"],
                answer: "A",
                explanation: "This is a simple sentence with one main clause."
            },
            {
                question: "Which starts a main clause?",
                options: ["The students", "When students", "Because students", "If students"],
                answer: "A",
                explanation: "Main clauses typically start with the subject, not subordinating words."
            },
            {
                question: "What's missing from a sentence fragment?",
                options: ["Main clause", "Subordinate clause", "Relative pronoun", "Conjunction"],
                answer: "A",
                explanation: "A fragment lacks a main clause and cannot stand alone."
            },
            {
                question: "Identify main clause: 'Before dinner, we played games.'",
                options: ["we played games", "Before dinner", "played games", "dinner we"],
                answer: "A",
                explanation: "'we played games' is the independent main clause."
            },
            {
                question: "Which is complex sentence?",
                options: ["Main + subordinate clause", "Two main clauses", "One main clause", "Three main clauses"],
                answer: "A",
                explanation: "Complex sentence = one main clause + one or more subordinate clauses."
            },
            {
                question: "What does every sentence need?",
                options: ["At least one main clause", "Subordinate clause", "Relative clause", "Two clauses"],
                answer: "A",
                explanation: "Every complete sentence must contain at least one main clause."
            },
            {
                question: "Which is correct?",
                options: ["Main clauses can be joined", "Main clauses can't be joined", "Only phrases join", "Never join clauses"],
                answer: "A",
                explanation: "Main clauses can be properly joined with correct punctuation."
            },
            {
                question: "What type is: 'She sings beautifully'?",
                options: ["Main clause", "Subordinate clause", "Relative clause", "Incomplete"],
                answer: "A",
                explanation: "Complete thought with subject (she) and predicate (sings beautifully)."
            },
            {
                question: "Which needs a main clause?",
                options: ["Complete sentence", "Phrase", "Fragment", "All of these"],
                answer: "A",
                explanation: "Only a complete sentence requires a main clause."
            },
            {
                question: "How to fix fragment 'Because I study'?",
                options: ["Add main clause", "Remove 'because'", "Add comma", "Capitalize"],
                answer: "A",
                explanation: "Add a main clause: 'Because I study, I get good grades.'"
            },
            {
                question: "Identify: 'They arrived early'",
                options: ["Main clause", "Subordinate", "Relative", "Phrase"],
                answer: "A",
                explanation: "Independent clause that can stand alone."
            },
            {
                question: "Which conjunction joins main clauses?",
                options: ["and, but, or", "because, if, when", "who, which, that", "of, in, on"],
                answer: "A",
                explanation: "Coordinating conjunctions (and, but, or, nor, for, yet, so) join main clauses."
            },
            {
                question: "What's wrong: 'Although he tried.'",
                options: ["No main clause", "No subject", "No verb", "Wrong word"],
                answer: "A",
                explanation: "This is a subordinate clause fragment - needs a main clause."
            },
            {
                question: "Complete: 'When it rains, _____'",
                options: ["we stay inside", "because wet", "if inside", "that rainy"],
                answer: "A",
                explanation: "Needs main clause: 'we stay inside' completes the thought."
            },
            {
                question: "Which is simple sentence?",
                options: ["One main clause", "Main + subordinate", "Two main clauses", "No clauses"],
                answer: "A",
                explanation: "Simple sentence = one independent (main) clause."
            },
            // Subordinate Clause Questions (31-60)
            {
                question: "What is a subordinate clause?",
                options: ["Dependent clause that cannot stand alone", "Independent clause", "Complete sentence", "Main clause"],
                answer: "A",
                explanation: "A subordinate clause depends on a main clause and cannot stand alone as a sentence."
            },
            {
                question: "Which begins a subordinate clause?",
                options: ["Because", "The", "She", "They"],
                answer: "A",
                explanation: "'Because' is a subordinating conjunction that begins subordinate clauses."
            },
            {
                question: "Identify subordinate clause: 'I left when she arrived.'",
                options: ["when she arrived", "I left", "she arrived", "left when"],
                answer: "A",
                explanation: "'when she arrived' is subordinate - starts with 'when' and can't stand alone."
            },
            {
                question: "What do subordinate clauses add?",
                options: ["Additional information", "Main action", "Complete thought", "Independent meaning"],
                answer: "A",
                explanation: "Subordinate clauses add information about time, reason, condition, etc."
            },
            {
                question: "Which is subordinate clause?",
                options: ["if you study", "You study hard", "Study regularly", "Hard studying helps"],
                answer: "A",
                explanation: "'if you study' begins with 'if' and needs a main clause."
            },
            {
                question: "What type of conjunction starts subordinate clauses?",
                options: ["Subordinating", "Coordinating", "Correlative", "Relative"],
                answer: "A",
                explanation: "Subordinating conjunctions (because, if, when, although) start subordinate clauses."
            },
            {
                question: "Which sentence has subordinate clause?",
                options: ["We eat before we leave.", "We eat dinner.", "Eating is fun.", "Dinner time."],
                answer: "A",
                explanation: "'before we leave' is a subordinate clause modifying 'eat'."
            },
            {
                question: "What does subordinate clause need?",
                options: ["Main clause", "Comma", "Capital letter", "Period"],
                answer: "A",
                explanation: "A subordinate clause must be attached to a main clause."
            },
            {
                question: "Identify: 'Although he was tired'",
                options: ["Subordinate clause", "Main clause", "Complete sentence", "Phrase"],
                answer: "A",
                explanation: "Begins with 'although' and cannot stand alone - needs main clause."
            },
            {
                question: "Which shows time relationship?",
                options: ["When the bell rings", "The bell rings", "Bell rings loudly", "Ringing bell"],
                answer: "A",
                explanation: "'When the bell rings' is a subordinate clause showing time."
            },
            {
                question: "What type: 'because it was raining'?",
                options: ["Subordinate clause", "Main clause", "Relative clause", "Sentence"],
                answer: "A",
                explanation: "Begins with 'because' - shows reason, needs main clause."
            },
            {
                question: "Complete: '_____ we will go to park'",
                options: ["If it's sunny,", "It's sunny", "Sunny day", "Going to park"],
                answer: "A",
                explanation: "Needs subordinate clause: 'If it's sunny,' provides condition."
            },
            {
                question: "Which is complex?",
                options: ["She reads while he writes.", "She reads. He writes.", "Reading and writing", "Read, write, learn"],
                answer: "A",
                explanation: "Main clause 'She reads' + subordinate 'while he writes' = complex sentence."
            },
            {
                question: "What's purpose of subordinate clause?",
                options: ["Show relationship", "Be independent", "Stand alone", "Be main idea"],
                answer: "A",
                explanation: "Shows time, cause, condition, contrast to main clause."
            },
            {
                question: "Identify: 'since you asked'",
                options: ["Subordinate clause", "Main clause", "Relative clause", "Phrase"],
                answer: "A",
                explanation: "Begins with 'since' (reason), needs main clause."
            },
            {
                question: "Which needs comma?",
                options: ["Subordinate clause first", "Main clause first", "Never", "Always"],
                answer: "A",
                explanation: "When subordinate clause comes first, use comma after it."
            },
            {
                question: "What type: 'unless you hurry'?",
                options: ["Subordinate clause", "Main clause", "Relative clause", "Complete"],
                answer: "A",
                explanation: "Begins with 'unless' (condition), dependent on main clause."
            },
            {
                question: "Which is correct?",
                options: ["After we eat, we'll go.", "After we eat. We'll go.", "We'll go after we eat.", "Both A and C"],
                answer: "D",
                explanation: "Both are correct - subordinate can come before or after main clause."
            },
            {
                question: "What's wrong: 'Because she studies'?",
                options: ["Incomplete thought", "No subject", "No verb", "Wrong word"],
                answer: "A",
                explanation: "Subordinate clause fragment - needs main clause to complete."
            },
            {
                question: "Which shows contrast?",
                options: ["Although he tried", "When he tried", "Because he tried", "If he tried"],
                answer: "A",
                explanation: "'Although' shows contrast between clauses."
            },
            {
                question: "What type: 'while I was sleeping'?",
                options: ["Subordinate clause", "Main clause", "Relative clause", "Phrase"],
                answer: "A",
                explanation: "Begins with 'while' (time), needs main clause."
            },
            {
                question: "Complete: '_____ you must finish work'",
                options: ["Before you play,", "You play", "Playing is fun", "Finish work play"],
                answer: "A",
                explanation: "Needs subordinate clause showing time condition."
            },
            {
                question: "Identify subordinate: 'Call me when you arrive.'",
                options: ["when you arrive", "Call me", "you arrive", "me when"],
                answer: "A",
                explanation: "'when you arrive' is subordinate time clause."
            },
            {
                question: "Which is dependent clause?",
                options: ["Subordinate clause", "Main clause", "Independent clause", "Simple sentence"],
                answer: "A",
                explanation: "Subordinate clause = dependent clause (depends on main clause)."
            },
            {
                question: "What does 'if' introduce?",
                options: ["Condition", "Time", "Reason", "Contrast"],
                answer: "A",
                explanation: "'If' introduces conditional subordinate clauses."
            },
            {
                question: "Which sentence has adverb clause?",
                options: ["We left because it was late.", "The book that I read", "She is the one who called", "Running quickly"],
                answer: "A",
                explanation: "'because it was late' is an adverb clause (subordinate)."
            },
            {
                question: "What type: 'as soon as possible'?",
                options: ["Subordinate clause", "Main clause", "Relative clause", "Phrase"],
                answer: "A",
                explanation: "Begins with 'as soon as' (time), needs main clause."
            },
            {
                question: "Complete: '_____ we cancelled the trip'",
                options: ["Since it rained,", "It rained", "Rainy day", "Cancelling trip"],
                answer: "A",
                explanation: "Needs subordinate clause showing reason."
            },
            {
                question: "What's function: 'where I was born'?",
                options: ["Shows place", "Shows time", "Shows reason", "Shows condition"],
                answer: "A",
                explanation: "'where' introduces subordinate clause showing place."
            },
            {
                question: "Which needs main clause?",
                options: ["Subordinate clause", "Independent clause", "Simple sentence", "Compound sentence"],
                answer: "A",
                explanation: "Only subordinate clauses need to attach to main clauses."
            },
            // Relative Clause Questions (61-90)
            {
                question: "What is a relative clause?",
                options: ["Clause that modifies noun", "Independent clause", "Main clause", "Sentence"],
                answer: "A",
                explanation: "A relative clause modifies a noun or pronoun and begins with a relative pronoun."
            },
            {
                question: "Which begins relative clause?",
                options: ["who", "because", "when", "if"],
                answer: "A",
                explanation: "'who' is a relative pronoun that begins relative clauses."
            },
            {
                question: "Identify relative clause: 'The girl who won is my friend.'",
                options: ["who won", "The girl", "is my friend", "won is"],
                answer: "A",
                explanation: "'who won' modifies 'girl' - relative clause."
            },
            {
                question: "What do relative clauses do?",
                options: ["Modify nouns", "Show time", "Show reason", "Be independent"],
                answer: "A",
                explanation: "Relative clauses add information about nouns/pronouns."
            },
            {
                question: "Which relative pronoun for people?",
                options: ["who", "which", "that", "where"],
                answer: "A",
                explanation: "'who' refers to people; 'which' for things; 'that' for both."
            },
            {
                question: "Identify: 'The book that I read'",
                options: ["Relative clause", "Main clause", "Subordinate time", "Independent"],
                answer: "A",
                explanation: "'that I read' modifies 'book' - relative clause."
            },
            {
                question: "What type: 'which was expensive'?",
                options: ["Relative clause", "Main clause", "Adverb clause", "Independent"],
                answer: "A",
                explanation: "Begins with 'which', modifies a noun."
            },
            {
                question: "Which is restrictive?",
                options: ["Necessary information", "Extra information", "Independent", "Main clause"],
                answer: "A",
                explanation: "Restrictive relative clauses are essential to identify the noun."
            },
            {
                question: "What punctuation for non-restrictive?",
                options: ["Commas", "No commas", "Semicolon", "Period"],
                answer: "A",
                explanation: "Non-restrictive (extra information) clauses use commas."
            },
            {
                question: "Identify: 'My brother, who lives abroad,'",
                options: ["Non-restrictive", "Restrictive", "Main clause", "Independent"],
                answer: "A",
                explanation: "Commas show it's non-restrictive (extra information)."
            },
            {
                question: "Which relative for possession?",
                options: ["whose", "who", "which", "that"],
                answer: "A",
                explanation: "'whose' shows possession in relative clauses."
            },
            {
                question: "Complete: 'The house _____ we bought'",
                options: ["that", "because", "when", "if"],
                answer: "A",
                explanation: "'that' introduces relative clause modifying 'house'."
            },
            {
                question: "What type: 'where I work'?",
                options: ["Relative clause", "Main clause", "Adverb clause", "Independent"],
                answer: "A",
                explanation: "'where' introduces relative clause showing place."
            },
            {
                question: "Which is correct?",
                options: ["The man who called", "The man, who called", "Who called man", "Man who called"],
                answer: "A",
                explanation: "Restrictive - no commas, essential to identify which man."
            },
            {
                question: "Identify: 'Students who study pass'",
                options: ["Restrictive relative", "Non-restrictive", "Main clause", "Independent"],
                answer: "A",
                explanation: "No commas, essential to identify which students."
            },
            {
                question: "What does 'whom' replace?",
                options: ["Object pronoun", "Subject pronoun", "Possessive", "Thing"],
                answer: "A",
                explanation: "'whom' is object form; 'who' is subject form."
            },
            {
                question: "Which relative for things?",
                options: ["which", "who", "whom", "whose"],
                answer: "A",
                explanation: "'which' refers to things, 'who' to people."
            },
            {
                question: "What type: 'The reason why I called'",
                options: ["Relative clause", "Main clause", "Adverb clause", "Independent"],
                answer: "A",
                explanation: "'why' introduces relative clause modifying 'reason'."
            },
            {
                question: "Complete: 'The year _____ I graduated'",
                options: ["when", "who", "which", "whose"],
                answer: "A",
                explanation: "'when' introduces relative clause modifying time noun 'year'."
            },
            {
                question: "Which is non-restrictive?",
                options: ["My car, which is red,", "The car that is red", "Red car", "Car that red"],
                answer: "A",
                explanation: "Commas show extra information (non-restrictive)."
            },
            {
                question: "What can 'that' replace?",
                options: ["who or which", "where", "when", "whose"],
                answer: "A",
                explanation: "'that' can replace 'who' (people) or 'which' (things) in restrictive clauses."
            },
            {
                question: "Identify: 'The place where we met'",
                options: ["Relative clause", "Main clause", "Adverb clause", "Independent"],
                answer: "A",
                explanation: "'where we met' modifies 'place' - relative clause."
            },
            {
                question: "Which needs commas?",
                options: ["Non-restrictive", "Restrictive", "Essential", "Identifying"],
                answer: "A",
                explanation: "Only non-restrictive (non-essential) clauses use commas."
            },
            {
                question: "What type: 'whose book I borrowed'?",
                options: ["Relative clause", "Main clause", "Adverb clause", "Independent"],
                answer: "A",
                explanation: "'whose' shows possession in relative clause."
            },
            {
                question: "Complete: 'The person _____ helped me'",
                options: ["who", "which", "that", "A or C"],
                answer: "D",
                explanation: "Both 'who' and 'that' can refer to people in restrictive clauses."
            },
            {
                question: "Which relative can be omitted?",
                options: ["that (object)", "who (subject)", "which (subject)", "whose"],
                answer: "A",
                explanation: "'that' as object can sometimes be omitted in restrictive clauses."
            },
            {
                question: "Identify: 'I know the man you mean'",
                options: ["Relative clause (that omitted)", "Main clause", "Two clauses", "Fragment"],
                answer: "A",
                explanation: "'(that) you mean' is relative clause with omitted 'that'."
            },
            {
                question: "What type: 'The day when we met'?",
                options: ["Relative clause", "Main clause", "Adverb clause", "Independent"],
                answer: "A",
                explanation: "'when we met' modifies 'day' - relative clause."
            },
            {
                question: "Which is incorrect?",
                options: ["The book, that I read", "The book that I read", "The book I read", "The book, which I read,"],
                answer: "A",
                explanation: "Never use comma before 'that' in restrictive clauses."
            },
            {
                question: "Complete: 'She's someone _____ I trust'",
                options: ["whom", "who", "which", "A or B"],
                answer: "D",
                explanation: "'whom' (object) or 'who' (informal) can be used."
            },
            // Mixed Clause Questions (91-100)
            {
                question: "How many clauses: 'I study when I have time.'",
                options: ["Two: main + subordinate", "One main", "Three clauses", "No clauses"],
                answer: "A",
                explanation: "Main: 'I study'; Subordinate: 'when I have time'."
            },
            {
                question: "Identify all clauses: 'The book that I read was good.'",
                options: ["Main + relative", "Two main", "Subordinate only", "Three clauses"],
                answer: "A",
                explanation: "Main: 'The book was good'; Relative: 'that I read'."
            },
            {
                question: "What type sentence: 'She left because she was tired.'",
                options: ["Complex", "Simple", "Compound", "Fragment"],
                answer: "A",
                explanation: "Main clause + subordinate clause = complex sentence."
            },
            {
                question: "How many subordinate: 'If you go, call me when you arrive.'",
                options: ["Two", "One", "Three", "None"],
                answer: "A",
                explanation: "'If you go' and 'when you arrive' are both subordinate."
            },
            {
                question: "Identify: 'The man who called is my uncle.'",
                options: ["Main + relative", "Two main", "Subordinate only", "Simple"],
                answer: "A",
                explanation: "Main: 'The man is my uncle'; Relative: 'who called'."
            },
            {
                question: "What type: 'I'll wait until you're ready.'",
                options: ["Main + subordinate", "Two main", "Relative only", "Simple"],
                answer: "A",
                explanation: "Main: 'I'll wait'; Subordinate: 'until you're ready'."
            },
            {
                question: "How many relative clauses: 'The book that I read, which was long, was good.'",
                options: ["Two", "One", "Three", "None"],
                answer: "A",
                explanation: "'that I read' and 'which was long' are both relative clauses."
            },
            {
                question: "Identify: 'Although tired, she worked while he rested.'",
                options: ["Main + two subordinate", "Three main", "Simple", "Fragment"],
                answer: "A",
                explanation: "Main: 'she worked'; Subordinate: 'Although tired' and 'while he rested'."
            },
            {
                question: "What type: 'The student who studies passes.'",
                options: ["Main + relative", "Two main", "Subordinate only", "Compound"],
                answer: "A",
                explanation: "Main: 'The student passes'; Relative: 'who studies'."
            },
            {
                question: "How many independent clauses minimum?",
                options: ["One per sentence", "Two", "Three", "None"],
                answer: "A",
                explanation: "Every sentence must have at least one independent (main) clause."
            }
        ];

        // English tips
        const englishTips = [
            "Main clause = independent = can stand alone as sentence.",
            "Subordinate clause = dependent = begins with subordinating conjunction.",
            "Relative clause = modifies noun = begins with relative pronoun (who, which, that).",
            "Test: If it can be a complete sentence alone, it's a main clause.",
            "Complex sentence = 1 main clause + 1+ subordinate clauses.",
            "Relative pronouns: who (people), which (things), that (both), whose (possession).",
            "Subordinate conjunctions: because, if, when, although, since, while, until.",
            "Restrictive relative clauses = no commas; Non-restrictive = use commas."
        ];

        // Classification sentences
        const classificationSentences = [
            { sentence: "She reads books", type: "main", color: "#9C27B0" },
            { sentence: "Because she reads books", type: "subordinate", color: "#2196F3" },
            { sentence: "The book that she reads", type: "relative", color: "#4CAF50" },
            { sentence: "When the bell rings", type: "subordinate", color: "#2196F3" },
            { sentence: "Birds fly south", type: "main", color: "#9C27B0" },
            { sentence: "Who won the race", type: "relative", color: "#4CAF50" },
            { sentence: "If it rains", type: "subordinate", color: "#2196F3" },
            { sentence: "He runs fast", type: "main", color: "#9C27B0" },
            { sentence: "Which was expensive", type: "relative", color: "#4CAF50" },
            { sentence: "Although he tried", type: "subordinate", color: "#2196F3" },
            { sentence: "We will succeed", type: "main", color: "#9C27B0" },
            { sentence: "That I borrowed", type: "relative", color: "#4CAF50" }
        ];

        // Sentence builder pieces
        const sentencePieces = {
            main: [
                "She studies",
                "They arrived",
                "We will go",
                "He works",
                "I read",
                "The dog barked",
                "Birds fly",
                "Students learn"
            ],
            subordinate: [
                "because she wants to learn",
                "when they finished",
                "if the weather is good",
                "although he was tired",
                "since I have time",
                "while the sun shines",
                "until you arrive",
                "unless it rains"
            ],
            relative: [
                "who teaches math",
                "that I bought yesterday",
                "which was expensive",
                "whose book I borrowed",
                "where we first met",
                "when school starts",
                "why she left early",
                "that makes noise"
            ]
        };

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            studentName: "",
            startTime: null,
            currentClassification: [],
            draggedItem: null,
            draggedPiece: null
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const backToHomeBtn = document.getElementById('backToHome');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const englishTip = document.getElementById('englishTip');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const feedbackExplanation = document.getElementById('feedbackExplanation');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const timeSpent = document.getElementById('timeSpent');
        const clausePieces = document.getElementById('clausePieces');
        const sentenceArea = document.getElementById('sentenceArea');
        const classificationItemsContainer = document.getElementById('classificationItems');
        const classificationFeedback = document.getElementById('classificationFeedback');

        // Initialize
        function initApp() {
            setupEventListeners();
            showWelcomePage();
            setupSentenceBuilder();
            setupClassification();
        }

        // Setup sentence builder
        function setupSentenceBuilder() {
            clausePieces.innerHTML = '';
            
            // Add main clause pieces
            sentencePieces.main.forEach(piece => {
                const pieceDiv = document.createElement('div');
                pieceDiv.className = 'clause-piece main-piece';
                pieceDiv.textContent = piece;
                pieceDiv.draggable = true;
                pieceDiv.dataset.type = 'main';
                
                pieceDiv.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', piece);
                    e.dataTransfer.setData('type', 'main');
                    appState.draggedPiece = { text: piece, type: 'main' };
                    pieceDiv.style.opacity = '0.5';
                });
                
                pieceDiv.addEventListener('dragend', () => {
                    pieceDiv.style.opacity = '1';
                });
                
                clausePieces.appendChild(pieceDiv);
            });
            
            // Add subordinate clause pieces
            sentencePieces.subordinate.forEach(piece => {
                const pieceDiv = document.createElement('div');
                pieceDiv.className = 'clause-piece sub-piece';
                pieceDiv.textContent = piece;
                pieceDiv.draggable = true;
                pieceDiv.dataset.type = 'subordinate';
                
                pieceDiv.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', piece);
                    e.dataTransfer.setData('type', 'subordinate');
                    appState.draggedPiece = { text: piece, type: 'subordinate' };
                    pieceDiv.style.opacity = '0.5';
                });
                
                pieceDiv.addEventListener('dragend', () => {
                    pieceDiv.style.opacity = '1';
                });
                
                clausePieces.appendChild(pieceDiv);
            });
            
            // Add relative clause pieces
            sentencePieces.relative.forEach(piece => {
                const pieceDiv = document.createElement('div');
                pieceDiv.className = 'clause-piece relative-piece';
                pieceDiv.textContent = piece;
                pieceDiv.draggable = true;
                pieceDiv.dataset.type = 'relative';
                
                pieceDiv.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', piece);
                    e.dataTransfer.setData('type', 'relative');
                    appState.draggedPiece = { text: piece, type: 'relative' };
                    pieceDiv.style.opacity = '0.5';
                });
                
                pieceDiv.addEventListener('dragend', () => {
                    pieceDiv.style.opacity = '1';
                });
                
                clausePieces.appendChild(pieceDiv);
            });
        }

        function allowDrop(event) {
            event.preventDefault();
            if (event.target.className === 'sentence-area' || event.target.id === 'sentenceArea') {
                event.target.classList.add('active');
            }
        }

        function dropPiece(event) {
            event.preventDefault();
            sentenceArea.classList.remove('active');
            
            if (appState.draggedPiece) {
                const pieceDiv = document.createElement('div');
                pieceDiv.className = `clause-piece ${appState.draggedPiece.type}-piece`;
                pieceDiv.textContent = appState.draggedPiece.text;
                pieceDiv.style.cursor = 'default';
                pieceDiv.draggable = false;
                
                sentenceArea.appendChild(pieceDiv);
                sentenceArea.innerHTML += ' ';
            }
        }

        function buildSimpleSentence() {
            sentenceArea.innerHTML = '';
            const randomMain = sentencePieces.main[Math.floor(Math.random() * sentencePieces.main.length)];
            
            const pieceDiv = document.createElement('div');
            pieceDiv.className = 'clause-piece main-piece';
            pieceDiv.textContent = randomMain + '.';
            pieceDiv.style.cursor = 'default';
            
            sentenceArea.appendChild(pieceDiv);
        }

        function buildComplexSentence() {
            sentenceArea.innerHTML = '';
            const randomMain = sentencePieces.main[Math.floor(Math.random() * sentencePieces.main.length)];
            const randomSub = sentencePieces.subordinate[Math.floor(Math.random() * sentencePieces.subordinate.length)];
            
            // Randomly decide order
            if (Math.random() > 0.5) {
                // Subordinate first
                const subDiv = document.createElement('div');
                subDiv.className = 'clause-piece sub-piece';
                subDiv.textContent = randomSub.charAt(0).toUpperCase() + randomSub.slice(1);
                subDiv.style.cursor = 'default';
                sentenceArea.appendChild(subDiv);
                
                sentenceArea.innerHTML += ', ';
                
                const mainDiv = document.createElement('div');
                mainDiv.className = 'clause-piece main-piece';
                mainDiv.textContent = randomMain.toLowerCase() + '.';
                mainDiv.style.cursor = 'default';
                sentenceArea.appendChild(mainDiv);
            } else {
                // Main first
                const mainDiv = document.createElement('div');
                mainDiv.className = 'clause-piece main-piece';
                mainDiv.textContent = randomMain;
                mainDiv.style.cursor = 'default';
                sentenceArea.appendChild(mainDiv);
                
                sentenceArea.innerHTML += ' ';
                
                const subDiv = document.createElement('div');
                subDiv.className = 'clause-piece sub-piece';
                subDiv.textContent = randomSub + '.';
                subDiv.style.cursor = 'default';
                sentenceArea.appendChild(subDiv);
            }
        }

        function buildRelativeSentence() {
            sentenceArea.innerHTML = '';
            const nouns = ['The student', 'The book', 'The teacher', 'The house', 'The dog', 'The car'];
            const randomNoun = nouns[Math.floor(Math.random() * nouns.length)];
            const randomRel = sentencePieces.relative[Math.floor(Math.random() * sentencePieces.relative.length)];
            const verbs = ['is smart', 'was interesting', 'helps us', 'looks beautiful', 'barks loudly', 'runs fast'];
            const randomVerb = verbs[Math.floor(Math.random() * verbs.length)];
            
            const nounDiv = document.createElement('div');
            nounDiv.className = 'clause-piece main-piece';
            nounDiv.textContent = randomNoun;
            nounDiv.style.cursor = 'default';
            sentenceArea.appendChild(nounDiv);
            
            sentenceArea.innerHTML += ' ';
            
            const relDiv = document.createElement('div');
            relDiv.className = 'clause-piece relative-piece';
            relDiv.textContent = randomRel;
            relDiv.style.cursor = 'default';
            sentenceArea.appendChild(relDiv);
            
            sentenceArea.innerHTML += ' ';
            
            const verbDiv = document.createElement('div');
            verbDiv.className = 'clause-piece main-piece';
            verbDiv.textContent = randomVerb + '.';
            verbDiv.style.cursor = 'default';
            sentenceArea.appendChild(verbDiv);
        }

        function clearSentence() {
            sentenceArea.innerHTML = 'Drag clause pieces here to build sentences';
        }

        // Setup classification
        function setupClassification() {
            newClassificationChallenge();
        }

        function newClassificationChallenge() {
            // Shuffle and select 6 random sentences
            const shuffled = [...classificationSentences].sort(() => Math.random() - 0.5).slice(0, 6);
            appState.currentClassification = shuffled;
            
            classificationItemsContainer.innerHTML = '';
            classificationFeedback.textContent = 'Drag sentences to correct categories';
            classificationFeedback.style.color = 'var(--text-secondary)';
            
            // Clear zones
            document.getElementById('zoneMain').innerHTML = '<div style="color: var(--main-clause); font-weight: bold;">Main Clause</div>';
            document.getElementById('zoneSubordinate').innerHTML = '<div style="color: var(--subordinate-clause); font-weight: bold;">Subordinate Clause</div>';
            document.getElementById('zoneRelative').innerHTML = '<div style="color: var(--relative-clause); font-weight: bold;">Relative Clause</div>';
            
            shuffled.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'classification-item';
                itemDiv.textContent = item.sentence;
                itemDiv.style.backgroundColor = item.color;
                itemDiv.style.color = 'white';
                itemDiv.draggable = true;
                itemDiv.id = `class-item-${index}`;
                itemDiv.dataset.type = item.type;
                
                itemDiv.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', index);
                    appState.draggedItem = item;
                    itemDiv.style.opacity = '0.5';
                });
                
                itemDiv.addEventListener('dragend', () => {
                    itemDiv.style.opacity = '1';
                });
                
                classificationItemsContainer.appendChild(itemDiv);
            });
        }

        function dropClassification(event) {
            event.preventDefault();
            const zone = event.currentTarget;
            zone.classList.remove('active');
            
            if (appState.draggedItem) {
                const itemDiv = document.createElement('div');
                itemDiv.textContent = appState.draggedItem.sentence;
                itemDiv.style.margin = '5px';
                itemDiv.style.padding = '5px';
                itemDiv.style.backgroundColor = appState.draggedItem.color;
                itemDiv.style.color = 'white';
                itemDiv.style.borderRadius = '4px';
                itemDiv.style.fontSize = '0.8rem';
                
                zone.appendChild(itemDiv);
            }
        }

        function checkClassification() {
            let correct = 0;
            let total = appState.currentClassification.length;
            
            // Check each zone
            const zones = {
                zoneMain: 'main',
                zoneSubordinate: 'subordinate', 
                zoneRelative: 'relative'
            };
            
            for (const [zoneId, correctType] of Object.entries(zones)) {
                const zone = document.getElementById(zoneId);
                const items = zone.querySelectorAll('div:not(:first-child)'); // Skip title div
                
                items.forEach(item => {
                    const sentenceText = item.textContent;
                    const originalItem = appState.currentClassification.find(i => i.sentence === sentenceText);
                    
                    if (originalItem && originalItem.type === correctType) {
                        correct++;
                        item.style.border = '2px solid var(--relative-clause)';
                    } else {
                        item.style.border = '2px solid var(--clause-red)';
                    }
                });
            }
            
            const percentage = Math.round((correct / total) * 100);
            classificationFeedback.textContent = `Score: ${correct}/${total} (${percentage}%)`;
            classificationFeedback.style.color = percentage >= 80 ? 'var(--relative-clause)' : 
                                               percentage >= 60 ? 'var(--clause-yellow)' : 'var(--clause-red)';
            
            if (percentage === 100) {
                classificationFeedback.textContent += ' - Perfect! All sentences correctly classified!';
            }
        }

        function resetClassification() {
            newClassificationChallenge();
        }

        // Comparison detail
        function showComparisonDetail(detail) {
            let info = '';
            if (detail === 'stand_alone') {
                info = "Can Stand Alone:\n\nMain Clause: ‚úì Yes - Can be a complete sentence\nSubordinate Clause: ‚úó No - Needs main clause\nRelative Clause: ‚úó No - Modifies noun, needs main clause";
            } else if (detail === 'begins_with') {
                info = "Begins With:\n\nMain Clause: Capital letter (subject)\nSubordinate Clause: Subordinating conjunction (because, if, when, although)\nRelative Clause: Relative pronoun (who, which, that, whose)";
            } else if (detail === 'function') {
                info = "Function:\n\nMain Clause: Expresses main idea/complete thought\nSubordinate Clause: Adds information (time, reason, condition)\nRelative Clause: Modifies/describes a noun";
            } else if (detail === 'examples_start') {
                info = "Example Starters:\n\nMain Clause: I, We, He, She, They, The dog, Students\nSubordinate: if, when, because, although, since, while, until\nRelative: who, which, that, whose, where, when";
            }
            alert(info);
        }

        // Clause detail
        function showClauseDetail(type) {
            let info = '';
            if (type === 'main') {
                info = "‚≠ê MAIN CLAUSE ‚≠ê\n\nDefinition: An independent clause that can stand alone as a complete sentence.\n\nCharacteristics:\n‚Ä¢ Contains a subject and predicate\n‚Ä¢ Expresses a complete thought\n‚Ä¢ Can be a sentence by itself\n‚Ä¢ Also called independent clause\n\nExamples:\n‚Ä¢ She reads books.\n‚Ä¢ The dog barked loudly.\n‚Ä¢ Birds fly south in winter.\n‚Ä¢ Students study for exams.\n\nKey Test: If it can be a complete sentence on its own, it's a main clause.";
            } else if (type === 'subordinate') {
                info = "üîó SUBORDINATE CLAUSE üîó\n\nDefinition: A dependent clause that cannot stand alone and must be attached to a main clause.\n\nCharacteristics:\n‚Ä¢ Begins with subordinating conjunction\n‚Ä¢ Cannot stand alone as sentence\n‚Ä¢ Adds information to main clause\n‚Ä¢ Shows time, reason, condition, contrast\n‚Ä¢ Also called dependent clause\n\nCommon Subordinating Conjunctions:\n‚Ä¢ Time: when, while, before, after, since, until\n‚Ä¢ Reason: because, since, as\n‚Ä¢ Condition: if, unless, provided that\n‚Ä¢ Contrast: although, though, even though\n\nExamples:\n‚Ä¢ Because she studies hard (needs main clause)\n‚Ä¢ When the bell rings (needs main clause)\n‚Ä¢ If it rains tomorrow (needs main clause)\n‚Ä¢ Although he was tired (needs main clause)";
            } else {
                info = "üéØ RELATIVE CLAUSE üéØ\n\nDefinition: A type of subordinate clause that modifies a noun or pronoun.\n\nCharacteristics:\n‚Ä¢ Begins with relative pronoun\n‚Ä¢ Modifies/describes a noun\n‚Ä¢ Adds information about the noun\n‚Ä¢ Can be restrictive or non-restrictive\n\nRelative Pronouns:\n‚Ä¢ who/whom - refers to people\n‚Ä¢ which - refers to things\n‚Ä¢ that - refers to people or things\n‚Ä¢ whose - shows possession\n‚Ä¢ where - refers to place\n‚Ä¢ when - refers to time\n\nRestrictive vs Non-Restrictive:\n‚Ä¢ Restrictive: Essential information, no commas\n  Example: The book that I read was good.\n‚Ä¢ Non-Restrictive: Extra information, uses commas\n  Example: My car, which is red, needs washing.\n\nExamples:\n‚Ä¢ The student who studies hard succeeds.\n‚Ä¢ The book that I borrowed is interesting.\n‚Ä¢ My sister, who lives abroad, is visiting.\n‚Ä¢ The house where I grew up is nearby.";
            }
            alert(info);
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', showWelcomePage);
            viewTopicsBtn.addEventListener('click', () => alert("Other English topics would be available here."));
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') startPractice();
            });
        }

        // Create English tip display
        function createEnglishTip() {
            const tipDiv = document.createElement('div');
            tipDiv.className = 'english-tip';
            tipDiv.innerHTML = `<strong>Grammar Tip:</strong> ${englishTips[Math.floor(Math.random() * englishTips.length)]}`;
            return tipDiv;
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            appState.startTime = new Date();
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const percentage = Math.round((appState.score / questions.length) * 100);
            const timeDiff = new Date() - appState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            timeSpent.textContent = `${minutes}min`;
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a clause expert!";
            } else if (percentage >= 75) {
                scoreMessage.textContent = "Excellent work! You understand clauses very well!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good job! You're getting the hang of English clauses!";
            } else {
                scoreMessage.textContent = "Keep practicing! Clauses are key to great writing!";
            }
        }

        // Load question
        function loadQuestion() {
            const question = questions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${questions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            englishTip.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            englishTip.appendChild(createEnglishTip());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = questions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation);
            }
            
            nextQuestionBtn.disabled = false;
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Skip question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Retry topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            showPracticePage();
        }

        // Start practice
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin clause practice!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            showPracticePage();
        }

        // Initialize app
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
