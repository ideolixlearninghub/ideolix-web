<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 8 Math - Integer & Rational Numbers | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Math Theme */
        :root {
            --primary-blue: #2196F3;
            --primary-green: #4CAF50;
            --primary-orange: #FF9800;
            --primary-red: #F44336;
            --accent-purple: #9C27B0;
            --accent-teal: #009688;
            --accent-yellow: #FFC107;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --positive-glow: 0 0 20px rgba(76, 175, 80, 0.4);
            --negative-glow: 0 0 20px rgba(244, 67, 54, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(33, 150, 243, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(76, 175, 80, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(255, 152, 0, 0.05) 0%, transparent 70%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 10px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info h1 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(33, 150, 243, 0.15);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            border: 2px solid var(--primary-blue);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-blue);
        }

        .input-group {
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-primary:hover {
            background: #1976D2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
        }

        .btn-secondary {
            background: var(--primary-green);
            color: white;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .btn-secondary:hover {
            background: #3d8b40;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-blue);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Topics Grid */
        .topics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        @media (max-width: 768px) {
            .topics-grid {
                grid-template-columns: 1fr;
            }
        }

        .topic-card {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .topic-card.integers {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), transparent);
        }

        .topic-card.rational {
            border-color: var(--primary-green);
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), transparent);
        }

        .topic-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .topic-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .topic-card.integers .topic-title {
            color: var(--primary-blue);
        }

        .topic-card.rational .topic-title {
            color: var(--primary-green);
        }

        .topic-features {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--dark-border);
        }

        .topic-features h4 {
            font-size: 0.9rem;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .feature-list {
            list-style-type: none;
        }

        .feature-list li {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-bottom: 4px;
            padding-left: 15px;
            position: relative;
        }

        .feature-list li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: var(--accent-teal);
        }

        /* Practice Page */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 8px;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-blue), var(--primary-green), var(--primary-orange));
            border-radius: 8px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(33, 150, 243, 0.5);
        }

        .question-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .math-tip {
            background: rgba(255, 152, 0, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--accent-yellow);
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-blue);
            background: rgba(33, 150, 243, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: var(--primary-red);
            color: var(--primary-red);
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 25px;
            height: 25px;
            background: var(--primary-blue);
            border-radius: 50%;
            margin-right: 12px;
            font-weight: bold;
            color: white;
        }

        .option.correct .option-letter {
            background: var(--primary-green);
        }

        .option.incorrect .option-letter {
            background: var(--primary-red);
        }

        /* Feedback */
        .feedback-container {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--primary-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid var(--primary-red);
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-green);
        }

        .feedback-incorrect .feedback-icon {
            background: var(--primary-red);
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-green);
        }

        .feedback-incorrect .feedback-title {
            color: var(--primary-red);
        }

        .feedback-explanation {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Navigation */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        /* Visualization Area */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
            overflow: auto;
        }

        /* Number Line Visualizer */
        .number-line-visualizer {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-blue);
        }

        .visualizer-title {
            color: var(--primary-blue);
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .number-line-container {
            width: 100%;
            height: 80px;
            position: relative;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
            border: 1px solid var(--dark-border);
        }

        .number-line {
            position: absolute;
            width: 90%;
            height: 3px;
            background: var(--text-secondary);
            top: 50%;
            left: 5%;
            transform: translateY(-50%);
        }

        .number-tick {
            position: absolute;
            width: 2px;
            height: 10px;
            background: var(--text-secondary);
            bottom: 50%;
            transform: translateY(50%);
        }

        .number-label {
            position: absolute;
            font-size: 0.8rem;
            color: var(--text-secondary);
            top: 60%;
            transform: translateX(-50%);
        }

        .number-pointer {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--primary-blue);
            border-radius: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            cursor: grab;
            transition: left 0.3s ease;
            z-index: 2;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .number-pointer.negative {
            background: var(--primary-red);
        }

        .number-pointer.positive {
            background: var(--primary-green);
        }

        .number-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 10px 0;
        }

        .number-input {
            padding: 8px;
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 0.9rem;
            text-align: center;
        }

        .operation-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin: 10px 0;
        }

        .op-btn {
            padding: 8px;
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 6px;
            color: var(--text-primary);
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s ease;
        }

        .op-btn:hover {
            background: rgba(33, 150, 243, 0.1);
            border-color: var(--primary-blue);
        }

        .result-display {
            margin-top: 10px;
            padding: 10px;
            background: var(--dark-surface);
            border-radius: 6px;
            text-align: center;
            font-size: 1.2rem;
            color: var(--primary-blue);
            font-weight: bold;
            display: none;
        }

        /* Integer Rules Visualizer */
        .rules-visualizer {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-green);
        }

        .rules-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .rules-grid {
                grid-template-columns: 1fr;
            }
        }

        .rule-card {
            background: var(--dark-surface);
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .rule-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .rule-operation {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-blue);
            margin-bottom: 5px;
        }

        .rule-example {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Fraction Visualizer */
        .fraction-visualizer {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-orange);
        }

        .fraction-container {
            width: 100%;
            height: 120px;
            position: relative;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .fraction-bar {
            width: 80%;
            height: 20px;
            background: var(--dark-border);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .fraction-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue), var(--primary-green));
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .fraction-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin: 10px 0;
        }

        .fraction-controls {
            display: flex;
            gap: 10px;
            margin: 10px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .fraction-btn {
            padding: 6px 12px;
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 4px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .fraction-btn.active {
            background: var(--primary-orange);
            color: white;
        }

        /* Decimal to Fraction Converter */
        .converter-tool {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--accent-purple);
        }

        .converter-inputs {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px;
            margin: 10px 0;
            align-items: center;
        }

        .convert-btn {
            padding: 8px 15px;
            background: var(--accent-purple);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .convert-btn:hover {
            background: #7B1FA2;
        }

        .conversion-result {
            margin-top: 10px;
            padding: 10px;
            background: var(--dark-surface);
            border-radius: 6px;
            text-align: center;
            font-size: 1.1rem;
            color: var(--accent-purple);
            display: none;
        }

        /* Properties Visualizer */
        .properties-visualizer {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--accent-teal);
        }

        .properties-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .properties-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .property-card {
            background: var(--dark-surface);
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
        }

        .property-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .property-name {
            font-size: 0.9rem;
            font-weight: bold;
            color: var(--accent-teal);
            margin-bottom: 5px;
        }

        .property-example {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }

        .results-title {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-blue);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes correctGlow {
            0% { box-shadow: 0 0 5px var(--primary-green); }
            50% { box-shadow: 0 0 20px var(--primary-green); }
            100% { box-shadow: 0 0 5px var(--primary-green); }
        }

        @keyframes incorrectGlow {
            0% { box-shadow: 0 0 5px var(--primary-red); }
            50% { box-shadow: 0 0 20px var(--primary-red); }
            100% { box-shadow: 0 0 5px var(--primary-red); }
        }

        .correct-glow {
            animation: correctGlow 1s ease;
        }

        .incorrect-glow {
            animation: incorrectGlow 1s ease;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 1.8rem;
            }
            
            .topics-grid {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .operation-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .fraction-inputs {
                grid-template-columns: 1fr;
            }
            
            .properties-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .converter-inputs {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <h1 class="welcome-title">Grade 8 Math: Integer & Rational Numbers</h1>
            <p class="welcome-subtitle">Master the world of positive, negative, and fractional numbers! Learn operations with integers, work with fractions and decimals, and discover the properties that govern number operations.</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üßÆüî¢</span>
                <span class="topic-name">Number Operations & Properties</span>
            </div>
            
            <div class="topics-grid">
                <div class="topic-card integers" onclick="showTopicInfo('integers')">
                    <div class="topic-icon">‚ÜîÔ∏è</div>
                    <h3 class="topic-title">Integer Operations</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Working with positive and negative whole numbers</p>
                    <div class="topic-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Adding & subtracting integers</li>
                            <li>Multiplying & dividing integers</li>
                            <li>Integer rules & properties</li>
                            <li>Absolute value & opposites</li>
                        </ul>
                    </div>
                </div>
                
                <div class="topic-card rational" onclick="showTopicInfo('rational')">
                    <div class="topic-icon">¬Ω</div>
                    <h3 class="topic-title">Rational Numbers</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Fractions, decimals, and their operations</p>
                    <div class="topic-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Fraction operations</li>
                            <li>Decimal operations</li>
                            <li>Converting between forms</li>
                            <li>Comparing & ordering</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your name:</label>
                <input type="text" id="studentName" placeholder="Your name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>üß† Begin Math Study</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 25</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 4%"></div>
                </div>
            </div>

            <div class="question-container">
                <div id="mathTip"></div>
                
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-explanation" id="feedbackExplanation"></div>
                </div>
            </div>
            
            <!-- Visualization Area -->
            <div class="content-wrapper">
                <div class="visualization-container">
                    <div class="number-line-visualizer">
                        <div class="visualizer-title">Number Line Operations</div>
                        <div class="number-line-container" id="numberLineContainer">
                            <!-- Number line will be generated here -->
                        </div>
                        <div class="number-inputs">
                            <input type="number" id="num1" class="number-input" placeholder="First number" value="5">
                            <input type="number" id="num2" class="number-input" placeholder="Second number" value="-3">
                        </div>
                        <div class="operation-buttons">
                            <button class="op-btn" onclick="performOperation('+')">+</button>
                            <button class="op-btn" onclick="performOperation('-')">-</button>
                            <button class="op-btn" onclick="performOperation('√ó')">√ó</button>
                            <button class="op-btn" onclick="performOperation('√∑')">√∑</button>
                        </div>
                        <div class="result-display" id="operationResult"></div>
                        <div style="text-align: center; margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="generateRandomNumbers()">Random Numbers</button>
                            <button class="btn btn-small btn-secondary" onclick="clearOperation()">Clear</button>
                        </div>
                    </div>
                    
                    <div class="rules-visualizer">
                        <div class="visualizer-title">Integer Rules</div>
                        <div class="rules-grid">
                            <div class="rule-card" onclick="showRule('add-same-sign')">
                                <div class="rule-operation">(+a) + (+b) = +(a+b)</div>
                                <div class="rule-example">(+5) + (+3) = +8</div>
                            </div>
                            <div class="rule-card" onclick="showRule('add-diff-sign')">
                                <div class="rule-operation">(+a) + (-b) = a-b</div>
                                <div class="rule-example">(+5) + (-3) = +2</div>
                            </div>
                            <div class="rule-card" onclick="showRule('mult-same-sign')">
                                <div class="rule-operation">(+) √ó (+) = +</div>
                                <div class="rule-example">(+4) √ó (+3) = +12</div>
                            </div>
                            <div class="rule-card" onclick="showRule('mult-diff-sign')">
                                <div class="rule-operation">(+) √ó (-) = -</div>
                                <div class="rule-example">(+4) √ó (-3) = -12</div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="showAllIntegerRules()">All Integer Rules</button>
                        </div>
                    </div>
                    
                    <div class="fraction-visualizer">
                        <div class="visualizer-title">Fraction Operations</div>
                        <div class="fraction-container">
                            <div class="fraction-bar">
                                <div class="fraction-fill" id="fractionFill" style="width: 60%"></div>
                            </div>
                        </div>
                        <div class="fraction-inputs">
                            <input type="number" id="fracNum1" class="number-input" placeholder="Numerator 1" value="3">
                            <input type="number" id="fracDen1" class="number-input" placeholder="Denominator 1" value="4">
                            <input type="number" id="fracNum2" class="number-input" placeholder="Numerator 2" value="1">
                            <input type="number" id="fracDen2" class="number-input" placeholder="Denominator 2" value="2">
                        </div>
                        <div class="fraction-controls">
                            <div class="fraction-btn active" onclick="setFractionOperation('add')">Add (+)</div>
                            <div class="fraction-btn" onclick="setFractionOperation('subtract')">Subtract (-)</div>
                            <div class="fraction-btn" onclick="setFractionOperation('multiply')">Multiply (√ó)</div>
                            <div class="fraction-btn" onclick="setFractionOperation('divide')">Divide (√∑)</div>
                        </div>
                        <div class="result-display" id="fractionResult"></div>
                        <div style="text-align: center; margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="calculateFraction()">Calculate</button>
                            <button class="btn btn-small btn-secondary" onclick="simplifyFraction()">Simplify</button>
                        </div>
                    </div>
                    
                    <div class="converter-tool">
                        <div class="visualizer-title">Decimal ‚Üî Fraction Converter</div>
                        <div class="converter-inputs">
                            <input type="number" step="0.01" id="decimalInput" class="number-input" placeholder="Decimal (e.g., 0.75)" value="0.75">
                            <button class="convert-btn" onclick="convertToFraction()">‚Üí Fraction</button>
                        </div>
                        <div class="converter-inputs">
                            <input type="number" id="fracNumInput" class="number-input" placeholder="Numerator" value="3">
                            <span style="color: var(--text-primary); font-size: 1.2rem;">/</span>
                            <input type="number" id="fracDenInput" class="number-input" placeholder="Denominator" value="4">
                            <button class="convert-btn" onclick="convertToDecimal()">‚Üí Decimal</button>
                        </div>
                        <div class="conversion-result" id="conversionResult"></div>
                        <div style="text-align: center; margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="showCommonConversions()">Common Conversions</button>
                        </div>
                    </div>
                    
                    <div class="properties-visualizer">
                        <div class="visualizer-title">Number Properties</div>
                        <div class="properties-grid">
                            <div class="property-card" onclick="showProperty('commutative')">
                                <div class="property-name">Commutative</div>
                                <div class="property-example">a + b = b + a</div>
                            </div>
                            <div class="property-card" onclick="showProperty('associative')">
                                <div class="property-name">Associative</div>
                                <div class="property-example">(a+b)+c = a+(b+c)</div>
                            </div>
                            <div class="property-card" onclick="showProperty('distributive')">
                                <div class="property-name">Distributive</div>
                                <div class="property-example">a(b+c) = ab + ac</div>
                            </div>
                            <div class="property-card" onclick="showProperty('identity')">
                                <div class="property-name">Identity</div>
                                <div class="property-example">a + 0 = a</div>
                            </div>
                            <div class="property-card" onclick="showProperty('inverse')">
                                <div class="property-name">Inverse</div>
                                <div class="property-example">a + (-a) = 0</div>
                            </div>
                            <div class="property-card" onclick="showProperty('zero')">
                                <div class="property-name">Zero Property</div>
                                <div class="property-example">a √ó 0 = 0</div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="testProperties()">Test Properties</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-secondary" id="skipQuestion">Skip Question</button>
                <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Math Study Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="timeSpent">0min</div>
                        <div class="stat-label">Time Spent</div>
                    </div>
                </div>
                
                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn btn-primary" id="retryTopic">Try Again</button>
                    <button class="btn btn-secondary" id="viewTopics">Other Topics</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Questions array - 25 focused questions on Integer & Rational Numbers
        const questions = [
            {
                question: "What is the result of (-8) + (-3)?",
                options: ["-11", "11", "5", "-5"],
                answer: "A",
                explanation: "Adding two negative numbers: add their absolute values and keep the negative sign. |-8| + |-3| = 11 ‚Üí -11"
            },
            {
                question: "What is 3/4 + 1/2?",
                options: ["5/4 or 1¬º", "4/6 or 2/3", "4/4 or 1", "3/2 or 1¬Ω"],
                answer: "A",
                explanation: "Find common denominator (4): 3/4 + 2/4 = 5/4 = 1¬º"
            },
            {
                question: "What is (-5) √ó (-4)?",
                options: ["20", "-20", "1", "-1"],
                answer: "A",
                explanation: "Multiplying two negative numbers gives a positive result: (-) √ó (-) = +"
            },
            {
                question: "Which is equivalent to 0.75 as a fraction?",
                options: ["3/4", "4/3", "75/100", "7/5"],
                answer: "A",
                explanation: "0.75 = 75/100 = 3/4 (simplified)"
            },
            {
                question: "What is 12 √∑ (-3)?",
                options: ["-4", "4", "36", "-36"],
                answer: "A",
                explanation: "Dividing positive by negative gives negative: (+) √∑ (-) = -"
            },
            {
                question: "Simplify: 5/6 √ó 3/10",
                options: ["1/4", "1/2", "15/60", "8/16"],
                answer: "A",
                explanation: "5/6 √ó 3/10 = (5√ó3)/(6√ó10) = 15/60 = 1/4 (simplified)"
            },
            {
                question: "What is the absolute value of |-7|?",
                options: ["7", "-7", "0", "14"],
                answer: "A",
                explanation: "Absolute value is the distance from zero, always positive: |-7| = 7"
            },
            {
                question: "Convert 2/5 to a decimal.",
                options: ["0.4", "0.5", "0.2", "0.25"],
                answer: "A",
                explanation: "2 √∑ 5 = 0.4"
            },
            {
                question: "What is (-9) - (-4)?",
                options: ["-5", "5", "-13", "13"],
                answer: "A",
                explanation: "Subtracting a negative is like adding: (-9) - (-4) = -9 + 4 = -5"
            },
            {
                question: "What is 1/3 √∑ 2/3?",
                options: ["1/2", "2/9", "2", "1"],
                answer: "A",
                explanation: "Dividing fractions: multiply by reciprocal: 1/3 √∑ 2/3 = 1/3 √ó 3/2 = 3/6 = 1/2"
            },
            {
                question: "Which number is greater: -3 or -7?",
                options: ["-3", "-7", "They're equal", "Cannot compare"],
                answer: "A",
                explanation: "On a number line, -3 is to the right of -7, so -3 > -7"
            },
            {
                question: "What is 0.125 as a fraction in simplest form?",
                options: ["1/8", "125/1000", "1/4", "1/2"],
                answer: "A",
                explanation: "0.125 = 125/1000 = 1/8"
            },
            {
                question: "What is (-12) √∑ 4?",
                options: ["-3", "3", "-8", "8"],
                answer: "A",
                explanation: "Dividing negative by positive gives negative: (-) √∑ (+) = -"
            },
            {
                question: "Add: 2/3 + 1/6",
                options: ["5/6", "3/9", "1/2", "7/12"],
                answer: "A",
                explanation: "Common denominator 6: 4/6 + 1/6 = 5/6"
            },
            {
                question: "What is the opposite of 15?",
                options: ["-15", "15", "1/15", "-1/15"],
                answer: "A",
                explanation: "Opposite (additive inverse) changes the sign: opposite of 15 is -15"
            },
            {
                question: "Multiply: 0.25 √ó 0.4",
                options: ["0.1", "0.65", "1.0", "0.01"],
                answer: "A",
                explanation: "0.25 √ó 0.4 = 0.100 = 0.1"
            },
            {
                question: "What is 3 - 7?",
                options: ["-4", "4", "10", "-10"],
                answer: "A",
                explanation: "3 - 7 = -4 (think: 7 - 3 = 4, but with negative since subtracting larger number)"
            },
            {
                question: "Which is larger: 3/5 or 0.6?",
                options: ["They are equal", "3/5", "0.6", "Cannot compare"],
                answer: "A",
                explanation: "3/5 = 0.6 exactly, so they are equal"
            },
            {
                question: "What is (-2) √ó 5 √ó (-1)?",
                options: ["10", "-10", "7", "-7"],
                answer: "A",
                explanation: "(-2) √ó 5 = -10, then -10 √ó (-1) = 10"
            },
            {
                question: "Subtract: 5/8 - 1/4",
                options: ["3/8", "1/2", "4/4", "6/12"],
                answer: "A",
                explanation: "Common denominator 8: 5/8 - 2/8 = 3/8"
            },
            {
                question: "What is 0.3 repeating (0.333...) as a fraction?",
                options: ["1/3", "3/10", "33/100", "3/1"],
                answer: "A",
                explanation: "0.333... = 1/3 exactly"
            },
            {
                question: "What is 4 √ó (-3) √∑ 2?",
                options: ["-6", "6", "-2.4", "2.4"],
                answer: "A",
                explanation: "4 √ó (-3) = -12, then -12 √∑ 2 = -6"
            },
            {
                question: "Order from least to greatest: 1/2, 0.3, 2/5",
                options: ["0.3, 2/5, 1/2", "1/2, 2/5, 0.3", "0.3, 1/2, 2/5", "2/5, 0.3, 1/2"],
                answer: "A",
                explanation: "Convert to decimals: 1/2 = 0.5, 0.3, 2/5 = 0.4 ‚Üí 0.3 < 0.4 < 0.5"
            },
            {
                question: "What is -|-5|?",
                options: ["-5", "5", "0", "-1"],
                answer: "A",
                explanation: "First find absolute value: |-5| = 5, then apply negative: -5"
            },
            {
                question: "What is the reciprocal of 2/3?",
                options: ["3/2", "2/3", "-2/3", "-3/2"],
                answer: "A",
                explanation: "Reciprocal flips numerator and denominator: reciprocal of a/b is b/a"
            }
        ];

        // Math tips and facts
        const mathTips = [
            "Multiplying two negatives makes a positive: (-) √ó (-) = +",
            "To add fractions, find a common denominator first!",
            "Absolute value is always positive or zero - it's distance from zero on the number line.",
            "Dividing by a fraction is the same as multiplying by its reciprocal.",
            "The reciprocal of a number is 1 divided by that number.",
            "Any number multiplied by its reciprocal equals 1.",
            "Zero is neither positive nor negative - it's neutral!",
            "When comparing decimals, add zeros to make them the same length first."
        ];

        // Integer rules information
        const integerRules = {
            'add-same-sign': {
                name: "Adding Same Signs",
                rule: "Add the absolute values, keep the sign",
                examples: ["(+5) + (+3) = +8", "(-4) + (-2) = -6"],
                explanation: "When signs are the same, add the numbers and keep the sign."
            },
            'add-diff-sign': {
                name: "Adding Different Signs",
                rule: "Subtract absolute values, keep sign of larger absolute value",
                examples: ["(+7) + (-3) = +4", "(-8) + (+5) = -3"],
                explanation: "When signs are different, subtract the smaller absolute value from the larger, and keep the sign of the number with larger absolute value."
            },
            'mult-same-sign': {
                name: "Multiplying Same Signs",
                rule: "Positive result",
                examples: ["(+4) √ó (+3) = +12", "(-5) √ó (-2) = +10"],
                explanation: "When multiplying numbers with the same sign, the product is positive."
            },
            'mult-diff-sign': {
                name: "Multiplying Different Signs",
                rule: "Negative result",
                examples: ["(+6) √ó (-3) = -18", "(-4) √ó (+5) = -20"],
                explanation: "When multiplying numbers with different signs, the product is negative."
            },
            'subtraction': {
                name: "Subtraction Rule",
                rule: "Change subtraction to addition of the opposite",
                examples: ["5 - 3 = 5 + (-3) = 2", "4 - (-2) = 4 + 2 = 6"],
                explanation: "Subtracting a number is the same as adding its opposite (additive inverse)."
            },
            'division': {
                name: "Division Rules",
                rule: "Same rules as multiplication",
                examples: ["(+12) √∑ (+3) = +4", "(-15) √∑ (+5) = -3", "(+20) √∑ (-4) = -5", "(-18) √∑ (-6) = +3"],
                explanation: "Division follows the same sign rules as multiplication: same signs = positive, different signs = negative."
            }
        };

        // Number properties information
        const numberProperties = {
            'commutative': {
                name: "Commutative Property",
                explanation: "Order doesn't matter for addition and multiplication",
                addition: "a + b = b + a (e.g., 3 + 5 = 5 + 3)",
                multiplication: "a √ó b = b √ó a (e.g., 4 √ó 7 = 7 √ó 4)",
                note: "Does NOT work for subtraction or division!"
            },
            'associative': {
                name: "Associative Property",
                explanation: "Grouping doesn't matter for addition and multiplication",
                addition: "(a + b) + c = a + (b + c) (e.g., (2+3)+4 = 2+(3+4))",
                multiplication: "(a √ó b) √ó c = a √ó (b √ó c) (e.g., (3√ó4)√ó5 = 3√ó(4√ó5))",
                note: "Does NOT work for subtraction or division!"
            },
            'distributive': {
                name: "Distributive Property",
                explanation: "Multiplication distributes over addition",
                formula: "a(b + c) = ab + ac (e.g., 3(4+5) = 3√ó4 + 3√ó5)",
                example: "2(x + 3) = 2x + 6",
                note: "Works for subtraction too: a(b - c) = ab - ac"
            },
            'identity': {
                name: "Identity Properties",
                explanation: "Adding 0 or multiplying by 1 doesn't change the number",
                addition: "a + 0 = a (0 is additive identity)",
                multiplication: "a √ó 1 = a (1 is multiplicative identity)",
                examples: ["7 + 0 = 7", "9 √ó 1 = 9"]
            },
            'inverse': {
                name: "Inverse Properties",
                explanation: "Every number has an opposite (additive) and reciprocal (multiplicative)",
                addition: "a + (-a) = 0 (e.g., 5 + (-5) = 0)",
                multiplication: "a √ó (1/a) = 1, a‚â†0 (e.g., 3 √ó (1/3) = 1)"
            },
            'zero': {
                name: "Zero Property",
                explanation: "Multiplying by zero gives zero",
                multiplication: "a √ó 0 = 0 (e.g., 7 √ó 0 = 0)",
                note: "Division by zero is undefined!"
            }
        };

        // Common decimal-fraction conversions
        const commonConversions = {
            '0.1': '1/10',
            '0.125': '1/8',
            '0.2': '1/5',
            '0.25': '1/4',
            '0.333...': '1/3',
            '0.375': '3/8',
            '0.4': '2/5',
            '0.5': '1/2',
            '0.6': '3/5',
            '0.625': '5/8',
            '0.666...': '2/3',
            '0.75': '3/4',
            '0.8': '4/5',
            '0.875': '7/8'
        };

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            studentName: "",
            startTime: null,
            currentFractionOperation: 'add',
            numberLineMin: -10,
            numberLineMax: 10
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const backToHomeBtn = document.getElementById('backToHome');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const mathTip = document.getElementById('mathTip');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const feedbackExplanation = document.getElementById('feedbackExplanation');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const timeSpent = document.getElementById('timeSpent');

        // Initialize
        function initApp() {
            setupEventListeners();
            showWelcomePage();
            initializeNumberLine();
            setupFractionControls();
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', showWelcomePage);
            viewTopicsBtn.addEventListener('click', () => alert("Other math topics would be available here."));
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') startPractice();
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            appState.startTime = new Date();
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const percentage = Math.round((appState.score / questions.length) * 100);
            const timeDiff = new Date() - appState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            timeSpent.textContent = `${minutes}min`;
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a math operations expert!";
            } else if (percentage >= 75) {
                scoreMessage.textContent = "Excellent! You understand integer and rational numbers well!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good job! You're getting the hang of number operations!";
            } else {
                scoreMessage.textContent = "Keep practicing! Math operations get easier with practice - try again!";
            }
        }

        // Create math tip display
        function createMathTip() {
            const tipDiv = document.createElement('div');
            tipDiv.className = 'math-tip';
            tipDiv.innerHTML = `<strong>Math Tip:</strong> ${mathTips[Math.floor(Math.random() * mathTips.length)]}`;
            return tipDiv;
        }

        // Load question
        function loadQuestion() {
            const question = questions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${questions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            mathTip.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            mathTip.appendChild(createMathTip());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = questions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation);
            }
            
            nextQuestionBtn.disabled = false;
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Skip question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Retry topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            showPracticePage();
        }

        // Start practice
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin studying integer and rational numbers!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            showPracticePage();
        }

        // Initialize number line
        function initializeNumberLine() {
            const container = document.getElementById('numberLineContainer');
            container.innerHTML = '';
            
            // Create number line
            const numberLine = document.createElement('div');
            numberLine.className = 'number-line';
            container.appendChild(numberLine);
            
            // Add ticks and labels
            const range = appState.numberLineMax - appState.numberLineMin;
            const tickCount = range + 1;
            
            for (let i = 0; i < tickCount; i++) {
                const value = appState.numberLineMin + i;
                const position = (i / (tickCount - 1)) * 90 + 5; // 5% to 95%
                
                // Create tick
                const tick = document.createElement('div');
                tick.className = 'number-tick';
                tick.style.left = `${position}%`;
                container.appendChild(tick);
                
                // Create label
                if (value % 2 === 0 || value === 0) {
                    const label = document.createElement('div');
                    label.className = 'number-label';
                    label.textContent = value;
                    label.style.left = `${position}%`;
                    container.appendChild(label);
                }
            }
            
            // Create pointer for result
            const pointer = document.createElement('div');
            pointer.className = 'number-pointer';
            pointer.id = 'resultPointer';
            pointer.style.left = '50%'; // Start in middle
            container.appendChild(pointer);
        }

        // Perform operation on number line
        window.performOperation = function(operation) {
            const num1 = parseFloat(document.getElementById('num1').value);
            const num2 = parseFloat(document.getElementById('num2').value);
            const resultDisplay = document.getElementById('operationResult');
            const pointer = document.getElementById('resultPointer');
            
            if (isNaN(num1) || isNaN(num2)) {
                alert("Please enter valid numbers!");
                return;
            }
            
            let result;
            let operationSymbol;
            
            switch(operation) {
                case '+':
                    result = num1 + num2;
                    operationSymbol = '+';
                    break;
                case '-':
                    result = num1 - num2;
                    operationSymbol = '-';
                    break;
                case '√ó':
                    result = num1 * num2;
                    operationSymbol = '√ó';
                    break;
                case '√∑':
                    if (num2 === 0) {
                        alert("Cannot divide by zero!");
                        return;
                    }
                    result = num1 / num2;
                    operationSymbol = '√∑';
                    break;
                default:
                    return;
            }
            
            // Update result display
            resultDisplay.textContent = `${num1} ${operationSymbol} ${num2} = ${result}`;
            resultDisplay.style.display = 'block';
            
            // Move pointer on number line
            const range = appState.numberLineMax - appState.numberLineMin;
            let position;
            
            if (result < appState.numberLineMin) {
                position = 5; // At left edge
                resultDisplay.textContent += ` (off scale left)`;
            } else if (result > appState.numberLineMax) {
                position = 95; // At right edge
                resultDisplay.textContent += ` (off scale right)`;
            } else {
                position = ((result - appState.numberLineMin) / range) * 90 + 5;
            }
            
            pointer.style.left = `${position}%`;
            
            // Update pointer color based on sign
            pointer.className = 'number-pointer';
            if (result < 0) {
                pointer.classList.add('negative');
            } else if (result > 0) {
                pointer.classList.add('positive');
            }
            
            // Add explanation
            const explanation = document.createElement('div');
            explanation.style.fontSize = '0.9rem';
            explanation.style.color = 'var(--text-secondary)';
            explanation.style.marginTop = '5px';
            
            if (operation === '+' || operation === '-') {
                explanation.textContent = `Rule: ${getIntegerRuleExplanation(num1, num2, operation)}`;
            } else {
                explanation.textContent = `Rule: ${getMultiplicationRuleExplanation(num1, num2, operation)}`;
            }
            
            resultDisplay.appendChild(explanation);
        };

        // Helper function for integer rule explanations
        function getIntegerRuleExplanation(num1, num2, operation) {
            if (operation === '+') {
                if (num1 >= 0 && num2 >= 0) return "Adding two positives ‚Üí positive";
                if (num1 < 0 && num2 < 0) return "Adding two negatives ‚Üí add absolute values, keep negative";
                if ((num1 >= 0 && num2 < 0) || (num1 < 0 && num2 >= 0)) {
                    return "Adding different signs ‚Üí subtract absolute values, keep sign of larger";
                }
            } else if (operation === '-') {
                return "Subtracting = adding the opposite: a - b = a + (-b)";
            }
            return "";
        }

        function getMultiplicationRuleExplanation(num1, num2, operation) {
            if (operation === '√ó' || operation === '√∑') {
                if ((num1 >= 0 && num2 >= 0) || (num1 < 0 && num2 < 0)) {
                    return "Same signs ‚Üí positive result";
                } else {
                    return "Different signs ‚Üí negative result";
                }
            }
            return "";
        }

        window.generateRandomNumbers = function() {
            // Generate random integers between -10 and 10
            const num1 = Math.floor(Math.random() * 21) - 10;
            const num2 = Math.floor(Math.random() * 21) - 10;
            
            document.getElementById('num1').value = num1;
            document.getElementById('num2').value = num2;
            
            // Clear previous result
            document.getElementById('operationResult').style.display = 'none';
        };

        window.clearOperation = function() {
            document.getElementById('num1').value = '';
            document.getElementById('num2').value = '';
            document.getElementById('operationResult').style.display = 'none';
            document.getElementById('resultPointer').style.left = '50%';
            document.getElementById('resultPointer').className = 'number-pointer';
        };

        // Setup fraction controls
        function setupFractionControls() {
            const fractionBtns = document.querySelectorAll('.fraction-btn');
            fractionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Remove active class from all
                    fractionBtns.forEach(b => b.classList.remove('active'));
                    // Add active class to clicked
                    this.classList.add('active');
                    
                    const operation = this.getAttribute('onclick').match(/'([^']+)'/)[1];
                    appState.currentFractionOperation = operation;
                });
            });
        }

        window.setFractionOperation = function(operation) {
            appState.currentFractionOperation = operation;
        };

        // Calculate fraction operation
        window.calculateFraction = function() {
            const num1 = parseInt(document.getElementById('fracNum1').value);
            const den1 = parseInt(document.getElementById('fracDen1').value);
            const num2 = parseInt(document.getElementById('fracNum2').value);
            const den2 = parseInt(document.getElementById('fracDen2').value);
            const resultDisplay = document.getElementById('fractionResult');
            const fractionFill = document.getElementById('fractionFill');
            
            if (isNaN(num1) || isNaN(den1) || isNaN(num2) || isNaN(den2) || den1 === 0 || den2 === 0) {
                alert("Please enter valid fractions (denominators cannot be zero)!");
                return;
            }
            
            let resultNum, resultDen;
            let operationText;
            
            switch(appState.currentFractionOperation) {
                case 'add':
                    // Common denominator = den1 √ó den2
                    resultNum = num1 * den2 + num2 * den1;
                    resultDen = den1 * den2;
                    operationText = '+';
                    break;
                case 'subtract':
                    resultNum = num1 * den2 - num2 * den1;
                    resultDen = den1 * den2;
                    operationText = '-';
                    break;
                case 'multiply':
                    resultNum = num1 * num2;
                    resultDen = den1 * den2;
                    operationText = '√ó';
                    break;
                case 'divide':
                    if (num2 === 0) {
                        alert("Cannot divide by zero!");
                        return;
                    }
                    resultNum = num1 * den2;
                    resultDen = den1 * num2;
                    operationText = '√∑';
                    break;
                default:
                    return;
            }
            
            // Simplify fraction
            const simplified = simplifyFractionResult(resultNum, resultDen);
            
            // Update display
            resultDisplay.innerHTML = `
                <div>${num1}/${den1} ${operationText} ${num2}/${den2} = ${resultNum}/${resultDen}</div>
                <div style="margin-top: 5px; font-size: 0.9rem; color: var(--text-secondary)">
                    Simplified: ${simplified.num}/${simplified.den} ${simplified.num/simplified.den !== 1 ? `= ${(simplified.num/simplified.den).toFixed(3)}` : ''}
                </div>
            `;
            resultDisplay.style.display = 'block';
            
            // Update visual fraction bar
            const fractionValue = simplified.num / simplified.den;
            let fillPercentage;
            if (fractionValue > 1) {
                fillPercentage = 100; // Full bar for values > 1
            } else if (fractionValue < 0) {
                fillPercentage = 0; // Empty for negative values
            } else {
                fillPercentage = fractionValue * 100;
            }
            fractionFill.style.width = `${fillPercentage}%`;
        };

        // Simplify fraction helper
        function simplifyFractionResult(num, den) {
            // Handle negative signs
            let sign = 1;
            if (num < 0 && den < 0) {
                num = Math.abs(num);
                den = Math.abs(den);
            } else if (num < 0 || den < 0) {
                sign = -1;
                num = Math.abs(num);
                den = Math.abs(den);
            }
            
            // Find GCD
            const gcd = findGCD(num, den);
            
            return {
                num: sign * (num / gcd),
                den: den / gcd
            };
        }

        // Find greatest common divisor
        function findGCD(a, b) {
            a = Math.abs(a);
            b = Math.abs(b);
            while (b) {
                let temp = b;
                b = a % b;
                a = temp;
            }
            return a;
        }

        window.simplifyFraction = function() {
            const num = parseInt(document.getElementById('fracNum1').value);
            const den = parseInt(document.getElementById('fracDen1').value);
            
            if (isNaN(num) || isNaN(den) || den === 0) {
                alert("Please enter a valid fraction!");
                return;
            }
            
            const simplified = simplifyFractionResult(num, den);
            
            document.getElementById('fracNum1').value = simplified.num;
            document.getElementById('fracDen1').value = simplified.den;
            
            const resultDisplay = document.getElementById('fractionResult');
            resultDisplay.textContent = `Simplified: ${simplified.num}/${simplified.den}`;
            resultDisplay.style.display = 'block';
            
            // Update visual
            const fractionValue = simplified.num / simplified.den;
            let fillPercentage;
            if (fractionValue > 1) {
                fillPercentage = 100;
            } else if (fractionValue < 0) {
                fillPercentage = 0;
            } else {
                fillPercentage = fractionValue * 100;
            }
            document.getElementById('fractionFill').style.width = `${fillPercentage}%`;
        };

        // Decimal to fraction conversion
        window.convertToFraction = function() {
            const decimal = parseFloat(document.getElementById('decimalInput').value);
            const resultDisplay = document.getElementById('conversionResult');
            
            if (isNaN(decimal)) {
                alert("Please enter a valid decimal!");
                return;
            }
            
            // Check if it's a common conversion first
            const decimalStr = decimal.toString();
            if (commonConversions[decimalStr]) {
                resultDisplay.innerHTML = `
                    <div>${decimal} = ${commonConversions[decimalStr]}</div>
                    <div style="margin-top: 5px; font-size: 0.9rem; color: var(--text-secondary)">
                        Common fraction equivalent
                    </div>
                `;
            } else {
                // Convert decimal to fraction
                const tolerance = 1.0E-6;
                let numerator = 1;
                let denominator = 1;
                let fraction = numerator / denominator;
                
                while (Math.abs(fraction - decimal) > tolerance) {
                    if (fraction < decimal) {
                        numerator++;
                    } else {
                        denominator++;
                        numerator = Math.round(decimal * denominator);
                    }
                    fraction = numerator / denominator;
                }
                
                // Simplify
                const gcd = findGCD(numerator, denominator);
                numerator /= gcd;
                denominator /= gcd;
                
                resultDisplay.innerHTML = `
                    <div>${decimal} = ${numerator}/${denominator}</div>
                    <div style="margin-top: 5px; font-size: 0.9rem; color: var(--text-secondary)">
                        Approximation: ${numerator} √∑ ${denominator} = ${(numerator/denominator).toFixed(6)}
                    </div>
                `;
            }
            
            resultDisplay.style.display = 'block';
        };

        // Fraction to decimal conversion
        window.convertToDecimal = function() {
            const numerator = parseInt(document.getElementById('fracNumInput').value);
            const denominator = parseInt(document.getElementById('fracDenInput').value);
            const resultDisplay = document.getElementById('conversionResult');
            
            if (isNaN(numerator) || isNaN(denominator) || denominator === 0) {
                alert("Please enter a valid fraction (denominator cannot be zero)!");
                return;
            }
            
            const decimal = numerator / denominator;
            
            resultDisplay.innerHTML = `
                <div>${numerator}/${denominator} = ${decimal}</div>
                <div style="margin-top: 5px; font-size: 0.9rem; color: var(--text-secondary)">
                    Calculation: ${numerator} √∑ ${denominator} = ${decimal}
                </div>
            `;
            resultDisplay.style.display = 'block';
        };

        // Show common conversions
        window.showCommonConversions = function() {
            let info = "Common Decimal ‚Üî Fraction Conversions:\n\n";
            for (const [decimal, fraction] of Object.entries(commonConversions)) {
                info += `${decimal} = ${fraction}\n`;
            }
            info += "\nTip: Memorizing these helps with mental math!";
            alert(info);
        };

        // Show integer rule
        window.showRule = function(ruleId) {
            const rule = integerRules[ruleId];
            if (!rule) return;
            
            let info = `${rule.name}\n\n`;
            info += `Rule: ${rule.rule}\n\n`;
            info += `Examples:\n`;
            rule.examples.forEach(example => {
                info += `‚Ä¢ ${example}\n`;
            });
            info += `\nExplanation: ${rule.explanation}`;
            
            alert(info);
        };

        // Show all integer rules
        window.showAllIntegerRules = function() {
            let info = "Integer Operation Rules\n\n";
            
            for (const [key, rule] of Object.entries(integerRules)) {
                info += `${rule.name}:\n`;
                info += `  ${rule.rule}\n`;
                info += `  Example: ${rule.examples[0]}\n\n`;
            }
            
            info += "Memory Tips:\n";
            info += "‚Ä¢ Same signs: Keep the sign\n";
            info += "‚Ä¢ Different signs: Subtract, keep larger sign\n";
            info += "‚Ä¢ Multiplication/Division: Same signs = positive, different = negative\n";
            info += "‚Ä¢ Subtraction: Add the opposite";
            
            alert(info);
        };

        // Show number property
        window.showProperty = function(propertyId) {
            const property = numberProperties[propertyId];
            if (!property) return;
            
            let info = `${property.name}\n\n`;
            info += `${property.explanation}\n\n`;
            
            if (property.formula) {
                info += `Formula: ${property.formula}\n`;
            }
            if (property.addition) {
                info += `Addition: ${property.addition}\n`;
            }
            if (property.multiplication) {
                info += `Multiplication: ${property.multiplication}\n`;
            }
            if (property.examples) {
                info += `Examples: ${property.examples.join(', ')}\n`;
            }
            if (property.example) {
                info += `Example: ${property.example}\n`;
            }
            if (property.note) {
                info += `\nNote: ${property.note}`;
            }
            
            alert(info);
        };

        // Test properties
        window.testProperties = function() {
            let info = "Test Number Properties\n\n";
            
            info += "1. Commutative Test:\n";
            info += "   5 + 8 = 8 + 5? Both = 13 ‚úì\n";
            info += "   6 √ó 4 = 4 √ó 6? Both = 24 ‚úì\n\n";
            
            info += "2. Associative Test:\n";
            info += "   (2+3)+4 = 2+(3+4)? Both = 9 ‚úì\n";
            info += "   (5√ó2)√ó3 = 5√ó(2√ó3)? Both = 30 ‚úì\n\n";
            
            info += "3. Distributive Test:\n";
            info += "   3(4+5) = 3√ó4 + 3√ó5\n";
            info += "   3√ó9 = 12 + 15\n";
            info += "   27 = 27 ‚úì\n\n";
            
            info += "These properties always work for addition and multiplication!";
            
            alert(info);
        };

        // Topic information display
        window.showTopicInfo = function(topic) {
            let info = '';
            if (topic === 'integers') {
                info = "‚ÜîÔ∏è Integer Operations ‚ÜîÔ∏è\n\n";
                info += "Integers include:\n";
                info += "‚Ä¢ Positive numbers: 1, 2, 3...\n";
                info += "‚Ä¢ Negative numbers: -1, -2, -3...\n";
                info += "‚Ä¢ Zero: 0\n\n";
                info += "Key Rules:\n";
                info += "Adding:\n";
                info += "‚Ä¢ Same signs: Add, keep sign\n";
                info += "‚Ä¢ Different signs: Subtract, keep larger sign\n\n";
                info += "Multiplying/Dividing:\n";
                info += "‚Ä¢ Same signs ‚Üí Positive\n";
                info += "‚Ä¢ Different signs ‚Üí Negative";
            } else {
                info = "¬Ω Rational Numbers ¬Ω\n\n";
                info += "Rational numbers can be expressed as fractions:\n";
                info += "‚Ä¢ Fractions: a/b where b‚â†0\n";
                info += "‚Ä¢ Decimals: Terminating or repeating\n";
                info += "‚Ä¢ Integers: Can be written as n/1\n\n";
                info += "Operations:\n";
                info += "‚Ä¢ Add/Subtract: Common denominator\n";
                info += "‚Ä¢ Multiply: Multiply numerators and denominators\n";
                info += "‚Ä¢ Divide: Multiply by reciprocal\n\n";
                info += "Every integer is a rational number!";
            }
            alert(info);
        };

        // Initialize app
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
