<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 8 Math - Pythagoras' Theorem | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Geometry Theme */
        :root {
            --primary-blue: #2196F3;
            --primary-green: #4CAF50;
            --primary-purple: #9C27B0;
            --accent-orange: #FF9800;
            --accent-red: #F44336;
            --accent-teal: #009688;
            --accent-yellow: #FFC107;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --pythagoras-glow: 0 0 20px rgba(33, 150, 243, 0.4);
            --triangle-glow: 0 0 20px rgba(76, 175, 80, 0.4);
            --proof-glow: 0 0 20px rgba(156, 39, 176, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(33, 150, 243, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(76, 175, 80, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(156, 39, 176, 0.05) 0%, transparent 50%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 10px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info h1 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-yellow), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(33, 150, 243, 0.15);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            border: 2px solid var(--primary-blue);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-blue);
        }

        .input-group {
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-primary:hover {
            background: #0b7dda;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
        }

        .btn-secondary {
            background: var(--primary-green);
            color: white;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .btn-secondary:hover {
            background: #3d8b40;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-blue);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Geometry Types Grid */
        .geometry-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .geometry-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .geometry-grid {
                grid-template-columns: 1fr;
            }
        }

        .type-card {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .type-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .type-card.theorem {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), transparent);
        }

        .type-card.triangle {
            border-color: var(--primary-green);
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), transparent);
        }

        .type-card.proof {
            border-color: var(--primary-purple);
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.1), transparent);
        }

        .type-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .type-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .type-card.theorem .type-title {
            color: var(--primary-blue);
        }

        .type-card.triangle .type-title {
            color: var(--primary-green);
        }

        .type-card.proof .type-title {
            color: var(--primary-purple);
        }

        .type-features {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--dark-border);
        }

        .type-features h4 {
            font-size: 0.9rem;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .feature-list {
            list-style-type: none;
        }

        .feature-list li {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-bottom: 4px;
            padding-left: 15px;
            position: relative;
        }

        .feature-list li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: var(--accent-teal);
        }

        /* Practice Page */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 8px;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-blue), var(--primary-green), var(--primary-purple));
            border-radius: 8px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(33, 150, 243, 0.5);
        }

        .question-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .geometry-tip {
            background: rgba(255, 152, 0, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--accent-orange);
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-blue);
            background: rgba(33, 150, 243, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 25px;
            height: 25px;
            background: var(--accent-teal);
            border-radius: 50%;
            margin-right: 12px;
            font-weight: bold;
            color: white;
        }

        .option.correct .option-letter {
            background: var(--primary-green);
        }

        .option.incorrect .option-letter {
            background: #F44336;
        }

        /* Feedback */
        .feedback-container {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--primary-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-green);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-green);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-explanation {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Navigation */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        /* Visualization Side */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
            overflow: auto;
        }

        /* Theorem Visualizer */
        .theorem-visualizer {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-blue);
        }

        .visualizer-title {
            color: var(--primary-blue);
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .theorem-display {
            font-family: 'Courier New', monospace;
            font-size: 1.3rem;
            text-align: center;
            margin: 10px 0;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
        }

        .theorem-container {
            width: 100%;
            height: 200px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        .right-triangle {
            position: absolute;
            width: 0;
            height: 0;
            border-style: solid;
            border-color: transparent;
        }

        .triangle-side {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border: 1px dashed rgba(255, 255, 255, 0.3);
        }

        .side-label {
            position: absolute;
            color: var(--text-primary);
            font-weight: bold;
            font-size: 0.9rem;
        }

        .square-area {
            position: absolute;
            background: rgba(33, 150, 243, 0.2);
            border: 2px solid var(--primary-blue);
        }

        /* Interactive Triangle */
        .interactive-triangle {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-green);
        }

        .triangle-container {
            width: 100%;
            height: 200px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        .draggable-point {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--accent-orange);
            border-radius: 50%;
            cursor: grab;
            z-index: 10;
            transform: translate(-50%, -50%);
        }

        .draggable-point:active {
            cursor: grabbing;
        }

        .side-length {
            position: absolute;
            color: var(--text-primary);
            font-weight: bold;
            background: rgba(0, 0, 0, 0.7);
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.8rem;
        }

        /* Proof Demonstration */
        .proof-demonstration {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-purple);
        }

        .proof-container {
            width: 100%;
            height: 200px;
            position: relative;
            background: #1a1a1a;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        .proof-piece {
            position: absolute;
            background: rgba(156, 39, 176, 0.3);
            border: 1px solid var(--primary-purple);
            transition: all 0.5s ease;
            cursor: pointer;
        }

        .proof-piece:hover {
            background: rgba(156, 39, 176, 0.5);
        }

        /* Comparison Tables */
        .comparison-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--accent-orange);
        }

        .comparison-tables {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .comparison-tables {
                grid-template-columns: 1fr;
            }
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
        }

        .comparison-table th {
            background: var(--dark-card);
            padding: 10px;
            text-align: left;
            color: var(--accent-orange);
            border-bottom: 2px solid var(--accent-orange);
        }

        .comparison-table td {
            padding: 8px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
            font-size: 0.85rem;
        }

        /* Triangle Types */
        .triangle-types {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--accent-red);
        }

        .triangle-examples {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
            flex-wrap: wrap;
            gap: 10px;
        }

        .triangle-example {
            background: var(--dark-surface);
            padding: 10px;
            border-radius: 6px;
            text-align: center;
            width: 100px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .triangle-example:hover {
            transform: translateY(-5px);
            background: rgba(244, 67, 54, 0.1);
        }

        .triangle-shape {
            width: 60px;
            height: 40px;
            margin: 0 auto 5px;
            position: relative;
        }

        /* Pythagoras Tools */
        .tools-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--accent-yellow);
        }

        .tool-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 10px 0;
        }

        .formula-display {
            background: rgba(33, 150, 243, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid var(--primary-blue);
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            text-align: center;
        }

        /* Calculator Interface */
        .calculator-interface {
            background: var(--dark-surface);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .calc-input {
            width: 100%;
            padding: 10px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 5px;
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            text-align: center;
            margin-bottom: 10px;
        }

        .calc-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px;
            margin-bottom: 5px;
        }

        .calc-btn {
            padding: 10px;
            background: var(--dark-card);
            border: 1px solid var(--dark-border);
            border-radius: 4px;
            color: var(--text-primary);
            cursor: pointer;
            text-align: center;
            transition: all 0.2s ease;
            font-weight: bold;
        }

        .calc-btn:hover {
            background: var(--primary-blue);
        }

        .calc-btn.operator {
            background: rgba(33, 150, 243, 0.2);
        }

        .calc-btn.equals {
            background: var(--primary-green);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }

        .results-title {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-yellow), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-yellow), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-blue);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Theorem Animation */
        @keyframes theoremReveal {
            0% { opacity: 0; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }

        .theorem-reveal {
            animation: theoremReveal 0.5s ease forwards;
        }

        @keyframes squareGrow {
            0% { transform: scale(0); }
            100% { transform: scale(1); }
        }

        .square-grow {
            animation: squareGrow 0.5s ease forwards;
        }

        @keyframes sideHighlight {
            0% { border-color: rgba(255, 255, 255, 0.3); }
            50% { border-color: var(--accent-orange); }
            100% { border-color: rgba(255, 255, 255, 0.3); }
        }

        .side-highlight {
            animation: sideHighlight 1s ease;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 1.8rem;
            }
            
            .geometry-grid {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .comparison-tables {
                grid-template-columns: 1fr;
            }
            
            .triangle-examples {
                justify-content: center;
                gap: 10px;
            }
            
            .tool-buttons {
                grid-template-columns: 1fr;
            }
            
            .calc-row {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <h1 class="welcome-title">Grade 8 Math: Pythagoras' Theorem</h1>
            <p class="welcome-subtitle">Discover the ancient secret of right triangles! Learn about Pythagoras' famous theorem, understand how it works, and apply it to solve real-world problems from construction to navigation.</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üìêüî∫üìè</span>
                <span class="topic-name">Right Triangles and the Pythagorean Theorem</span>
            </div>
            
            <div class="geometry-grid">
                <div class="type-card theorem" onclick="showGeometryType('theorem')">
                    <div class="type-icon">üìê</div>
                    <h3 class="type-title">Pythagoras' Theorem</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">The relationship between sides of a right triangle</p>
                    <div class="type-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>a¬≤ + b¬≤ = c¬≤</li>
                            <li>Right triangles only</li>
                            <li>Hypotenuse is longest side</li>
                            <li>Squaring and square roots</li>
                        </ul>
                    </div>
                </div>
                
                <div class="type-card triangle" onclick="showGeometryType('triangle')">
                    <div class="type-icon">üî∫</div>
                    <h3 class="type-title">Right Triangles</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Triangles with one 90¬∞ angle</p>
                    <div class="type-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>90¬∞ angle (right angle)</li>
                            <li>Legs and hypotenuse</li>
                            <li>Special triangles (3-4-5)</li>
                            <li>Real-world examples</li>
                        </ul>
                    </div>
                </div>
                
                <div class="type-card proof" onclick="showGeometryType('proof')">
                    <div class="type-icon">üìè</div>
                    <h3 class="type-title">Proofs & Applications</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Understanding why it works and how to use it</p>
                    <div class="type-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Visual proofs</li>
                            <li>Distance calculations</li>
                            <li>Construction uses</li>
                            <li>Problem solving</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your name:</label>
                <input type="text" id="studentName" placeholder="Your name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>üßÆ Begin Geometry Practice</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 25</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 4%"></div>
                </div>
            </div>

            <div class="question-container">
                <div id="geometryTip"></div>
                
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-explanation" id="feedbackExplanation"></div>
                </div>
            </div>
            
            <!-- Visualization Area -->
            <div class="content-wrapper">
                <div class="visualization-container">
                    <div class="theorem-visualizer">
                        <div class="visualizer-title">Pythagoras' Theorem Visualizer</div>
                        <div class="theorem-container" id="theoremContainer">
                            <!-- Right triangle and squares will be generated by JavaScript -->
                        </div>
                        <div class="theorem-display" id="theoremDisplay">a¬≤ + b¬≤ = c¬≤</div>
                        <div style="text-align: center; margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="showTheoremExamples()">Theorem Examples</button>
                            <button class="btn btn-small btn-secondary" onclick="demonstrateTheorem()">Demonstrate Theorem</button>
                        </div>
                    </div>
                    
                    <div class="interactive-triangle">
                        <div class="visualizer-title">Interactive Right Triangle</div>
                        <div class="triangle-container" id="triangleContainer">
                            <!-- Interactive triangle will be generated by JavaScript -->
                        </div>
                        <div style="text-align: center; margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="showTriangleExamples()">Triangle Examples</button>
                            <button class="btn btn-small btn-secondary" onclick="calculateHypotenuse()">Calculate Hypotenuse</button>
                        </div>
                    </div>
                    
                    <div class="proof-demonstration">
                        <div class="visualizer-title">Proof Demonstration</div>
                        <div class="proof-container" id="proofContainer">
                            <!-- Proof visualization will be generated by JavaScript -->
                        </div>
                        <div style="text-align: center; margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="showProofExamples()">Proof Examples</button>
                            <button class="btn btn-small btn-secondary" onclick="demonstrateProof()">Show Proof</button>
                        </div>
                    </div>
                    
                    <div class="comparison-section">
                        <div class="visualizer-title">Triangle Parts Comparison</div>
                        <div class="comparison-tables">
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Right Triangle Parts</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr onclick="showDetail('hypotenuse')" style="cursor: pointer;">
                                        <td>Hypotenuse (c)</td>
                                        <td>Longest side, opposite right angle</td>
                                    </tr>
                                    <tr onclick="showDetail('legs')" style="cursor: pointer;">
                                        <td>Legs (a, b)</td>
                                        <td>Two shorter sides</td>
                                    </tr>
                                    <tr onclick="showDetail('right_angle')" style="cursor: pointer;">
                                        <td>Right Angle</td>
                                        <td>90¬∞ angle between legs</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Theorem Parts</th>
                                        <th>Meaning</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr onclick="showDetail('squares')" style="cursor: pointer;">
                                        <td>a¬≤, b¬≤, c¬≤</td>
                                        <td>Areas of squares on sides</td>
                                    </tr>
                                    <tr onclick="showDetail('equation')" style="cursor: pointer;">
                                        <td>a¬≤ + b¬≤ = c¬≤</td>
                                        <td>Sum of leg squares = hypotenuse square</td>
                                    </tr>
                                    <tr onclick="showDetail('formula')" style="cursor: pointer;">
                                        <td>c = ‚àö(a¬≤ + b¬≤)</td>
                                        <td>Finding hypotenuse</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <table class="comparison-table">
                                <thead>
                                    <tr>
                                        <th>Common Triangles</th>
                                        <th>Sides Ratio</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr onclick="showDetail('3_4_5')" style="cursor: pointer;">
                                        <td>3-4-5 Triangle</td>
                                        <td>3¬≤ + 4¬≤ = 5¬≤</td>
                                    </tr>
                                    <tr onclick="showDetail('5_12_13')" style="cursor: pointer;">
                                        <td>5-12-13 Triangle</td>
                                        <td>5¬≤ + 12¬≤ = 13¬≤</td>
                                    </tr>
                                    <tr onclick="showDetail('8_15_17')" style="cursor: pointer;">
                                        <td>8-15-17 Triangle</td>
                                        <td>8¬≤ + 15¬≤ = 17¬≤</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="triangle-types">
                        <div class="visualizer-title">Special Right Triangles</div>
                        <div class="triangle-examples">
                            <div class="triangle-example" onclick="showSpecialTriangle('3_4_5')">
                                <div class="triangle-shape" style="background: conic-gradient(from 90deg at 50% 50%, var(--primary-blue) 0deg, transparent 90deg, transparent 180deg, var(--primary-green) 180deg, transparent 270deg, transparent 360deg);"></div>
                                <div style="font-size: 0.7rem;">3-4-5 Triangle</div>
                            </div>
                            <div class="triangle-example" onclick="showSpecialTriangle('isosceles')">
                                <div class="triangle-shape" style="background: conic-gradient(from 135deg at 50% 50%, var(--primary-blue) 0deg, transparent 90deg, var(--primary-green) 90deg, transparent 180deg, transparent 270deg, transparent 360deg);"></div>
                                <div style="font-size: 0.7rem;">Isosceles Right</div>
                            </div>
                            <div class="triangle-example" onclick="showSpecialTriangle('30_60_90')">
                                <div class="triangle-shape" style="background: conic-gradient(from 120deg at 50% 50%, var(--primary-blue) 0deg, transparent 90deg, var(--primary-green) 90deg, transparent 180deg, transparent 270deg, transparent 360deg);"></div>
                                <div style="font-size: 0.7rem;">30-60-90 Triangle</div>
                            </div>
                            <div class="triangle-example" onclick="showSpecialTriangle('5_12_13')">
                                <div class="triangle-shape" style="background: conic-gradient(from 110deg at 50% 50%, var(--primary-blue) 0deg, transparent 90deg, var(--primary-green) 90deg, transparent 180deg, transparent 270deg, transparent 360deg);"></div>
                                <div style="font-size: 0.7rem;">5-12-13 Triangle</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tools-section">
                        <div class="visualizer-title">Pythagoras Calculator</div>
                        <div class="calculator-interface">
                            <input type="text" class="calc-input" id="pythagorasInput" placeholder="Enter sides (e.g., 3,4 or 5,?,13)" readonly>
                            <div class="calc-row">
                                <div class="calc-btn" onclick="addToCalc('7')">7</div>
                                <div class="calc-btn" onclick="addToCalc('8')">8</div>
                                <div class="calc-btn" onclick="addToCalc('9')">9</div>
                                <div class="calc-btn operator" onclick="addToCalc('+')">+</div>
                            </div>
                            <div class="calc-row">
                                <div class="calc-btn" onclick="addToCalc('4')">4</div>
                                <div class="calc-btn" onclick="addToCalc('5')">5</div>
                                <div class="calc-btn" onclick="addToCalc('6')">6</div>
                                <div class="calc-btn operator" onclick="addToCalc('¬≤')">x¬≤</div>
                            </div>
                            <div class="calc-row">
                                <div class="calc-btn" onclick="addToCalc('1')">1</div>
                                <div class="calc-btn" onclick="addToCalc('2')">2</div>
                                <div class="calc-btn" onclick="addToCalc('3')">3</div>
                                <div class="calc-btn operator" onclick="addToCalc('‚àö')">‚àö</div>
                            </div>
                            <div class="calc-row">
                                <div class="calc-btn" onclick="addToCalc('0')">0</div>
                                <div class="calc-btn" onclick="addToCalc('.')">.</div>
                                <div class="calc-btn" onclick="addToCalc(',')">,</div>
                                <div class="calc-btn" onclick="addToCalc('?')">?</div>
                            </div>
                            <div class="calc-row">
                                <div class="calc-btn" onclick="clearCalc()">C</div>
                                <div class="calc-btn" onclick="addToCalc('a')">a</div>
                                <div class="calc-btn" onclick="addToCalc('b')">b</div>
                                <div class="calc-btn equals" onclick="calculatePythagoras()">=</div>
                            </div>
                        </div>
                        <div class="tool-buttons">
                            <button class="btn btn-small btn-secondary" onclick="showFormula('theorem')">Theorem Formulas</button>
                            <button class="btn btn-small btn-secondary" onclick="showFormula('triples')">Pythagorean Triples</button>
                            <button class="btn btn-small btn-secondary" onclick="showFormula('distance')">Distance Formula</button>
                            <button class="btn btn-small btn-secondary" onclick="showRealWorld()">Real World Uses</button>
                        </div>
                        <div id="formulaDisplay" class="formula-display" style="display: none;"></div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-secondary" id="skipQuestion">Skip Question</button>
                <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Geometry Practice Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="timeSpent">0min</div>
                        <div class="stat-label">Time Spent</div>
                    </div>
                </div>
                
                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn btn-primary" id="retryTopic">Try Again</button>
                    <button class="btn btn-secondary" id="viewTopics">Other Topics</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Questions array - 25 focused questions on Pythagoras' Theorem
        const questions = [
            {
                question: "What is Pythagoras' Theorem formula?",
                options: ["a¬≤ + b¬≤ = c¬≤", "a + b = c", "a √ó b = c", "a¬≤ - b¬≤ = c¬≤"],
                answer: "A",
                explanation: "Pythagoras' Theorem states that in a right triangle, the square of the hypotenuse equals the sum of squares of the other two sides: a¬≤ + b¬≤ = c¬≤"
            },
            {
                question: "In a right triangle, what is the hypotenuse?",
                options: ["The longest side, opposite the right angle", "The shortest side", "Either of the two equal sides", "The side next to the right angle"],
                answer: "A",
                explanation: "The hypotenuse is always the longest side of a right triangle and is opposite the right angle (90¬∞ angle)."
            },
            {
                question: "A right triangle has legs of 3 cm and 4 cm. What is the hypotenuse?",
                options: ["5 cm", "7 cm", "12 cm", "25 cm"],
                answer: "A",
                explanation: "Using Pythagoras: 3¬≤ + 4¬≤ = 9 + 16 = 25. ‚àö25 = 5 cm. This is the famous 3-4-5 triangle."
            },
            {
                question: "Which triangle is a right triangle?",
                options: ["Sides: 5, 12, 13", "Sides: 4, 5, 6", "Sides: 7, 8, 10", "Sides: 2, 3, 4"],
                answer: "A",
                explanation: "5¬≤ + 12¬≤ = 25 + 144 = 169. 13¬≤ = 169. So 5-12-13 is a right triangle."
            },
            {
                question: "If the hypotenuse is 10 cm and one leg is 6 cm, what is the other leg?",
                options: ["8 cm", "4 cm", "12 cm", "14 cm"],
                answer: "A",
                explanation: "a¬≤ + 6¬≤ = 10¬≤ ‚Üí a¬≤ + 36 = 100 ‚Üí a¬≤ = 64 ‚Üí a = 8 cm"
            },
            {
                question: "What is the length of the diagonal of a 3 m by 4 m rectangle?",
                options: ["5 m", "7 m", "12 m", "25 m"],
                answer: "A",
                explanation: "The diagonal splits the rectangle into two right triangles with legs 3 m and 4 m. Diagonal = ‚àö(3¬≤ + 4¬≤) = ‚àö(9+16) = ‚àö25 = 5 m"
            },
            {
                question: "Which angle must be present for Pythagoras' Theorem to apply?",
                options: ["90¬∞ (right angle)", "60¬∞", "45¬∞", "180¬∞"],
                answer: "A",
                explanation: "Pythagoras' Theorem only applies to right triangles (triangles with a 90¬∞ angle)."
            },
            {
                question: "A ladder 5 m long leans against a wall. If the base is 3 m from the wall, how high up does it reach?",
                options: ["4 m", "2 m", "8 m", "‚àö34 m"],
                answer: "A",
                explanation: "Height¬≤ + 3¬≤ = 5¬≤ ‚Üí Height¬≤ + 9 = 25 ‚Üí Height¬≤ = 16 ‚Üí Height = 4 m"
            },
            {
                question: "What is ‚àö169?",
                options: ["13", "12", "14", "169"],
                answer: "A",
                explanation: "13 √ó 13 = 169, so ‚àö169 = 13. This is important for Pythagorean triples."
            },
            {
                question: "In the equation a¬≤ + b¬≤ = c¬≤, what does c represent?",
                options: ["Hypotenuse", "Perimeter", "Area", "Height"],
                answer: "A",
                explanation: "In Pythagoras' Theorem, c always represents the hypotenuse (longest side)."
            },
            {
                question: "What is 8¬≤?",
                options: ["64", "16", "82", "88"],
                answer: "A",
                explanation: "8¬≤ means 8 √ó 8 = 64. Squaring numbers is essential for using Pythagoras' Theorem."
            },
            {
                question: "A triangle has sides 6 cm, 8 cm, and 10 cm. Is it a right triangle?",
                options: ["Yes, because 6¬≤ + 8¬≤ = 10¬≤", "No, because 6 + 8 ‚â† 10", "No, all sides must be equal", "Yes, all triangles are right"],
                answer: "A",
                explanation: "6¬≤ + 8¬≤ = 36 + 64 = 100. 10¬≤ = 100. Since 6¬≤ + 8¬≤ = 10¬≤, it's a right triangle."
            },
            {
                question: "What is the distance between points (0,0) and (3,4)?",
                options: ["5 units", "7 units", "1 unit", "12 units"],
                answer: "A",
                explanation: "Distance = ‚àö((3-0)¬≤ + (4-0)¬≤) = ‚àö(3¬≤ + 4¬≤) = ‚àö(9+16) = ‚àö25 = 5 units"
            },
            {
                question: "If a = 9 and b = 12, what is c?",
                options: ["15", "21", "‚àö63", "108"],
                answer: "A",
                explanation: "c¬≤ = 9¬≤ + 12¬≤ = 81 + 144 = 225. c = ‚àö225 = 15"
            },
            {
                question: "What is the main use of Pythagoras' Theorem?",
                options: ["Finding missing side of right triangle", "Finding area of any triangle", "Finding perimeter", "Finding angles"],
                answer: "A",
                explanation: "The primary use of Pythagoras' Theorem is to find the length of a missing side in a right triangle when you know the other two sides."
            },
            {
                question: "Which set is a Pythagorean triple?",
                options: ["(9, 40, 41)", "(10, 15, 20)", "(5, 10, 15)", "(2, 3, 4)"],
                answer: "A",
                explanation: "9¬≤ + 40¬≤ = 81 + 1600 = 1681. 41¬≤ = 1681. So (9,40,41) is a Pythagorean triple."
            },
            {
                question: "What is ‚àö144?",
                options: ["12", "11", "13", "72"],
                answer: "A",
                explanation: "12 √ó 12 = 144, so ‚àö144 = 12"
            },
            {
                question: "A right triangle has hypotenuse 15 cm and one leg 9 cm. Find the other leg.",
                options: ["12 cm", "6 cm", "24 cm", "‚àö306 cm"],
                answer: "A",
                explanation: "9¬≤ + b¬≤ = 15¬≤ ‚Üí 81 + b¬≤ = 225 ‚Üí b¬≤ = 144 ‚Üí b = 12 cm"
            },
            {
                question: "What does 'squaring' a number mean?",
                options: ["Multiplying it by itself", "Adding it to itself", "Dividing by 2", "Finding square root"],
                answer: "A",
                explanation: "Squaring means multiplying a number by itself: n¬≤ = n √ó n"
            },
            {
                question: "Is a triangle with sides 7, 24, 25 a right triangle?",
                options: ["Yes", "No", "Only if scaled", "Can't determine"],
                answer: "A",
                explanation: "7¬≤ + 24¬≤ = 49 + 576 = 625. 25¬≤ = 625. So yes, it's a right triangle."
            },
            {
                question: "What is 15¬≤?",
                options: ["225", "30", "125", "152"],
                answer: "A",
                explanation: "15 √ó 15 = 225"
            },
            {
                question: "Find c if a = 20 and b = 21",
                options: ["29", "41", "‚àö841", "400"],
                answer: "A",
                explanation: "c¬≤ = 20¬≤ + 21¬≤ = 400 + 441 = 841. c = ‚àö841 = 29"
            },
            {
                question: "What is the diagonal of a square with side 1 unit?",
                options: ["‚àö2 units", "1 unit", "2 units", "‚àö3 units"],
                answer: "A",
                explanation: "Diagonal¬≤ = 1¬≤ + 1¬≤ = 1 + 1 = 2. Diagonal = ‚àö2 units"
            },
            {
                question: "Which is NOT needed to use Pythagoras' Theorem?",
                options: ["All three angles", "Right triangle", "Two side lengths", "Knowledge of squares"],
                answer: "A",
                explanation: "You don't need all three angles. You need: 1) A right triangle, 2) Knowledge of two sides, 3) Ability to square numbers and find square roots."
            },
            {
                question: "Why is Pythagoras' Theorem important?",
                options: ["It's used in construction, navigation, and many fields", "It's only for math class", "It makes triangles pretty", "It's not important"],
                answer: "A",
                explanation: "Pythagoras' Theorem is essential in architecture, construction, navigation, computer graphics, physics, and many real-world applications."
            }
        ];

        // Geometry tips
        const geometryTips = [
            "Remember: Pythagoras' Theorem only works for RIGHT triangles (triangles with a 90¬∞ angle)!",
            "The hypotenuse is always the longest side and is opposite the right angle.",
            "Common Pythagorean triples to remember: 3-4-5, 5-12-13, 8-15-17, 7-24-25.",
            "To find the hypotenuse: c = ‚àö(a¬≤ + b¬≤). To find a leg: a = ‚àö(c¬≤ - b¬≤).",
            "Always check: Does a¬≤ + b¬≤ = c¬≤? If yes, it's a right triangle!",
            "The distance formula in coordinate geometry comes from Pythagoras' Theorem.",
            "In a 45-45-90 triangle (isosceles right triangle), if legs = x, then hypotenuse = x‚àö2.",
            "In a 30-60-90 triangle, sides are in ratio 1 : ‚àö3 : 2 (short leg : long leg : hypotenuse)."
        ];

        // Pythagorean triples
        const pythagoreanTriples = [
            { sides: [3, 4, 5], description: "Most common triple" },
            { sides: [5, 12, 13], description: "Second most common" },
            { sides: [8, 15, 17], description: "Often used in problems" },
            { sides: [7, 24, 25], description: "Less common but important" },
            { sides: [9, 40, 41], description: "Larger triple" },
            { sides: [6, 8, 10], description: "Multiple of 3-4-5 (2√ó)" },
            { sides: [10, 24, 26], description: "Multiple of 5-12-13 (2√ó)" },
            { sides: [12, 35, 37], description: "Interesting triple" }
        ];

        // Special right triangles
        const specialTriangles = {
            '3_4_5': {
                sides: { a: 3, b: 4, c: 5 },
                description: "The most famous Pythagorean triple",
                properties: ["3¬≤ + 4¬≤ = 9 + 16 = 25 = 5¬≤", "Used in construction for right angles"]
            },
            'isosceles': {
                sides: { a: 1, b: 1, c: Math.sqrt(2) },
                description: "45-45-90 triangle",
                properties: ["Legs are equal", "Hypotenuse = leg √ó ‚àö2", "Angles: 45¬∞, 45¬∞, 90¬∞"]
            },
            '30_60_90': {
                sides: { a: 1, b: Math.sqrt(3), c: 2 },
                description: "30-60-90 triangle",
                properties: ["Sides ratio: 1 : ‚àö3 : 2", "Angles: 30¬∞, 60¬∞, 90¬∞", "Short leg opposite 30¬∞"]
            },
            '5_12_13': {
                sides: { a: 5, b: 12, c: 13 },
                description: "Common Pythagorean triple",
                properties: ["5¬≤ + 12¬≤ = 25 + 144 = 169 = 13¬≤", "Often appears in test questions"]
            }
        };

        // Formulas
        const formulas = {
            'theorem': {
                title: "Pythagoras' Theorem Formulas",
                list: [
                    "a¬≤ + b¬≤ = c¬≤",
                    "c = ‚àö(a¬≤ + b¬≤) [find hypotenuse]",
                    "a = ‚àö(c¬≤ - b¬≤) [find leg]",
                    "b = ‚àö(c¬≤ - a¬≤) [find leg]"
                ]
            },
            'triples': {
                title: "Common Pythagorean Triples",
                list: [
                    "3-4-5 (and multiples: 6-8-10, 9-12-15)",
                    "5-12-13 (and multiples: 10-24-26)",
                    "8-15-17",
                    "7-24-25",
                    "9-40-41"
                ]
            },
            'distance': {
                title: "Distance Formula (from Pythagoras)",
                list: [
                    "d = ‚àö[(x‚ÇÇ - x‚ÇÅ)¬≤ + (y‚ÇÇ - y‚ÇÅ)¬≤]",
                    "Horizontal distance: (x‚ÇÇ - x‚ÇÅ)",
                    "Vertical distance: (y‚ÇÇ - y‚ÇÅ)",
                    "d¬≤ = (horizontal)¬≤ + (vertical)¬≤"
                ]
            }
        };

        // Detailed information for comparison
        const details = {
            'hypotenuse': {
                title: "Hypotenuse",
                info: "The longest side of a right triangle, always opposite the right angle. In Pythagoras' Theorem, it's represented by 'c'."
            },
            'legs': {
                title: "Legs (a and b)",
                info: "The two shorter sides of a right triangle that form the right angle. They can be of different lengths."
            },
            'right_angle': {
                title: "Right Angle",
                info: "A 90¬∞ angle. Essential for Pythagoras' Theorem to apply. Usually marked with a small square in diagrams."
            },
            'squares': {
                title: "Squares on Sides",
                info: "a¬≤, b¬≤, and c¬≤ represent the areas of squares built on each side of the triangle. The theorem shows the area relationship."
            },
            'equation': {
                title: "The Equation",
                info: "a¬≤ + b¬≤ = c¬≤ means: The area of the square on the hypotenuse equals the sum of areas of squares on the legs."
            },
            'formula': {
                title: "Finding Hypotenuse",
                info: "c = ‚àö(a¬≤ + b¬≤). Take square root of the sum of squares of legs to find hypotenuse length."
            },
            '3_4_5': {
                title: "3-4-5 Triangle",
                info: "The most famous right triangle. 3¬≤ + 4¬≤ = 9 + 16 = 25 = 5¬≤. Used by builders to check right angles."
            },
            '5_12_13': {
                title: "5-12-13 Triangle",
                info: "Another common Pythagorean triple. 5¬≤ + 12¬≤ = 25 + 144 = 169 = 13¬≤. Often appears in math problems."
            },
            '8_15_17': {
                title: "8-15-17 Triangle",
                info: "Useful Pythagorean triple. 8¬≤ + 15¬≤ = 64 + 225 = 289 = 17¬≤. Good for larger number practice."
            }
        };

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            studentName: "",
            startTime: null
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const backToHomeBtn = document.getElementById('backToHome');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const geometryTip = document.getElementById('geometryTip');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const feedbackExplanation = document.getElementById('feedbackExplanation');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const timeSpent = document.getElementById('timeSpent');
        const theoremContainer = document.getElementById('theoremContainer');
        const theoremDisplay = document.getElementById('theoremDisplay');
        const triangleContainer = document.getElementById('triangleContainer');
        const proofContainer = document.getElementById('proofContainer');
        const pythagorasInput = document.getElementById('pythagorasInput');
        const formulaDisplay = document.getElementById('formulaDisplay');

        // Variables for interactive elements
        let trianglePoints = { A: {x: 50, y: 150}, B: {x: 150, y: 150}, C: {x: 150, y: 50} };
        let draggingPoint = null;

        // Initialize
        function initApp() {
            setupEventListeners();
            showWelcomePage();
            createTheoremVisualizer();
            createInteractiveTriangle();
            createProofVisualizer();
            setupCalculator();
        }

        // Create theorem visualizer
        function createTheoremVisualizer() {
            theoremContainer.innerHTML = '';
            
            // Create triangle (3-4-5)
            const triangle = document.createElement('div');
            triangle.className = 'right-triangle';
            triangle.style.borderWidth = '0 80px 60px 0';
            triangle.style.borderRightColor = 'rgba(33, 150, 243, 0.6)';
            triangle.style.borderBottomColor = 'rgba(76, 175, 80, 0.6)';
            triangle.style.left = '60px';
            triangle.style.top = '70px';
            theoremContainer.appendChild(triangle);
            
            // Create square on side a (vertical)
            const squareA = document.createElement('div');
            squareA.className = 'square-area';
            squareA.style.width = '60px';
            squareA.style.height = '60px';
            squareA.style.left = '60px';
            squareA.style.top = '10px';
            squareA.title = 'a¬≤ = 9';
            theoremContainer.appendChild(squareA);
            
            // Label for side a
            const labelA = document.createElement('div');
            labelA.className = 'side-label';
            labelA.textContent = 'a = 3';
            labelA.style.left = '40px';
            labelA.style.top = '100px';
            theoremContainer.appendChild(labelA);
            
            // Create square on side b (horizontal)
            const squareB = document.createElement('div');
            squareB.className = 'square-area';
            squareB.style.width = '80px';
            squareB.style.height = '80px';
            squareB.style.left = '140px';
            squareB.style.top = '70px';
            squareB.title = 'b¬≤ = 16';
            theoremContainer.appendChild(squareB);
            
            // Label for side b
            const labelB = document.createElement('div');
            labelB.className = 'side-label';
            labelB.textContent = 'b = 4';
            labelB.style.left = '180px';
            labelB.style.top = '160px';
            theoremContainer.appendChild(labelB);
            
            // Create square on side c (hypotenuse)
            const squareC = document.createElement('div');
            squareC.className = 'square-area';
            squareC.style.width = '100px';
            squareC.style.height = '100px';
            squareC.style.left = '60px';
            squareC.style.top = '70px';
            squareC.style.transform = 'rotate(45deg)';
            squareC.style.transformOrigin = 'top left';
            squareC.title = 'c¬≤ = 25';
            theoremContainer.appendChild(squareC);
            
            // Label for side c
            const labelC = document.createElement('div');
            labelC.className = 'side-label';
            labelC.textContent = 'c = 5';
            labelC.style.left = '110px';
            labelC.style.top = '40px';
            theoremContainer.appendChild(labelC);
            
            // Add animation
            theoremDisplay.classList.add('theorem-reveal');
            setTimeout(() => {
                theoremDisplay.classList.remove('theorem-reveal');
            }, 500);
        }

        // Create interactive triangle
        function createInteractiveTriangle() {
            triangleContainer.innerHTML = '';
            updateInteractiveTriangle();
        }

        function updateInteractiveTriangle() {
            triangleContainer.innerHTML = '';
            
            // Calculate side lengths
            const a = Math.abs(trianglePoints.C.y - trianglePoints.B.y); // vertical side
            const b = Math.abs(trianglePoints.B.x - trianglePoints.A.x); // horizontal side
            const c = Math.sqrt(a*a + b*b); // hypotenuse
            
            // Draw triangle sides
            // Side a (vertical)
            const sideA = document.createElement('div');
            sideA.className = 'triangle-side';
            sideA.style.width = '2px';
            sideA.style.height = `${a}px`;
            sideA.style.left = `${trianglePoints.B.x}px`;
            sideA.style.top = `${trianglePoints.B.y}px`;
            sideA.style.backgroundColor = 'rgba(33, 150, 243, 0.5)';
            triangleContainer.appendChild(sideA);
            
            // Label for side a
            const labelA = document.createElement('div');
            labelA.className = 'side-length';
            labelA.textContent = `a = ${a.toFixed(1)}`;
            labelA.style.left = `${trianglePoints.B.x + 10}px`;
            labelA.style.top = `${trianglePoints.B.y + a/2 - 10}px`;
            triangleContainer.appendChild(labelA);
            
            // Side b (horizontal)
            const sideB = document.createElement('div');
            sideB.className = 'triangle-side';
            sideB.style.width = `${b}px`;
            sideB.style.height = '2px';
            sideB.style.left = `${trianglePoints.A.x}px`;
            sideB.style.top = `${trianglePoints.A.y}px`;
            sideB.style.backgroundColor = 'rgba(76, 175, 80, 0.5)';
            triangleContainer.appendChild(sideB);
            
            // Label for side b
            const labelB = document.createElement('div');
            labelB.className = 'side-length';
            labelB.textContent = `b = ${b.toFixed(1)}`;
            labelB.style.left = `${trianglePoints.A.x + b/2 - 20}px`;
            labelB.style.top = `${trianglePoints.A.y + 10}px`;
            triangleContainer.appendChild(labelB);
            
            // Side c (hypotenuse) - draw as diagonal line
            const sideC = document.createElement('div');
            sideC.className = 'triangle-side';
            const lengthC = Math.sqrt(a*a + b*b);
            const angle = Math.atan2(a, b) * 180 / Math.PI;
            sideC.style.width = `${lengthC}px`;
            sideC.style.height = '2px';
            sideC.style.left = `${trianglePoints.A.x}px`;
            sideC.style.top = `${trianglePoints.A.y}px`;
            sideC.style.transform = `rotate(${angle}deg)`;
            sideC.style.transformOrigin = 'left center';
            sideC.style.backgroundColor = 'rgba(156, 39, 176, 0.5)';
            triangleContainer.appendChild(sideC);
            
            // Label for side c
            const labelC = document.createElement('div');
            labelC.className = 'side-length';
            labelC.textContent = `c = ${c.toFixed(1)}`;
            labelC.style.left = `${trianglePoints.A.x + b/2 - 20}px`;
            labelC.style.top = `${trianglePoints.A.y - a/2}px`;
            triangleContainer.appendChild(labelC);
            
            // Create draggable points
            ['A', 'B', 'C'].forEach(pointName => {
                const point = document.createElement('div');
                point.className = 'draggable-point';
                point.id = `point-${pointName}`;
                point.style.left = `${trianglePoints[pointName].x}px`;
                point.style.top = `${trianglePoints[pointName].y}px`;
                point.textContent = pointName;
                point.style.fontSize = '0.6rem';
                point.style.textAlign = 'center';
                point.style.lineHeight = '12px';
                
                point.addEventListener('mousedown', (e) => startDrag(e, pointName));
                point.addEventListener('touchstart', (e) => startDrag(e, pointName));
                
                triangleContainer.appendChild(point);
            });
            
            // Add Pythagorean check
            const checkDiv = document.createElement('div');
            checkDiv.style.position = 'absolute';
            checkDiv.style.bottom = '10px';
            checkDiv.style.left = '10px';
            checkDiv.style.color = 'var(--text-secondary)';
            checkDiv.style.fontSize = '0.8rem';
            checkDiv.textContent = `Check: ${a.toFixed(1)}¬≤ + ${b.toFixed(1)}¬≤ = ${(a*a + b*b).toFixed(1)} = ${c.toFixed(1)}¬≤`;
            triangleContainer.appendChild(checkDiv);
        }

        // Drag functionality for interactive triangle
        function startDrag(e, pointName) {
            e.preventDefault();
            draggingPoint = pointName;
            
            const moveHandler = (e) => {
                if (!draggingPoint) return;
                
                const rect = triangleContainer.getBoundingClientRect();
                let clientX, clientY;
                
                if (e.type.includes('touch')) {
                    clientX = e.touches[0].clientX;
                    clientY = e.touches[0].clientY;
                } else {
                    clientX = e.clientX;
                    clientY = e.clientY;
                }
                
                const x = clientX - rect.left;
                const y = clientY - rect.top;
                
                // Keep point within container
                const newX = Math.max(20, Math.min(rect.width - 20, x));
                const newY = Math.max(20, Math.min(rect.height - 20, y));
                
                // For right triangle, maintain right angle at B
                if (pointName === 'A') {
                    trianglePoints.A.x = newX;
                    trianglePoints.A.y = trianglePoints.B.y; // Keep horizontal
                } else if (pointName === 'B') {
                    // B is the right angle vertex
                    trianglePoints.B.x = newX;
                    trianglePoints.B.y = newY;
                    trianglePoints.A.y = trianglePoints.B.y; // Keep A horizontal
                    trianglePoints.C.x = trianglePoints.B.x; // Keep C vertical
                } else if (pointName === 'C') {
                    trianglePoints.C.x = trianglePoints.B.x; // Keep vertical
                    trianglePoints.C.y = newY;
                }
                
                updateInteractiveTriangle();
            };
            
            const stopDrag = () => {
                draggingPoint = null;
                document.removeEventListener('mousemove', moveHandler);
                document.removeEventListener('touchmove', moveHandler);
                document.removeEventListener('mouseup', stopDrag);
                document.removeEventListener('touchend', stopDrag);
            };
            
            document.addEventListener('mousemove', moveHandler);
            document.addEventListener('touchmove', moveHandler);
            document.addEventListener('mouseup', stopDrag);
            document.addEventListener('touchend', stopDrag);
        }

        // Create proof visualizer
        function createProofVisualizer() {
            proofContainer.innerHTML = '';
            
            // Create squares for visual proof
            const size = 80;
            
            // First arrangement: a¬≤ + b¬≤
            const square1 = document.createElement('div');
            square1.className = 'proof-piece';
            square1.style.width = `${size}px`;
            square1.style.height = `${size}px`;
            square1.style.left = '20px';
            square1.style.top = '60px';
            square1.textContent = 'a¬≤';
            square1.style.display = 'flex';
            square1.style.alignItems = 'center';
            square1.style.justifyContent = 'center';
            square1.onclick = () => showProofStep(1);
            proofContainer.appendChild(square1);
            
            const square2 = document.createElement('div');
            square2.className = 'proof-piece';
            square2.style.width = `${size}px`;
            square2.style.height = `${size}px`;
            square2.style.left = '110px';
            square2.style.top = '60px';
            square2.textContent = 'b¬≤';
            square2.style.display = 'flex';
            square2.style.alignItems = 'center';
            square2.style.justifyContent = 'center';
            square2.onclick = () => showProofStep(2);
            proofContainer.appendChild(square2);
            
            // Plus sign
            const plus = document.createElement('div');
            plus.textContent = '+';
            plus.style.position = 'absolute';
            plus.style.left = '95px';
            plus.style.top = '95px';
            plus.style.fontSize = '1.5rem';
            plus.style.color = 'var(--text-primary)';
            proofContainer.appendChild(plus);
            
            // Equals sign
            const equals = document.createElement('div');
            equals.textContent = '=';
            equals.style.position = 'absolute';
            equals.style.left = '200px';
            equals.style.top = '95px';
            equals.style.fontSize = '1.5rem';
            equals.style.color = 'var(--text-primary)';
            proofContainer.appendChild(equals);
            
            // c¬≤ square
            const square3 = document.createElement('div');
            square3.className = 'proof-piece';
            square3.style.width = `${size}px`;
            square3.style.height = `${size}px`;
            square3.style.left = '220px';
            square3.style.top = '60px';
            square3.textContent = 'c¬≤';
            square3.style.display = 'flex';
            square3.style.alignItems = 'center';
            square3.style.justifyContent = 'center';
            square3.onclick = () => showProofStep(3);
            proofContainer.appendChild(square3);
        }

        // Setup calculator
        function setupCalculator() {
            pythagorasInput.value = '';
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', showWelcomePage);
            viewTopicsBtn.addEventListener('click', () => alert("Other math topics would be available here."));
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') startPractice();
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            appState.startTime = new Date();
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const percentage = Math.round((appState.score / questions.length) * 100);
            const timeDiff = new Date() - appState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            timeSpent.textContent = `${minutes}min`;
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Excellent! You're a Pythagoras master!";
            } else if (percentage >= 75) {
                scoreMessage.textContent = "Great job! You understand right triangles well!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good work! You're getting the hang of the Pythagorean Theorem!";
            } else {
                scoreMessage.textContent = "Keep practicing! Right triangles are everywhere - try again!";
            }
        }

        // Create geometry tip display
        function createGeometryTip() {
            const tipDiv = document.createElement('div');
            tipDiv.className = 'geometry-tip';
            tipDiv.innerHTML = `<strong>Geometry Tip:</strong> ${geometryTips[Math.floor(Math.random() * geometryTips.length)]}`;
            return tipDiv;
        }

        // Load question
        function loadQuestion() {
            const question = questions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${questions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            geometryTip.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            geometryTip.appendChild(createGeometryTip());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = questions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation);
            }
            
            nextQuestionBtn.disabled = false;
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Skip question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Retry topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            showPracticePage();
        }

        // Start practice
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin geometry practice!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            showPracticePage();
        }

        // Interactive functions
        window.showGeometryType = function(type) {
            let info = '';
            if (type === 'theorem') {
                info = "üìê Pythagoras' Theorem üìê\n\n";
                info += "‚Ä¢ Formula: a¬≤ + b¬≤ = c¬≤\n";
                info += "‚Ä¢ Applies only to RIGHT triangles\n";
                info += "‚Ä¢ c is the hypotenuse (longest side)\n";
                info += "‚Ä¢ a and b are the legs (shorter sides)\n";
                info += "‚Ä¢ The theorem relates AREAS of squares\n";
                info += "‚Ä¢ Area of square on c = Sum of areas on a and b\n";
                info += "‚Ä¢ Named after Greek mathematician Pythagoras (c. 570‚Äì495 BC)";
            } else if (type === 'triangle') {
                info = "üî∫ Right Triangles üî∫\n\n";
                info += "‚Ä¢ One angle is exactly 90¬∞ (right angle)\n";
                info += "‚Ä¢ The side opposite right angle = hypotenuse\n";
                info += "‚Ä¢ The two other sides = legs\n";
                info += "‚Ä¢ Special right triangles:\n";
                info += "  - 3-4-5 triangle (and multiples)\n";
                info += "  - 5-12-13 triangle\n";
                info += "  - 45-45-90 triangle (isosceles right)\n";
                info += "  - 30-60-90 triangle\n";
                info += "‚Ä¢ Used in construction, navigation, architecture";
            } else {
                info = "üìè Proofs & Applications üìè\n\n";
                info += "‚Ä¢ Visual proof using squares\n";
                info += "‚Ä¢ Algebraic proof using area\n";
                info += "‚Ä¢ Over 400 known proofs!\n";
                info += "‚Ä¢ Applications:\n";
                info += "  - Finding distances\n";
                info += "  - Construction (ensuring right angles)\n";
                info += "  - Navigation (shortest path)\n";
                info += "  - Computer graphics\n";
                info += "  - Physics and engineering\n";
                info += "‚Ä¢ Foundation for distance formula";
            }
            alert(info);
        };

        window.showTheoremExamples = function() {
            let info = "Pythagoras' Theorem Examples:\n\n";
            
            info += "Basic Example (3-4-5):\n";
            info += "a = 3, b = 4, c = ?\n";
            info += "3¬≤ + 4¬≤ = 9 + 16 = 25\n";
            info += "c = ‚àö25 = 5\n\n";
            
            info += "Finding a Leg:\n";
            info += "c = 13, b = 5, a = ?\n";
            info += "a¬≤ + 5¬≤ = 13¬≤\n";
            info += "a¬≤ + 25 = 169\n";
            info += "a¬≤ = 144 ‚Üí a = 12\n\n";
            
            info += "Real World Example:\n";
            info += "TV screen: 16\" wide, 9" high\n";
            info += "Diagonal = ‚àö(16¬≤ + 9¬≤)\n";
            info += "= ‚àö(256 + 81) = ‚àö337 ‚âà 18.4"";
            
            alert(info);
        };

        window.demonstrateTheorem = function() {
            // Update visualizer with random triangle
            const a = Math.floor(Math.random() * 8) + 3;
            const b = Math.floor(Math.random() * 8) + 3;
            const c = Math.sqrt(a*a + b*b).toFixed(2);
            
            theoremDisplay.textContent = `${a}¬≤ + ${b}¬≤ = ${c}¬≤`;
            theoremDisplay.classList.add('pulse');
            
            setTimeout(() => {
                theoremDisplay.classList.remove('pulse');
            }, 500);
            
            let info = `Demonstration:\n\n`;
            info += `Right triangle with legs: ${a} and ${b}\n\n`;
            info += `Step 1: Square the legs:\n`;
            info += `${a}¬≤ = ${a*a}\n`;
            info += `${b}¬≤ = ${b*b}\n\n`;
            info += `Step 2: Add the squares:\n`;
            info += `${a*a} + ${b*b} = ${a*a + b*b}\n\n`;
            info += `Step 3: Find square root:\n`;
            info += `‚àö${a*a + b*b} = ${c}\n\n`;
            info += `So: ${a}¬≤ + ${b}¬≤ = ${c}¬≤`;
            
            alert(info);
        };

        window.showTriangleExamples = function() {
            let info = "Right Triangle Examples:\n\n";
            
            info += "Common Pythagorean Triples:\n";
            pythagoreanTriples.slice(0, 5).forEach(triple => {
                info += `‚Ä¢ ${triple.sides[0]}-${triple.sides[1]}-${triple.sides[2]}: ${triple.sides[0]}¬≤ + ${triple.sides[1]}¬≤ = ${triple.sides[2]}¬≤\n`;
            });
            info += "\n";
            
            info += "Special Right Triangles:\n";
            info += "‚Ä¢ 45-45-90: If legs = x, hypotenuse = x‚àö2\n";
            info += "‚Ä¢ 30-60-90: Sides ratio = 1 : ‚àö3 : 2\n\n";
            
            info += "Real World Triangles:\n";
            info += "‚Ä¢ Roof truss: Often right triangles\n";
            info += "‚Ä¢ Staircase: Steps form right triangles\n";
            info += "‚Ä¢ Ladder against wall: Forms right triangle\n";
            info += "‚Ä¢ Corner of room: Right angle";
            
            alert(info);
        };

        window.calculateHypotenuse = function() {
            const a = Math.floor(Math.random() * 10) + 1;
            const b = Math.floor(Math.random() * 10) + 1;
            const c = Math.sqrt(a*a + b*b).toFixed(2);
            
            // Update interactive triangle
            trianglePoints = {
                A: {x: 50, y: 150},
                B: {x: 50 + b*10, y: 150},
                C: {x: 50 + b*10, y: 150 - a*10}
            };
            updateInteractiveTriangle();
            
            let info = `Calculate Hypotenuse:\n\n`;
            info += `Right triangle with legs:\n`;
            info += `a = ${a}, b = ${b}\n\n`;
            info += `Step 1: a¬≤ = ${a}¬≤ = ${a*a}\n`;
            info += `Step 2: b¬≤ = ${b}¬≤ = ${b*b}\n`;
            info += `Step 3: a¬≤ + b¬≤ = ${a*a} + ${b*b} = ${a*a + b*b}\n`;
            info += `Step 4: c = ‚àö${a*a + b*b} = ${c}\n\n`;
            info += `Answer: c = ${c}`;
            
            alert(info);
        };

        window.showProofExamples = function() {
            let info = "Proofs of Pythagoras' Theorem:\n\n";
            
            info += "Visual Proof (Chinese Proof):\n";
            info += "‚Ä¢ Arrange squares to show a¬≤ + b¬≤ = c¬≤\n";
            info += "‚Ä¢ Rearrange pieces to form equal areas\n\n";
            
            info += "Algebraic Proof:\n";
            info += "‚Ä¢ Start with (a+b)¬≤ = a¬≤ + 2ab + b¬≤\n";
            info += "‚Ä¢ Also equals c¬≤ + 2ab (from triangle area)\n";
            info += "‚Ä¢ Cancel 2ab to get a¬≤ + b¬≤ = c¬≤\n\n";
            
            info += "President Garfield's Proof:\n";
            info += "‚Ä¢ Uses trapezoid area formula\n";
            info += "‚Ä¢ Created by U.S. President James Garfield\n\n";
            
            info += "There are over 400 different proofs!";
            
            alert(info);
        };

        window.demonstrateProof = function() {
            let info = "Visual Proof Demonstration:\n\n";
            
            info += "Step 1: Build squares on each side\n";
            info += "‚Ä¢ Square on side a has area a¬≤\n";
            info += "‚Ä¢ Square on side b has area b¬≤\n";
            info += "‚Ä¢ Square on side c has area c¬≤\n\n";
            
            info += "Step 2: Rearrange the pieces\n";
            info += "‚Ä¢ Cut the a¬≤ and b¬≤ squares\n";
            info += "‚Ä¢ Rearrange the pieces\n";
            info += "‚Ä¢ They exactly fill the c¬≤ square\n\n";
            
            info += "Step 3: Conclusion\n";
            info += "‚Ä¢ Since same pieces make both arrangements\n";
            info += "‚Ä¢ The areas must be equal\n";
            info += "‚Ä¢ Therefore: a¬≤ + b¬≤ = c¬≤\n\n";
            
            info += "This shows why the theorem is true!";
            
            alert(info);
        };

        window.showProofStep = function(step) {
            let info = '';
            if (step === 1) {
                info = "Square on side 'a'\n\n";
                info += "‚Ä¢ Area = a √ó a = a¬≤\n";
                info += "‚Ä¢ Built on the vertical leg of triangle\n";
                info += "‚Ä¢ If a = 3, area = 9 square units";
            } else if (step === 2) {
                info = "Square on side 'b'\n\n";
                info += "‚Ä¢ Area = b √ó b = b¬≤\n";
                info += "‚Ä¢ Built on the horizontal leg of triangle\n";
                info += "‚Ä¢ If b = 4, area = 16 square units";
            } else {
                info = "Square on hypotenuse 'c'\n\n";
                info += "‚Ä¢ Area = c √ó c = c¬≤\n";
                info += "‚Ä¢ Built on the slanted side (hypotenuse)\n";
                info += "‚Ä¢ If c = 5, area = 25 square units\n";
                info += "‚Ä¢ Notice: 9 + 16 = 25!";
            }
            alert(info);
        };

        window.showSpecialTriangle = function(type) {
            const triangle = specialTriangles[type];
            if (!triangle) return;
            
            let info = `${triangle.description}\n\n`;
            info += `Side lengths:\n`;
            info += `‚Ä¢ a = ${triangle.sides.a}\n`;
            info += `‚Ä¢ b = ${triangle.sides.b.toFixed(2)}\n`;
            info += `‚Ä¢ c = ${triangle.sides.c.toFixed(2)}\n\n`;
            
            if (type === '3_4_5') {
                info += `Check: ${triangle.sides.a}¬≤ + ${triangle.sides.b}¬≤ = ${triangle.sides.a*triangle.sides.a} + ${triangle.sides.b*triangle.sides.b} = ${triangle.sides.a*triangle.sides.a + triangle.sides.b*triangle.sides.b}\n`;
                info += `${triangle.sides.c}¬≤ = ${triangle.sides.c*triangle.sides.c}\n`;
                info += `Equal! ‚úì\n\n`;
            }
            
            info += `Properties:\n`;
            triangle.properties.forEach(prop => {
                info += `‚Ä¢ ${prop}\n`;
            });
            
            if (type === 'isosceles') {
                info += `\nUseful fact: Diagonal of a square = side √ó ‚àö2`;
            } else if (type === '30_60_90') {
                info += `\nMemorize the ratio: 1 : ‚àö3 : 2`;
            }
            
            alert(info);
        };

        window.addToCalc = function(value) {
            pythagorasInput.value += value;
        };

        window.clearCalc = function() {
            pythagorasInput.value = '';
        };

        window.calculatePythagoras = function() {
            const input = pythagorasInput.value.trim();
            if (!input) {
                alert("Please enter values to calculate!");
                return;
            }
            
            try {
                // Parse input like "3,4" or "5,?,13"
                const parts = input.split(',');
                if (parts.length !== 3) {
                    throw new Error("Enter three values separated by commas. Use ? for unknown.");
                }
                
                let a, b, c;
                let unknownCount = 0;
                
                // Parse values
                for (let i = 0; i < 3; i++) {
                    if (parts[i] === '?') {
                        unknownCount++;
                        if (i === 0) a = null;
                        else if (i === 1) b = null;
                        else c = null;
                    } else {
                        const val = parseFloat(parts[i]);
                        if (isNaN(val)) throw new Error("Invalid number");
                        if (i === 0) a = val;
                        else if (i === 1) b = val;
                        else c = val;
                    }
                }
                
                if (unknownCount !== 1) {
                    throw new Error("Enter exactly two known values and one ?");
                }
                
                let info = `Calculation:\n\n`;
                info += `Given: a = ${a !== null ? a : '?'}, b = ${b !== null ? b : '?'}, c = ${c !== null ? c : '?'}\n\n`;
                
                if (c === null) {
                    // Find hypotenuse
                    const result = Math.sqrt(a*a + b*b);
                    info += `Step 1: a¬≤ = ${a}¬≤ = ${a*a}\n`;
                    info += `Step 2: b¬≤ = ${b}¬≤ = ${b*b}\n`;
                    info += `Step 3: a¬≤ + b¬≤ = ${a*a} + ${b*b} = ${a*a + b*b}\n`;
                    info += `Step 4: c = ‚àö${a*a + b*b} = ${result.toFixed(2)}\n\n`;
                    info += `Answer: c = ${result.toFixed(2)}`;
                    
                    // Update display
                    pythagorasInput.value = `${a},${b},${result.toFixed(2)}`;
                } else if (a === null) {
                    // Find leg a
                    const result = Math.sqrt(c*c - b*b);
                    info += `Step 1: c¬≤ = ${c}¬≤ = ${c*c}\n`;
                    info += `Step 2: b¬≤ = ${b}¬≤ = ${b*b}\n`;
                    info += `Step 3: c¬≤ - b¬≤ = ${c*c} - ${b*b} = ${c*c - b*b}\n`;
                    info += `Step 4: a = ‚àö${c*c - b*b} = ${result.toFixed(2)}\n\n`;
                    info += `Answer: a = ${result.toFixed(2)}`;
                    
                    pythagorasInput.value = `${result.toFixed(2)},${b},${c}`;
                } else {
                    // Find leg b
                    const result = Math.sqrt(c*c - a*a);
                    info += `Step 1: c¬≤ = ${c}¬≤ = ${c*c}\n`;
                    info += `Step 2: a¬≤ = ${a}¬≤ = ${a*a}\n`;
                    info += `Step 3: c¬≤ - a¬≤ = ${c*c} - ${a*a} = ${c*c - a*a}\n`;
                    info += `Step 4: b = ‚àö${c*c - a*a} = ${result.toFixed(2)}\n\n`;
                    info += `Answer: b = ${result.toFixed(2)}`;
                    
                    pythagorasInput.value = `${a},${result.toFixed(2)},${c}`;
                }
                
                alert(info);
            } catch (error) {
                alert(`Error: ${error.message}\n\nEnter in format: 3,4,? or 5,?,13\nUse ? for the unknown value.`);
            }
        };

        window.showFormula = function(type) {
            const formulaInfo = formulas[type];
            if (!formulaInfo) return;
            
            formulaDisplay.innerHTML = `<strong>${formulaInfo.title}</strong><br>`;
            formulaInfo.list.forEach(item => {
                formulaDisplay.innerHTML += `‚Ä¢ ${item}<br>`;
            });
            formulaDisplay.style.display = 'block';
            formulaDisplay.classList.add('theorem-reveal');
            
            setTimeout(() => {
                formulaDisplay.classList.remove('theorem-reveal');
            }, 500);
        };

        window.showRealWorld = function() {
            let info = "Real World Applications:\n\n";
            
            info += "Construction & Building:\n";
            info += "‚Ä¢ Ensuring walls are perpendicular (3-4-5 method)\n";
            info += "‚Ä¢ Roof pitch calculations\n";
            info += "‚Ä¢ Staircase design\n\n";
            
            info += "Navigation & Surveying:\n";
            info += "‚Ä¢ Finding shortest distance (as the crow flies)\n";
            info += "‚Ä¢ GPS calculations\n";
            info += "‚Ä¢ Map reading and coordinates\n\n";
            
            info += "Technology & Design:\n";
            info += "‚Ä¢ Computer graphics (3D rendering)\n";
            info += "‚Ä¢ TV and monitor screen sizes (diagonals)\n";
            info += "‚Ä¢ Camera lens calculations\n\n";
            
            info += "Sports & Recreation:\n";
            info += "‚Ä¢ Baseball: distance from home plate to 2nd base\n";
            info += "‚Ä¢ Soccer: corner kick distance calculations\n";
            info += "‚Ä¢ Pool/billiards: bank shot angles\n\n";
            
            info += "Everyday Life:\n";
            info += "‚Ä¢ Ladder safety: proper angle against wall\n";
            info += "‚Ä¢ Furniture placement in corners\n";
            info += "‚Ä¢ Finding diagonal of TV/computer screen";
            
            alert(info);
        };

        window.showDetail = function(detail) {
            const detailInfo = details[detail];
            if (!detailInfo) return;
            
            let info = `${detailInfo.title}\n\n`;
            info += `${detailInfo.info}`;
            
            alert(info);
        };

        // Initialize app
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
