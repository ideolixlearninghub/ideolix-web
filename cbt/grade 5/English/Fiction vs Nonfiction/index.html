<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 5 English - Fiction vs Nonfiction | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for English Theme */
        :root {
            --primary-purple: #9C27B0;
            --secondary-orange: #FF9800;
            --accent-blue: #2196F3;
            --accent-green: #4CAF50;
            --accent-pink: #E91E63;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(156, 39, 176, 0.3);
            --fiction-glow: 0 0 20px rgba(33, 150, 243, 0.3);
            --nonfiction-glow: 0 0 20px rgba(76, 175, 80, 0.3);
            --highlight-fiction: rgba(33, 150, 243, 0.15);
            --highlight-nonfiction: rgba(76, 175, 80, 0.15);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Slideshow */
        .slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(156, 39, 176, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 25px;
            border: 1px solid var(--primary-purple);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-purple);
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 3px rgba(156, 39, 176, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-purple);
            color: white;
            box-shadow: 0 4px 15px rgba(156, 39, 176, 0.4);
        }

        .btn-primary:hover {
            background: #7B1FA2;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(156, 39, 176, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-orange);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.4);
        }

        .btn-secondary:hover {
            background: #F57C00;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 152, 0, 0.5);
        }

        .btn-fiction {
            background: var(--accent-blue);
            color: white;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);
        }

        .btn-fiction:hover {
            background: #1976D2;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.5);
        }

        .btn-nonfiction {
            background: var(--accent-green);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-nonfiction:hover {
            background: #388E3C;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-purple);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Mode */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-purple), var(--secondary-orange));
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(156, 39, 176, 0.5);
        }

        .question-container {
            margin-bottom: 25px;
        }

        /* New Compact Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .question-side {
            display: flex;
            flex-direction: column;
        }

        .visualization-side {
            display: flex;
            flex-direction: column;
        }

        /* Text Passage Styling */
        .passage-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            max-height: 300px;
            overflow-y: auto;
            line-height: 1.6;
        }

        .passage-title {
            color: var(--accent-blue);
            margin-bottom: 15px;
            font-size: 1.3rem;
            border-bottom: 2px solid var(--accent-blue);
            padding-bottom: 8px;
        }

        .passage-text {
            color: var(--text-primary);
            font-size: 1.1rem;
            text-align: justify;
        }

        .passage-fiction {
            border-left: 4px solid var(--accent-blue);
        }

        .passage-nonfiction {
            border-left: 4px solid var(--accent-green);
        }

        /* Classification Indicator */
        .classification-indicator {
            display: flex;
            gap: 15px;
            margin: 15px 0;
            justify-content: center;
        }

        .indicator {
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .indicator-fiction {
            background: rgba(33, 150, 243, 0.1);
            border: 2px solid var(--accent-blue);
            color: var(--accent-blue);
        }

        .indicator-nonfiction {
            background: rgba(76, 175, 80, 0.1);
            border: 2px solid var(--accent-green);
            color: var(--accent-green);
        }

        .indicator.active {
            transform: scale(1.05);
            box-shadow: 0 0 15px;
        }

        .indicator-fiction.active {
            box-shadow: 0 0 15px rgba(33, 150, 243, 0.5);
        }

        .indicator-nonfiction.active {
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.5);
        }

        /* Question Types */
        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .english-fact {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-pink);
            font-style: italic;
            color: var(--text-secondary);
        }

        /* Options Styling */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-purple);
            background: rgba(156, 39, 176, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(33, 150, 243, 0.1);
            border-color: var(--accent-blue);
            color: var(--accent-blue);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-fiction {
            border-color: var(--accent-blue);
        }

        .option-nonfiction {
            border-color: var(--accent-green);
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-card);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            background: var(--secondary-orange);
        }

        .option.correct .option-letter {
            background: var(--accent-blue);
            color: white;
        }

        .option.incorrect .option-letter {
            background: #F44336;
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(33, 150, 243, 0.1);
            border-left: 5px solid var(--accent-blue);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--accent-blue);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--accent-blue);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Visualization Components */
        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            height: 100%;
            border: 1px solid var(--dark-border);
            overflow: auto;
        }

        /* Concept Display */
        .concept-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .concept-box {
            background: linear-gradient(135deg, var(--primary-purple), var(--accent-blue));
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 4px 15px rgba(156, 39, 176, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .concept-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .concept-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 5px;
        }

        /* Fiction vs Nonfiction Comparison */
        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-card {
            padding: 20px;
            border-radius: 12px;
            border: 2px solid;
            transition: all 0.3s ease;
        }

        .fiction-card {
            background: rgba(33, 150, 243, 0.1);
            border-color: var(--accent-blue);
        }

        .nonfiction-card {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--accent-green);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            gap: 10px;
        }

        .card-icon {
            font-size: 2rem;
        }

        .card-title {
            font-weight: bold;
            font-size: 1.3rem;
        }

        .fiction-card .card-title {
            color: var(--accent-blue);
        }

        .nonfiction-card .card-title {
            color: var(--accent-green);
        }

        .card-features {
            list-style: none;
            padding: 0;
        }

        .card-features li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-features li:last-child {
            border-bottom: none;
        }

        .feature-icon {
            width: 20px;
            text-align: center;
        }

        /* Examples Grid */
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .example-card {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .example-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        .example-card.fiction {
            border-color: var(--accent-blue);
        }

        .example-card.nonfiction {
            border-color: var(--accent-green);
        }

        .example-icon {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .example-title {
            font-weight: bold;
            margin-bottom: 8px;
        }

        .fiction .example-title {
            color: var(--accent-blue);
        }

        .nonfiction .example-title {
            color: var(--accent-green);
        }

        .example-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Quick Classification Game */
        .classification-game {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
        }

        .game-quote {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 12px;
            font-style: italic;
            text-align: center;
            border: 2px dashed var(--dark-border);
            width: 100%;
        }

        .game-buttons {
            display: flex;
            gap: 20px;
        }

        /* Genre Identification */
        .genre-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            justify-content: center;
        }

        .genre-tag {
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .genre-fiction {
            background: rgba(33, 150, 243, 0.2);
            color: var(--accent-blue);
            border: 1px solid var(--accent-blue);
        }

        .genre-nonfiction {
            background: rgba(76, 175, 80, 0.2);
            color: var(--accent-green);
            border: 1px solid var(--accent-green);
        }

        /* Text Analysis */
        .text-analysis {
            margin: 20px 0;
        }

        .analysis-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background: var(--dark-card);
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid var(--secondary-orange);
        }

        .analysis-number {
            width: 25px;
            height: 25px;
            background: var(--secondary-orange);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
        }

        /* Reading Strategy Cards */
        .strategy-cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .strategy-card {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .strategy-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .strategy-name {
            font-weight: bold;
            color: var(--primary-purple);
            margin-bottom: 5px;
        }

        .strategy-tip {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-purple);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .concept-box {
                min-width: 140px;
                font-size: 1.5rem;
                padding: 15px 20px;
            }
            
            .comparison-container {
                grid-template-columns: 1fr;
            }
            
            .examples-grid {
                grid-template-columns: 1fr;
            }
            
            .strategy-cards {
                grid-template-columns: 1fr;
            }
            
            .game-buttons {
                flex-direction: column;
                width: 100%;
            }
            
            .game-buttons .btn {
                width: 100%;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes grow {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .grow {
            animation: grow 0.5s ease forwards;
        }
        
        @keyframes slideInLeft {
            from { transform: translateX(-50px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideInRight {
            from { transform: translateX(50px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .slide-left {
            animation: slideInLeft 0.5s ease forwards;
        }
        
        .slide-right {
            animation: slideInRight 0.5s ease forwards;
        }
        
        @keyframes glowPulse {
            0%, 100% { box-shadow: 0 0 10px; }
            50% { box-shadow: 0 0 20px; }
        }
        
        .glow-pulse {
            animation: glowPulse 1s ease-in-out infinite;
        }
        
        @keyframes highlightText {
            0%, 100% { background-color: transparent; }
            50% { background-color: var(--highlight-fiction); }
        }
        
        .highlight-text {
            animation: highlightText 1s ease-in-out 2;
        }
    </style>
</head>
<body>
    <!-- Background Slideshow -->
    <div class="slideshow" id="slideshow">
        <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1507842217343-583bb7270b66?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 5 English</h1>
            <p class="welcome-subtitle">Master the difference between Fiction and Nonfiction! Learn to identify made-up stories from factual information, understand different genres, and develop critical thinking skills that will make you a smarter reader and writer!</p>
            
            <div class="topic-badge">
                <span class="topic-icon">ðŸ“šðŸ†šðŸ“°</span>
                <span class="topic-name">Fiction vs Nonfiction</span>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>Start Reading Adventure</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 100</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 1%"></div>
                </div>
            </div>

            <div class="question-container">
                <!-- English fact display -->
                <div id="englishFact"></div>
                
                <!-- Concept display area -->
                <div id="conceptDisplay"></div>
                
                <!-- Passage Display -->
                <div id="passageContainer"></div>
                
                <!-- Classification Indicators -->
                <div id="classificationIndicator"></div>
                
                <!-- Content Wrapper: Questions on left, Visualizations on right -->
                <div class="content-wrapper" id="contentWrapper">
                    <!-- Left side: Question and Options -->
                    <div class="question-side">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                    </div>
                    
                    <!-- Right side: Visualizations -->
                    <div class="visualization-side">
                        <div class="visualization-container" id="visualizationContainer">
                            <!-- All visualizations will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                    <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Reading Classification Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Try Again</button>
                <button class="btn btn-secondary" id="viewTopics">Explore Other Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize slideshow
        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 5000);
        }

        // Sample passages for fiction vs nonfiction
        const fictionPassages = [
            {
                title: "The Dragon's Secret",
                text: "Deep in the Emerald Forest, a young dragon named Ember had a problem. He couldn't breathe fire like the other dragons. Instead, he produced colorful bubbles that floated into the sky. The other dragons laughed at him, but Ember's bubbles had a magical secret. Each bubble contained a dream, and when they popped, the dream would come true for whoever found it. One day, a lost princess discovered Ember's bubbles and her wish to find her way home came true.",
                type: "fiction",
                genre: "Fantasy"
            },
            {
                title: "The Mystery of Whispering Woods",
                text: "Twelve-year-old Maya moved to a new town with strange whispering woods behind her house. Every night, she heard voices calling her name. Her parents said it was just the wind, but Maya knew better. She discovered that the trees could talk and were guarding a hidden treasure from ancient times. With her new friend Leo, she solved riddles left by the original settlers and found a chest of historical artifacts that she donated to the town museum.",
                type: "fiction",
                genre: "Mystery"
            },
            {
                title: "Space Adventure: Planet Zorb",
                text: "Captain Zara and her crew discovered a planet made entirely of crystal. The crystals could store memories, and the planet was actually a giant library of alien histories. However, a greedy corporation wanted to mine the crystals for profit. Zara had to convince the crystal beings to trust humans and find a way to protect their home while sharing their knowledge peacefully with Earth scientists.",
                type: "fiction",
                genre: "Science Fiction"
            }
        ];

        const nonfictionPassages = [
            {
                title: "The Life Cycle of Butterflies",
                text: "Butterflies undergo a fascinating transformation called metamorphosis. It begins when a female butterfly lays eggs on a host plant. After 3-5 days, the eggs hatch into caterpillars (larvae). The caterpillar eats constantly, growing until it forms a chrysalis (pupa). Inside the chrysalis, the caterpillar's body breaks down and reforms into a butterfly. This process takes about 10-14 days. Finally, the adult butterfly emerges, waits for its wings to dry, and then flies away to continue the cycle.",
                type: "nonfiction",
                genre: "Science"
            },
            {
                title: "The Great Pyramid of Giza",
                text: "The Great Pyramid of Giza is the oldest and largest of the three pyramids in the Giza pyramid complex. It was built as a tomb for the Egyptian Pharaoh Khufu around 2560 BC. The pyramid originally stood 146.6 meters tall, but erosion has reduced its height to 138.5 meters. It was constructed using approximately 2.3 million stone blocks, each weighing an average of 2.5 tons. The pyramid was the tallest man-made structure in the world for over 3,800 years.",
                type: "nonfiction",
                genre: "History"
            },
            {
                title: "How Volcanoes Work",
                text: "Volcanoes are openings in Earth's crust that allow molten rock, ash, and gases to escape from below the surface. They form when tectonic plates either move apart or collide. There are three main types of volcanoes: shield volcanoes (broad, gentle slopes), stratovolcanoes (steep, conical), and cinder cone volcanoes (small, bowl-shaped). The most active volcano on Earth is Kilauea in Hawaii, which has been erupting continuously since 1983. Volcanic eruptions can create new land, fertilize soil, but also cause destruction.",
                type: "nonfiction",
                genre: "Geography"
            }
        ];

        // Mixed passages for classification practice
        const mixedPassages = [
            ...fictionPassages,
            ...nonfictionPassages,
            {
                title: "The Lost City of Atlantis",
                text: "According to ancient Greek philosopher Plato, Atlantis was a powerful island civilization that existed around 9,000 years before his time. He described it as larger than Asia and Libya combined, located beyond the Pillars of Hercules. The Atlanteans were said to be advanced in technology and architecture but became corrupt. As punishment, the gods caused earthquakes and floods that sank the entire island in a single day and night. To this day, no archaeological evidence has been found, making Atlantis one of history's greatest mysteries.",
                type: "nonfiction",
                genre: "Mythology/History"
            },
            {
                title: "The Talking Paintbrush",
                text: "In a small art studio, a magical paintbrush named Pablo could bring paintings to life. Whenever artist Clara used Pablo, the scenes she painted would become real for 24 hours. She painted beautiful gardens for sick children and historical scenes for her history class. But one day, she accidentally painted a storm that got out of control. She had to paint sunshine and rainbows to calm the storm, learning that with great power comes great responsibility.",
                type: "fiction",
                genre: "Fantasy"
            },
            {
                title: "Solar Energy: Power from the Sun",
                text: "Solar energy is created by nuclear fusion in the sun's core. This energy travels to Earth as sunlight and can be converted into electricity using solar panels. Solar panels contain photovoltaic cells made of silicon that absorb photons from sunlight, causing electrons to move and create an electric current. One hour of sunlight reaching Earth contains more energy than the entire world uses in a year. Solar power is renewable, clean, and becoming increasingly affordable for homes and businesses.",
                type: "nonfiction",
                genre: "Science/Technology"
            }
        ];

        // Questions array - 100+ Grade 5 Fiction vs Nonfiction questions
        const questions = [
            // Basic Classification (1-30)
            {
                type: "classification",
                passage: fictionPassages[0],
                question: "Is this passage fiction or nonfiction?",
                options: ["Fiction", "Nonfiction"],
                answer: "A",
                explanation: "This is fiction because it features a talking dragon named Ember who produces magical bubbles - elements that don't exist in real life."
            },
            {
                type: "classification",
                passage: nonfictionPassages[0],
                question: "Is this passage about butterflies fiction or nonfiction?",
                options: ["Fiction", "Nonfiction"],
                answer: "B",
                explanation: "This is nonfiction because it presents factual information about the real biological process of metamorphosis in butterflies."
            },
            {
                type: "classification",
                passage: fictionPassages[1],
                question: "What type of text is this mystery story?",
                options: ["Fiction", "Nonfiction"],
                answer: "A",
                explanation: "This is fiction because it tells a made-up story about talking trees and hidden treasure."
            },
            {
                type: "classification",
                passage: nonfictionPassages[1],
                question: "Is the information about the Great Pyramid factual or fictional?",
                options: ["Fiction", "Nonfiction"],
                answer: "B",
                explanation: "This is nonfiction because it provides historical facts about a real archaeological structure."
            },

            // Genre Identification (31-50)
            {
                type: "genre",
                passage: fictionPassages[0],
                question: "What genre is 'The Dragon's Secret'?",
                options: ["Fantasy", "Mystery", "Science Fiction", "Historical Fiction"],
                answer: "A",
                explanation: "This is fantasy because it features magical elements like dragons and magical bubbles."
            },
            {
                type: "genre",
                passage: fictionPassages[2],
                question: "What genre features space travel and alien planets?",
                options: ["Fantasy", "Mystery", "Science Fiction", "Realistic Fiction"],
                answer: "C",
                explanation: "Science fiction typically involves space, future technology, and alien worlds."
            },
            {
                type: "genre",
                passage: nonfictionPassages[0],
                question: "What type of nonfiction is the butterfly passage?",
                options: ["Biography", "Science", "History", "How-to Guide"],
                answer: "B",
                explanation: "This is science nonfiction because it explains a biological process."
            },
            {
                type: "genre",
                passage: nonfictionPassages[1],
                question: "The Great Pyramid passage is what type of nonfiction?",
                options: ["Science", "History", "Biography", "Autobiography"],
                answer: "B",
                explanation: "This is historical nonfiction because it discusses ancient structures and civilizations."
            },

            // Feature Identification (51-70)
            {
                type: "features",
                passage: fictionPassages[0],
                question: "Which feature shows this is fiction?",
                options: ["It has characters with names", "It presents factual information", "It includes magical elements", "It has paragraphs"],
                answer: "C",
                explanation: "Magical elements like dragons breathing colorful bubbles are clear indicators of fiction."
            },
            {
                type: "features",
                passage: nonfictionPassages[0],
                question: "Which feature shows this is nonfiction?",
                options: ["It tells a story", "It presents verifiable facts", "It has a beginning, middle, and end", "It includes dialogue"],
                answer: "B",
                explanation: "Nonfiction presents factual, verifiable information about real subjects."
            },
            {
                type: "features",
                passage: fictionPassages[1],
                question: "What common fiction element is present?",
                options: ["Statistics and data", "Historical dates", "Imaginary characters solving problems", "Step-by-step instructions"],
                answer: "C",
                explanation: "Fiction often features imaginary characters facing and solving problems."
            },
            {
                type: "features",
                passage: nonfictionPassages[2],
                question: "What common nonfiction element is present?",
                options: ["Made-up events", "Scientific classification and facts", "Magical transformations", "Imaginary creatures"],
                answer: "B",
                explanation: "Scientific classification and factual explanations are hallmarks of nonfiction."
            },

            // Purpose Analysis (71-90)
            {
                type: "purpose",
                passage: fictionPassages[0],
                question: "What is the main purpose of fiction like 'The Dragon's Secret'?",
                options: ["To inform about real dragons", "To entertain with an imaginative story", "To teach scientific facts", "To record historical events"],
                answer: "B",
                explanation: "Fiction's main purpose is usually to entertain through storytelling."
            },
            {
                type: "purpose",
                passage: nonfictionPassages[0],
                question: "What is the main purpose of the butterfly passage?",
                options: ["To entertain with a story", "To inform about real processes", "To persuade readers to like butterflies", "To describe imaginary creatures"],
                answer: "B",
                explanation: "Nonfiction's main purpose is usually to inform or explain real things."
            },
            {
                type: "purpose",
                passage: fictionPassages[2],
                question: "Besides entertainment, what might science fiction also do?",
                options: ["Present scientific research", "Explore ideas about future technology", "Record historical facts", "Provide cooking recipes"],
                answer: "B",
                explanation: "Science fiction often explores ideas about future possibilities and technology."
            },

            // Real vs Imaginary Elements (91-110)
            {
                type: "elements",
                passage: fictionPassages[0],
                question: "Which element in 'The Dragon's Secret' is imaginary?",
                options: ["Forests exist", "Bubbles can float", "Dragons can talk", "Princesses exist in history"],
                answer: "C",
                explanation: "Talking dragons are imaginary creatures from folklore and fantasy."
            },
            {
                type: "elements",
                passage: nonfictionPassages[1],
                question: "Which element about pyramids is factual?",
                options: ["They were built by aliens", "They have magical powers", "They are tombs for pharaohs", "They can predict the future"],
                answer: "C",
                explanation: "Archaeological evidence shows pyramids were built as tombs for Egyptian pharaohs."
            },

            // Quick Classification Challenges (111-130)
            {
                type: "quick_classify",
                passage: {
                    title: "A Day at the Beach",
                    text: "The warm sand squished between my toes as I searched for seashells. Suddenly, I found a bottle with a mysterious map inside! The map led to buried treasure on a deserted island."
                },
                question: "Fiction or Nonfiction?",
                options: ["Fiction", "Nonfiction"],
                answer: "A",
                explanation: "This is fiction because it describes finding a treasure map in a bottle - a common adventure story element."
            },
            {
                type: "quick_classify",
                passage: {
                    title: "Making Lemonade",
                    text: "First, squeeze six lemons to get one cup of juice. Add one cup of sugar and four cups of water. Stir until the sugar dissolves. Serve over ice for a refreshing drink."
                },
                question: "What type of text is this?",
                options: ["Fiction story", "Nonfiction instructions", "Poem", "Drama"],
                answer: "B",
                explanation: "This is nonfiction because it provides step-by-step instructions for a real activity."
            },

            // Book Title Classification (131-150)
            {
                type: "title_classify",
                passage: null,
                question: "Which book title is most likely fiction?",
                options: ["The Magic Treehouse", "A Guide to Bird Watching", "The History of Ancient Rome", "How Computers Work"],
                answer: "A",
                explanation: "'The Magic Treehouse' suggests fantasy elements, indicating fiction."
            },
            {
                type: "title_classify",
                passage: null,
                question: "Which book title is most likely nonfiction?",
                options: ["The Secret Garden", "Dinosaurs: Facts and Figures", "The Adventures of Super Cat", "The Lost Princess"],
                answer: "B",
                explanation: "'Facts and Figures' indicates informational, nonfiction content."
            },

            // Author's Purpose (151-170)
            {
                type: "author_purpose",
                passage: fictionPassages[1],
                question: "Why might an author write a mystery story?",
                options: ["To teach math facts", "To create suspense and entertainment", "To document daily weather", "To provide directions"],
                answer: "B",
                explanation: "Mystery authors aim to create suspense and entertain readers with puzzles to solve."
            },
            {
                type: "author_purpose",
                passage: nonfictionPassages[2],
                question: "Why would someone write about volcanoes?",
                options: ["To make up imaginary lands", "To inform about natural phenomena", "To tell a fairy tale", "To write a song"],
                answer: "B",
                explanation: "Volcano writing typically aims to inform readers about real geological processes."
            }
        ];

        // Add more questions to reach 100+
        for (let i = 171; i <= 200; i++) {
            const passageIndex = i % mixedPassages.length;
            const questionTypes = ["classification", "genre", "features", "purpose", "elements", "quick_classify"];
            const qType = questionTypes[i % questionTypes.length];
            const passage = mixedPassages[passageIndex];
            
            let question, options, answer;
            
            switch(qType) {
                case "classification":
                    question = `Is "${passage.title}" fiction or nonfiction?`;
                    options = ["Fiction", "Nonfiction"];
                    answer = passage.type === "fiction" ? "A" : "B";
                    break;
                    
                case "genre":
                    question = `What genre best describes "${passage.title}"?`;
                    options = passage.type === "fiction" 
                        ? ["Fantasy", "Mystery", "Science Fiction", "Historical Fiction"]
                        : ["Science", "History", "Biography", "How-to Guide"];
                    answer = "A";
                    break;
                    
                case "features":
                    question = `What feature indicates this is ${passage.type}?`;
                    options = passage.type === "fiction"
                        ? ["Presents verifiable facts", "Includes imaginary elements", "Provides instructions", "Documents historical events"]
                        : ["Contains magical creatures", "Presents factual information", "Tells a made-up story", "Includes fairy tale elements"];
                    answer = "B";
                    break;
                    
                case "purpose":
                    question = `What is the main purpose of this ${passage.type} text?`;
                    options = passage.type === "fiction"
                        ? ["To inform about facts", "To entertain with a story", "To provide instructions", "To document history"]
                        : ["To tell an imaginary tale", "To inform or explain reality", "To create fantasy worlds", "To write poetry"];
                    answer = "B";
                    break;
            }
            
            let explanation = `This question tests your ability to identify ${qType.replace('_', ' ')} in ${passage.type} texts.`;
            
            questions.push({
                type: qType,
                passage: passage,
                question: question,
                options: options,
                answer: answer,
                explanation: explanation
            });
        }

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            currentQuestions: [],
            studentName: ""
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent classification skills!",
            "Fantastic analysis of text features!",
            "Great job distinguishing fiction from nonfiction!",
            "Amazing! You really understand different genres!",
            "Well done! Perfect text classification!",
            "You're a reading genre champion!",
            "Perfect! You can identify fiction and nonfiction!",
            "Outstanding critical reading!",
            "Brilliant! You think like a literary expert!",
            "You're on fire! Great text analysis!"
        ];

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const englishFact = document.getElementById('englishFact');
        const conceptDisplay = document.getElementById('conceptDisplay');
        const passageContainer = document.getElementById('passageContainer');
        const classificationIndicator = document.getElementById('classificationIndicator');
        const visualizationContainer = document.getElementById('visualizationContainer');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const highestScore = document.getElementById('highestScore');

        // Initialize the app
        function initApp() {
            initSlideshow();
            loadStateFromStorage();
            setupEventListeners();
            
            if (appState.studentName && appState.currentQuestions.length > 0) {
                showPracticePage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade5FictionNonfiction');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
                appState.score = parsed.score || 0;
                appState.skipped = parsed.skipped || 0;
                appState.answered = parsed.answered || 0;
                appState.currentQuestions = parsed.currentQuestions || [];
                
                if (appState.currentQuestions.length === 0) {
                    initializeQuestions();
                }
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade5FictionNonfiction', JSON.stringify(appState));
        }

        // Initialize and shuffle questions
        function initializeQuestions() {
            // Use the first 100 questions for practice
            appState.currentQuestions = [...questions.slice(0, 100)];
            shuffleArray(appState.currentQuestions);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            viewTopicsBtn.addEventListener('click', backToTopics);
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startPractice();
                }
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const totalQuestions = appState.currentQuestions.length;
            const percentage = Math.round((appState.score / totalQuestions) * 100);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            
            const highest = localStorage.getItem('ideolixGrade5FictionNonfiction_highestScore') || 0;
            highestScore.textContent = Math.max(highest, appState.score);
            
            if (appState.score > highest) {
                localStorage.setItem('ideolixGrade5FictionNonfiction_highestScore', appState.score);
            }
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a text classification expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You have excellent genre identification skills!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! Keep practicing to become a literary master!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review fiction and nonfiction features!";
            } else {
                scoreMessage.textContent = "Keep learning! Literary analysis skills grow with practice!";
            }
        }

        // Create English fact display
        function createEnglishFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'english-fact';
            
            const facts = [
                "Fiction means 'made up' - it comes from the Latin word 'fictio' meaning 'to form or create'!",
                "Nonfiction texts are based on facts and reality - they inform, explain, or persuade!",
                "The earliest known fiction is 'The Epic of Gilgamesh' from ancient Mesopotamia!",
                "Some books blend fiction and nonfiction - these are called 'creative nonfiction'!",
                "Harry Potter is the best-selling fiction series of all time with over 500 million copies sold!",
                "The Guinness World Records book is one of the most popular nonfiction books!",
                "Realistic fiction seems like it could happen in real life, but the characters and events are made up!",
                "Biographies are nonfiction books about real people's lives written by someone else!"
            ];
            
            factDiv.innerHTML = `<strong>Literary Fact:</strong> ${facts[Math.floor(Math.random() * facts.length)]}`;
            
            return factDiv;
        }

        // Create concept display
        function createConceptDisplay() {
            const display = document.createElement('div');
            display.className = 'concept-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            const conceptIcons = {
                "classification": "ðŸ“š",
                "genre": "ðŸ·ï¸",
                "features": "ðŸ”",
                "purpose": "ðŸŽ¯",
                "elements": "âœ¨",
                "quick_classify": "âš¡",
                "title_classify": "ðŸ“–",
                "author_purpose": "âœï¸"
            };
            
            let conceptName = "Fiction vs Nonfiction";
            let conceptIcon = "ðŸ“šðŸ†šðŸ“°";
            
            if (question.type === "classification") {
                conceptName = "Text Classification";
                conceptIcon = conceptIcons.classification;
            } else if (question.type === "genre") {
                conceptName = "Genre Identification";
                conceptIcon = conceptIcons.genre;
            } else if (question.type === "features") {
                conceptName = "Text Features";
                conceptIcon = conceptIcons.features;
            } else if (question.type === "purpose") {
                conceptName = "Author's Purpose";
                conceptIcon = conceptIcons.purpose;
            } else if (question.type === "elements") {
                conceptName = "Story Elements";
                conceptIcon = conceptIcons.elements;
            } else if (question.type === "quick_classify") {
                conceptName = "Quick Classification";
                conceptIcon = conceptIcons.quick_classify;
            } else if (question.type === "title_classify") {
                conceptName = "Title Analysis";
                conceptIcon = conceptIcons.title_classify;
            } else if (question.type === "author_purpose") {
                conceptName = "Author's Intent";
                conceptIcon = conceptIcons.author_purpose;
            }
            
            const conceptBox = document.createElement('div');
            conceptBox.className = 'concept-box grow';
            conceptBox.innerHTML = `
                <div class="concept-icon">${conceptIcon}</div>
                <div class="concept-text">${conceptName.toUpperCase()}</div>
            `;
            
            const label = document.createElement('div');
            label.className = 'concept-label';
            
            if (question.type === "classification") {
                label.textContent = "Identifying fiction vs nonfiction texts";
            } else if (question.type === "genre") {
                label.textContent = "Recognizing different literary categories";
            } else if (question.type === "features") {
                label.textContent = "Analyzing text characteristics";
            } else if (question.type === "purpose") {
                label.textContent = "Understanding why authors write";
            } else if (question.type === "elements") {
                label.textContent = "Identifying real vs imaginary components";
            } else if (question.type === "quick_classify") {
                label.textContent = "Rapid text type identification";
            } else if (question.type === "title_classify") {
                label.textContent = "Predicting content from titles";
            } else if (question.type === "author_purpose") {
                label.textContent = "Analyzing writing intentions";
            }
            
            display.appendChild(conceptBox);
            display.appendChild(label);
            
            return display;
        }

        // Create passage display
        function createPassageDisplay() {
            const container = document.createElement('div');
            container.className = 'passage-container';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            if (question.passage) {
                const title = document.createElement('div');
                title.className = 'passage-title';
                title.textContent = question.passage.title;
                
                const text = document.createElement('div');
                text.className = 'passage-text';
                text.textContent = question.passage.text;
                
                // Add appropriate border based on passage type
                if (question.passage.type === "fiction") {
                    container.classList.add('passage-fiction');
                } else {
                    container.classList.add('passage-nonfiction');
                }
                
                container.appendChild(title);
                container.appendChild(text);
            } else {
                container.innerHTML = '<div class="passage-title">No passage required for this question type</div>';
            }
            
            return container;
        }

        // Create classification indicator
        function createClassificationIndicator() {
            const container = document.createElement('div');
            container.className = 'classification-indicator';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            if (question.passage) {
                const fictionIndicator = document.createElement('div');
                fictionIndicator.className = `indicator indicator-fiction ${question.passage.type === 'fiction' ? 'active' : ''}`;
                fictionIndicator.innerHTML = `
                    <span>ðŸ‰</span>
                    <span>FICTION</span>
                `;
                
                const nonfictionIndicator = document.createElement('div');
                nonfictionIndicator.className = `indicator indicator-nonfiction ${question.passage.type === 'nonfiction' ? 'active' : ''}`;
                nonfictionIndicator.innerHTML = `
                    <span>ðŸ“Š</span>
                    <span>NONFICTION</span>
                `;
                
                container.appendChild(fictionIndicator);
                container.appendChild(nonfictionIndicator);
            }
            
            return container;
        }

        // Create reading visualization
        function createReadingVisualization() {
            const vizDiv = document.createElement('div');
            vizDiv.className = 'visualization-container';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            if (question.type === "classification" || question.type === "quick_classify") {
                vizDiv.innerHTML = `
                    <h3 style="text-align: center; margin-bottom: 20px; color: var(--primary-purple);">Fiction vs Nonfiction</h3>
                    
                    <div class="comparison-container">
                        <div class="comparison-card fiction-card slide-left">
                            <div class="card-header">
                                <div class="card-icon">ðŸ‰</div>
                                <div class="card-title">FICTION</div>
                            </div>
                            <ul class="card-features">
                                <li><span class="feature-icon">âœ¨</span> Made-up stories</li>
                                <li><span class="feature-icon">ðŸ‘¥</span> Imaginary characters</li>
                                <li><span class="feature-icon">ðŸŽ­</span> Created events</li>
                                <li><span class="feature-icon">ðŸŽ¯</span> Purpose: Entertain</li>
                                <li><span class="feature-icon">ðŸ“–</span> Examples: Novels, fairy tales</li>
                            </ul>
                        </div>
                        
                        <div class="comparison-card nonfiction-card slide-right">
                            <div class="card-header">
                                <div class="card-icon">ðŸ“Š</div>
                                <div class="card-title">NONFICTION</div>
                            </div>
                            <ul class="card-features">
                                <li><span class="feature-icon">ðŸ“</span> Factual information</li>
                                <li><span class="feature-icon">ðŸ‘¤</span> Real people/events</li>
                                <li><span class="feature-icon">ðŸ”¬</span> True explanations</li>
                                <li><span class="feature-icon">ðŸŽ¯</span> Purpose: Inform/Explain</li>
                                <li><span class="feature-icon">ðŸ“š</span> Examples: Textbooks, biographies</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="classification-game">
                        <div class="game-quote">
                            "The dragon breathed fire that turned raindrops into crystals."
                        </div>
                        <div class="game-buttons">
                            <button class="btn btn-fiction" onclick="classifyExample('fiction')">Fiction</button>
                            <button class="btn btn-nonfiction" onclick="classifyExample('nonfiction')">Nonfiction</button>
                        </div>
                    </div>
                    
                    <div class="text-analysis">
                        <div class="analysis-item">
                            <div class="analysis-number">1</div>
                            Ask: "Could this happen in real life?"
                        </div>
                        <div class="analysis-item">
                            <div class="analysis-number">2</div>
                            Look for magical or impossible elements
                        </div>
                        <div class="analysis-item">
                            <div class="analysis-number">3</div>
                            Check if it presents facts or tells a story
                        </div>
                        <div class="analysis-item">
                            <div class="analysis-number">4</div>
                            Identify the author's main purpose
                        </div>
                    </div>
                `;
                
            } else if (question.type === "genre") {
                vizDiv.innerHTML = `
                    <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-blue);">Literary Genres</h3>
                    
                    <div class="examples-grid">
                        <div class="example-card fiction">
                            <div class="example-icon">ðŸ‰</div>
                            <div class="example-title">Fantasy</div>
                            <div class="example-description">Magical worlds, mythical creatures, supernatural elements</div>
                        </div>
                        <div class="example-card fiction">
                            <div class="example-icon">ðŸ”</div>
                            <div class="example-title">Mystery</div>
                            <div class="example-description">Puzzles to solve, secrets, investigations</div>
                        </div>
                        <div class="example-card fiction">
                            <div class="example-icon">ðŸš€</div>
                            <div class="example-title">Science Fiction</div>
                            <div class="example-description">Future tech, space travel, aliens, scientific concepts</div>
                        </div>
                        <div class="example-card fiction">
                            <div class="example-icon">ðŸ˜Š</div>
                            <div class="example-title">Realistic Fiction</div>
                            <div class="example-description">Could happen in real life, everyday situations</div>
                        </div>
                        <div class="example-card nonfiction">
                            <div class="example-icon">ðŸ”¬</div>
                            <div class="example-title">Science</div>
                            <div class="example-description">Facts about nature, experiments, discoveries</div>
                        </div>
                        <div class="example-card nonfiction">
                            <div class="example-icon">ðŸ›ï¸</div>
                            <div class="example-title">History</div>
                            <div class="example-description">Past events, civilizations, historical figures</div>
                        </div>
                        <div class="example-card nonfiction">
                            <div class="example-icon">ðŸ‘¤</div>
                            <div class="example-title">Biography</div>
                            <div class="example-description">True story of a real person's life</div>
                        </div>
                        <div class="example-card nonfiction">
                            <div class="example-icon">ðŸ“</div>
                            <div class="example-title">How-to Guides</div>
                            <div class="example-description">Instructions, recipes, DIY projects</div>
                        </div>
                    </div>
                    
                    <div class="genre-container">
                        <div class="genre-tag genre-fiction">FANTASY</div>
                        <div class="genre-tag genre-fiction">MYSTERY</div>
                        <div class="genre-tag genre-fiction">SCI-FI</div>
                        <div class="genre-tag genre-fiction">ADVENTURE</div>
                        <div class="genre-tag genre-nonfiction">SCIENCE</div>
                        <div class="genre-tag genre-nonfiction">HISTORY</div>
                        <div class="genre-tag genre-nonfiction">BIOGRAPHY</div>
                        <div class="genre-tag genre-nonfiction">TRAVEL</div>
                    </div>
                `;
                
            } else if (question.type === "features") {
                vizDiv.innerHTML = `
                    <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-green);">Text Features Analysis</h3>
                    
                    <div class="comparison-container">
                        <div class="comparison-card fiction-card">
                            <div class="card-header">
                                <div class="card-icon">ðŸ”</div>
                                <div class="card-title">FICTION FEATURES</div>
                            </div>
                            <ul class="card-features">
                                <li><span class="feature-icon">âœ¨</span> Characters with feelings</li>
                                <li><span class="feature-icon">ðŸ“–</span> Plot (beginning, middle, end)</li>
                                <li><span class="feature-icon">ðŸŽ­</span> Dialogue between characters</li>
                                <li><span class="feature-icon">ðŸŒˆ</span> Descriptive language</li>
                                <li><span class="feature-icon">âš¡</span> Conflict and resolution</li>
                                <li><span class="feature-icon">ðŸ†</span> Theme or message</li>
                            </ul>
                        </div>
                        
                        <div class="comparison-card nonfiction-card">
                            <div class="card-header">
                                <div class="card-icon">ðŸ“Š</div>
                                <div class="card-title">NONFICTION FEATURES</div>
                            </div>
                            <ul class="card-features">
                                <li><span class="feature-icon">ðŸ“</span> Facts and statistics</li>
                                <li><span class="feature-icon">ðŸ–¼ï¸</span> Photos and diagrams</li>
                                <li><span class="feature-icon">ðŸ“‹</span> Headings and subheadings</li>
                                <li><span class="feature-icon">ðŸ“Š</span> Charts and graphs</li>
                                <li><span class="feature-icon">ðŸ“š</span> Glossary/index</li>
                                <li><span class="feature-icon">ðŸ”¢</span> Dates and timelines</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="strategy-cards">
                        <div class="strategy-card">
                            <div class="strategy-icon">ðŸ¤”</div>
                            <div class="strategy-name">Question It</div>
                            <div class="strategy-tip">Ask: "Is this trying to teach me or tell me a story?"</div>
                        </div>
                        <div class="strategy-card">
                            <div class="strategy-icon">ðŸ‘ï¸</div>
                            <div class="strategy-name">Visual Cues</div>
                            <div class="strategy-tip">Look for photos vs illustrations</div>
                        </div>
                        <div class="strategy-card">
                            <div class="strategy-icon">ðŸ“–</div>
                            <div class="strategy-name">Structure Check</div>
                            <div class="strategy-tip">Notice chapter titles and organization</div>
                        </div>
                        <div class="strategy-card">
                            <div class="strategy-icon">ðŸ’¬</div>
                            <div class="strategy-name">Language Analysis</div>
                            <div class="strategy-tip">Listen for story voice vs factual tone</div>
                        </div>
                    </div>
                `;
                
            } else if (question.type === "purpose" || question.type === "author_purpose") {
                vizDiv.innerHTML = `
                    <h3 style="text-align: center; margin-bottom: 20px; color: var(--secondary-orange);">Author's Purpose</h3>
                    
                    <div class="text-analysis">
                        <div class="analysis-item">
                            <div class="analysis-number">P</div>
                            <strong>Persuade</strong> - Convince reader to think/do something
                            <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;">Example: Advertisements, opinion pieces</div>
                        </div>
                        <div class="analysis-item">
                            <div class="analysis-number">I</div>
                            <strong>Inform</strong> - Teach facts or explain ideas
                            <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;">Example: Textbooks, news articles</div>
                        </div>
                        <div class="analysis-item">
                            <div class="analysis-number">E</div>
                            <strong>Entertain</strong> - Tell an enjoyable story
                            <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;">Example: Novels, short stories</div>
                        </div>
                        <div class="analysis-item">
                            <div class="analysis-number">D</div>
                            <strong>Describe</strong> - Paint a picture with words
                            <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;">Example: Travel writing, poetry</div>
                        </div>
                    </div>
                    
                    <div class="examples-grid">
                        <div class="example-card">
                            <div class="example-icon">ðŸ“¢</div>
                            <div class="example-title">Persuade</div>
                            <div class="example-description">"Everyone should recycle to save our planet!"</div>
                        </div>
                        <div class="example-card">
                            <div class="example-icon">ðŸ“š</div>
                            <div class="example-title">Inform</div>
                            <div class="example-description">"Butterflies go through four life stages."</div>
                        </div>
                        <div class="example-card">
                            <div class="example-icon">ðŸŽ­</div>
                            <div class="example-title">Entertain</div>
                            <div class="example-description">"The dragon flew over the rainbow castle."</div>
                        </div>
                        <div class="example-card">
                            <div class="example-icon">ðŸŽ¨</div>
                            <div class="example-title">Describe</div>
                            <div class="example-description">"The sunset painted the sky in orange and purple."</div>
                        </div>
                    </div>
                `;
                
            } else {
                // General visualization
                vizDiv.innerHTML = `
                    <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-pink);">Reading Detective Toolkit</h3>
                    
                    <div class="strategy-cards">
                        <div class="strategy-card">
                            <div class="strategy-icon">ðŸ”Ž</div>
                            <div class="strategy-name">Look for Clues</div>
                            <div class="strategy-tip">Magical elements = Fiction â€¢ Facts = Nonfiction</div>
                        </div>
                        <div class="strategy-card">
                            <div class="strategy-icon">ðŸ“–</div>
                            <div class="strategy-name">Check the Title</div>
                            <div class="strategy-tip">Titles often hint at the content type</div>
                        </div>
                        <div class="strategy-card">
                            <div class="strategy-icon">ðŸ‘‚</div>
                            <div class="strategy-name">Listen to Language</div>
                            <div class="strategy-tip">Storytelling voice vs factual tone</div>
                        </div>
                        <div class="strategy-card">
                            <div class="strategy-icon">ðŸŽ¯</div>
                            <div class="strategy-name">Identify Purpose</div>
                            <div class="strategy-tip">Why was this written? P.I.E.D.</div>
                        </div>
                    </div>
                    
                    <div class="classification-game">
                        <div class="game-quote">
                            "Scientists discovered a new species of frog in the Amazon rainforest."
                        </div>
                        <div style="text-align: center; margin: 15px 0;">
                            <button class="btn btn-nonfiction" style="margin: 0 auto;">Nonfiction</button>
                        </div>
                    </div>
                    
                    <div class="genre-container">
                        <div class="genre-tag genre-fiction glow-pulse">IMAGINARY</div>
                        <div class="genre-tag genre-nonfiction glow-pulse" style="animation-delay: 0.5s">REAL</div>
                        <div class="genre-tag genre-fiction glow-pulse" style="animation-delay: 1s">CREATED</div>
                        <div class="genre-tag genre-nonfiction glow-pulse" style="animation-delay: 1.5s">FACTUAL</div>
                    </div>
                `;
            }
            
            return vizDiv;
        }

        // Load current question
        function loadQuestion() {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${appState.currentQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / appState.currentQuestions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            englishFact.innerHTML = '';
            conceptDisplay.innerHTML = '';
            passageContainer.innerHTML = '';
            classificationIndicator.innerHTML = '';
            visualizationContainer.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            englishFact.appendChild(createEnglishFact());
            conceptDisplay.appendChild(createConceptDisplay());
            
            if (question.passage) {
                passageContainer.appendChild(createPassageDisplay());
                classificationIndicator.appendChild(createClassificationIndicator());
            }
            
            visualizationContainer.appendChild(createReadingVisualization());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                
                // Add appropriate class based on option content
                if (option.toLowerCase().includes('fiction')) {
                    optionElement.classList.add('option-fiction');
                } else if (option.toLowerCase().includes('nonfiction')) {
                    optionElement.classList.add('option-nonfiction');
                }
                
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation, question.answer);
            }
            
            nextQuestionBtn.disabled = false;
            saveStateToStorage();
        }

        // Show feedback
        function showFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = 'âœ“';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = 'âœ—';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    const correctOption = String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65));
                    const correctText = questions.find(q => 
                        appState.currentQuestions[appState.currentQuestionIndex].question === q.question
                    )?.options[correctAnswer.charCodeAt(0) - 65];
                    
                    feedbackMessage.textContent = `Correct answer: ${correctOption} (${correctText})`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Move to next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions();
            
            saveStateToStorage();
            showPracticePage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            alert("In a complete implementation, this would navigate to the topics selection page.");
        }

        // Start practice session
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            if (appState.currentQuestions.length === 0) {
                initializeQuestions();
            }
            
            saveStateToStorage();
            showPracticePage();
        }

        // Example classification function for interactive visualization
        window.classifyExample = function(type) {
            const buttons = document.querySelectorAll('.game-buttons button');
            buttons.forEach(btn => {
                if (btn.textContent.toLowerCase().includes(type)) {
                    btn.classList.add('pulse');
                    btn.style.background = type === 'fiction' ? '#1976D2' : '#388E3C';
                } else {
                    btn.style.opacity = '0.5';
                }
            });
            
            // Show explanation
            const explanation = type === 'fiction' 
                ? "Correct! This is fiction because dragons that turn raindrops into crystals don't exist in real life."
                : "Incorrect! This example contains magical elements, making it fiction.";
            
            setTimeout(() => {
                alert(explanation);
                // Reset buttons
                buttons.forEach(btn => {
                    btn.classList.remove('pulse');
                    btn.style.background = '';
                    btn.style.opacity = '1';
                });
            }, 1000);
        };

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
