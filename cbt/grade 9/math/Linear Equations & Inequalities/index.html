<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 9 Math - Linear Equations & Inequalities | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Algebra Theme */
        :root {
            --equation-blue: #2196F3;
            --inequality-red: #F44336;
            --graph-green: #4CAF50;
            --solution-purple: #9C27B0;
            --error-amber: #FF9800;
            --success-teal: #009688;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(33, 150, 243, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(244, 67, 54, 0.05) 0%, transparent 50%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 10px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info h1 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--equation-blue), var(--inequality-red));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(33, 150, 243, 0.15);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            border: 2px solid var(--equation-blue);
        }

        .input-group {
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--equation-blue);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-equation {
            background: var(--equation-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-equation:hover {
            background: #1976D2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
        }

        .btn-inequality {
            background: var(--inequality-red);
            color: white;
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3);
        }

        .btn-inequality:hover {
            background: #D32F2F;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(244, 67, 54, 0.4);
        }

        .btn-graph {
            background: var(--graph-green);
            color: white;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .btn-graph:hover {
            background: #388E3C;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--equation-blue);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Page */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 8px;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--equation-blue), var(--inequality-red));
            border-radius: 8px;
            transition: width 0.5s ease;
        }

        .question-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.6;
            color: var(--text-primary);
        }

        .algebra-tip {
            background: rgba(255, 193, 7, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #FFC107;
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--equation-blue);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--graph-green);
            color: var(--graph-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: var(--inequality-red);
            color: var(--inequality-red);
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 25px;
            height: 25px;
            background: var(--equation-blue);
            border-radius: 50%;
            margin-right: 12px;
            font-weight: bold;
            color: white;
        }

        .option.correct .option-letter {
            background: var(--graph-green);
        }

        .option.incorrect .option-letter {
            background: var(--inequality-red);
        }

        /* Feedback */
        .feedback-container {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--graph-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid var(--inequality-red);
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--graph-green);
        }

        .feedback-incorrect .feedback-icon {
            background: var(--inequality-red);
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .feedback-correct .feedback-title {
            color: var(--graph-green);
        }

        .feedback-incorrect .feedback-title {
            color: var(--inequality-red);
        }

        .feedback-explanation {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Navigation */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Algebra Practice Area */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
            overflow: auto;
            max-height: 800px;
        }

        /* Algebra Practice Sections */
        .practice-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid;
        }

        .equation-section {
            border-color: var(--equation-blue);
        }

        .inequality-section {
            border-color: var(--inequality-red);
        }

        .graph-section {
            border-color: var(--graph-green);
        }

        .solution-section {
            border-color: var(--solution-purple);
        }

        .section-title {
            color: inherit;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .math-display {
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            text-align: center;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .algebra-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 15px 0;
            justify-content: center;
        }

        /* Graph Canvas */
        .graph-container {
            position: relative;
            width: 100%;
            height: 200px;
            background: var(--dark-surface);
            border-radius: 6px;
            margin: 10px 0;
            overflow: hidden;
        }

        .graph-canvas {
            width: 100%;
            height: 100%;
        }

        .coordinate-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Equation Solver */
        .equation-input {
            width: 100%;
            padding: 10px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 6px;
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            margin: 10px 0;
        }

        .equation-input:focus {
            outline: none;
            border-color: var(--equation-blue);
        }

        .step-display {
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 10px;
            margin: 10px 0;
            font-size: 0.9rem;
            line-height: 1.4;
            color: var(--text-secondary);
            max-height: 150px;
            overflow-y: auto;
        }

        /* Number Line */
        .number-line {
            position: relative;
            width: 100%;
            height: 40px;
            background: var(--dark-surface);
            border-radius: 6px;
            margin: 15px 0;
            border: 1px solid var(--dark-border);
        }

        .number-line-tick {
            position: absolute;
            bottom: 0;
            width: 1px;
            height: 10px;
            background: var(--text-secondary);
        }

        .number-line-label {
            position: absolute;
            top: 15px;
            transform: translateX(-50%);
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .number-line-solution {
            position: absolute;
            bottom: 10px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            transform: translateX(-50%);
        }

        .filled-circle {
            background: var(--solution-purple);
            border: 2px solid var(--solution-purple);
        }

        .empty-circle {
            background: transparent;
            border: 2px solid var(--solution-purple);
        }

        /* Quick Reference */
        .reference-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--solution-purple);
        }

        .laws-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
        }

        .laws-table th {
            background: var(--dark-card);
            padding: 12px;
            text-align: left;
            font-size: 0.9rem;
            border-bottom: 2px solid var(--solution-purple);
            color: var(--solution-purple);
        }

        .laws-table td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
            font-size: 0.85rem;
            font-family: 'Courier New', monospace;
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }

        .results-title {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--equation-blue), var(--inequality-red));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--equation-blue), var(--inequality-red));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .stats-container {
                grid-template-columns: 1fr;
            }
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--equation-blue);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .slide-in {
            animation: slideIn 0.5s ease forwards;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 1.8rem;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .algebra-controls {
                flex-direction: column;
            }
            
            .algebra-controls .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <h1 class="welcome-title">Grade 9 Math: Linear Equations & Inequalities</h1>
            <p class="welcome-subtitle">Master solving linear equations and inequalities. Learn to graph solutions, work with variables, and apply algebraic reasoning to real-world problems.</p>
            
            <div class="topic-badge">
                <span>ðŸ“Š One-Step Equations â€¢ Multi-Step Problems â€¢ Graphing Inequalities â€¢ Word Problems</span>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your name:</label>
                <input type="text" id="studentName" placeholder="Your name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-equation" id="startPractice">
                    <span>ðŸ“š Begin Algebra Practice (100+ Questions)</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 100</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 1%"></div>
                </div>
            </div>

            <div class="question-container">
                <div id="algebraTip"></div>
                
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-explanation" id="feedbackExplanation"></div>
                </div>
            </div>
            
            <!-- Algebra Practice Area -->
            <div class="content-wrapper">
                <div class="visualization-container">
                    <!-- Equation Solver -->
                    <div class="practice-section equation-section">
                        <div class="section-title">Equation Solver</div>
                        <input type="text" class="equation-input" id="equationInput" placeholder="Enter equation (e.g., 2x + 5 = 13)">
                        
                        <div class="algebra-controls">
                            <button class="btn btn-small btn-equation" onclick="solveEquation()">Solve</button>
                            <button class="btn btn-small btn-outline" onclick="showEquationSteps()">Show Steps</button>
                            <button class="btn btn-small btn-outline" onclick="clearEquation()">Clear</button>
                            <button class="btn btn-small btn-graph" onclick="graphEquation()">Graph</button>
                        </div>
                        
                        <div class="math-display" id="equationResult">
                            Solution will appear here
                        </div>
                        
                        <div class="step-display" id="equationSteps">
                            Enter an equation and click Solve
                        </div>
                    </div>
                    
                    <!-- Inequality Solver -->
                    <div class="practice-section inequality-section">
                        <div class="section-title">Inequality Solver</div>
                        <input type="text" class="equation-input" id="inequalityInput" placeholder="Enter inequality (e.g., 3x - 2 > 7)">
                        
                        <div class="algebra-controls">
                            <button class="btn btn-small btn-inequality" onclick="solveInequality()">Solve</button>
                            <button class="btn btn-small btn-outline" onclick="showInequalitySteps()">Show Steps</button>
                            <button class="btn btn-small btn-outline" onclick="clearInequality()">Clear</button>
                            <button class="btn btn-small btn-graph" onclick="graphInequality()">Graph</button>
                        </div>
                        
                        <div class="math-display" id="inequalityResult">
                            Solution will appear here
                        </div>
                        
                        <div id="inequalityNumberLine" class="number-line">
                            <!-- Number line will be generated here -->
                        </div>
                        
                        <div class="step-display" id="inequalitySteps">
                            Enter an inequality and click Solve
                        </div>
                    </div>
                    
                    <!-- Quick Reference -->
                    <div class="reference-section">
                        <div class="section-title">Algebra Rules Quick Reference</div>
                        <table class="laws-table">
                            <thead>
                                <tr>
                                    <th>Rule</th>
                                    <th>Example</th>
                                    <th>Explanation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Addition Property</td>
                                    <td>If a = b, then a + c = b + c</td>
                                    <td>Add same number to both sides</td>
                                </tr>
                                <tr>
                                    <td>Subtraction Property</td>
                                    <td>If a = b, then a - c = b - c</td>
                                    <td>Subtract same number from both sides</td>
                                </tr>
                                <tr>
                                    <td>Multiplication Property</td>
                                    <td>If a = b, then a Ã— c = b Ã— c</td>
                                    <td>Multiply both sides by same number</td>
                                </tr>
                                <tr>
                                    <td>Division Property</td>
                                    <td>If a = b, then a Ã· c = b Ã· c (c â‰  0)</td>
                                    <td>Divide both sides by same non-zero number</td>
                                </tr>
                                <tr>
                                    <td>Distributive Property</td>
                                    <td>a(b + c) = ab + ac</td>
                                    <td>Multiply term outside parentheses</td>
                                </tr>
                                <tr>
                                    <td>Inequality Flip</td>
                                    <td>If a > b, then -a < -b</td>
                                    <td>Flip inequality when multiplying/dividing by negative</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Graphing Practice -->
                    <div class="practice-section graph-section">
                        <div class="section-title">Graphing Practice</div>
                        <div class="math-display" id="graphEquation">
                            y = 2x + 1
                        </div>
                        
                        <div class="graph-container">
                            <canvas class="graph-canvas" id="graphCanvas" width="400" height="200"></canvas>
                        </div>
                        
                        <div class="algebra-controls">
                            <button class="btn btn-small btn-graph" onclick="plotGraph()">Plot Graph</button>
                            <button class="btn btn-small btn-equation" onclick="newGraphEquation()">New Equation</button>
                            <button class="btn btn-small btn-outline" onclick="findIntercepts()">Find Intercepts</button>
                            <button class="btn btn-small btn-outline" onclick="clearGraph()">Clear</button>
                        </div>
                        
                        <div id="graphInfo" style="margin-top: 10px; color: var(--text-secondary); text-align: center; font-size: 0.9rem;">
                            Click Plot Graph to see the line
                        </div>
                    </div>
                    
                    <!-- Word Problem Practice -->
                    <div class="practice-section solution-section">
                        <div class="section-title">Word Problem Practice</div>
                        <div class="math-display" id="wordProblem">
                            A number plus 5 equals 12. What is the number?
                        </div>
                        
                        <div class="algebra-controls">
                            <button class="btn btn-small" style="background: var(--solution-purple); color: white;" onclick="solveWordProblem()">Solve</button>
                            <button class="btn btn-small btn-outline" onclick="showWordProblemSteps()">Show Steps</button>
                            <button class="btn btn-small btn-outline" onclick="newWordProblem()">New Problem</button>
                        </div>
                        
                        <div id="wordSolution" style="margin-top: 10px; color: var(--text-secondary); text-align: center; font-size: 0.9rem;">
                            Click Solve to see solution
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-inequality" id="skipQuestion">Skip Question</button>
                <button class="btn btn-equation" id="nextQuestion" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Linear Equations & Inequalities Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="equationScore">0</div>
                        <div class="stat-label">Equation Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="inequalityScore">0</div>
                        <div class="stat-label">Inequality Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="timeSpent">0min</div>
                        <div class="stat-label">Time Spent</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="accuracyRate">0%</div>
                        <div class="stat-label">Accuracy Rate</div>
                    </div>
                </div>
                
                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn btn-equation" id="retryTopic">Try Again</button>
                    <button class="btn btn-inequality" id="viewTopics">Other Topics</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // COMPREHENSIVE 100+ QUESTIONS ON LINEAR EQUATIONS AND INEQUALITIES
        
        const questions = [
            // One-Step Equations (1-20)
            {
                question: "Solve: x + 7 = 15",
                options: ["x = 8", "x = 22", "x = -8", "x = 9"],
                answer: "A",
                explanation: "Subtract 7 from both sides: x + 7 - 7 = 15 - 7, so x = 8",
                type: "equation"
            },
            {
                question: "Solve: 3x = 27",
                options: ["x = 9", "x = 24", "x = 81", "x = 3"],
                answer: "A",
                explanation: "Divide both sides by 3: 3x Ã· 3 = 27 Ã· 3, so x = 9",
                type: "equation"
            },
            {
                question: "Solve: x - 4 = 12",
                options: ["x = 16", "x = 8", "x = -8", "x = 48"],
                answer: "A",
                explanation: "Add 4 to both sides: x - 4 + 4 = 12 + 4, so x = 16",
                type: "equation"
            },
            {
                question: "Solve: x/5 = 3",
                options: ["x = 15", "x = 2", "x = 8", "x = -15"],
                answer: "A",
                explanation: "Multiply both sides by 5: (x/5) Ã— 5 = 3 Ã— 5, so x = 15",
                type: "equation"
            },
            {
                question: "Solve: 8 + x = 20",
                options: ["x = 12", "x = 28", "x = -12", "x = 2.5"],
                answer: "A",
                explanation: "Subtract 8 from both sides: 8 + x - 8 = 20 - 8, so x = 12",
                type: "equation"
            },
            {
                question: "Solve: -4x = 24",
                options: ["x = -6", "x = 6", "x = -20", "x = 28"],
                answer: "A",
                explanation: "Divide both sides by -4: -4x Ã· -4 = 24 Ã· -4, so x = -6",
                type: "equation"
            },
            {
                question: "Solve: x - 9 = -3",
                options: ["x = 6", "x = -12", "x = 12", "x = -6"],
                answer: "A",
                explanation: "Add 9 to both sides: x - 9 + 9 = -3 + 9, so x = 6",
                type: "equation"
            },
            {
                question: "Solve: 2.5x = 10",
                options: ["x = 4", "x = 25", "x = 12.5", "x = 7.5"],
                answer: "A",
                explanation: "Divide both sides by 2.5: 2.5x Ã· 2.5 = 10 Ã· 2.5, so x = 4",
                type: "equation"
            },
            {
                question: "Solve: x + 1.5 = 4.2",
                options: ["x = 2.7", "x = 5.7", "x = 2.8", "x = 3.7"],
                answer: "A",
                explanation: "Subtract 1.5 from both sides: x + 1.5 - 1.5 = 4.2 - 1.5, so x = 2.7",
                type: "equation"
            },
            {
                question: "Solve: x/3 = -4",
                options: ["x = -12", "x = -1", "x = 12", "x = -7"],
                answer: "A",
                explanation: "Multiply both sides by 3: (x/3) Ã— 3 = -4 Ã— 3, so x = -12",
                type: "equation"
            },
            {
                question: "Solve: 15 = x + 8",
                options: ["x = 7", "x = 23", "x = -7", "x = 1.875"],
                answer: "A",
                explanation: "Subtract 8 from both sides: 15 - 8 = x + 8 - 8, so x = 7",
                type: "equation"
            },
            {
                question: "Solve: -x = 9",
                options: ["x = -9", "x = 9", "x = 0", "x = -1"],
                answer: "A",
                explanation: "Multiply both sides by -1: -x Ã— -1 = 9 Ã— -1, so x = -9",
                type: "equation"
            },
            {
                question: "Solve: x/8 = 1/2",
                options: ["x = 4", "x = 16", "x = 4.5", "x = 0.25"],
                answer: "A",
                explanation: "Multiply both sides by 8: (x/8) Ã— 8 = (1/2) Ã— 8, so x = 4",
                type: "equation"
            },
            {
                question: "Solve: 0.5x = 7",
                options: ["x = 14", "x = 3.5", "x = 6.5", "x = 7.5"],
                answer: "A",
                explanation: "Divide both sides by 0.5: 0.5x Ã· 0.5 = 7 Ã· 0.5, so x = 14",
                type: "equation"
            },
            {
                question: "Solve: x - 2.3 = 1.7",
                options: ["x = 4", "x = -0.6", "x = 0.6", "x = 3"],
                answer: "A",
                explanation: "Add 2.3 to both sides: x - 2.3 + 2.3 = 1.7 + 2.3, so x = 4",
                type: "equation"
            },
            {
                question: "Solve: 3/4 x = 9",
                options: ["x = 12", "x = 6.75", "x = 36", "x = 27/4"],
                answer: "A",
                explanation: "Multiply both sides by 4/3: (3/4 x) Ã— (4/3) = 9 Ã— (4/3), so x = 12",
                type: "equation"
            },
            {
                question: "Solve: x + 0 = 15",
                options: ["x = 15", "x = 0", "x = -15", "No solution"],
                answer: "A",
                explanation: "x + 0 = x, so x = 15",
                type: "equation"
            },
            {
                question: "Solve: -6x = -42",
                options: ["x = 7", "x = -7", "x = 36", "x = -36"],
                answer: "A",
                explanation: "Divide both sides by -6: -6x Ã· -6 = -42 Ã· -6, so x = 7",
                type: "equation"
            },
            {
                question: "Solve: x/100 = 0.25",
                options: ["x = 25", "x = 0.0025", "x = 250", "x = 2.5"],
                answer: "A",
                explanation: "Multiply both sides by 100: (x/100) Ã— 100 = 0.25 Ã— 100, so x = 25",
                type: "equation"
            },
            {
                question: "Solve: x - (-3) = 10",
                options: ["x = 7", "x = 13", "x = -7", "x = -13"],
                answer: "A",
                explanation: "x - (-3) = x + 3 = 10, so x = 10 - 3 = 7",
                type: "equation"
            },

            // Two-Step Equations (21-40)
            {
                question: "Solve: 2x + 5 = 17",
                options: ["x = 6", "x = 11", "x = 22", "x = 7.5"],
                answer: "A",
                explanation: "Step 1: Subtract 5: 2x = 12. Step 2: Divide by 2: x = 6",
                type: "equation"
            },
            {
                question: "Solve: 3x - 7 = 14",
                options: ["x = 7", "x = 2.33", "x = 21", "x = 9"],
                answer: "A",
                explanation: "Step 1: Add 7: 3x = 21. Step 2: Divide by 3: x = 7",
                type: "equation"
            },
            {
                question: "Solve: 4x + 8 = 20",
                options: ["x = 3", "x = 7", "x = 12", "x = 5"],
                answer: "A",
                explanation: "Step 1: Subtract 8: 4x = 12. Step 2: Divide by 4: x = 3",
                type: "equation"
            },
            {
                question: "Solve: 5x - 3 = 22",
                options: ["x = 5", "x = 3.8", "x = 25", "x = 4.2"],
                answer: "A",
                explanation: "Step 1: Add 3: 5x = 25. Step 2: Divide by 5: x = 5",
                type: "equation"
            },
            {
                question: "Solve: 2x + 10 = 4",
                options: ["x = -3", "x = 7", "x = -7", "x = 3"],
                answer: "A",
                explanation: "Step 1: Subtract 10: 2x = -6. Step 2: Divide by 2: x = -3",
                type: "equation"
            },
            {
                question: "Solve: -3x + 9 = 0",
                options: ["x = 3", "x = -3", "x = 9", "x = -9"],
                answer: "A",
                explanation: "Step 1: Subtract 9: -3x = -9. Step 2: Divide by -3: x = 3",
                type: "equation"
            },
            {
                question: "Solve: 1/2 x + 4 = 10",
                options: ["x = 12", "x = 28", "x = 3", "x = 7"],
                answer: "A",
                explanation: "Step 1: Subtract 4: 1/2 x = 6. Step 2: Multiply by 2: x = 12",
                type: "equation"
            },
            {
                question: "Solve: 2.5x - 3 = 7",
                options: ["x = 4", "x = 1.6", "x = 10", "x = 2.5"],
                answer: "A",
                explanation: "Step 1: Add 3: 2.5x = 10. Step 2: Divide by 2.5: x = 4",
                type: "equation"
            },
            {
                question: "Solve: 3(x - 2) = 15",
                options: ["x = 7", "x = 3", "x = 5", "x = 11"],
                answer: "A",
                explanation: "Step 1: Divide by 3: x - 2 = 5. Step 2: Add 2: x = 7",
                type: "equation"
            },
            {
                question: "Solve: 4(x + 3) = 32",
                options: ["x = 5", "x = 11", "x = 8", "x = 2"],
                answer: "A",
                explanation: "Step 1: Divide by 4: x + 3 = 8. Step 2: Subtract 3: x = 5",
                type: "equation"
            },
            {
                question: "Solve: 2(3x - 1) = 16",
                options: ["x = 3", "x = 2.83", "x = 5", "x = 9"],
                answer: "A",
                explanation: "Step 1: Divide by 2: 3x - 1 = 8. Step 2: Add 1: 3x = 9. Step 3: Divide by 3: x = 3",
                type: "equation"
            },
            {
                question: "Solve: 5 = 2x - 7",
                options: ["x = 6", "x = -1", "x = 1", "x = 12"],
                answer: "A",
                explanation: "Step 1: Add 7: 12 = 2x. Step 2: Divide by 2: x = 6",
                type: "equation"
            },
            {
                question: "Solve: 3x + 8 = -1",
                options: ["x = -3", "x = 3", "x = -2.33", "x = 2.33"],
                answer: "A",
                explanation: "Step 1: Subtract 8: 3x = -9. Step 2: Divide by 3: x = -3",
                type: "equation"
            },
            {
                question: "Solve: 2x - 5 = -11",
                options: ["x = -3", "x = 3", "x = -8", "x = 8"],
                answer: "A",
                explanation: "Step 1: Add 5: 2x = -6. Step 2: Divide by 2: x = -3",
                type: "equation"
            },
            {
                question: "Solve: 4 - 3x = 19",
                options: ["x = -5", "x = 5", "x = -7.67", "x = 7.67"],
                answer: "A",
                explanation: "Step 1: Subtract 4: -3x = 15. Step 2: Divide by -3: x = -5",
                type: "equation"
            },
            {
                question: "Solve: 7 = 1 - 2x",
                options: ["x = -3", "x = 3", "x = 4", "x = -4"],
                answer: "A",
                explanation: "Step 1: Subtract 1: 6 = -2x. Step 2: Divide by -2: x = -3",
                type: "equation"
            },
            {
                question: "Solve: 3/4 x - 2 = 4",
                options: ["x = 8", "x = 4.5", "x = 2", "x = 16/3"],
                answer: "A",
                explanation: "Step 1: Add 2: 3/4 x = 6. Step 2: Multiply by 4/3: x = 8",
                type: "equation"
            },
            {
                question: "Solve: 0.2x + 1.5 = 2.3",
                options: ["x = 4", "x = 19", "x = 0.4", "x = 3.8"],
                answer: "A",
                explanation: "Step 1: Subtract 1.5: 0.2x = 0.8. Step 2: Divide by 0.2: x = 4",
                type: "equation"
            },
            {
                question: "Solve: 5(x + 2) = 3x + 20",
                options: ["x = 5", "x = 10", "x = 15", "x = 2.5"],
                answer: "A",
                explanation: "Step 1: Distribute: 5x + 10 = 3x + 20. Step 2: Subtract 3x: 2x + 10 = 20. Step 3: Subtract 10: 2x = 10. Step 4: Divide by 2: x = 5",
                type: "equation"
            },
            {
                question: "Solve: 2(2x - 3) = 3(x + 1)",
                options: ["x = 9", "x = 3", "x = 1", "x = 5"],
                answer: "A",
                explanation: "Step 1: Distribute: 4x - 6 = 3x + 3. Step 2: Subtract 3x: x - 6 = 3. Step 3: Add 6: x = 9",
                type: "equation"
            },

            // Multi-Step Equations (41-60)
            {
                question: "Solve: 2x + 3x - 5 = 20",
                options: ["x = 5", "x = 3", "x = 4", "x = 6"],
                answer: "A",
                explanation: "Step 1: Combine like terms: 5x - 5 = 20. Step 2: Add 5: 5x = 25. Step 3: Divide by 5: x = 5",
                type: "equation"
            },
            {
                question: "Solve: 4(x - 2) + 3x = 29",
                options: ["x = 5", "x = 3", "x = 7", "x = 4"],
                answer: "A",
                explanation: "Step 1: Distribute: 4x - 8 + 3x = 29. Step 2: Combine: 7x - 8 = 29. Step 3: Add 8: 7x = 37. Step 4: Divide by 7: x = 5",
                type: "equation"
            },
            {
                question: "Solve: 3(2x + 1) = 5(x - 2) + 8",
                options: ["x = -5", "x = 5", "x = 3", "x = -3"],
                answer: "A",
                explanation: "Step 1: Distribute: 6x + 3 = 5x - 10 + 8. Step 2: Simplify: 6x + 3 = 5x - 2. Step 3: Subtract 5x: x + 3 = -2. Step 4: Subtract 3: x = -5",
                type: "equation"
            },
            {
                question: "Solve: 2x/3 + 4 = 10",
                options: ["x = 9", "x = 18", "x = 4", "x = 12"],
                answer: "A",
                explanation: "Step 1: Subtract 4: 2x/3 = 6. Step 2: Multiply by 3: 2x = 18. Step 3: Divide by 2: x = 9",
                type: "equation"
            },
            {
                question: "Solve: (x + 5)/2 = 7",
                options: ["x = 9", "x = 19", "x = 2", "x = 12"],
                answer: "A",
                explanation: "Step 1: Multiply by 2: x + 5 = 14. Step 2: Subtract 5: x = 9",
                type: "equation"
            },
            {
                question: "Solve: 5x - 2(x + 3) = 12",
                options: ["x = 6", "x = 2", "x = 3", "x = 5"],
                answer: "A",
                explanation: "Step 1: Distribute: 5x - 2x - 6 = 12. Step 2: Combine: 3x - 6 = 12. Step 3: Add 6: 3x = 18. Step 4: Divide by 3: x = 6",
                type: "equation"
            },
            {
                question: "Solve: 4 - 2(3x - 1) = 14",
                options: ["x = -4/3", "x = 2", "x = -2", "x = 4/3"],
                answer: "A",
                explanation: "Step 1: Distribute: 4 - 6x + 2 = 14. Step 2: Combine: 6 - 6x = 14. Step 3: Subtract 6: -6x = 8. Step 4: Divide by -6: x = -4/3",
                type: "equation"
            },
            {
                question: "Solve: 3(x + 2) - 2(x - 1) = 10",
                options: ["x = 2", "x = 6", "x = 4", "x = 8"],
                answer: "A",
                explanation: "Step 1: Distribute: 3x + 6 - 2x + 2 = 10. Step 2: Combine: x + 8 = 10. Step 3: Subtract 8: x = 2",
                type: "equation"
            },
            {
                question: "Solve: 2x + 5 = 3x - 2",
                options: ["x = 7", "x = 3", "x = -3", "x = 1"],
                answer: "A",
                explanation: "Step 1: Subtract 2x: 5 = x - 2. Step 2: Add 2: 7 = x, so x = 7",
                type: "equation"
            },
            {
                question: "Solve: 4x - 7 = 2x + 9",
                options: ["x = 8", "x = 1", "x = -8", "x = 16"],
                answer: "A",
                explanation: "Step 1: Subtract 2x: 2x - 7 = 9. Step 2: Add 7: 2x = 16. Step 3: Divide by 2: x = 8",
                type: "equation"
            },

            // One-Step Inequalities (61-75)
            {
                question: "Solve: x + 3 > 7",
                options: ["x > 4", "x < 4", "x > 10", "x < 10"],
                answer: "A",
                explanation: "Subtract 3 from both sides: x + 3 - 3 > 7 - 3, so x > 4",
                type: "inequality"
            },
            {
                question: "Solve: 2x â‰¤ 10",
                options: ["x â‰¤ 5", "x â‰¥ 5", "x â‰¤ 20", "x â‰¥ 20"],
                answer: "A",
                explanation: "Divide both sides by 2: 2x Ã· 2 â‰¤ 10 Ã· 2, so x â‰¤ 5",
                type: "inequality"
            },
            {
                question: "Solve: x - 4 < 2",
                options: ["x < 6", "x > 6", "x < -2", "x > -2"],
                answer: "A",
                explanation: "Add 4 to both sides: x - 4 + 4 < 2 + 4, so x < 6",
                type: "inequality"
            },
            {
                question: "Solve: -3x > 12",
                options: ["x < -4", "x > -4", "x < 4", "x > 4"],
                answer: "A",
                explanation: "Divide by -3 and flip inequality: -3x Ã· -3 < 12 Ã· -3, so x < -4",
                type: "inequality"
            },
            {
                question: "Solve: x/2 â‰¥ 6",
                options: ["x â‰¥ 12", "x â‰¤ 12", "x â‰¥ 3", "x â‰¤ 3"],
                answer: "A",
                explanation: "Multiply both sides by 2: (x/2) Ã— 2 â‰¥ 6 Ã— 2, so x â‰¥ 12",
                type: "inequality"
            },
            {
                question: "Solve: 5 + x â‰¤ 9",
                options: ["x â‰¤ 4", "x â‰¥ 4", "x â‰¤ 14", "x â‰¥ 14"],
                answer: "A",
                explanation: "Subtract 5 from both sides: 5 + x - 5 â‰¤ 9 - 5, so x â‰¤ 4",
                type: "inequality"
            },
            {
                question: "Solve: -x < 8",
                options: ["x > -8", "x < -8", "x > 8", "x < 8"],
                answer: "A",
                explanation: "Multiply by -1 and flip inequality: (-x) Ã— -1 > 8 Ã— -1, so x > -8",
                type: "inequality"
            },
            {
                question: "Solve: 4x â‰¥ -16",
                options: ["x â‰¥ -4", "x â‰¤ -4", "x â‰¥ 4", "x â‰¤ 4"],
                answer: "A",
                explanation: "Divide both sides by 4: 4x Ã· 4 â‰¥ -16 Ã· 4, so x â‰¥ -4",
                type: "inequality"
            },
            {
                question: "Solve: x - 1.5 > 3.5",
                options: ["x > 5", "x < 5", "x > 2", "x < 2"],
                answer: "A",
                explanation: "Add 1.5 to both sides: x - 1.5 + 1.5 > 3.5 + 1.5, so x > 5",
                type: "inequality"
            },
            {
                question: "Solve: 2/3 x â‰¤ 12",
                options: ["x â‰¤ 18", "x â‰¥ 18", "x â‰¤ 8", "x â‰¥ 8"],
                answer: "A",
                explanation: "Multiply by 3/2: (2/3 x) Ã— (3/2) â‰¤ 12 Ã— (3/2), so x â‰¤ 18",
                type: "inequality"
            },
            {
                question: "Solve: 0.25x < 3",
                options: ["x < 12", "x > 12", "x < 0.75", "x > 0.75"],
                answer: "A",
                explanation: "Divide both sides by 0.25: 0.25x Ã· 0.25 < 3 Ã· 0.25, so x < 12",
                type: "inequality"
            },
            {
                question: "Solve: -2x â‰¤ -10",
                options: ["x â‰¥ 5", "x â‰¤ 5", "x â‰¥ -5", "x â‰¤ -5"],
                answer: "A",
                explanation: "Divide by -2 and flip inequality: -2x Ã· -2 â‰¥ -10 Ã· -2, so x â‰¥ 5",
                type: "inequality"
            },
            {
                question: "Solve: x + 0 > -3",
                options: ["x > -3", "x < -3", "x > 3", "x < 3"],
                answer: "A",
                explanation: "x + 0 = x, so x > -3",
                type: "inequality"
            },
            {
                question: "Solve: 1/4 x â‰¥ 2",
                options: ["x â‰¥ 8", "x â‰¤ 8", "x â‰¥ 0.5", "x â‰¤ 0.5"],
                answer: "A",
                explanation: "Multiply both sides by 4: (1/4 x) Ã— 4 â‰¥ 2 Ã— 4, so x â‰¥ 8",
                type: "inequality"
            },
            {
                question: "Solve: -5x > 20",
                options: ["x < -4", "x > -4", "x < 4", "x > 4"],
                answer: "A",
                explanation: "Divide by -5 and flip inequality: -5x Ã· -5 < 20 Ã· -5, so x < -4",
                type: "inequality"
            },

            // Two-Step Inequalities (76-90)
            {
                question: "Solve: 2x + 3 > 11",
                options: ["x > 4", "x < 4", "x > 7", "x < 7"],
                answer: "A",
                explanation: "Step 1: Subtract 3: 2x > 8. Step 2: Divide by 2: x > 4",
                type: "inequality"
            },
            {
                question: "Solve: 3x - 5 â‰¤ 10",
                options: ["x â‰¤ 5", "x â‰¥ 5", "x â‰¤ 1.67", "x â‰¥ 1.67"],
                answer: "A",
                explanation: "Step 1: Add 5: 3x â‰¤ 15. Step 2: Divide by 3: x â‰¤ 5",
                type: "inequality"
            },
            {
                question: "Solve: 4x + 7 < 19",
                options: ["x < 3", "x > 3", "x < 6.5", "x > 6.5"],
                answer: "A",
                explanation: "Step 1: Subtract 7: 4x < 12. Step 2: Divide by 4: x < 3",
                type: "inequality"
            },
            {
                question: "Solve: 5 - 2x â‰¥ 1",
                options: ["x â‰¤ 2", "x â‰¥ 2", "x â‰¤ 3", "x â‰¥ 3"],
                answer: "A",
                explanation: "Step 1: Subtract 5: -2x â‰¥ -4. Step 2: Divide by -2 and flip: x â‰¤ 2",
                type: "inequality"
            },
            {
                question: "Solve: 3(x - 2) > 9",
                options: ["x > 5", "x < 5", "x > 1", "x < 1"],
                answer: "A",
                explanation: "Step 1: Divide by 3: x - 2 > 3. Step 2: Add 2: x > 5",
                type: "inequality"
            },
            {
                question: "Solve: 2x/3 - 1 â‰¤ 5",
                options: ["x â‰¤ 9", "x â‰¥ 9", "x â‰¤ 4", "x â‰¥ 4"],
                answer: "A",
                explanation: "Step 1: Add 1: 2x/3 â‰¤ 6. Step 2: Multiply by 3/2: x â‰¤ 9",
                type: "inequality"
            },
            {
                question: "Solve: -3x + 4 < 13",
                options: ["x > -3", "x < -3", "x > 3", "x < 3"],
                answer: "A",
                explanation: "Step 1: Subtract 4: -3x < 9. Step 2: Divide by -3 and flip: x > -3",
                type: "inequality"
            },
            {
                question: "Solve: 2(3x + 1) â‰¥ 14",
                options: ["x â‰¥ 2", "x â‰¤ 2", "x â‰¥ 6", "x â‰¤ 6"],
                answer: "A",
                explanation: "Step 1: Divide by 2: 3x + 1 â‰¥ 7. Step 2: Subtract 1: 3x â‰¥ 6. Step 3: Divide by 3: x â‰¥ 2",
                type: "inequality"
            },
            {
                question: "Solve: 4 - 3x > 10",
                options: ["x < -2", "x > -2", "x < 2", "x > 2"],
                answer: "A",
                explanation: "Step 1: Subtract 4: -3x > 6. Step 2: Divide by -3 and flip: x < -2",
                type: "inequality"
            },
            {
                question: "Solve: 1/2 x + 3 â‰¤ 7",
                options: ["x â‰¤ 8", "x â‰¥ 8", "x â‰¤ 20", "x â‰¥ 20"],
                answer: "A",
                explanation: "Step 1: Subtract 3: 1/2 x â‰¤ 4. Step 2: Multiply by 2: x â‰¤ 8",
                type: "inequality"
            },
            {
                question: "Solve: 5x - 8 < 2x + 4",
                options: ["x < 4", "x > 4", "x < 1", "x > 1"],
                answer: "A",
                explanation: "Step 1: Subtract 2x: 3x - 8 < 4. Step 2: Add 8: 3x < 12. Step 3: Divide by 3: x < 4",
                type: "inequality"
            },
            {
                question: "Solve: 3(x + 2) â‰¤ 2(x - 1)",
                options: ["x â‰¤ -8", "x â‰¥ -8", "x â‰¤ -4", "x â‰¥ -4"],
                answer: "A",
                explanation: "Step 1: Distribute: 3x + 6 â‰¤ 2x - 2. Step 2: Subtract 2x: x + 6 â‰¤ -2. Step 3: Subtract 6: x â‰¤ -8",
                type: "inequality"
            },
            {
                question: "Solve: 2x + 5 > 3x - 1",
                options: ["x < 6", "x > 6", "x < 4", "x > 4"],
                answer: "A",
                explanation: "Step 1: Subtract 2x: 5 > x - 1. Step 2: Add 1: 6 > x, so x < 6",
                type: "inequality"
            },
            {
                question: "Solve: 4 - 2x â‰¤ 3x + 14",
                options: ["x â‰¥ -2", "x â‰¤ -2", "x â‰¥ 2", "x â‰¤ 2"],
                answer: "A",
                explanation: "Step 1: Add 2x: 4 â‰¤ 5x + 14. Step 2: Subtract 14: -10 â‰¤ 5x. Step 3: Divide by 5: -2 â‰¤ x, so x â‰¥ -2",
                type: "inequality"
            },
            {
                question: "Solve: 0.5x + 2.5 â‰¥ 4.5",
                options: ["x â‰¥ 4", "x â‰¤ 4", "x â‰¥ 14", "x â‰¤ 14"],
                answer: "A",
                explanation: "Step 1: Subtract 2.5: 0.5x â‰¥ 2. Step 2: Divide by 0.5: x â‰¥ 4",
                type: "inequality"
            },

            // Word Problems & Applications (91-110)
            {
                question: "The sum of a number and 8 is 15. What is the number?",
                options: ["7", "23", "-7", "1.875"],
                answer: "A",
                explanation: "Let x = the number. x + 8 = 15, so x = 15 - 8 = 7",
                type: "equation"
            },
            {
                question: "Three times a number decreased by 5 equals 19. What is the number?",
                options: ["8", "14", "24", "4.67"],
                answer: "A",
                explanation: "Let x = the number. 3x - 5 = 19 â†’ 3x = 24 â†’ x = 8",
                type: "equation"
            },
            {
                question: "A number divided by 4 plus 3 equals 7. What is the number?",
                options: ["16", "10", "4", "1"],
                answer: "A",
                explanation: "Let x = the number. x/4 + 3 = 7 â†’ x/4 = 4 â†’ x = 16",
                type: "equation"
            },
            {
                question: "The perimeter of a square is 36 cm. What is the side length?",
                options: ["9 cm", "6 cm", "12 cm", "18 cm"],
                answer: "A",
                explanation: "Let s = side length. Perimeter = 4s = 36 â†’ s = 36 Ã· 4 = 9 cm",
                type: "equation"
            },
            {
                question: "The sum of two consecutive integers is 25. What are the integers?",
                options: ["12 and 13", "11 and 14", "10 and 15", "13 and 14"],
                answer: "A",
                explanation: "Let x = first integer, x+1 = second. x + (x+1) = 25 â†’ 2x + 1 = 25 â†’ 2x = 24 â†’ x = 12, so numbers are 12 and 13",
                type: "equation"
            },
            {
                question: "A number is at least 5. Which inequality represents this?",
                options: ["x â‰¥ 5", "x â‰¤ 5", "x > 5", "x < 5"],
                answer: "A",
                explanation: "'At least' means greater than or equal to, so x â‰¥ 5",
                type: "inequality"
            },
            {
                question: "A number is less than or equal to -3. Which inequality?",
                options: ["x â‰¤ -3", "x â‰¥ -3", "x < -3", "x > -3"],
                answer: "A",
                explanation: "'Less than or equal to' means â‰¤, so x â‰¤ -3",
                type: "inequality"
            },
            {
                question: "You have $20 and want to buy books costing $4 each. How many can you buy?",
                options: ["At most 5", "At least 5", "Exactly 5", "More than 5"],
                answer: "A",
                explanation: "Let x = number of books. 4x â‰¤ 20 â†’ x â‰¤ 5, so at most 5 books",
                type: "inequality"
            },
            {
                question: "A test has 100 points. To get an A, need at least 90. Which inequality?",
                options: ["score â‰¥ 90", "score â‰¤ 90", "score > 90", "score < 90"],
                answer: "A",
                explanation: "'At least 90' means score is 90 or more, so score â‰¥ 90",
                type: "inequality"
            },
            {
                question: "Temperature must stay below 30Â°C. Which inequality?",
                options: ["T < 30", "T > 30", "T â‰¤ 30", "T â‰¥ 30"],
                answer: "A",
                explanation: "'Below 30' means less than 30, so T < 30",
                type: "inequality"
            },
            {
                question: "You need at least 500 points to level up. You have 320. How many more needed?",
                options: ["At least 180", "At most 180", "Exactly 180", "More than 820"],
                answer: "A",
                explanation: "Let x = points needed. 320 + x â‰¥ 500 â†’ x â‰¥ 180, so at least 180 more points",
                type: "inequality"
            },
            {
                question: "Rectangle length is 3 more than width. Perimeter is 26. What are dimensions?",
                options: ["Width = 5, Length = 8", "Width = 4, Length = 7", "Width = 6, Length = 9", "Width = 5.5, Length = 8.5"],
                answer: "A",
                explanation: "Let w = width, then length = w + 3. Perimeter = 2(w + w+3) = 26 â†’ 2(2w+3)=26 â†’ 4w+6=26 â†’ 4w=20 â†’ w=5, so width=5, length=8",
                type: "equation"
            },
            {
                question: "The sum of three consecutive even numbers is 54. What are they?",
                options: ["16, 18, 20", "17, 19, 21", "14, 16, 18", "18, 20, 22"],
                answer: "A",
                explanation: "Let x = first even, then x+2, x+4. x + (x+2) + (x+4) = 54 â†’ 3x + 6 = 54 â†’ 3x = 48 â†’ x = 16, so numbers are 16, 18, 20",
                type: "equation"
            },
            {
                question: "A number doubled is greater than 10. Which inequality?",
                options: ["2x > 10", "2x < 10", "x/2 > 10", "x/2 < 10"],
                answer: "A",
                explanation: "Number doubled = 2x, 'greater than' = >, so 2x > 10",
                type: "inequality"
            },
            {
                question: "Five less than twice a number is at most 15. Which inequality?",
                options: ["2x - 5 â‰¤ 15", "2x - 5 â‰¥ 15", "5 - 2x â‰¤ 15", "5 - 2x â‰¥ 15"],
                answer: "A",
                explanation: "Twice a number = 2x, five less = 2x - 5, 'at most' = â‰¤, so 2x - 5 â‰¤ 15",
                type: "inequality"
            },
            {
                question: "You can spend at most $50. You've spent $28. How much more can you spend?",
                options: ["At most $22", "At least $22", "Exactly $22", "More than $22"],
                answer: "A",
                explanation: "Let x = amount left. 28 + x â‰¤ 50 â†’ x â‰¤ 22, so at most $22 more",
                type: "inequality"
            },
            {
                question: "A phone plan charges $20 plus $0.10 per minute. Budget is $40. Max minutes?",
                options: ["At most 200", "At least 200", "Exactly 200", "More than 200"],
                answer: "A",
                explanation: "Let m = minutes. 20 + 0.10m â‰¤ 40 â†’ 0.10m â‰¤ 20 â†’ m â‰¤ 200, so at most 200 minutes",
                type: "inequality"
            },
            {
                question: "After giving away 5 apples, you have at least 8 left. How many did you start with?",
                options: ["At least 13", "At most 13", "Exactly 13", "More than 13"],
                answer: "A",
                explanation: "Let x = starting apples. x - 5 â‰¥ 8 â†’ x â‰¥ 13, so at least 13 apples",
                type: "inequality"
            },
            {
                question: "Twice a number minus 3 is between 7 and 15. Which compound inequality?",
                options: ["7 < 2x - 3 < 15", "7 â‰¤ 2x - 3 â‰¤ 15", "7 > 2x - 3 > 15", "7 â‰¥ 2x - 3 â‰¥ 15"],
                answer: "A",
                explanation: "'Between' usually means exclusive, so 7 < 2x - 3 < 15",
                type: "inequality"
            },
            {
                question: "A number is no more than 12 and at least -4. Which compound inequality?",
                options: ["-4 â‰¤ x â‰¤ 12", "-4 < x < 12", "-4 â‰¥ x â‰¥ 12", "-4 > x > 12"],
                answer: "A",
                explanation: "'No more than 12' means â‰¤ 12, 'at least -4' means â‰¥ -4, so -4 â‰¤ x â‰¤ 12",
                type: "inequality"
            }
        ];

        // Algebra tips
        const algebraTips = [
            "Tip: To solve equations, perform the same operation on both sides",
            "Tip: For inequalities, flip the sign when multiplying/dividing by negative",
            "Tip: Check your solution by substituting back into the original equation",
            "Tip: Combine like terms before solving",
            "Tip: Use distributive property: a(b + c) = ab + ac",
            "Tip: 'At least' means â‰¥, 'at most' means â‰¤, 'more than' means >, 'less than' means <",
            "Tip: For word problems, define a variable for what you're trying to find",
            "Tip: Graph inequalities with open circle for < or >, closed circle for â‰¤ or â‰¥"
        ];

        // Word problems for practice
        const wordProblems = [
            {
                problem: "A number plus 5 equals 12. What is the number?",
                equation: "x + 5 = 12",
                solution: "x = 7",
                steps: "1. Let x be the number\n2. x + 5 = 12\n3. Subtract 5: x = 12 - 5\n4. x = 7"
            },
            {
                problem: "Three times a number minus 4 equals 11. Find the number.",
                equation: "3x - 4 = 11",
                solution: "x = 5",
                steps: "1. Let x be the number\n2. 3x - 4 = 11\n3. Add 4: 3x = 15\n4. Divide by 3: x = 5"
            },
            {
                problem: "The sum of two consecutive integers is 25. What are they?",
                equation: "x + (x + 1) = 25",
                solution: "12 and 13",
                steps: "1. Let x be first integer, x+1 is next\n2. x + (x+1) = 25\n3. 2x + 1 = 25\n4. 2x = 24\n5. x = 12, so numbers are 12 and 13"
            },
            {
                problem: "A rectangle's length is 3 more than its width. Perimeter is 26. Find dimensions.",
                equation: "2(w + (w+3)) = 26",
                solution: "Width = 5, Length = 8",
                steps: "1. Let w = width, length = w+3\n2. Perimeter = 2(length + width)\n3. 2(w + w+3) = 26\n4. 2(2w+3) = 26\n5. 4w+6=26\n6. 4w=20\n7. w=5, length=8"
            }
        ];

        // Graph equations
        const graphEquations = [
            { equation: "y = 2x + 1", slope: 2, intercept: 1, type: "linear" },
            { equation: "y = -x + 3", slope: -1, intercept: 3, type: "linear" },
            { equation: "y = 0.5x - 2", slope: 0.5, intercept: -2, type: "linear" },
            { equation: "y = -2x + 4", slope: -2, intercept: 4, type: "linear" },
            { equation: "y = 3", slope: 0, intercept: 3, type: "horizontal" },
            { equation: "x = 2", slope: undefined, intercept: undefined, type: "vertical" }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            studentName: "",
            startTime: null,
            currentWordProblem: 0,
            currentGraph: 0,
            equationScore: 0,
            inequalityScore: 0,
            canvas: null,
            ctx: null
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const backToHomeBtn = document.getElementById('backToHome');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const algebraTip = document.getElementById('algebraTip');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const feedbackExplanation = document.getElementById('feedbackExplanation');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const equationScore = document.getElementById('equationScore');
        const inequalityScore = document.getElementById('inequalityScore');
        const timeSpent = document.getElementById('timeSpent');
        const accuracyRate = document.getElementById('accuracyRate');
        const equationInput = document.getElementById('equationInput');
        const equationResult = document.getElementById('equationResult');
        const equationSteps = document.getElementById('equationSteps');
        const inequalityInput = document.getElementById('inequalityInput');
        const inequalityResult = document.getElementById('inequalityResult');
        const inequalitySteps = document.getElementById('inequalitySteps');
        const inequalityNumberLine = document.getElementById('inequalityNumberLine');
        const graphEquation = document.getElementById('graphEquation');
        const graphInfo = document.getElementById('graphInfo');
        const wordProblem = document.getElementById('wordProblem');
        const wordSolution = document.getElementById('wordSolution');
        const graphCanvas = document.getElementById('graphCanvas');

        // Initialize
        function initApp() {
            setupEventListeners();
            showWelcomePage();
            setupPracticeTools();
            initializeCanvas();
        }

        // Setup practice tools
        function setupPracticeTools() {
            newWordProblem();
            newGraphEquation();
        }

        // Initialize canvas for graphing
        function initializeCanvas() {
            appState.canvas = graphCanvas;
            appState.ctx = graphCanvas.getContext('2d');
            drawGrid();
        }

        // Draw coordinate grid
        function drawGrid() {
            const ctx = appState.ctx;
            const width = graphCanvas.width;
            const height = graphCanvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Set background
            ctx.fillStyle = '#1E1E1E';
            ctx.fillRect(0, 0, width, height);
            
            // Draw grid lines
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            
            // Vertical lines
            for (let x = 0; x <= width; x += 20) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, height);
                ctx.stroke();
            }
            
            // Horizontal lines
            for (let y = 0; y <= height; y += 20) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
            }
            
            // Draw axes
            ctx.strokeStyle = '#4CAF50';
            ctx.lineWidth = 2;
            
            // X-axis
            ctx.beginPath();
            ctx.moveTo(0, height/2);
            ctx.lineTo(width, height/2);
            ctx.stroke();
            
            // Y-axis
            ctx.beginPath();
            ctx.moveTo(width/2, 0);
            ctx.lineTo(width/2, height);
            ctx.stroke();
            
            // Draw axis labels
            ctx.fillStyle = '#4CAF50';
            ctx.font = '12px Arial';
            ctx.fillText('x', width - 10, height/2 - 10);
            ctx.fillText('y', width/2 + 10, 10);
            
            // Draw scale markers
            ctx.fillStyle = '#4CAF50';
            ctx.font = '10px Arial';
            
            // X-axis markers
            for (let x = -4; x <= 4; x++) {
                if (x === 0) continue;
                const pixelX = width/2 + x * 20;
                ctx.beginPath();
                ctx.moveTo(pixelX, height/2 - 5);
                ctx.lineTo(pixelX, height/2 + 5);
                ctx.stroke();
                ctx.fillText(x.toString(), pixelX - 3, height/2 + 15);
            }
            
            // Y-axis markers
            for (let y = -4; y <= 4; y++) {
                if (y === 0) continue;
                const pixelY = height/2 - y * 20;
                ctx.beginPath();
                ctx.moveTo(width/2 - 5, pixelY);
                ctx.lineTo(width/2 + 5, pixelY);
                ctx.stroke();
                ctx.fillText(y.toString(), width/2 + 10, pixelY + 3);
            }
            
            // Origin label
            ctx.fillText('0', width/2 + 5, height/2 + 15);
        }

        // Equation solver functions
        function solveEquation() {
            const input = equationInput.value.trim();
            if (!input) {
                equationResult.textContent = "Please enter an equation";
                equationResult.style.color = "var(--error-amber)";
                return;
            }
            
            try {
                // Simple equation parser
                const equation = input.replace(/\s/g, '');
                let steps = [];
                
                // Check if it's a valid equation with =
                if (!equation.includes('=')) {
                    equationResult.textContent = "Equation must contain =";
                    equationResult.style.color = "var(--error-amber)";
                    return;
                }
                
                const [left, right] = equation.split('=');
                
                // For simplicity, handle basic forms
                // Handle ax + b = c
                const leftMatch = left.match(/([-+]?\d*\.?\d*)x([-+]\d+\.?\d*)?/);
                const rightMatch = right.match(/([-+]?\d*\.?\d*)x([-+]\d+\.?\d*)?/);
                
                let coefficient = 0;
                let constant = 0;
                
                // Parse left side
                if (leftMatch) {
                    coefficient += parseFloat(leftMatch[1] || '1') * (leftMatch[1]?.startsWith('-') ? -1 : 1);
                    if (leftMatch[2]) constant -= parseFloat(leftMatch[2]);
                } else if (!isNaN(parseFloat(left))) {
                    constant -= parseFloat(left);
                }
                
                // Parse right side
                if (rightMatch) {
                    coefficient -= parseFloat(rightMatch[1] || '1') * (rightMatch[1]?.startsWith('-') ? -1 : 1);
                    if (rightMatch[2]) constant += parseFloat(rightMatch[2]);
                } else if (!isNaN(parseFloat(right))) {
                    constant += parseFloat(right);
                }
                
                // Solve: coefficient * x = constant
                const solution = constant / coefficient;
                
                steps.push(`1. Original equation: ${input}`);
                steps.push(`2. Combine like terms: ${coefficient === 1 ? '' : coefficient === -1 ? '-' : coefficient}x = ${constant}`);
                steps.push(`3. Divide both sides by ${coefficient}: x = ${solution}`);
                
                equationResult.innerHTML = `<strong>Solution:</strong> x = ${solution}`;
                equationResult.style.color = "var(--equation-blue)";
                equationSteps.innerHTML = steps.join('<br>');
                
                equationResult.classList.add('pulse');
                setTimeout(() => equationResult.classList.remove('pulse'), 1000);
                
            } catch (error) {
                equationResult.textContent = "Error solving equation. Try a simpler form like '2x + 3 = 7'";
                equationResult.style.color = "var(--error-amber)";
                equationSteps.textContent = "Please use format: ax + b = c";
            }
        }

        function showEquationSteps() {
            const input = equationInput.value.trim();
            if (!input) {
                alert("Please enter an equation first");
                return;
            }
            
            // For demonstration, show general steps
            alert(`SOLVING LINEAR EQUATIONS - GENERAL STEPS:

1. Simplify both sides of the equation
   - Remove parentheses using distributive property
   - Combine like terms

2. Get variable terms on one side
   - Add or subtract terms to move variables

3. Get constant terms on the other side
   - Add or subtract constants

4. Isolate the variable
   - Multiply or divide to get variable alone

5. Check your solution
   - Substitute back into original equation

Example for "2x + 3 = 11":
Step 1: 2x + 3 = 11
Step 2: 2x = 11 - 3
Step 3: 2x = 8
Step 4: x = 8 Ã· 2 = 4
Step 5: Check: 2(4) + 3 = 8 + 3 = 11 âœ“`);
        }

        function clearEquation() {
            equationInput.value = '';
            equationResult.textContent = "Solution will appear here";
            equationResult.style.color = "var(--text-primary)";
            equationSteps.textContent = "Enter an equation and click Solve";
        }

        function graphEquationFromInput() {
            const input = equationInput.value.trim();
            if (!input) {
                alert("Please enter an equation first");
                return;
            }
            
            // Simple parsing for y = mx + b form
            const eq = input.toLowerCase().replace(/\s/g, '');
            if (eq.includes('y=')) {
                const rightSide = eq.split('y=')[1];
                graphEquation.textContent = `y = ${rightSide}`;
                plotGraph();
            } else {
                alert("For graphing, please use form: y = mx + b");
            }
        }

        // Inequality solver functions
        function solveInequality() {
            const input = inequalityInput.value.trim();
            if (!input) {
                inequalityResult.textContent = "Please enter an inequality";
                inequalityResult.style.color = "var(--error-amber)";
                return;
            }
            
            try {
                // Simple inequality parser
                const inequality = input.replace(/\s/g, '');
                let steps = [];
                
                // Check for inequality symbols
                const symbols = ['<', '>', 'â‰¤', 'â‰¥', '<=', '>='];
                let symbol = '';
                for (const s of symbols) {
                    if (inequality.includes(s)) {
                        symbol = s;
                        break;
                    }
                }
                
                if (!symbol) {
                    inequalityResult.textContent = "Inequality must contain <, >, â‰¤, or â‰¥";
                    inequalityResult.style.color = "var(--error-amber)";
                    return;
                }
                
                const [left, right] = inequality.split(symbol);
                
                // Parse similar to equation solver
                let coefficient = 0;
                let constant = 0;
                
                // Parse left side (simplified)
                if (left.includes('x')) {
                    const coeffMatch = left.match(/([-+]?\d*\.?\d*)x/);
                    coefficient += parseFloat(coeffMatch?.[1] || '1') * (coeffMatch?.[1]?.startsWith('-') ? -1 : 1);
                    const constPart = left.split('x')[1];
                    if (constPart) constant -= parseFloat(constPart);
                } else {
                    constant -= parseFloat(left);
                }
                
                // Parse right side
                if (right.includes('x')) {
                    const coeffMatch = right.match(/([-+]?\d*\.?\d*)x/);
                    coefficient -= parseFloat(coeffMatch?.[1] || '1') * (coeffMatch?.[1]?.startsWith('-') ? -1 : 1);
                    const constPart = right.split('x')[1];
                    if (constPart) constant += parseFloat(constPart);
                } else {
                    constant += parseFloat(right);
                }
                
                // Solve and handle inequality flip
                let solution = constant / coefficient;
                let finalSymbol = symbol;
                
                // Flip inequality if dividing by negative
                if (coefficient < 0) {
                    if (symbol === '<' || symbol === '<=') finalSymbol = symbol === '<' ? '>' : '>=';
                    if (symbol === '>' || symbol === '>=') finalSymbol = symbol === '>' ? '<' : '<=';
                }
                
                // Handle special symbols
                if (finalSymbol === '<=') finalSymbol = 'â‰¤';
                if (finalSymbol === '>=') finalSymbol = 'â‰¥';
                
                steps.push(`1. Original inequality: ${input}`);
                steps.push(`2. Combine terms: ${coefficient}x ${symbol} ${constant}`);
                if (coefficient < 0) {
                    steps.push(`3. Divide by ${coefficient} (negative, flip inequality)`);
                } else {
                    steps.push(`3. Divide by ${coefficient}`);
                }
                steps.push(`4. Solution: x ${finalSymbol} ${solution}`);
                
                inequalityResult.innerHTML = `<strong>Solution:</strong> x ${finalSymbol} ${solution}`;
                inequalityResult.style.color = "var(--inequality-red)";
                inequalitySteps.innerHTML = steps.join('<br>');
                
                // Draw number line
                drawNumberLine(solution, finalSymbol);
                
                inequalityResult.classList.add('pulse');
                setTimeout(() => inequalityResult.classList.remove('pulse'), 1000);
                
            } catch (error) {
                inequalityResult.textContent = "Error solving inequality. Try simpler form like '2x + 3 > 7'";
                inequalityResult.style.color = "var(--error-amber)";
                inequalitySteps.textContent = "Please use format: ax + b < c";
            }
        }

        function drawNumberLine(solution, symbol) {
            inequalityNumberLine.innerHTML = '';
            
            // Create number line container
            const width = inequalityNumberLine.clientWidth;
            const height = 40;
            
            // Calculate range
            const min = Math.floor(solution) - 3;
            const max = Math.ceil(solution) + 3;
            const range = max - min;
            
            // Draw ticks and labels
            for (let i = min; i <= max; i++) {
                const position = ((i - min) / range) * (width - 40) + 20;
                
                // Tick mark
                const tick = document.createElement('div');
                tick.className = 'number-line-tick';
                tick.style.left = `${position}px`;
                inequalityNumberLine.appendChild(tick);
                
                // Label
                if (i % 1 === 0) { // Only label integers
                    const label = document.createElement('div');
                    label.className = 'number-line-label';
                    label.textContent = i.toString();
                    label.style.left = `${position}px`;
                    inequalityNumberLine.appendChild(label);
                }
            }
            
            // Draw solution
            const solutionPos = ((solution - min) / range) * (width - 40) + 20;
            const circle = document.createElement('div');
            circle.className = 'number-line-solution';
            
            if (symbol === 'â‰¤' || symbol === 'â‰¥') {
                circle.className += ' filled-circle';
            } else {
                circle.className += ' empty-circle';
            }
            
            circle.style.left = `${solutionPos}px`;
            inequalityNumberLine.appendChild(circle);
            
            // Draw arrow for direction
            const arrow = document.createElement('div');
            arrow.style.position = 'absolute';
            arrow.style.top = '30px';
            arrow.style.width = '100%';
            arrow.style.height = '2px';
            arrow.style.backgroundColor = 'var(--solution-purple)';
            
            if (symbol === '<' || symbol === 'â‰¤') {
                arrow.style.left = '20px';
                arrow.style.width = `${solutionPos - 20}px`;
            } else {
                arrow.style.left = `${solutionPos}px`;
                arrow.style.width = `${width - solutionPos - 20}px`;
            }
            
            inequalityNumberLine.appendChild(arrow);
        }

        function showInequalitySteps() {
            alert(`SOLVING LINEAR INEQUALITIES - GENERAL STEPS:

1. Solve like an equation
   - Use same steps as solving equations

2. IMPORTANT: Flip inequality sign when
   - Multiplying or dividing by a negative number

3. Graph the solution on number line
   - Open circle for < or > (not including endpoint)
   - Closed circle for â‰¤ or â‰¥ (including endpoint)
   - Shade to the left for < or â‰¤
   - Shade to the right for > or â‰¥

Example for "2x + 3 > 11":
Step 1: 2x > 8
Step 2: x > 4
Step 3: Graph: open circle at 4, shade right

Example for "-3x â‰¤ 12":
Step 1: Divide by -3 (FLIP SIGN!)
Step 2: x â‰¥ -4
Step 3: Graph: closed circle at -4, shade right`);
        }

        function clearInequality() {
            inequalityInput.value = '';
            inequalityResult.textContent = "Solution will appear here";
            inequalityResult.style.color = "var(--text-primary)";
            inequalitySteps.textContent = "Enter an inequality and click Solve";
            inequalityNumberLine.innerHTML = '';
        }

        function graphInequality() {
            const input = inequalityInput.value.trim();
            if (!input) {
                alert("Please enter an inequality first");
                return;
            }
            
            alert("GRAPHING INEQUALITIES:\n\n1. Graph the corresponding equation as a line\n2. Use dashed line for < or > (not including line)\n3. Use solid line for â‰¤ or â‰¥ (including line)\n4. Shade above the line for > or â‰¥\n5. Shade below the line for < or â‰¤\n\nTry entering 'y > 2x + 1' in the graphing section!");
        }

        // Graphing functions
        function newGraphEquation() {
            appState.currentGraph = (appState.currentGraph + 1) % graphEquations.length;
            const eq = graphEquations[appState.currentGraph];
            graphEquation.textContent = eq.equation;
            graphInfo.textContent = "Click Plot Graph to see the line";
            graphInfo.style.color = "var(--text-secondary)";
        }

        function plotGraph() {
            const eq = graphEquations[appState.currentGraph];
            drawGrid();
            plotLinearEquation(eq);
            
            graphInfo.innerHTML = `<strong>Equation:</strong> ${eq.equation}<br>`;
            graphInfo.innerHTML += `<strong>Slope:</strong> ${eq.slope}<br>`;
            graphInfo.innerHTML += `<strong>Y-intercept:</strong> ${eq.intercept}`;
            graphInfo.style.color = "var(--graph-green)";
        }

        function plotLinearEquation(eq) {
            const ctx = appState.ctx;
            const width = graphCanvas.width;
            const height = graphCanvas.height;
            
            ctx.strokeStyle = '#2196F3';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            // Plot points and connect them
            for (let x = -10; x <= 10; x += 0.1) {
                let y;
                
                if (eq.type === 'horizontal') {
                    y = eq.intercept;
                } else if (eq.type === 'vertical') {
                    // Handle vertical line separately
                    ctx.strokeStyle = '#2196F3';
                    ctx.lineWidth = 2;
                    const pixelX = width/2 + 2 * 20; // x = 2
                    ctx.beginPath();
                    ctx.moveTo(pixelX, 0);
                    ctx.lineTo(pixelX, height);
                    ctx.stroke();
                    return;
                } else {
                    y = eq.slope * x + eq.intercept;
                }
                
                const pixelX = width/2 + x * 20;
                const pixelY = height/2 - y * 20;
                
                if (x === -10) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            
            ctx.stroke();
            
            // Plot y-intercept
            if (eq.type !== 'vertical') {
                ctx.fillStyle = '#FF9800';
                ctx.beginPath();
                const interceptX = width/2;
                const interceptY = height/2 - eq.intercept * 20;
                ctx.arc(interceptX, interceptY, 4, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function findIntercepts() {
            const eq = graphEquations[appState.currentGraph];
            let intercepts = `INTERCEPTS FOR: ${eq.equation}\n\n`;
            
            if (eq.type === 'horizontal') {
                intercepts += `Y-intercept: (0, ${eq.intercept})\n`;
                intercepts += `No x-intercept (horizontal line)`;
            } else if (eq.type === 'vertical') {
                intercepts += `X-intercept: (2, 0)\n`;
                intercepts += `No y-intercept (vertical line)`;
            } else {
                // Y-intercept
                intercepts += `Y-intercept: (0, ${eq.intercept})\n`;
                
                // X-intercept (set y=0)
                const xIntercept = -eq.intercept / eq.slope;
                intercepts += `X-intercept: (${xIntercept.toFixed(2)}, 0)`;
            }
            
            alert(intercepts);
        }

        function clearGraph() {
            drawGrid();
            graphInfo.textContent = "Click Plot Graph to see the line";
            graphInfo.style.color = "var(--text-secondary)";
        }

        // Word problem functions
        function newWordProblem() {
            appState.currentWordProblem = (appState.currentWordProblem + 1) % wordProblems.length;
            const problem = wordProblems[appState.currentWordProblem];
            wordProblem.textContent = problem.problem;
            wordSolution.textContent = "Click Solve to see solution";
            wordSolution.style.color = "var(--text-secondary)";
        }

        function solveWordProblem() {
            const problem = wordProblems[appState.currentWordProblem];
            wordSolution.innerHTML = `<strong>Equation:</strong> ${problem.equation}<br><br><strong>Solution:</strong> ${problem.solution}`;
            wordSolution.style.color = "var(--solution-purple)";
            wordSolution.classList.add('pulse');
            setTimeout(() => wordSolution.classList.remove('pulse'), 1000);
        }

        function showWordProblemSteps() {
            const problem = wordProblems[appState.currentWordProblem];
            alert(`WORD PROBLEM SOLUTION STEPS:\n\nPROBLEM: ${problem.problem}\n\n${problem.steps}`);
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', showWelcomePage);
            viewTopicsBtn.addEventListener('click', () => alert("Other math topics would be available here."));
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') startPractice();
            });
            
            // Make graphEquation accessible to other functions
            window.graphEquation = graphEquationFromInput;
        }

        // Create algebra tip display
        function createAlgebraTip() {
            const tipDiv = document.createElement('div');
            tipDiv.className = 'algebra-tip';
            tipDiv.innerHTML = `<strong>Algebra Tip:</strong> ${algebraTips[Math.floor(Math.random() * algebraTips.length)]}`;
            return tipDiv;
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            appState.startTime = new Date();
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const percentage = Math.round((appState.score / questions.length) * 100);
            const timeDiff = new Date() - appState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            const accuracy = appState.answered > 0 ? Math.round((appState.score / appState.answered) * 100) : 0;
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            equationScore.textContent = appState.equationScore;
            inequalityScore.textContent = appState.inequalityScore;
            timeSpent.textContent = `${minutes}min`;
            accuracyRate.textContent = `${accuracy}%`;
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Excellent! You've mastered linear equations and inequalities!";
            } else if (percentage >= 75) {
                scoreMessage.textContent = "Great work! Strong algebraic problem-solving skills!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good job! Keep practicing to improve further!";
            } else {
                scoreMessage.textContent = "Keep practicing! Focus on the solving steps and checking your work!";
            }
        }

        // Load question
        function loadQuestion() {
            const question = questions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${questions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            algebraTip.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            algebraTip.appendChild(createAlgebraTip());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = questions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                
                // Track scores by question type
                if (question.type === 'equation') appState.equationScore++;
                if (question.type === 'inequality') appState.inequalityScore++;
                
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation);
            }
            
            nextQuestionBtn.disabled = false;
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = 'âœ“';
                feedbackTitle.textContent = 'Correct!';
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = 'âœ—';
                feedbackTitle.textContent = 'Incorrect';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Skip question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Retry topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            appState.equationScore = 0;
            appState.inequalityScore = 0;
            showPracticePage();
        }

        // Start practice
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin algebra practice!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            appState.equationScore = 0;
            appState.inequalityScore = 0;
            
            showPracticePage();
        }

        // Initialize app
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
