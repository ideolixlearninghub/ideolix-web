<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 5 Science - Plants | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Science/Biology Theme */
        :root {
            --primary-green: #4CAF50;
            --secondary-teal: #009688;
            --accent-orange: #FF9800;
            --accent-brown: #795548;
            --accent-yellow: #FFEB3B;
            --accent-red: #F44336;
            --accent-purple: #9C27B0;
            --accent-blue: #2196F3;
            --accent-lime: #CDDC39;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(76, 175, 80, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Slideshow */
        .slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-lime));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        /* Topic Selection */
        .topic-selection {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
            width: 100%;
            max-width: 1000px;
        }

        @media (max-width: 768px) {
            .topic-selection {
                grid-template-columns: 1fr;
            }
        }

        .topic-card {
            background: var(--dark-surface);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 280px;
        }

        .topic-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
        }

        .topic-card.active {
            border-color: var(--primary-green);
            background: rgba(76, 175, 80, 0.1);
        }

        .topic-card.parts {
            border-color: var(--primary-green);
        }

        .topic-card.functions {
            border-color: var(--accent-orange);
        }

        .topic-card.reproduction {
            border-color: var(--accent-purple);
        }

        .topic-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .topic-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .topic-card.parts .topic-title {
            color: var(--primary-green);
        }

        .topic-card.functions .topic-title {
            color: var(--accent-orange);
        }

        .topic-card.reproduction .topic-title {
            color: var(--accent-purple);
        }

        .topic-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .topic-examples {
            text-align: left;
            font-size: 0.85rem;
            color: var(--text-muted);
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            padding: 10px;
            border-radius: 8px;
        }

        .topic-examples div {
            margin: 5px 0;
            padding-left: 10px;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(76, 175, 80, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 25px;
            border: 1px solid var(--primary-green);
        }

        .topic-icon-small {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-green);
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-green);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-primary:hover {
            background: #388E3C;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
        }

        .btn-parts {
            background: var(--primary-green);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-parts:hover {
            background: #388E3C;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
        }

        .btn-functions {
            background: var(--accent-orange);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.4);
        }

        .btn-functions:hover {
            background: #F57C00;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 152, 0, 0.5);
        }

        .btn-reproduction {
            background: var(--accent-purple);
            color: white;
            box-shadow: 0 4px 15px rgba(156, 39, 176, 0.4);
        }

        .btn-reproduction:hover {
            background: #7B1FA2;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(156, 39, 176, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-teal);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 150, 136, 0.4);
        }

        .btn-secondary:hover {
            background: #00796B;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 150, 136, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-green);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Mode */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .science-fact {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-orange);
            font-style: italic;
            color: var(--text-secondary);
        }

        /* Content Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .question-side {
            display: flex;
            flex-direction: column;
        }

        .visualization-side {
            display: flex;
            flex-direction: column;
        }

        .concept-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .concept-box {
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .concept-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .concept-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 5px;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-green);
            background: rgba(76, 175, 80, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: var(--accent-red);
            color: var(--accent-red);
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-card);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            background: var(--secondary-teal);
        }

        .option.correct .option-letter {
            background: var(--primary-green);
            color: white;
        }

        .option.incorrect .option-letter {
            background: var(--accent-red);
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 5px solid var(--primary-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid var(--accent-red);
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-green);
        }

        .feedback-incorrect .feedback-icon {
            background: var(--accent-red);
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-green);
        }

        .feedback-incorrect .feedback-title {
            color: var(--accent-red);
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Visualization Components */
        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            height: 100%;
            border: 1px solid var(--dark-border);
            overflow: auto;
        }

        /* Plant Diagram Display */
        .plant-diagram {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid var(--accent-blue);
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .diagram-title {
            color: var(--accent-blue);
            margin-bottom: 15px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .diagram-container {
            text-align: center;
            margin: 20px 0;
            position: relative;
        }

        .plant-part {
            position: relative;
            margin: 10px 0;
            padding: 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .plant-part:hover {
            background: rgba(76, 175, 80, 0.1);
            transform: translateX(5px);
        }

        .part-label {
            font-weight: bold;
            color: var(--primary-green);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .part-function {
            font-size: 0.95rem;
            color: var(--text-secondary);
            padding-left: 30px;
        }

        /* Parts Comparison */
        .parts-comparison {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .parts-comparison {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .parts-comparison {
                grid-template-columns: 1fr;
            }
        }

        .part-card {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: transform 0.3s ease;
        }

        .part-card:hover {
            transform: translateY(-5px);
        }

        .part-card.root {
            border-color: var(--accent-brown);
        }

        .part-card.stem {
            border-color: var(--primary-green);
        }

        .part-card.leaf {
            border-color: var(--accent-lime);
        }

        .part-card.flower {
            border-color: var(--accent-red);
        }

        .part-card.fruit {
            border-color: var(--accent-orange);
        }

        .part-card.seed {
            border-color: var(--accent-yellow);
        }

        .part-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            text-align: center;
        }

        .part-name {
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .part-card.root .part-name {
            color: var(--accent-brown);
        }

        .part-card.stem .part-name {
            color: var(--primary-green);
        }

        .part-card.leaf .part-name {
            color: var(--accent-lime);
        }

        .part-card.flower .part-name {
            color: var(--accent-red);
        }

        .part-card.fruit .part-name {
            color: var(--accent-orange);
        }

        .part-card.seed .part-name {
            color: var(--accent-yellow);
        }

        .part-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-align: center;
            line-height: 1.4;
        }

        /* Process Display */
        .process-display {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--accent-purple);
        }

        .process-title {
            color: var(--accent-purple);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .process-steps {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .process-step {
            background: rgba(156, 39, 176, 0.1);
            padding: 15px;
            border-radius: 6px;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .step-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--accent-purple);
            border-radius: 50%;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-weight: bold;
            color: var(--accent-purple);
            margin-bottom: 5px;
        }

        .step-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Function Display */
        .function-display {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .function-display {
                grid-template-columns: 1fr;
            }
        }

        .function-item {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .function-icon {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--accent-orange);
        }

        .function-title {
            font-weight: bold;
            color: var(--accent-orange);
            margin-bottom: 8px;
        }

        .function-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Photosynthesis Display */
        .photosynthesis-display {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--accent-lime);
        }

        .photosynthesis-title {
            color: var(--accent-lime);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .photosynthesis-formula {
            background: rgba(205, 220, 57, 0.1);
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            text-align: center;
            font-family: monospace;
            font-size: 1.1rem;
        }

        .formula-part {
            padding: 5px 10px;
            border-radius: 4px;
            margin: 0 5px;
        }

        .reactant {
            background: rgba(33, 150, 243, 0.2);
            color: var(--accent-blue);
        }

        .product {
            background: rgba(76, 175, 80, 0.2);
            color: var(--primary-green);
        }

        /* Examples Table */
        .examples-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--dark-card);
            border-radius: 8px;
            overflow: hidden;
        }

        .examples-table th {
            background: var(--dark-surface);
            padding: 12px;
            text-align: left;
            color: var(--primary-green);
            border-bottom: 2px solid var(--primary-green);
        }

        .examples-table td {
            padding: 10px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
        }

        .examples-table tr:hover {
            background: rgba(76, 175, 80, 0.05);
        }

        /* Science Challenge */
        .science-challenge {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .challenge-title {
            color: var(--accent-red);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .challenge-area {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .challenge-scenario {
            font-style: italic;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .challenge-question {
            font-weight: bold;
            color: var(--accent-orange);
            margin-bottom: 15px;
        }

        .challenge-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        @media (max-width: 768px) {
            .challenge-options {
                grid-template-columns: 1fr;
            }
        }

        .challenge-option {
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .challenge-option:hover {
            background: rgba(255, 152, 0, 0.1);
            transform: translateY(-2px);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-lime));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-green), var(--accent-lime));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .concept-box {
                min-width: 140px;
                font-size: 1.5rem;
                padding: 15px 20px;
            }
            
            .parts-comparison {
                grid-template-columns: 1fr;
            }
            
            .function-display {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes grow {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .grow {
            animation: grow 0.5s ease forwards;
        }
        
        @keyframes photosynthesis {
            0% { background-color: rgba(33, 150, 243, 0.1); }
            50% { background-color: rgba(205, 220, 57, 0.3); }
            100% { background-color: rgba(76, 175, 80, 0.2); }
        }
        
        .photosynthesis-anim {
            animation: photosynthesis 2s ease-in-out infinite;
        }
        
        @keyframes plantGrow {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .plant-grow {
            animation: plantGrow 0.8s ease forwards;
        }
        
        @keyframes flowerBloom {
            0% { transform: rotate(0deg) scale(0.8); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        .flower-bloom {
            animation: flowerBloom 1s ease forwards;
        }
        
        @keyframes waterFlow {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        
        .water-flow {
            background: linear-gradient(90deg, var(--accent-blue), var(--secondary-teal));
            background-size: 200% 100%;
            animation: waterFlow 2s linear infinite;
        }
    </style>
</head>
<body>
    <!-- Background Slideshow -->
    <div class="slideshow" id="slideshow">
        <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1416879595882-3373a0480b5b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1462143338528-eca9936a4d09?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1470058869958-2a77ade41c02?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 5 Science: Plants</h1>
            <p class="welcome-subtitle">Discover the amazing world of plants! Learn about plant parts, their functions, and how plants reproduce. Explore photosynthesis, pollination, and the life cycle of plants in this exciting botanical adventure!</p>
            
            <div class="topic-selection" id="topicSelection">
                <!-- Plant Parts Card -->
                <div class="topic-card parts" id="partsCard">
                    <div class="topic-icon">üå±üîç</div>
                    <div class="topic-title">Plant Parts</div>
                    <div class="topic-description">Learn about roots, stems, leaves, flowers, fruits, and seeds. Discover how each part is specially designed for its role in the plant.</div>
                    <div class="topic-examples">
                        <div><strong>Roots:</strong> Anchor plant, absorb water</div>
                        <div><strong>Leaves:</strong> Make food through photosynthesis</div>
                        <div><strong>Flowers:</strong> Produce seeds for reproduction</div>
                    </div>
                </div>
                
                <!-- Plant Functions Card -->
                <div class="topic-card functions" id="functionsCard">
                    <div class="topic-icon">‚öôÔ∏èüåø</div>
                    <div class="topic-title">Plant Functions</div>
                    <div class="topic-description">Understand how plants work! Learn about photosynthesis, transpiration, nutrient absorption, and how different parts work together.</div>
                    <div class="topic-examples">
                        <div><strong>Photosynthesis:</strong> Making food from sunlight</div>
                        <div><strong>Transpiration:</strong> Water movement through plant</div>
                        <div><strong>Respiration:</strong> Using food for energy</div>
                    </div>
                </div>
                
                <!-- Plant Reproduction Card -->
                <div class="topic-card reproduction" id="reproductionCard">
                    <div class="topic-icon">üå∏üîÑ</div>
                    <div class="topic-title">Plant Reproduction</div>
                    <div class="topic-description">Explore how plants make new plants! Learn about pollination, fertilization, seed dispersal, and the complete life cycle of plants.</div>
                    <div class="topic-examples">
                        <div><strong>Pollination:</strong> Transfer of pollen</div>
                        <div><strong>Fertilization:</strong> Formation of seeds</div>
                        <div><strong>Germination:</strong> Seed growing into plant</div>
                    </div>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-parts" id="startParts">
                    <span>Start Plant Parts Challenge</span>
                </button>
                <button class="btn btn-functions" id="startFunctions">
                    <span>Start Plant Functions Challenge</span>
                </button>
                <button class="btn btn-reproduction" id="startReproduction">
                    <span>Start Plant Reproduction Challenge</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 45</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 2%"></div>
                </div>
            </div>

            <div class="question-container">
                <!-- Science fact display -->
                <div id="scienceFact"></div>
                
                <!-- Concept display area -->
                <div id="conceptDisplay"></div>
                
                <!-- Content Wrapper: Questions on left, Visualizations on right -->
                <div class="content-wrapper" id="contentWrapper">
                    <!-- Left side: Question and Options -->
                    <div class="question-side">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                    </div>
                    
                    <!-- Right side: Visualizations -->
                    <div class="visualization-side">
                        <div class="visualization-container" id="visualizationContainer">
                            <!-- All visualizations will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                    <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Plant Science Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Try Again</button>
                <button class="btn btn-secondary" id="viewTopics">Explore Other Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize slideshow
        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 5000);
        }

        // Plant Parts Questions (45 questions)
        const plantPartsQuestions = [
            // Basic Plant Parts (1-15)
            {
                type: "basic_parts",
                question: "Which plant part anchors the plant in soil and absorbs water?",
                options: ["Roots", "Stem", "Leaves", "Flowers"],
                answer: "A",
                explanation: "Roots anchor plants and absorb water and nutrients from soil."
            },
            {
                type: "basic_parts",
                question: "What is the main function of leaves?",
                options: ["Make food through photosynthesis", "Absorb water", "Produce seeds", "Support the plant"],
                answer: "A",
                explanation: "Leaves contain chlorophyll and make food through photosynthesis."
            },
            {
                type: "basic_parts",
                question: "Which part transports water and nutrients throughout the plant?",
                options: ["Stem", "Roots", "Flowers", "Fruits"],
                answer: "A",
                explanation: "The stem acts like a pipeline, transporting water and nutrients."
            },
            {
                type: "basic_parts",
                question: "What part of the plant produces seeds?",
                options: ["Flower", "Root", "Leaf", "Stem"],
                answer: "A",
                explanation: "Flowers are the reproductive parts that produce seeds."
            },
            {
                type: "basic_parts",
                question: "Which part protects seeds and helps in seed dispersal?",
                options: ["Fruit", "Flower", "Leaf", "Stem"],
                answer: "A",
                explanation: "Fruits protect seeds and help in dispersing them to new locations."
            },
            {
                type: "basic_parts",
                question: "What are the tiny openings on leaves called?",
                options: ["Stomata", "Veins", "Petals", "Root hairs"],
                answer: "A",
                explanation: "Stomata are tiny openings that allow gas exchange."
            },
            {
                type: "basic_parts",
                question: "Which part of the root absorbs most water?",
                options: ["Root hairs", "Main root", "Root cap", "Root branches"],
                answer: "A",
                explanation: "Root hairs are tiny extensions that greatly increase absorption surface."
            },
            {
                type: "basic_parts",
                question: "What is the flat, broad part of a leaf called?",
                options: ["Blade", "Petiole", "Vein", "Margin"],
                answer: "A",
                explanation: "The blade is the flat, broad part where most photosynthesis occurs."
            },
            {
                type: "basic_parts",
                question: "Which part connects the leaf to the stem?",
                options: ["Petiole", "Blade", "Vein", "Stomata"],
                answer: "A",
                explanation: "The petiole is the stalk that connects leaf to stem."
            },
            {
                type: "basic_parts",
                question: "What protects the tip of the root as it grows through soil?",
                options: ["Root cap", "Root hairs", "Bark", "Cuticle"],
                answer: "A",
                explanation: "The root cap protects the delicate growing tip."
            },

            // Leaf Structure (16-25)
            {
                type: "leaf_structure",
                question: "What gives leaves their green color?",
                options: ["Chlorophyll", "Xylem", "Phloem", "Cellulose"],
                answer: "A",
                explanation: "Chlorophyll is the green pigment that captures sunlight for photosynthesis."
            },
            {
                type: "leaf_structure",
                question: "What are the tubes that carry water in leaves called?",
                options: ["Veins", "Stomata", "Petioles", "Blades"],
                answer: "A",
                explanation: "Veins contain xylem and phloem tubes for transport."
            },
            {
                type: "leaf_structure",
                question: "Which part of the leaf allows carbon dioxide to enter?",
                options: ["Stomata", "Veins", "Cuticle", "Blade"],
                answer: "A",
                explanation: "Stomata open to allow carbon dioxide in and oxygen out."
            },
            {
                type: "leaf_structure",
                question: "What is the waxy coating on leaves called?",
                options: ["Cuticle", "Bark", "Chlorophyll", "Cell wall"],
                answer: "A",
                explanation: "The cuticle is a waxy layer that prevents water loss."
            },
            {
                type: "leaf_structure",
                question: "Which cells in leaves contain the most chloroplasts?",
                options: ["Palisade cells", "Guard cells", "Xylem cells", "Phloem cells"],
                answer: "A",
                explanation: "Palisade cells are packed with chloroplasts for maximum photosynthesis."
            },

            // Flower Parts (26-35)
            {
                type: "flower_parts",
                question: "Which part of the flower produces pollen?",
                options: ["Anther", "Stigma", "Petal", "Ovary"],
                answer: "A",
                explanation: "The anther is the male part that produces pollen."
            },
            {
                type: "flower_parts",
                question: "What is the female part of the flower called?",
                options: ["Pistil", "Stamen", "Petal", "Sepal"],
                answer: "A",
                explanation: "The pistil includes stigma, style, and ovary."
            },
            {
                type: "flower_parts",
                question: "Which part receives pollen during pollination?",
                options: ["Stigma", "Anther", "Filament", "Ovule"],
                answer: "A",
                explanation: "The stigma is sticky to catch pollen grains."
            },
            {
                type: "flower_parts",
                question: "What protects the flower bud before it opens?",
                options: ["Sepals", "Petals", "Stamens", "Pistils"],
                answer: "A",
                explanation: "Sepals are usually green and protect the developing flower."
            },
            {
                type: "flower_parts",
                question: "Where are ovules located in a flower?",
                options: ["Ovary", "Stigma", "Anther", "Petal"],
                answer: "A",
                explanation: "Ovules develop into seeds after fertilization."
            },

            // Stem and Root Types (36-45)
            {
                type: "stem_root_types",
                question: "Which type of root has one main root with smaller branches?",
                options: ["Taproot", "Fibrous root", "Aerial root", "Prop root"],
                answer: "A",
                explanation: "Taproot systems have one main root (like carrots)."
            },
            {
                type: "stem_root_types",
                question: "What type of stem grows along the ground?",
                options: ["Runner", "Climber", "Tuber", "Bulb"],
                answer: "A",
                explanation: "Runners are stems that grow horizontally along the ground."
            },
            {
                type: "stem_root_types",
                question: "Which is an example of a storage root?",
                options: ["Carrot", "Grass", "Moss", "Fern"],
                answer: "A",
                explanation: "Carrots are taproots that store food for the plant."
            },
            {
                type: "stem_root_types",
                question: "What type of stem stores food underground?",
                options: ["Tuber", "Runner", "Climber", "Twiner"],
                answer: "A",
                explanation: "Potatoes are tubers - underground stems that store food."
            },
            {
                type: "stem_root_types",
                question: "Which roots grow from stems above ground?",
                options: ["Aerial roots", "Taproots", "Fibrous roots", "Storage roots"],
                answer: "A",
                explanation: "Aerial roots absorb moisture from air (like in orchids)."
            }
        ];

        // Plant Functions Questions (45 questions)
        const plantFunctionsQuestions = [
            // Photosynthesis (1-15)
            {
                type: "photosynthesis",
                question: "What process do plants use to make their own food?",
                options: ["Photosynthesis", "Respiration", "Transpiration", "Pollination"],
                answer: "A",
                explanation: "Photosynthesis is how plants make food using sunlight, water, and carbon dioxide."
            },
            {
                type: "photosynthesis",
                question: "What gas do plants take in during photosynthesis?",
                options: ["Carbon dioxide", "Oxygen", "Nitrogen", "Hydrogen"],
                answer: "A",
                explanation: "Plants take in carbon dioxide and release oxygen during photosynthesis."
            },
            {
                type: "photosynthesis",
                question: "What gas do plants release during photosynthesis?",
                options: ["Oxygen", "Carbon dioxide", "Nitrogen", "Water vapor"],
                answer: "A",
                explanation: "Oxygen is a byproduct of photosynthesis that plants release."
            },
            {
                type: "photosynthesis",
                question: "What is the main product of photosynthesis?",
                options: ["Glucose (sugar)", "Oxygen", "Water", "Carbon dioxide"],
                answer: "A",
                explanation: "Glucose is the food that plants make and store during photosynthesis."
            },
            {
                type: "photosynthesis",
                question: "What provides the energy for photosynthesis?",
                options: ["Sunlight", "Water", "Soil nutrients", "Air"],
                answer: "A",
                explanation: "Sunlight provides the energy needed for photosynthesis to occur."
            },
            {
                type: "photosynthesis",
                question: "Which pigment captures sunlight for photosynthesis?",
                options: ["Chlorophyll", "Xanthophyll", "Carotene", "Anthocyanin"],
                answer: "A",
                explanation: "Chlorophyll is the green pigment that captures light energy."
            },
            {
                type: "photosynthesis",
                question: "Where in the plant cell does photosynthesis occur?",
                options: ["Chloroplasts", "Mitochondria", "Nucleus", "Cell wall"],
                answer: "A",
                explanation: "Chloroplasts are the organelles where photosynthesis happens."
            },
            {
                type: "photosynthesis",
                question: "What do plants need from soil for photosynthesis?",
                options: ["Water and minerals", "Carbon dioxide", "Sunlight", "Oxygen"],
                answer: "A",
                explanation: "Plants absorb water and minerals from soil through their roots."
            },
            {
                type: "photosynthesis",
                question: "What happens to glucose after photosynthesis?",
                options: ["Used for energy or stored", "Released as oxygen", "Turned into water", "Given off as heat"],
                answer: "A",
                explanation: "Glucose is either used immediately for energy or stored as starch."
            },
            {
                type: "photosynthesis",
                question: "Why are plants called producers?",
                options: ["They make their own food", "They eat other organisms", "They decompose matter", "They move around"],
                answer: "A",
                explanation: "Plants produce their own food through photosynthesis."
            },

            // Transpiration and Water Transport (16-25)
            {
                type: "transpiration",
                question: "What is the process of water movement through plants called?",
                options: ["Transpiration", "Photosynthesis", "Respiration", "Pollination"],
                answer: "A",
                explanation: "Transpiration is the movement of water from roots to leaves."
            },
            {
                type: "transpiration",
                question: "Through what do water vapor and gases exit leaves?",
                options: ["Stomata", "Xylem", "Phloem", "Veins"],
                answer: "A",
                explanation: "Stomata are openings that allow gas exchange and water vapor exit."
            },
            {
                type: "transpiration",
                question: "Which vessels carry water upward in plants?",
                options: ["Xylem", "Phloem", "Stomata", "Chloroplasts"],
                answer: "A",
                explanation: "Xylem tubes transport water and minerals from roots upward."
            },
            {
                type: "transpiration",
                question: "What pulls water up through the plant?",
                options: ["Transpiration pull", "Root pressure", "Gravity", "Wind"],
                answer: "A",
                explanation: "Water evaporation from leaves creates a pulling force."
            },
            {
                type: "transpiration",
                question: "What is the main force moving water in xylem?",
                options: ["Cohesion-tension", "Root pressure", "Capillary action", "Gravity"],
                answer: "A",
                explanation: "Water molecules stick together (cohesion) creating tension."
            },

            // Respiration (26-30)
            {
                type: "respiration",
                question: "What process do plants use to release energy from food?",
                options: ["Respiration", "Photosynthesis", "Transpiration", "Germination"],
                answer: "A",
                explanation: "Respiration breaks down glucose to release energy for plant use."
            },
            {
                type: "respiration",
                question: "What gas do plants take in during respiration?",
                options: ["Oxygen", "Carbon dioxide", "Nitrogen", "Hydrogen"],
                answer: "A",
                explanation: "Plants use oxygen to break down food during respiration."
            },
            {
                type: "respiration",
                question: "What gas do plants release during respiration?",
                options: ["Carbon dioxide", "Oxygen", "Water vapor", "Nitrogen"],
                answer: "A",
                explanation: "Carbon dioxide is released as a waste product of respiration."
            },
            {
                type: "respiration",
                question: "When do plants respire?",
                options: ["All the time", "Only during day", "Only at night", "Only in sunlight"],
                answer: "A",
                explanation: "Plants respire continuously, day and night."
            },
            {
                type: "respiration",
                question: "Where in the cell does respiration occur?",
                options: ["Mitochondria", "Chloroplasts", "Nucleus", "Cell wall"],
                answer: "A",
                explanation: "Mitochondria are the powerhouses where respiration happens."
            },

            // Nutrient Functions (31-40)
            {
                type: "nutrient_functions",
                question: "What do plants need nitrogen for?",
                options: ["Leaf growth and green color", "Root development", "Flower production", "Seed formation"],
                answer: "A",
                explanation: "Nitrogen is essential for chlorophyll and protein production."
            },
            {
                type: "nutrient_functions",
                question: "Which nutrient helps root development?",
                options: ["Phosphorus", "Nitrogen", "Potassium", "Calcium"],
                answer: "A",
                explanation: "Phosphorus is important for root growth and energy transfer."
            },
            {
                type: "nutrient_functions",
                question: "What does potassium help plants with?",
                options: ["Disease resistance and water regulation", "Leaf color", "Flower production", "Stem strength"],
                answer: "A",
                explanation: "Potassium helps with overall plant health and water balance."
            },
            {
                type: "nutrient_functions",
                question: "Which nutrient is part of chlorophyll?",
                options: ["Magnesium", "Iron", "Calcium", "Sulfur"],
                answer: "A",
                explanation: "Magnesium is the central atom in chlorophyll molecules."
            },
            {
                type: "nutrient_functions",
                question: "What happens if plants don't get enough nutrients?",
                options: ["Show deficiency symptoms", "Grow faster", "Change color", "Stop growing"],
                answer: "A",
                explanation: "Nutrient deficiencies cause specific symptoms like yellow leaves."
            },

            // Plant Adaptations (41-45)
            {
                type: "plant_adaptations",
                question: "How do desert plants conserve water?",
                options: ["Thick waxy cuticles", "Large thin leaves", "Many stomata", "Shallow roots"],
                answer: "A",
                explanation: "Thick cuticles reduce water loss in dry environments."
            },
            {
                type: "plant_adaptations",
                question: "Why do water plants have air spaces in stems?",
                options: ["For buoyancy", "For photosynthesis", "For strength", "For reproduction"],
                answer: "A",
                explanation: "Air spaces help aquatic plants float and get oxygen."
            },
            {
                type: "plant_adaptations",
                question: "How are climbing plants adapted?",
                options: ["Have tendrils for support", "Have deep roots", "Have thick bark", "Have large leaves"],
                answer: "A",
                explanation: "Tendrils help climbing plants reach sunlight by attaching to supports."
            },
            {
                type: "plant_adaptations",
                question: "Why do some plants have brightly colored flowers?",
                options: ["To attract pollinators", "To absorb more light", "To store water", "To repel insects"],
                answer: "A",
                explanation: "Bright colors attract pollinators like bees and butterflies."
            },
            {
                type: "plant_adaptations",
                question: "How are wind-pollinated plants adapted?",
                options: ["Have light, powdery pollen", "Have bright flowers", "Have sweet nectar", "Have strong scent"],
                answer: "A",
                explanation: "Light pollen can be easily carried by wind to other plants."
            }
        ];

        // Plant Reproduction Questions (45 questions)
        const plantReproductionQuestions = [
            // Pollination (1-15)
            {
                type: "pollination",
                question: "What is the transfer of pollen from anther to stigma called?",
                options: ["Pollination", "Fertilization", "Germination", "Photosynthesis"],
                answer: "A",
                explanation: "Pollination is the transfer of pollen to enable fertilization."
            },
            {
                type: "pollination",
                question: "What carries pollen in insect pollination?",
                options: ["Bees and butterflies", "Wind", "Water", "Birds"],
                answer: "A",
                explanation: "Insects like bees transfer pollen as they collect nectar."
            },
            {
                type: "pollination",
                question: "What attracts insects to flowers?",
                options: ["Color, scent, and nectar", "Pollen", "Leaves", "Stems"],
                answer: "A",
                explanation: "Bright colors, sweet scents, and nectar attract pollinators."
            },
            {
                type: "pollination",
                question: "Which plants are often pollinated by wind?",
                options: ["Grasses and trees", "Roses and lilies", "Orchids", "Sunflowers"],
                answer: "A",
                explanation: "Grasses and many trees have small, light pollen carried by wind."
            },
            {
                type: "pollination",
                question: "What is self-pollination?",
                options: ["Pollen from same flower or plant", "Pollen from different plant", "Pollen carried by water", "No pollen involved"],
                answer: "A",
                explanation: "Self-pollination occurs within the same flower or plant."
            },
            {
                type: "pollination",
                question: "What is cross-pollination?",
                options: ["Pollen from different plant", "Pollen from same flower", "Artificial pollination", "Wind pollination"],
                answer: "A",
                explanation: "Cross-pollination involves pollen from a different plant."
            },
            {
                type: "pollination",
                question: "Which is NOT a pollinator?",
                options: ["Earthworm", "Bee", "Butterfly", "Hummingbird"],
                answer: "A",
                explanation: "Earthworms help soil but don't pollinate flowers."
            },
            {
                type: "pollination",
                question: "What time of day are many flowers pollinated?",
                options: ["Daytime", "Nighttime", "Early morning", "Late evening"],
                answer: "A",
                explanation: "Most pollinators are active during daylight hours."
            },
            {
                type: "pollination",
                question: "Why is cross-pollination beneficial?",
                options: ["Creates genetic variation", "Easier for the plant", "Faster process", "Uses less energy"],
                answer: "A",
                explanation: "Genetic variation helps plants adapt to changing environments."
            },
            {
                type: "pollination",
                question: "What happens after successful pollination?",
                options: ["Fertilization can occur", "Flower dies immediately", "Fruit forms instantly", "Seeds disperse"],
                answer: "A",
                explanation: "Pollination must occur before fertilization can happen."
            },

            // Fertilization (16-25)
            {
                type: "fertilization",
                question: "What grows down from pollen to reach the ovule?",
                options: ["Pollen tube", "Root", "Stem", "Leaf"],
                answer: "A",
                explanation: "The pollen tube grows from pollen grain to ovule."
            },
            {
                type: "fertilization",
                question: "What combines with ovule to form a seed?",
                options: ["Sperm cell from pollen", "Pollen grain", "Nectar", "Petal"],
                answer: "A",
                explanation: "Sperm cell from pollen fertilizes the ovule to form a seed."
            },
            {
                type: "fertilization",
                question: "What develops into a seed after fertilization?",
                options: ["Ovule", "Ovary", "Stigma", "Anther"],
                answer: "A",
                explanation: "The fertilized ovule develops into a seed."
            },
            {
                type: "fertilization",
                question: "What develops into a fruit?",
                options: ["Ovary", "Ovule", "Petal", "Stem"],
                answer: "A",
                explanation: "The ovary swells and develops into a fruit."
            },
            {
                type: "fertilization",
                question: "How many sperm cells are in each pollen grain?",
                options: ["Two", "One", "Three", "Many"],
                answer: "A",
                explanation: "Each pollen grain contains two sperm cells."
            },

            // Seed Development (26-35)
            {
                type: "seed_development",
                question: "What are the three main parts of a seed?",
                options: ["Seed coat, embryo, food store", "Root, stem, leaf", "Flower, fruit, leaf", "Pollen, ovule, ovary"],
                answer: "A",
                explanation: "Seeds have protective coat, baby plant (embryo), and stored food."
            },
            {
                type: "seed_development",
                question: "What does the embryo grow into?",
                options: ["New plant", "Fruit", "Flower", "Root only"],
                answer: "A",
                explanation: "The embryo contains all parts needed for a new plant."
            },
            {
                type: "seed_development",
                question: "What protects the seed?",
                options: ["Seed coat", "Fruit", "Flower", "Leaf"],
                answer: "A",
                explanation: "The seed coat is a tough protective covering."
            },
            {
                type: "seed_development",
                question: "What provides food for the growing embryo?",
                options: ["Cotyledons or endosperm", "Seed coat", "Soil", "Water"],
                answer: "A",
                explanation: "Cotyledons (seed leaves) or endosperm store food."
            },
            {
                type: "seed_development",
                question: "What triggers seed germination?",
                options: ["Water, oxygen, right temperature", "Sunlight only", "Soil nutrients", "Wind"],
                answer: "A",
                explanation: "Seeds need water, oxygen, and suitable temperature to germinate."
            },

            // Seed Dispersal (36-45)
            {
                type: "seed_dispersal",
                question: "Why is seed dispersal important?",
                options: ["Reduces competition", "Makes seeds bigger", "Changes seed color", "Makes plants taller"],
                answer: "A",
                explanation: "Dispersal prevents competition between parent and offspring."
            },
            {
                type: "seed_dispersal",
                question: "How are dandelion seeds dispersed?",
                options: ["By wind", "By animals", "By water", "By explosion"],
                answer: "A",
                explanation: "Dandelions have parachute-like structures for wind dispersal."
            },
            {
                type: "seed_dispersal",
                question: "How are burdock seeds dispersed?",
                options: ["By animals (hooking onto fur)", "By wind", "By water", "By explosion"],
                answer: "A",
                explanation: "Burdocks have hooks that attach to animal fur."
            },
            {
                type: "seed_dispersal",
                question: "How are coconut seeds dispersed?",
                options: ["By water", "By wind", "By animals", "By explosion"],
                answer: "A",
                explanation: "Coconuts can float long distances in ocean currents."
            },
            {
                type: "seed_dispersal",
                question: "What dispersal method uses explosive pods?",
                options: ["Mechanical dispersal", "Wind dispersal", "Water dispersal", "Animal dispersal"],
                answer: "A",
                explanation: "Some pods dry and explode, scattering seeds (like peas)."
            }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            currentQuestions: [],
            studentName: "",
            topicType: "" // "parts", "functions", or "reproduction"
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent plant science knowledge!",
            "Fantastic understanding of plant biology!",
            "Great job! You're a plant expert!",
            "Amazing! Perfect plant science answers!",
            "Well done! You understand plant systems perfectly!",
            "You're a plant science champion!",
            "Perfect! You think like a botanist!",
            "Outstanding plant biology skills!",
            "Brilliant! You understand plant processes!",
            "You're on fire! Great plant knowledge!"
        ];

        // Science facts for display
        const scienceFacts = [
            "The world's tallest tree is a redwood named Hyperion at 379.7 feet tall!",
            "Some bamboo species can grow up to 35 inches in a single day!",
            "The oldest living plant is a bristlecone pine named Methuselah, over 4,800 years old!",
            "Sunflowers can track the sun's movement across the sky - this is called heliotropism!",
            "Plants communicate with each other through chemical signals released into the air and soil!",
            "The Rafflesia arnoldii produces the world's largest flower - up to 3 feet across!",
            "One tree can absorb as much as 48 pounds of carbon dioxide per year!",
            "The smell of freshly cut grass is actually a plant distress signal to warn other plants!"
        ];

        // Sample plant data for visualizations
        const plantData = {
            parts: [
                {name: "Roots", icon: "üå±", color: "var(--accent-brown)", function: "Anchor plant, absorb water & nutrients"},
                {name: "Stem", icon: "ü™¥", color: "var(--primary-green)", function: "Support plant, transport water & nutrients"},
                {name: "Leaves", icon: "üçÉ", color: "var(--accent-lime)", function: "Photosynthesis, gas exchange, transpiration"},
                {name: "Flowers", icon: "üå∏", color: "var(--accent-red)", function: "Reproduction, attract pollinators"},
                {name: "Fruits", icon: "üçé", color: "var(--accent-orange)", function: "Protect seeds, aid in dispersal"},
                {name: "Seeds", icon: "üå∞", color: "var(--accent-yellow)", function: "New plant development, dormancy"}
            ],
            processes: [
                {name: "Photosynthesis", icon: "‚òÄÔ∏è", color: "var(--accent-lime)", description: "Making food from sunlight"},
                {name: "Transpiration", icon: "üíß", color: "var(--accent-blue)", description: "Water movement through plant"},
                {name: "Respiration", icon: "üí®", color: "var(--secondary-teal)", description: "Releasing energy from food"},
                {name: "Pollination", icon: "üêù", color: "var(--accent-purple)", description: "Transfer of pollen to stigma"}
            ],
            reproduction: [
                {step: 1, name: "Pollination", description: "Pollen transferred from anther to stigma"},
                {step: 2, name: "Fertilization", description: "Sperm cells travel to ovule through pollen tube"},
                {step: 3, name: "Seed Formation", description: "Fertilized ovule develops into seed"},
                {step: 4, name: "Fruit Development", description: "Ovary swells to form fruit around seeds"},
                {step: 5, name: "Seed Dispersal", description: "Seeds spread to new locations"},
                {step: 6, name: "Germination", description: "Seed grows into new plant under right conditions"}
            ]
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPartsBtn = document.getElementById('startParts');
        const startFunctionsBtn = document.getElementById('startFunctions');
        const startReproductionBtn = document.getElementById('startReproduction');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const scienceFact = document.getElementById('scienceFact');
        const conceptDisplay = document.getElementById('conceptDisplay');
        const visualizationContainer = document.getElementById('visualizationContainer');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const highestScore = document.getElementById('highestScore');
        
        // Topic cards
        const partsCard = document.getElementById('partsCard');
        const functionsCard = document.getElementById('functionsCard');
        const reproductionCard = document.getElementById('reproductionCard');

        // Initialize the app
        function initApp() {
            initSlideshow();
            loadStateFromStorage();
            setupEventListeners();
            
            if (appState.studentName && appState.currentQuestions.length > 0) {
                showPracticePage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade5Plants');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
                appState.score = parsed.score || 0;
                appState.skipped = parsed.skipped || 0;
                appState.answered = parsed.answered || 0;
                appState.currentQuestions = parsed.currentQuestions || [];
                appState.topicType = parsed.topicType || "";
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade5Plants', JSON.stringify(appState));
        }

        // Initialize questions based on topic type
        function initializeQuestions(topicType) {
            appState.topicType = topicType;
            
            switch(topicType) {
                case "parts":
                    appState.currentQuestions = [...plantPartsQuestions];
                    break;
                case "functions":
                    appState.currentQuestions = [...plantFunctionsQuestions];
                    break;
                case "reproduction":
                    appState.currentQuestions = [...plantReproductionQuestions];
                    break;
            }
            
            shuffleArray(appState.currentQuestions);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Setup event listeners
        function setupEventListeners() {
            startPartsBtn.addEventListener('click', () => startPractice("parts"));
            startFunctionsBtn.addEventListener('click', () => startPractice("functions"));
            startReproductionBtn.addEventListener('click', () => startPractice("reproduction"));
            
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            viewTopicsBtn.addEventListener('click', backToTopics);
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startPractice("parts");
                }
            });
            
            // Add click events to topic cards
            partsCard.addEventListener('click', () => {
                clearActiveCards();
                partsCard.classList.add('active');
                startPartsBtn.classList.add('btn-parts');
            });
            
            functionsCard.addEventListener('click', () => {
                clearActiveCards();
                functionsCard.classList.add('active');
                startFunctionsBtn.classList.add('btn-functions');
            });
            
            reproductionCard.addEventListener('click', () => {
                clearActiveCards();
                reproductionCard.classList.add('active');
                startReproductionBtn.classList.add('btn-reproduction');
            });
        }
        
        function clearActiveCards() {
            partsCard.classList.remove('active');
            functionsCard.classList.remove('active');
            reproductionCard.classList.remove('active');
            startPartsBtn.classList.remove('btn-parts');
            startFunctionsBtn.classList.remove('btn-functions');
            startReproductionBtn.classList.remove('btn-reproduction');
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            
            // Set progress bar color based on topic type
            switch(appState.topicType) {
                case "parts":
                    progressFill.style.background = "linear-gradient(to right, var(--primary-green), #388E3C)";
                    break;
                case "functions":
                    progressFill.style.background = "linear-gradient(to right, var(--accent-orange), #F57C00)";
                    break;
                case "reproduction":
                    progressFill.style.background = "linear-gradient(to right, var(--accent-purple), #7B1FA2)";
                    break;
                default:
                    progressFill.style.background = "linear-gradient(to right, var(--primary-green), var(--accent-lime))";
            }
            
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const totalQuestions = appState.currentQuestions.length;
            const percentage = Math.round((appState.score / totalQuestions) * 100);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            
            const highest = localStorage.getItem(`ideolixGrade5Plants_${appState.topicType}_highestScore`) || 0;
            highestScore.textContent = Math.max(highest, appState.score);
            
            if (appState.score > highest) {
                localStorage.setItem(`ideolixGrade5Plants_${appState.topicType}_highestScore`, appState.score);
            }
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a plant science expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You have excellent plant knowledge!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! Keep learning to become a botany master!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review plant science concepts and try again!";
            } else {
                scoreMessage.textContent = "Keep learning! Plant knowledge grows with practice!";
            }
        }

        // Create science fact display
        function createScienceFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'science-fact';
            
            factDiv.innerHTML = `<strong>Plant Fact:</strong> ${scienceFacts[Math.floor(Math.random() * scienceFacts.length)]}`;
            
            return factDiv;
        }

        // Create concept display based on topic type
        function createConceptDisplay() {
            const display = document.createElement('div');
            display.className = 'concept-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            let conceptName = "";
            let conceptIcon = "";
            let conceptColor = "";
            
            switch(appState.topicType) {
                case "parts":
                    conceptName = "Plant Parts";
                    conceptIcon = "üå±üîç";
                    conceptColor = "var(--primary-green)";
                    break;
                case "functions":
                    conceptName = "Plant Functions";
                    conceptIcon = "‚öôÔ∏èüåø";
                    conceptColor = "var(--accent-orange)";
                    break;
                case "reproduction":
                    conceptName = "Plant Reproduction";
                    conceptIcon = "üå∏üîÑ";
                    conceptColor = "var(--accent-purple)";
                    break;
            }
            
            const conceptBox = document.createElement('div');
            conceptBox.className = 'concept-box grow';
            conceptBox.style.background = `linear-gradient(135deg, ${conceptColor}, ${conceptColor}80)`;
            conceptBox.innerHTML = `
                <div class="concept-icon">${conceptIcon}</div>
                <div class="concept-text">${conceptName.toUpperCase()}</div>
            `;
            
            const label = document.createElement('div');
            label.className = 'concept-label';
            
            // Add specific label based on question type
            if (question.type.includes("basic_parts")) {
                label.textContent = "Basic Plant Parts & Functions";
            } else if (question.type.includes("leaf_structure")) {
                label.textContent = "Leaf Structure & Function";
            } else if (question.type.includes("flower_parts")) {
                label.textContent = "Flower Parts & Reproduction";
            } else if (question.type.includes("stem_root_types")) {
                label.textContent = "Stem & Root Types";
            } else if (question.type.includes("photosynthesis")) {
                label.textContent = "Photosynthesis Process";
            } else if (question.type.includes("transpiration")) {
                label.textContent = "Water Transport & Transpiration";
            } else if (question.type.includes("respiration")) {
                label.textContent = "Plant Respiration";
            } else if (question.type.includes("nutrient_functions")) {
                label.textContent = "Plant Nutrients & Functions";
            } else if (question.type.includes("plant_adaptations")) {
                label.textContent = "Plant Adaptations";
            } else if (question.type.includes("pollination")) {
                label.textContent = "Pollination Methods";
            } else if (question.type.includes("fertilization")) {
                label.textContent = "Fertilization Process";
            } else if (question.type.includes("seed_development")) {
                label.textContent = "Seed Development & Structure";
            } else if (question.type.includes("seed_dispersal")) {
                label.textContent = "Seed Dispersal Methods";
            } else {
                label.textContent = "Plant Science Concepts";
            }
            
            display.appendChild(conceptBox);
            display.appendChild(label);
            
            return display;
        }

        // Create visualization based on topic type
        function createScienceVisualization() {
            const vizDiv = document.createElement('div');
            vizDiv.className = 'visualization-container';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            switch(appState.topicType) {
                case "parts":
                    vizDiv.innerHTML = createPlantPartsVisualization(question);
                    break;
                case "functions":
                    vizDiv.innerHTML = createPlantFunctionsVisualization(question);
                    break;
                case "reproduction":
                    vizDiv.innerHTML = createPlantReproductionVisualization(question);
                    break;
            }
            
            return vizDiv;
        }

        // Plant parts visualization
        function createPlantPartsVisualization(question) {
            return `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--primary-green);">Plant Parts & Their Functions</h3>
                
                <div class="plant-diagram">
                    <div class="diagram-title">Complete Plant Structure</div>
                    <div style="text-align: center; margin: 20px 0;">
                        <div style="display: inline-block; padding: 20px; background: rgba(76, 175, 80, 0.1); border-radius: 12px; font-size: 1.2rem;">
                            üå∏ Flower (Reproduction)<br>
                            ‚Üì<br>
                            üçÉ Leaves (Photosynthesis)<br>
                            ‚Üì<br>
                            ü™¥ Stem (Support & Transport)<br>
                            ‚Üì<br>
                            üå± Roots (Anchoring & Absorption)
                        </div>
                    </div>
                </div>
                
                <div class="parts-comparison">
                    ${plantData.parts.map(part => `
                        <div class="part-card ${part.name.toLowerCase()}">
                            <div class="part-icon">${part.icon}</div>
                            <div class="part-name">${part.name}</div>
                            <div class="part-description">${part.function}</div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="process-display">
                    <div class="process-title">How Plant Parts Work Together</div>
                    <div class="process-steps">
                        <div class="process-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">Roots Absorb</div>
                                <div class="step-description">Roots absorb water and minerals from soil</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">Stem Transports</div>
                                <div class="step-description">Stem carries water and nutrients to leaves</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">Leaves Make Food</div>
                                <div class="step-description">Leaves use sunlight to make food (photosynthesis)</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <div class="step-title">Food Distributed</div>
                                <div class="step-description">Food is distributed throughout the plant</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <table class="examples-table">
                    <thead>
                        <tr>
                            <th>Plant Part</th>
                            <th>Main Function</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="color: var(--accent-brown); font-weight: bold;">Roots</td>
                            <td>Absorb water and anchor plant</td>
                            <td>Carrot (storage root), Grass (fibrous roots)</td>
                        </tr>
                        <tr>
                            <td style="color: var(--primary-green); font-weight: bold;">Stem</td>
                            <td>Support and transport materials</td>
                            <td>Tree trunk, Potato (tuber), Strawberry runner</td>
                        </tr>
                        <tr>
                            <td style="color: var(--accent-lime); font-weight: bold;">Leaves</td>
                            <td>Photosynthesis and gas exchange</td>
                            <td>Maple leaf, Pine needle, Cactus spine</td>
                        </tr>
                        <tr>
                            <td style="color: var(--accent-red); font-weight: bold;">Flowers</td>
                            <td>Reproduction and attract pollinators</td>
                            <td>Rose, Sunflower, Orchid</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="science-challenge">
                    <div class="challenge-title">Quick Challenge</div>
                    <div class="challenge-area">
                        <div class="challenge-scenario">
                            A plant has large, flat leaves, thick stems that store water, and shallow roots. It grows in a dry desert environment.
                        </div>
                        <div class="challenge-question">Which plant part is NOT correctly adapted for its environment?</div>
                        <div class="challenge-options">
                            <div class="challenge-option">Large, flat leaves (would lose too much water)</div>
                            <div class="challenge-option">Thick stems (good for water storage)</div>
                            <div class="challenge-option">Shallow roots (good for quick water absorption)</div>
                            <div class="challenge-option">All are well adapted</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Plant functions visualization
        function createPlantFunctionsVisualization(question) {
            return `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-orange);">Plant Functions & Processes</h3>
                
                <div class="photosynthesis-display">
                    <div class="photosynthesis-title">Photosynthesis: How Plants Make Food</div>
                    <div class="photosynthesis-formula">
                        <span class="formula-part reactant">Carbon Dioxide</span> + 
                        <span class="formula-part reactant">Water</span> + 
                        <span class="formula-part reactant" style="background: rgba(255, 235, 59, 0.3); color: var(--accent-yellow);">Sunlight Energy</span>
                        <br>‚Üì<br>
                        <span class="formula-part product">Glucose (Sugar)</span> + 
                        <span class="formula-part product">Oxygen</span>
                    </div>
                    <div style="text-align: center; color: var(--text-secondary); font-size: 0.9rem; margin-top: 10px;">
                        <strong>Where:</strong> In chloroplasts of leaf cells<br>
                        <strong>When:</strong> During daylight hours<br>
                        <strong>Why:</strong> To produce food for growth and energy
                    </div>
                </div>
                
                <div class="function-display">
                    ${plantData.processes.map(process => `
                        <div class="function-item">
                            <div class="function-icon">${process.icon}</div>
                            <div class="function-title">${process.name}</div>
                            <div class="function-description">${process.description}</div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="process-display">
                    <div class="process-title">Water Transport System (Transpiration Stream)</div>
                    <div class="process-steps">
                        <div class="process-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">Root Absorption</div>
                                <div class="step-description">Root hairs absorb water from soil</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">Xylem Transport</div>
                                <div class="step-description">Water moves up through xylem vessels</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">Leaf Evaporation</div>
                                <div class="step-description">Water evaporates from leaf stomata (transpiration)</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <div class="step-title">Pull Created</div>
                                <div class="step-description">Evaporation creates pulling force for more water</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="parts-comparison">
                    <div class="part-card">
                        <div class="part-icon">üåû</div>
                        <div class="part-name">Sunlight</div>
                        <div class="part-description">Energy source for photosynthesis</div>
                    </div>
                    <div class="part-card">
                        <div class="part-icon">üíß</div>
                        <div class="part-name">Water</div>
                        <div class="part-description">Absorbed by roots, used in photosynthesis</div>
                    </div>
                    <div class="part-card">
                        <div class="part-icon">üí®</div>
                        <div class="part-name">Carbon Dioxide</div>
                        <div class="part-description">Taken in through stomata for photosynthesis</div>
                    </div>
                    <div class="part-card">
                        <div class="part-icon">üåø</div>
                        <div class="part-name">Chlorophyll</div>
                        <div class="part-description">Green pigment that captures light</div>
                    </div>
                    <div class="part-card">
                        <div class="part-icon">üç¨</div>
                        <div class="part-name">Glucose</div>
                        <div class="part-description">Food produced by photosynthesis</div>
                    </div>
                    <div class="part-card">
                        <div class="part-icon">üí®</div>
                        <div class="part-name">Oxygen</div>
                        <div class="part-description">Byproduct released during photosynthesis</div>
                    </div>
                </div>
                
                <table class="examples-table">
                    <thead>
                        <tr>
                            <th>Plant Process</th>
                            <th>What Happens</th>
                            <th>Importance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="color: var(--accent-lime); font-weight: bold;">Photosynthesis</td>
                            <td>Sunlight + CO‚ÇÇ + Water ‚Üí Glucose + Oxygen</td>
                            <td>Produces food and oxygen for all life</td>
                        </tr>
                        <tr>
                            <td style="color: var(--accent-blue); font-weight: bold;">Transpiration</td>
                            <td>Water movement from roots to leaves</td>
                            <td>Cools plant, transports minerals</td>
                        </tr>
                        <tr>
                            <td style="color: var(--secondary-teal); font-weight: bold;">Respiration</td>
                            <td>Glucose + Oxygen ‚Üí Energy + CO‚ÇÇ + Water</td>
                            <td>Releases energy for plant functions</td>
                        </tr>
                        <tr>
                            <td style="color: var(--accent-purple); font-weight: bold;">Pollination</td>
                            <td>Transfer of pollen to stigma</td>
                            <td>Enables reproduction and seed formation</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="science-challenge">
                    <div class="challenge-title">Quick Challenge</div>
                    <div class="challenge-area">
                        <div class="challenge-question">What would happen if you covered a plant's leaves with petroleum jelly?</div>
                        <div class="challenge-options">
                            <div class="challenge-option">Photosynthesis would stop (no CO‚ÇÇ can enter)</div>
                            <div class="challenge-option">The plant would grow faster</div>
                            <div class="challenge-option">The leaves would turn blue</div>
                            <div class="challenge-option">Nothing would change</div>
                        </div>
                        <div style="margin-top: 15px; color: var(--text-secondary); font-size: 0.9rem;">
                            <strong>Think about:</strong> What do stomata do, and what would happen if they were blocked?
                        </div>
                    </div>
                </div>
            `;
        }

        // Plant reproduction visualization
        function createPlantReproductionVisualization(question) {
            return `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-purple);">Plant Reproduction & Life Cycle</h3>
                
                <div class="process-display">
                    <div class="process-title">Complete Plant Life Cycle</div>
                    <div class="process-steps">
                        ${plantData.reproduction.map(step => `
                            <div class="process-step">
                                <div class="step-number">${step.step}</div>
                                <div class="step-content">
                                    <div class="step-title">${step.name}</div>
                                    <div class="step-description">${step.description}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="parts-comparison">
                    <div class="part-card">
                        <div class="part-icon">üå∏</div>
                        <div class="part-name">Flower Parts</div>
                        <div class="part-description">Stamen (male), Pistil (female), Petals, Sepals</div>
                    </div>
                    <div class="part-card">
                        <div class="part-icon">üêù</div>
                        <div class="part-name">Pollinators</div>
                        <div class="part-description">Bees, Butterflies, Birds, Wind, Water</div>
                    </div>
                    <div class="part-card">
                        <div class="part-icon">üå∞</div>
                        <div class="part-name">Seed Parts</div>
                        <div class="part-description">Seed coat, Embryo, Food store</div>
                    </div>
                    <div class="part-card">
                        <div class="part-icon">üçÉ</div>
                        <div class="part-name">Germination</div>
                        <div class="part-description">Seed ‚Üí Root ‚Üí Shoot ‚Üí Leaves ‚Üí Mature plant</div>
                    </div>
                    <div class="part-card">
                        <div class="part-icon">üå™Ô∏è</div>
                        <div class="part-name">Dispersal Methods</div>
                        <div class="part-description">Wind, Water, Animals, Explosion</div>
                    </div>
                    <div class="part-card">
                        <div class="part-icon">üîÑ</div>
                        <div class="part-name">Life Cycle</div>
                        <div class="part-description">Seed ‚Üí Plant ‚Üí Flower ‚Üí Fruit ‚Üí Seed</div>
                    </div>
                </div>
                
                <div class="function-display">
                    <div class="function-item">
                        <div class="function-icon">üå∏</div>
                        <div class="function-title">Flower Structure</div>
                        <div class="function-description">Male parts (stamen: anther, filament)<br>Female parts (pistil: stigma, style, ovary)</div>
                    </div>
                    <div class="function-item">
                        <div class="function-icon">üî¨</div>
                        <div class="function-title">Fertilization</div>
                        <div class="function-description">Pollen tube grows to ovule<br>Sperm + Egg ‚Üí Zygote ‚Üí Embryo</div>
                    </div>
                    <div class="function-item">
                        <div class="function-icon">üå±</div>
                        <div class="function-title">Seed Germination</div>
                        <div class="function-description">Needs: Water, Oxygen, Right temperature<br>Process: Seed coat breaks, root emerges</div>
                    </div>
                    <div class="function-item">
                        <div class="function-icon">üåç</div>
                        <div class="function-title">Seed Dispersal</div>
                        <div class="function-description">Prevents competition<br>Allows colonization of new areas</div>
                    </div>
                </div>
                
                <table class="examples-table">
                    <thead>
                        <tr>
                            <th>Pollination Method</th>
                            <th>Flower Features</th>
                            <th>Examples</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="color: var(--accent-orange); font-weight: bold;">Insect Pollination</td>
                            <td>Bright colors, sweet scent, nectar guides</td>
                            <td>Rose, Sunflower, Orchid</td>
                        </tr>
                        <tr>
                            <td style="color: var(--accent-blue); font-weight: bold;">Wind Pollination</td>
                            <td>Small flowers, lots of light pollen</td>
                            <td>Grasses, Corn, Pine trees</td>
                        </tr>
                        <tr>
                            <td style="color: var(--accent-red); font-weight: bold;">Bird Pollination</td>
                            <td>Bright red, tube-shaped, no scent</td>
                            <td>Hibiscus, Fuchsia, Bird of Paradise</td>
                        </tr>
                        <tr>
                            <td style="color: var(--secondary-teal); font-weight: bold;">Water Pollination</td>
                            <td>Small, inconspicuous, pollen floats</td>
                            <td>Sea grasses, Pond weeds</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="science-challenge">
                    <div class="challenge-title">Quick Challenge</div>
                    <div class="challenge-area">
                        <div class="challenge-scenario">
                            A farmer notices that his apple trees produce more fruit when beehives are placed in the orchard.
                        </div>
                        <div class="challenge-question">Why do bees help apple trees produce more fruit?</div>
                        <div class="challenge-options">
                            <div class="challenge-option">Bees pollinate the flowers, leading to more fertilization</div>
                            <div class="challenge-option">Bees eat harmful insects that damage apples</div>
                            <div class="challenge-option">Bees make the trees grow taller</div>
                            <div class="challenge-option">Bees provide nutrients to the soil</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Load current question
        function loadQuestion() {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${appState.currentQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / appState.currentQuestions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            scienceFact.innerHTML = '';
            conceptDisplay.innerHTML = '';
            visualizationContainer.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            scienceFact.appendChild(createScienceFact());
            conceptDisplay.appendChild(createConceptDisplay());
            visualizationContainer.appendChild(createScienceVisualization());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation, question.answer);
            }
            
            nextQuestionBtn.disabled = false;
            saveStateToStorage();
        }

        // Show feedback
        function showFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    const correctOption = String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65));
                    feedbackMessage.textContent = `Correct answer: ${correctOption}`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Move to next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions(appState.topicType);
            
            saveStateToStorage();
            showPracticePage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            showWelcomePage();
        }

        // Start practice session
        function startPractice(topicType) {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions(topicType);
            
            saveStateToStorage();
            showPracticePage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
