<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 6 English - Vocabulary Development | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Vocabulary/Language Theme */
        :root {
            --primary-blue: #2962FF;
            --secondary-teal: #00BFA5;
            --accent-amber: #FFAB00;
            --accent-purple: #AA00FF;
            --accent-pink: #FF4081;
            --accent-green: #00C853;
            --dark-bg: #0D1B2A;
            --dark-surface: #1B2B3A;
            --dark-card: #253447;
            --dark-border: #3A4A5A;
            --text-primary: #FFFFFF;
            --text-secondary: #B8D0E0;
            --text-muted: #7A94A8;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            --glow: 0 0 20px rgba(41, 98, 255, 0.3);
            --synonym-glow: 0 0 15px rgba(0, 191, 165, 0.4);
            --antonym-glow: 0 0 15px rgba(255, 171, 0, 0.4);
            --context-glow: 0 0 15px rgba(170, 0, 255, 0.4);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Vocabulary Pattern Background */
        .vocabulary-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: 
                radial-gradient(circle at 20% 30%, rgba(41, 98, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 191, 165, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255, 171, 0, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, #0D1B2A, #1B2B3A);
            opacity: 0.8;
        }

        .floating-letters {
            position: absolute;
            color: rgba(255, 255, 255, 0.05);
            font-size: 3rem;
            font-weight: bold;
            animation: floatLetters 20s linear infinite;
        }

        @keyframes floatLetters {
            0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0.1; }
            25% { transform: translateY(-100px) translateX(100px) rotate(90deg); opacity: 0.05; }
            50% { transform: translateY(-50px) translateX(-100px) rotate(180deg); opacity: 0.1; }
            75% { transform: translateY(100px) translateX(50px) rotate(270deg); opacity: 0.05; }
            100% { transform: translateY(0) translateX(0) rotate(360deg); opacity: 0.1; }
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(13, 27, 42, 0.9);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-teal), var(--accent-amber));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(41, 98, 255, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 25px;
            border: 1px solid var(--primary-blue);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-blue);
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(41, 98, 255, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-blue);
            color: white;
            box-shadow: 0 4px 15px rgba(41, 98, 255, 0.4);
        }

        .btn-primary:hover {
            background: #1A56DB;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(41, 98, 255, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-teal);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 191, 165, 0.4);
        }

        .btn-secondary:hover {
            background: #009688;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 191, 165, 0.5);
        }

        .btn-amber {
            background: var(--accent-amber);
            color: #000;
            box-shadow: 0 4px 15px rgba(255, 171, 0, 0.4);
        }

        .btn-amber:hover {
            background: #FF9800;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 171, 0, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-blue);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Mode */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-blue), var(--secondary-teal), var(--accent-amber));
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(41, 98, 255, 0.5);
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .vocabulary-fact {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-purple);
            font-style: italic;
            color: var(--text-secondary);
        }

        /* Content Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .question-side {
            display: flex;
            flex-direction: column;
        }

        .visualization-side {
            display: flex;
            flex-direction: column;
        }

        .concept-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .concept-box {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-teal), var(--accent-amber));
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 4px 15px rgba(41, 98, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .concept-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .concept-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 5px;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-blue);
            background: rgba(41, 98, 255, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(0, 200, 83, 0.1);
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .option.incorrect {
            background: rgba(255, 64, 129, 0.1);
            border-color: var(--accent-pink);
            color: var(--accent-pink);
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-card);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            background: var(--secondary-teal);
        }

        .option.correct .option-letter {
            background: var(--accent-green);
            color: white;
        }

        .option.incorrect .option-letter {
            background: var(--accent-pink);
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(0, 200, 83, 0.1);
            border-left: 5px solid var(--accent-green);
        }

        .feedback-incorrect {
            background: rgba(255, 64, 129, 0.1);
            border-left: 5px solid var(--accent-pink);
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--accent-green);
        }

        .feedback-incorrect .feedback-icon {
            background: var(--accent-pink);
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--accent-green);
        }

        .feedback-incorrect .feedback-title {
            color: var(--accent-pink);
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Visualization Components */
        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            height: 100%;
            border: 1px solid var(--dark-border);
            overflow: auto;
            backdrop-filter: blur(5px);
        }

        /* Vocabulary Display */
        .vocabulary-display {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            overflow-x: auto;
        }

        .display-title {
            color: var(--primary-blue);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
            font-size: 1.3rem;
        }

        .vocabulary-container {
            padding: 20px;
            background: var(--dark-surface);
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--accent-purple);
        }

        .vocabulary-scenario {
            font-size: 1.1rem;
            line-height: 1.6;
            color: var(--text-primary);
            margin-bottom: 20px;
        }

        .vocabulary-highlight {
            background: rgba(170, 0, 255, 0.1);
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            border: 1px solid var(--accent-purple);
        }

        .highlight-text {
            color: var(--accent-purple);
            font-weight: bold;
        }

        /* Word Web Diagram */
        .word-web-diagram {
            width: 100%;
            height: 300px;
            background: var(--dark-surface);
            border-radius: 12px;
            position: relative;
            margin: 20px 0;
            overflow: hidden;
            border: 2px solid var(--primary-blue);
            padding: 20px;
        }

        .word-element {
            position: absolute;
            padding: 12px 20px;
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .word-element:hover {
            transform: scale(1.1);
            z-index: 10;
        }

        .word-connection {
            position: absolute;
            background: var(--primary-blue);
            height: 2px;
            border-radius: 2px;
            opacity: 0.6;
        }

        /* Vocabulary Types Grid */
        .vocabulary-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .vocabulary-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .vocabulary-grid {
                grid-template-columns: 1fr;
            }
        }

        .vocabulary-card {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid transparent;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .vocabulary-card:hover {
            transform: translateY(-5px);
        }

        .vocabulary-card.synonyms {
            border-color: var(--secondary-teal);
        }

        .vocabulary-card.antonyms {
            border-color: var(--accent-amber);
        }

        .vocabulary-card.homophones {
            border-color: var(--accent-purple);
        }

        .vocabulary-card.roots {
            border-color: var(--accent-green);
        }

        .vocabulary-card.prefixes {
            border-color: var(--accent-pink);
        }

        .vocabulary-card.suffixes {
            border-color: var(--primary-blue);
        }

        .vocabulary-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .synonyms .vocabulary-icon {
            color: var(--secondary-teal);
        }

        .antonyms .vocabulary-icon {
            color: var(--accent-amber);
        }

        .homophones .vocabulary-icon {
            color: var(--accent-purple);
        }

        .roots .vocabulary-icon {
            color: var(--accent-green);
        }

        .prefixes .vocabulary-icon {
            color: var(--accent-pink);
        }

        .suffixes .vocabulary-icon {
            color: var(--primary-blue);
        }

        .vocabulary-title {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .synonyms .vocabulary-title {
            color: var(--secondary-teal);
        }

        .antonyms .vocabulary-title {
            color: var(--accent-amber);
        }

        .homophones .vocabulary-title {
            color: var(--accent-purple);
        }

        .roots .vocabulary-title {
            color: var(--accent-green);
        }

        .prefixes .vocabulary-title {
            color: var(--accent-pink);
        }

        .suffixes .vocabulary-title {
            color: var(--primary-blue);
        }

        .vocabulary-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .vocabulary-examples {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 10px;
            background: var(--dark-surface);
            padding: 8px;
            border-radius: 4px;
        }

        /* Word Relationships Table */
        .relationships-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--dark-card);
            border-radius: 8px;
            overflow: hidden;
        }

        .relationships-table th {
            background: var(--dark-surface);
            padding: 12px;
            text-align: left;
            color: var(--accent-purple);
            border-bottom: 2px solid var(--accent-purple);
        }

        .relationships-table td {
            padding: 10px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
        }

        .relationships-table tr:hover {
            background: rgba(170, 0, 255, 0.05);
        }

        /* Synonyms Display */
        .synonyms-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--secondary-teal);
        }

        .synonyms-title {
            color: var(--secondary-teal);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .synonyms-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .synonyms-grid {
                grid-template-columns: 1fr;
            }
        }

        .synonym-card {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .synonym-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--secondary-teal);
        }

        .synonym-word {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--secondary-teal);
            font-size: 1.2rem;
        }

        .synonym-list {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Antonyms Display */
        .antonyms-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-amber);
        }

        .antonyms-title {
            color: var(--accent-amber);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .antonyms-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .antonyms-grid {
                grid-template-columns: 1fr;
            }
        }

        .antonym-card {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .antonym-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--accent-amber);
        }

        .antonym-word {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--accent-amber);
            font-size: 1.2rem;
        }

        .antonym-list {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Context Clues Display */
        .context-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--accent-purple);
        }

        .context-title {
            color: var(--accent-purple);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .context-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .context-grid {
                grid-template-columns: 1fr;
            }
        }

        .context-card {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .context-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--accent-purple);
        }

        .context-type {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--accent-purple);
        }

        .context-explanation {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Interactive Vocabulary Builder */
        .builder-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--primary-blue);
        }

        .builder-title {
            color: var(--primary-blue);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .builder-controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }

        .builder-select {
            padding: 10px 15px;
            background: var(--dark-surface);
            border: 2px solid var(--primary-blue);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .builder-input {
            padding: 15px;
            background: var(--dark-surface);
            border: 2px solid var(--primary-blue);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
            resize: vertical;
            min-height: 60px;
        }

        .builder-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .builder-btn {
            padding: 10px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--primary-blue);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .builder-btn:hover {
            background: rgba(41, 98, 255, 0.1);
            transform: translateY(-2px);
        }

        .builder-display {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 8px;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        /* Word Study Display */
        .word-study-container {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .word-study-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .word-study-grid {
                grid-template-columns: 1fr;
            }
        }

        .study-card {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid var(--accent-green);
        }

        .study-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--accent-green);
        }

        .study-concept {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--accent-green);
        }

        .study-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-teal), var(--accent-amber));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-teal), var(--accent-amber));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-blue);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .concept-box {
                min-width: 140px;
                font-size: 1.5rem;
                padding: 15px 20px;
            }
            
            .vocabulary-grid {
                grid-template-columns: 1fr;
            }
            
            .synonyms-grid {
                grid-template-columns: 1fr;
            }
            
            .antonyms-grid {
                grid-template-columns: 1fr;
            }
            
            .context-grid {
                grid-template-columns: 1fr;
            }
            
            .word-study-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 0.7; }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes grow {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .grow {
            animation: grow 0.5s ease forwards;
        }
        
        @keyframes vocabularyReveal {
            0% { transform: translateX(-100px); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }
        
        .vocabulary-reveal {
            animation: vocabularyReveal 0.5s ease forwards;
        }
        
        @keyframes synonymGlow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(0, 191, 165, 0.4); }
            50% { box-shadow: 0 0 15px 5px rgba(0, 191, 165, 0.2); }
        }
        
        .synonym-glow {
            animation: synonymGlow 2s ease-in-out infinite;
        }
        
        @keyframes antonymGlow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 171, 0, 0.4); }
            50% { box-shadow: 0 0 15px 5px rgba(255, 171, 0, 0.2); }
        }
        
        .antonym-glow {
            animation: antonymGlow 2s ease-in-out infinite;
        }
        
        @keyframes contextGlow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(170, 0, 255, 0.4); }
            50% { box-shadow: 0 0 15px 5px rgba(170, 0, 255, 0.2); }
        }
        
        .context-glow {
            animation: contextGlow 2s ease-in-out infinite;
        }
        
        @keyframes floatSymbol {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }
        
        .float-symbol {
            animation: floatSymbol 3s ease-in-out infinite;
        }
        
        @keyframes wordGlow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .word-glow {
            animation: wordGlow 2s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <!-- Vocabulary Pattern Background -->
    <div class="vocabulary-bg" id="vocabularyBg">
        <!-- Vocabulary symbols will be generated by JavaScript -->
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 6 English - Vocabulary Development</h1>
            <p class="welcome-subtitle">Expand your word power! Master synonyms, antonyms, context clues, word roots, prefixes, suffixes, and homophones. Build a rich vocabulary that will enhance your reading, writing, and communication skills for academic success and beyond!</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üìöüî§‚ú®üí°üéØ</span>
                <span class="topic-name">Synonyms, Antonyms, Context Clues & Word Study</span>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>Start Vocabulary Journey</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 80</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 1.25%"></div>
                </div>
            </div>

            <div class="question-container">
                <!-- Vocabulary fact display -->
                <div id="vocabularyFact"></div>
                
                <!-- Concept display area -->
                <div id="conceptDisplay"></div>
                
                <!-- Content Wrapper: Questions on left, Visualizations on right -->
                <div class="content-wrapper" id="contentWrapper">
                    <!-- Left side: Question and Options -->
                    <div class="question-side">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                    </div>
                    
                    <!-- Right side: Visualizations -->
                    <div class="visualization-side">
                        <div class="visualization-container" id="visualizationContainer">
                            <!-- All visualizations will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                    <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Vocabulary Mastery Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Practice Again</button>
                <button class="btn btn-secondary" id="viewTopics">Other English Topics</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize background
        function initBackground() {
            const vocabularyBg = document.getElementById('vocabularyBg');
            
            // Create floating vocabulary symbols
            const symbols = ['üìö', 'üî§', '‚ú®', 'üí°', 'üéØ', 'üìñ', '‚úèÔ∏è', 'üí¨', 'üåü', 'üéì', 'üîç', 'üíé'];
            
            for (let i = 0; i < 20; i++) {
                const symbol = document.createElement('div');
                symbol.className = 'floating-letters float-symbol';
                symbol.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                symbol.style.left = `${Math.random() * 100}%`;
                symbol.style.top = `${Math.random() * 100}%`;
                symbol.style.animationDelay = `${Math.random() * 5}s`;
                symbol.style.fontSize = `${2 + Math.random() * 4}rem`;
                
                // Color based on symbol type
                if (symbol.textContent === 'üìö' || symbol.textContent === 'üìñ') {
                    symbol.style.color = 'rgba(41, 98, 255, 0.1)';
                } else if (symbol.textContent === 'üî§' || symbol.textContent === '‚úèÔ∏è') {
                    symbol.style.color = 'rgba(0, 191, 165, 0.1)';
                } else if (symbol.textContent === '‚ú®' || symbol.textContent === 'üåü') {
                    symbol.style.color = 'rgba(255, 171, 0, 0.1)';
                } else {
                    symbol.style.color = 'rgba(170, 0, 255, 0.1)';
                }
                
                vocabularyBg.appendChild(symbol);
            }
        }

        // Questions array - 80+ Grade 6 Vocabulary Development Questions
        const questions = [
            // Synonyms (1-20)
            {
                type: "synonyms",
                question: "What is a synonym?",
                options: ["A word with similar meaning", "A word with opposite meaning", "A word that sounds the same", "A word part added to the beginning"],
                answer: "A",
                explanation: "Synonyms are words that have similar or identical meanings, like 'big' and 'large'."
            },
            {
                type: "synonyms",
                question: "Choose the synonym for 'happy':",
                options: ["Joyful", "Sad", "Angry", "Tired"],
                answer: "A",
                explanation: "'Joyful' is a synonym for 'happy' as both mean feeling pleasure or contentment."
            },
            {
                type: "synonyms",
                question: "Which word is a synonym for 'begin'?",
                options: ["Start", "Finish", "Middle", "End"],
                answer: "A",
                explanation: "'Start' and 'begin' mean the same thing - to commence or initiate something."
            },
            {
                type: "synonyms",
                question: "Find the synonym for 'intelligent':",
                options: ["Smart", "Foolish", "Slow", "Simple"],
                answer: "A",
                explanation: "'Smart' is a synonym for 'intelligent' - both describe someone who is clever or bright."
            },
            // Antonyms (21-40)
            {
                type: "antonyms",
                question: "What is an antonym?",
                options: ["A word with opposite meaning", "A word with similar meaning", "A word that sounds the same", "A word root"],
                answer: "A",
                explanation: "Antonyms are words with opposite meanings, like 'hot' and 'cold'."
            },
            {
                type: "antonyms",
                question: "Choose the antonym for 'day':",
                options: ["Night", "Morning", "Sun", "Light"],
                answer: "A",
                explanation: "'Night' is the antonym of 'day' as they represent opposite times."
            },
            {
                type: "antonyms",
                question: "Which word is an antonym for 'love'?",
                options: ["Hate", "Like", "Adore", "Cherish"],
                answer: "A",
                explanation: "'Hate' is the opposite of 'love' - strong dislike versus strong affection."
            },
            {
                type: "antonyms",
                question: "Find the antonym for 'fast':",
                options: ["Slow", "Quick", "Rapid", "Swift"],
                answer: "A",
                explanation: "'Slow' is the antonym of 'fast' - moving at low speed versus high speed."
            },
            // Homophones (41-60)
            {
                type: "homophones",
                question: "What are homophones?",
                options: ["Words that sound the same but have different meanings", "Words with similar meanings", "Words with opposite meanings", "Word parts"],
                answer: "A",
                explanation: "Homophones are words that sound alike but have different meanings and spellings, like 'pair' and 'pear'."
            },
            {
                type: "homophones",
                question: "Which pair are homophones?",
                options: ["Their - There", "Big - Large", "Hot - Cold", "Run - Walk"],
                answer: "A",
                explanation: "'Their' and 'there' sound the same but have different meanings and spellings."
            },
            {
                type: "homophones",
                question: "Identify the homophone for 'flower':",
                options: ["Flour", "Floor", "Flourish", "Flowerbed"],
                answer: "A",
                explanation: "'Flour' (used in baking) sounds like 'flower' (a plant)."
            },
            // Context Clues (61-80)
            {
                type: "context_clues",
                question: "What are context clues?",
                options: ["Hints in the text that help understand unfamiliar words", "Words with similar meanings", "Opposite words", "Sound-alike words"],
                answer: "A",
                explanation: "Context clues are words or phrases around an unfamiliar word that help determine its meaning."
            },
            {
                type: "context_clues",
                question: "In 'The vociferous crowd cheered loudly,' what does 'vociferous' mean?",
                options: ["Noisy and loud", "Quiet and shy", "Happy and joyful", "Sad and gloomy"],
                answer: "A",
                explanation: "The clue 'cheered loudly' suggests 'vociferous' means loud and noisy."
            },
            {
                type: "context_clues",
                question: "What context clue helps understand 'benevolent' in: 'The benevolent teacher always helped students'?",
                options: ["always helped students", "teacher", "always", "students"],
                answer: "A",
                explanation: "'always helped students' shows 'benevolent' means kind and helpful."
            },
            // Prefixes (81-100)
            {
                type: "prefixes",
                question: "What is a prefix?",
                options: ["A word part added to the beginning of a word", "A word part added to the end", "The main part of a word", "A word that stands alone"],
                answer: "A",
                explanation: "A prefix is added to the beginning of a word to change its meaning, like 'un-' in 'unhappy'."
            },
            {
                type: "prefixes",
                question: "What does the prefix 'un-' mean?",
                options: ["Not", "Again", "Before", "Too much"],
                answer: "A",
                explanation: "The prefix 'un-' usually means 'not' as in 'unhappy' (not happy)."
            },
            {
                type: "prefixes",
                question: "What does 're-' mean in 'rewrite'?",
                options: ["Again", "Not", "Before", "Against"],
                answer: "A",
                explanation: "The prefix 're-' means 'again' - rewrite means to write again."
            },
            // Suffixes (101-120)
            {
                type: "suffixes",
                question: "What is a suffix?",
                options: ["A word part added to the end of a word", "A word part added to the beginning", "The main part of a word", "A complete word"],
                answer: "A",
                explanation: "A suffix is added to the end of a word to change its meaning or function, like '-ful' in 'helpful'."
            },
            {
                type: "suffixes",
                question: "What does the suffix '-less' mean?",
                options: ["Without", "Full of", "Can be done", "State of being"],
                answer: "A",
                explanation: "The suffix '-less' means 'without' as in 'hopeless' (without hope)."
            },
            {
                type: "suffixes",
                question: "What does '-ful' mean in 'beautiful'?",
                options: ["Full of", "Without", "Made of", "Like"],
                answer: "A",
                explanation: "The suffix '-ful' means 'full of' - beautiful means full of beauty."
            },
            // Word Roots (121-140)
            {
                type: "word_roots",
                question: "What is a word root?",
                options: ["The main part of a word that carries meaning", "A prefix", "A suffix", "A complete word"],
                answer: "A",
                explanation: "A root is the basic part of a word that carries its core meaning, like 'spect' (to look) in 'inspect'."
            },
            {
                type: "word_roots",
                question: "What does the root 'aud' mean?",
                options: ["Hear", "See", "Speak", "Write"],
                answer: "A",
                explanation: "The root 'aud' means 'hear' as in 'audience' (those who hear) or 'audio' (sound)."
            },
            {
                type: "word_roots",
                question: "What does the root 'port' mean?",
                options: ["Carry", "See", "Write", "Speak"],
                answer: "A",
                explanation: "The root 'port' means 'carry' as in 'transport' (carry across) or 'portable' (able to be carried)."
            },
            // Multiple Meaning Words (141-160)
            {
                type: "multiple_meaning",
                question: "What are multiple meaning words?",
                options: ["Words that have more than one meaning", "Synonyms", "Antonyms", "Homophones"],
                answer: "A",
                explanation: "Multiple meaning words have different meanings in different contexts, like 'bank' (river bank or money bank)."
            },
            {
                type: "multiple_meaning",
                question: "Which sentence uses 'bat' as an animal?",
                options: ["The bat flew out of the cave at night.", "He swung the bat and hit a home run.", "She wore a bat for the costume party.", "The bat was made of wood."],
                answer: "A",
                explanation: "In this sentence, 'bat' refers to the flying mammal, not the sports equipment."
            }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            currentQuestions: [],
            studentName: ""
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent vocabulary knowledge!",
            "Perfect word understanding!",
            "Great job with word relationships!",
            "Amazing! You're a vocabulary champion!",
            "Perfect recall of word meanings!",
            "You're a future wordsmith in the making!",
            "Outstanding vocabulary comprehension!",
            "Brilliant word analysis!",
            "You think like a linguist!",
            "Vocabulary mastery achieved!"
        ];

        // Vocabulary concepts
        const vocabularyConcepts = [
            {
                name: "Synonyms",
                description: "Words with similar meanings",
                icon: "üîÑ"
            },
            {
                name: "Antonyms",
                description: "Words with opposite meanings",
                icon: "‚öñÔ∏è"
            },
            {
                name: "Homophones",
                description: "Words that sound the same",
                icon: "üéµ"
            },
            {
                name: "Context Clues",
                description: "Using surrounding text to understand words",
                icon: "üîç"
            },
            {
                name: "Prefixes",
                description: "Word parts added to beginnings",
                icon: "‚è™"
            },
            {
                name: "Suffixes",
                description: "Word parts added to endings",
                icon: "‚è©"
            },
            {
                name: "Word Roots",
                description: "Core meaning parts of words",
                icon: "üå±"
            }
        ];

        // Vocabulary types
        const vocabularyTypes = [
            {
                name: "Synonyms",
                description: "Words with similar meanings",
                examples: "Big - Large, Happy - Joyful, Smart - Intelligent",
                characteristics: "Enhance writing, prevent repetition, show nuance",
                icon: "üîÑ",
                color: "#00BFA5"
            },
            {
                name: "Antonyms",
                description: "Words with opposite meanings",
                examples: "Hot - Cold, Day - Night, Love - Hate",
                characteristics: "Show contrast, create balance, clarify meaning",
                icon: "‚öñÔ∏è",
                color: "#FFAB00"
            },
            {
                name: "Homophones",
                description: "Words that sound alike but differ in meaning/spelling",
                examples: "Their - There, Flower - Flour, Pair - Pear",
                characteristics: "Same pronunciation, different meanings/spellings",
                icon: "üéµ",
                color: "#AA00FF"
            },
            {
                name: "Word Roots",
                description: "Core meaning parts of words",
                examples: "Aud (hear), Port (carry), Spect (look)",
                characteristics: "Greek/Latin origins, help decode unfamiliar words",
                icon: "üå±",
                color: "#00C853"
            },
            {
                name: "Prefixes",
                description: "Word parts added to beginnings",
                examples: "Un- (not), Re- (again), Pre- (before)",
                characteristics: "Change meaning, create new words, show relationships",
                icon: "‚è™",
                color: "#FF4081"
            },
            {
                name: "Suffixes",
                description: "Word parts added to endings",
                examples: "-ful (full of), -less (without), -able (can be done)",
                characteristics: "Change word function, create adjectives/nouns",
                icon: "‚è©",
                color: "#2962FF"
            }
        ];

        // Synonyms examples
        const synonymsExamples = [
            {
                word: "Happy",
                synonyms: ["Joyful", "Glad", "Cheerful", "Delighted", "Pleased"],
                sentence: "She was happy/joyful to see her friend."
            },
            {
                word: "Big",
                synonyms: ["Large", "Huge", "Enormous", "Giant", "Massive"],
                sentence: "They lived in a big/large house."
            },
            {
                word: "Smart",
                synonyms: ["Intelligent", "Clever", "Bright", "Brilliant", "Sharp"],
                sentence: "He was a smart/intelligent student."
            },
            {
                word: "Beautiful",
                synonyms: ["Pretty", "Lovely", "Gorgeous", "Stunning", "Attractive"],
                sentence: "The garden was beautiful/gorgeous in spring."
            },
            {
                word: "Fast",
                synonyms: ["Quick", "Rapid", "Swift", "Speedy", "Brisk"],
                sentence: "The car was very fast/swift."
            },
            {
                word: "Sad",
                synonyms: ["Unhappy", "Miserable", "Gloomy", "Depressed", "Sorrowful"],
                sentence: "He felt sad/unhappy about the news."
            }
        ];

        // Antonyms examples
        const antonymsExamples = [
            {
                word: "Hot",
                antonyms: ["Cold", "Cool", "Freezing", "Chilly", "Icy"],
                sentence: "The soup was hot, but the drink was cold."
            },
            {
                word: "Day",
                antonyms: ["Night", "Darkness", "Evening", "Midnight", "Dusk"],
                sentence: "We work during the day and sleep at night."
            },
            {
                word: "Love",
                antonyms: ["Hate", "Dislike", "Despise", "Loathe", "Detest"],
                sentence: "She loved the movie, but he hated it."
            },
            {
                word: "Young",
                antonyms: ["Old", "Aged", "Elderly", "Ancient", "Mature"],
                sentence: "The young puppy played with the old dog."
            },
            {
                word: "Light",
                antonyms: ["Dark", "Darkness", "Gloomy", "Shadowy", "Dim"],
                sentence: "Turn on the light; it's too dark in here."
            },
            {
                word: "Rich",
                antonyms: ["Poor", "Needy", "Destitute", "Impoverished", "Broke"],
                sentence: "The rich man helped the poor family."
            }
        ];

        // Context clues types
        const contextCluesTypes = [
            {
                type: "Definition",
                explanation: "The word is directly defined in the sentence",
                example: "An archaeologist, a scientist who studies ancient cultures, discovered the ruins."
            },
            {
                type: "Example",
                explanation: "Examples are given to explain the word",
                example: "Pets, such as dogs, cats, and birds, need regular care."
            },
            {
                type: "Synonym",
                explanation: "A similar word is used nearby",
                example: "The vociferous, loud crowd cheered for their team."
            },
            {
                type: "Antonym",
                explanation: "An opposite word helps understand meaning",
                example: "Unlike her frugal sister, she was very wasteful with money."
            },
            {
                type: "Inference",
                explanation: "You must infer meaning from context",
                example: "The torrential rain caused flooding in the streets."
            }
        ];

        // Word study concepts
        const wordStudyConcepts = [
            {
                concept: "Prefix Meanings",
                description: "Common prefixes and their meanings",
                examples: "Un- (not), Re- (again), Pre- (before), Mis- (wrong)"
            },
            {
                concept: "Suffix Functions",
                description: "How suffixes change word types",
                examples: "-ful (makes adjectives), -ly (makes adverbs), -tion (makes nouns)"
            },
            {
                concept: "Greek Roots",
                description: "Common Greek word roots",
                examples: "Tele (far), Bio (life), Photo (light), Geo (earth)"
            },
            {
                concept: "Latin Roots",
                description: "Common Latin word roots",
                examples: "Aud (hear), Port (carry), Spect (look), Struct (build)"
            }
        ];

        // Vocabulary facts
        const vocabularyFacts = [
            "The average 6th grader knows about 25,000 words!",
            "English has the largest vocabulary of any language - over 1,000,000 words!",
            "Learning prefixes can help you understand thousands of new words!",
            "Most English words come from Latin, Greek, or French origins!",
            "Knowing word roots can help you decode unfamiliar scientific terms!",
            "Synonyms help make writing more interesting and varied!",
            "Context clues are like detective work for word meanings!",
            "The word 'set' has over 400 different meanings in English!"
        ];

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const vocabularyFact = document.getElementById('vocabularyFact');
        const conceptDisplay = document.getElementById('conceptDisplay');
        const visualizationContainer = document.getElementById('visualizationContainer');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const highestScore = document.getElementById('highestScore');

        // Initialize the app
        function initApp() {
            initBackground();
            loadStateFromStorage();
            setupEventListeners();
            
            if (appState.studentName && appState.currentQuestions.length > 0) {
                showPracticePage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade6Vocabulary');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
                appState.score = parsed.score || 0;
                appState.skipped = parsed.skipped || 0;
                appState.answered = parsed.answered || 0;
                appState.currentQuestions = parsed.currentQuestions || [];
                
                if (appState.currentQuestions.length === 0) {
                    initializeQuestions();
                }
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade6Vocabulary', JSON.stringify(appState));
        }

        // Initialize and shuffle questions
        function initializeQuestions() {
            appState.currentQuestions = [...questions];
            shuffleArray(appState.currentQuestions);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            viewTopicsBtn.addEventListener('click', backToTopics);
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startPractice();
                }
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const totalQuestions = appState.currentQuestions.length;
            const percentage = Math.round((appState.score / totalQuestions) * 100);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            
            const highest = localStorage.getItem('ideolixGrade6Vocabulary_highestScore') || 0;
            highestScore.textContent = Math.max(highest, appState.score);
            
            if (appState.score > highest) {
                localStorage.setItem('ideolixGrade6Vocabulary_highestScore', appState.score);
            }
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a vocabulary expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You have excellent word knowledge!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! Keep expanding your vocabulary!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review word relationships and try again!";
            } else {
                scoreMessage.textContent = "Keep learning! Building vocabulary opens doors to better communication!";
            }
        }

        // Create vocabulary fact display
        function createVocabularyFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'vocabulary-fact';
            
            factDiv.innerHTML = `<strong>Interesting Word Fact:</strong> ${vocabularyFacts[Math.floor(Math.random() * vocabularyFacts.length)]}`;
            
            return factDiv;
        }

        // Create concept display
        function createConceptDisplay() {
            const display = document.createElement('div');
            display.className = 'concept-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            const conceptIcons = {
                "synonyms": "üîÑ",
                "antonyms": "‚öñÔ∏è",
                "homophones": "üéµ",
                "context_clues": "üîç",
                "prefixes": "‚è™",
                "suffixes": "‚è©",
                "word_roots": "üå±",
                "multiple_meaning": "üìñ"
            };
            
            let conceptName = "Synonyms";
            let conceptIcon = "üîÑ";
            
            if (question.type.includes("synonyms")) {
                conceptName = "Synonyms";
                conceptIcon = conceptIcons.synonyms;
            } else if (question.type.includes("antonyms")) {
                conceptName = "Antonyms";
                conceptIcon = conceptIcons.antonyms;
            } else if (question.type.includes("homophones")) {
                conceptName = "Homophones";
                conceptIcon = conceptIcons.homophones;
            } else if (question.type.includes("context_clues")) {
                conceptName = "Context Clues";
                conceptIcon = conceptIcons.context_clues;
            } else if (question.type.includes("prefixes")) {
                conceptName = "Prefixes";
                conceptIcon = conceptIcons.prefixes;
            } else if (question.type.includes("suffixes")) {
                conceptName = "Suffixes";
                conceptIcon = conceptIcons.suffixes;
            } else if (question.type.includes("word_roots")) {
                conceptName = "Word Roots";
                conceptIcon = conceptIcons.word_roots;
            } else if (question.type.includes("multiple_meaning")) {
                conceptName = "Multiple Meaning Words";
                conceptIcon = conceptIcons.multiple_meaning;
            }
            
            const conceptBox = document.createElement('div');
            conceptBox.className = 'concept-box grow';
            conceptBox.innerHTML = `
                <div class="concept-icon">${conceptIcon}</div>
                <div class="concept-text">${conceptName.toUpperCase()}</div>
            `;
            
            const label = document.createElement('div');
            label.className = 'concept-label';
            
            if (question.type.includes("synonyms")) {
                label.textContent = "Words with similar meanings";
            } else if (question.type.includes("antonyms")) {
                label.textContent = "Words with opposite meanings";
            } else if (question.type.includes("homophones")) {
                label.textContent = "Words that sound the same but have different meanings";
            } else if (question.type.includes("context_clues")) {
                label.textContent = "Using surrounding text to understand word meanings";
            } else if (question.type.includes("prefixes")) {
                label.textContent = "Word parts added to beginnings to change meaning";
            } else if (question.type.includes("suffixes")) {
                label.textContent = "Word parts added to endings to change meaning or function";
            } else if (question.type.includes("word_roots")) {
                label.textContent = "Core meaning parts of words, often from Greek/Latin";
            } else if (question.type.includes("multiple_meaning")) {
                label.textContent = "Words that have different meanings in different contexts";
            }
            
            display.appendChild(conceptBox);
            display.appendChild(label);
            
            return display;
        }

        // Create vocabulary visualization
        function createVocabularyVisualization() {
            const vizDiv = document.createElement('div');
            vizDiv.className = 'visualization-container';
            
            const currentQuestion = appState.currentQuestions[appState.currentQuestionIndex];
            
            vizDiv.innerHTML = `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--primary-blue);">Vocabulary Development Explorer</h3>
                
                <div class="vocabulary-display">
                    <div class="display-title">Current Vocabulary Concept</div>
                    <div class="vocabulary-container">
                        <div class="vocabulary-scenario">${currentQuestion.question}</div>
                        <div class="vocabulary-highlight">
                            <strong>Key Concept:</strong> <span class="highlight-text">${getVocabularyConcept(currentQuestion.type)}</span>
                        </div>
                    </div>
                </div>
                
                <!-- Word Web Diagram -->
                <div class="word-web-diagram" id="wordWebDiagram">
                    <!-- Word web diagram will be animated by JavaScript -->
                </div>
                <div style="text-align: center; margin-bottom: 20px; color: var(--text-secondary); font-size: 0.9rem;">
                    Interactive Word Web - Click on words to explore relationships
                </div>
                
                <div class="vocabulary-grid">
                    ${vocabularyTypes.map(type => `
                        <div class="vocabulary-card ${type.name.toLowerCase()} ${type.name.toLowerCase()}-glow" style="border-color: ${type.color}" onclick="showVocabularyDemo('${type.name}')">
                            <div class="vocabulary-icon word-glow" style="color: ${type.color}">${type.icon}</div>
                            <div class="vocabulary-title" style="color: ${type.color}">${type.name}</div>
                            <div class="vocabulary-description">${type.description}</div>
                            <div class="vocabulary-examples">
                                <strong>Examples:</strong> ${type.examples}
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <table class="relationships-table">
                    <thead>
                        <tr>
                            <th>Vocabulary Type</th>
                            <th>Definition</th>
                            <th>Purpose</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${vocabularyTypes.slice(0, 4).map(type => `
                            <tr>
                                <td style="font-weight: bold; color: ${type.color};">${type.name}</td>
                                <td>${type.description}</td>
                                <td style="color: var(--accent-purple);">${type.characteristics.split(', ')[0]}</td>
                                <td style="font-style: italic; color: ${type.color};">${type.examples.split(', ')[0]}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
                
                <div class="synonyms-container synonym-glow">
                    <div class="synonyms-title">Common Synonyms</div>
                    <div class="synonyms-grid">
                        ${synonymsExamples.slice(0, 4).map(synonym => `
                            <div class="synonym-card">
                                <div class="synonym-icon">üîÑ</div>
                                <div class="synonym-word">${synonym.word}</div>
                                <div class="synonym-list">
                                    <strong>Synonyms:</strong> ${synonym.synonyms.join(', ')}<br>
                                    <em>${synonym.sentence}</em>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="antonyms-container antonym-glow">
                    <div class="antonyms-title">Common Antonyms</div>
                    <div class="antonyms-grid">
                        ${antonymsExamples.slice(0, 4).map(antonym => `
                            <div class="antonym-card">
                                <div class="antonym-icon">‚öñÔ∏è</div>
                                <div class="antonym-word">${antonym.word}</div>
                                <div class="antonym-list">
                                    <strong>Antonyms:</strong> ${antonym.antonyms.join(', ')}<br>
                                    <em>${antonym.sentence}</em>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="context-container context-glow">
                    <div class="context-title">Types of Context Clues</div>
                    <div class="context-grid">
                        ${contextCluesTypes.map(clue => `
                            <div class="context-card">
                                <div class="context-icon">üîç</div>
                                <div class="context-type">${clue.type} Clue</div>
                                <div class="context-explanation">
                                    ${clue.explanation}<br>
                                    <strong>Example:</strong> ${clue.example}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="builder-container">
                    <div class="builder-title">Interactive Vocabulary Builder</div>
                    <div class="builder-controls">
                        <select class="builder-select" id="vocabularyType">
                            <option value="">Select Activity</option>
                            <option value="synonyms">Find Synonyms</option>
                            <option value="antonyms">Find Antonyms</option>
                            <option value="homophones">Identify Homophones</option>
                            <option value="context">Use Context Clues</option>
                        </select>
                        <textarea class="builder-input" id="vocabularyInput" placeholder="Enter a word or sentence... Example: 'happy' or 'The diligent student worked hard.'"></textarea>
                        <div class="builder-buttons">
                            <button class="builder-btn" onclick="analyzeVocabulary()">Analyze</button>
                            <button class="builder-btn" onclick="getWordChallenge()">Get Challenge</button>
                            <button class="builder-btn" onclick="clearBuilder()">Clear</button>
                        </div>
                    </div>
                    <div class="builder-display" id="builderDisplay">
                        Your vocabulary analysis will appear here...
                    </div>
                </div>
                
                <div style="background: var(--dark-card); padding: 15px; border-radius: 8px; margin-top: 20px; border-left: 4px solid var(--accent-purple);">
                    <div style="color: var(--accent-purple); font-weight: bold; margin-bottom: 10px;">Quick Vocabulary Guide:</div>
                    <div style="color: var(--text-secondary); font-size: 0.9rem;">
                        1. Synonyms: Words with similar meanings (big = large)<br>
                        2. Antonyms: Words with opposite meanings (hot ‚â† cold)<br>
                        3. Homophones: Sound-alike words (their/there)<br>
                        4. Context Clues: Surrounding text hints at word meaning<br>
                        5. Prefixes: Word beginnings (un-, re-, pre-)<br>
                        6. Suffixes: Word endings (-ful, -less, -able)<br>
                        7. Word Roots: Core meaning parts (aud=hear, port=carry)
                    </div>
                </div>
                
                <div class="word-study-container">
                    <div class="display-title">Word Study Strategies</div>
                    <div class="word-study-grid">
                        ${wordStudyConcepts.map(concept => `
                            <div class="study-card">
                                <div class="study-icon">üìö</div>
                                <div class="study-concept">${concept.concept}</div>
                                <div class="study-description">
                                    <strong>Description:</strong> ${concept.description}<br>
                                    <strong>Examples:</strong> ${concept.examples}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="solution-container">
                    <div class="display-title">Step-by-Step Learning Path</div>
                    <div class="solution-steps" id="solutionSteps">
                        ${generateLearningPath(currentQuestion)}
                    </div>
                </div>
                
                <div style="background: var(--dark-card); padding: 15px; border-radius: 8px; margin-top: 20px; border: 2px solid var(--secondary-teal);">
                    <div style="color: var(--secondary-teal); font-weight: bold; margin-bottom: 10px; text-align: center;">Vocabulary Building Tips</div>
                    <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">
                        <strong>Read Widely:</strong> Exposure to new words in context is the best way to learn<br>
                        <strong>Use a Dictionary:</strong> Look up unfamiliar words and note their meanings<br>
                        <strong>Keep a Word Journal:</strong> Record new words with definitions and sentences<br>
                        <strong>Play Word Games:</strong> Crosswords, word searches, and vocabulary apps help<br>
                        <strong>Use New Words:</strong> Try to use new vocabulary in speaking and writing<br>
                        <em>A strong vocabulary is your key to better reading, writing, and thinking!</em>
                    </div>
                </div>
            `;
            
            // Initialize word web diagram
            initializeWordWebDiagram();
            
            return vizDiv;
        }

        // Helper functions
        function getVocabularyConcept(typeString) {
            const conceptMap = {
                "synonyms": "Synonyms - Words with similar meanings",
                "antonyms": "Antonyms - Words with opposite meanings",
                "homophones": "Homophones - Words that sound the same",
                "context_clues": "Context Clues - Using surrounding text to understand words",
                "prefixes": "Prefixes - Word parts added to beginnings",
                "suffixes": "Suffixes - Word parts added to endings",
                "word_roots": "Word Roots - Core meaning parts of words",
                "multiple_meaning": "Multiple Meaning Words - Words with different meanings in different contexts"
            };
            
            return conceptMap[typeString] || "Vocabulary Development";
        }

        function generateLearningPath(question) {
            let steps = [];
            
            if (question.type.includes("synonyms")) {
                steps = [
                    "Step 1: Identify the target word in the question",
                    "Step 2: Recall words with similar meanings",
                    "Step 3: Consider the context if provided",
                    "Step 4: Eliminate words with different meanings",
                    "Step 5: Select the word that means the same or similar"
                ];
            } else if (question.type.includes("antonyms")) {
                steps = [
                    "Step 1: Identify the target word in the question",
                    "Step 2: Recall words with opposite meanings",
                    "Step 3: Consider the context if provided",
                    "Step 4: Eliminate words with similar meanings",
                    "Step 5: Select the word that means the opposite"
                ];
            } else if (question.type.includes("context_clues")) {
                steps = [
                    "Step 1: Read the entire sentence carefully",
                    "Step 2: Look for hints around the unfamiliar word",
                    "Step 3: Identify definition, example, synonym, or antonym clues",
                    "Step 4: Make an educated guess based on context",
                    "Step 5: Select the meaning that fits the context"
                ];
            } else if (question.type.includes("prefixes") || question.type.includes("suffixes")) {
                steps = [
                    "Step 1: Identify the prefix/suffix in the word",
                    "Step 2: Recall the meaning of common prefixes/suffixes",
                    "Step 3: Apply the meaning to the root word",
                    "Step 4: Determine the new word's meaning",
                    "Step 5: Select the correct definition or example"
                ];
            } else {
                steps = [
                    "Step 1: Read the question carefully",
                    "Step 2: Identify the vocabulary concept being tested",
                    "Step 3: Recall the definition and characteristics",
                    "Step 4: Apply your knowledge to the options",
                    "Step 5: Select the most accurate answer"
                ];
            }
            
            return steps.map((step, index) => `
                <div class="solution-step vocabulary-reveal" style="animation-delay: ${index * 0.1}s">
                    <span class="step-number">${index + 1}</span>
                    <span class="step-description">${step}</span>
                    ${index === steps.length - 1 ? `
                        <div class="step-calculation">
                            <strong>Correct Answer:</strong> ${question.options[question.answer.charCodeAt(0) - 65]}
                        </div>
                        <div class="step-explanation">
                            ${question.explanation}
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        // Global functions for interactive features
        window.showVocabularyDemo = function(vocabularyName) {
            const wordWebDiagram = document.getElementById('wordWebDiagram');
            if (!wordWebDiagram) return;
            
            const vocabulary = vocabularyTypes.find(v => v.name === vocabularyName);
            if (!vocabulary) return;
            
            // Show the selected vocabulary type
            wordWebDiagram.innerHTML = '';
            
            if (vocabularyName === "Synonyms") {
                wordWebDiagram.innerHTML = `
                    <!-- Center Word -->
                    <div class="word-element" style="background-color: ${vocabulary.color}; width: 120px; height: 60px; top: 50%; left: 50%; transform: translate(-50%, -50%);">
                        <div style="font-size: 1.2rem;">Happy</div>
                        <div style="font-size: 0.8rem;">(Center Word)</div>
                    </div>
                    
                    <!-- Synonyms -->
                    <div class="word-element" style="background-color: ${vocabulary.color}; width: 100px; height: 50px; top: 20%; left: 30%;">
                        <div style="font-size: 1rem;">Joyful</div>
                    </div>
                    
                    <div class="word-element" style="background-color: ${vocabulary.color}; width: 100px; height: 50px; top: 20%; left: 70%;">
                        <div style="font-size: 1rem;">Glad</div>
                    </div>
                    
                    <div class="word-element" style="background-color: ${vocabulary.color}; width: 100px; height: 50px; top: 80%; left: 30%;">
                        <div style="font-size: 1rem;">Cheerful</div>
                    </div>
                    
                    <div class="word-element" style="background-color: ${vocabulary.color}; width: 100px; height: 50px; top: 80%; left: 70%;">
                        <div style="font-size: 1rem;">Delighted</div>
                    </div>
                    
                    <!-- Connections -->
                    <div class="word-connection" style="width: 20%; top: 35%; left: 40%; transform: rotate(-30deg);"></div>
                    <div class="word-connection" style="width: 20%; top: 35%; left: 50%; transform: rotate(30deg);"></div>
                    <div class="word-connection" style="width: 20%; top: 65%; left: 40%; transform: rotate(30deg);"></div>
                    <div class="word-connection" style="width: 20%; top: 65%; left: 50%; transform: rotate(-30deg);"></div>
                    
                    <!-- Title -->
                    <div style="position: absolute; bottom: 10px; left: 0; right: 0; text-align: center; color: var(--text-secondary);">
                        <strong>${vocabulary.name}:</strong> Words with similar meanings
                    </div>
                `;
            } else if (vocabularyName === "Antonyms") {
                wordWebDiagram.innerHTML = `
                    <!-- Opposing Words -->
                    <div class="word-element" style="background-color: ${vocabulary.color}; width: 120px; height: 60px; top: 30%; left: 30%;">
                        <div style="font-size: 1.2rem;">Hot</div>
                    </div>
                    
                    <div class="word-element" style="background-color: ${vocabulary.color}; width: 120px; height: 60px; top: 70%; left: 70%;">
                        <div style="font-size: 1.2rem;">Cold</div>
                    </div>
                    
                    <!-- Connection -->
                    <div class="word-connection" style="width: 40%; top: 50%; left: 40%; transform: rotate(45deg);"></div>
                    
                    <!-- Opposing Arrow -->
                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2rem; color: ${vocabulary.color};">
                        ‚ÜîÔ∏è
                    </div>
                    
                    <!-- Title -->
                    <div style="position: absolute; bottom: 10px; left: 0; right: 0; text-align: center; color: var(--text-secondary);">
                        <strong>${vocabulary.name}:</strong> Words with opposite meanings
                    </div>
                `;
            }
        };

        window.analyzeVocabulary = function() {
            const vocabularyTypeSelect = document.getElementById('vocabularyType');
            const vocabularyInput = document.getElementById('vocabularyInput');
            const builderDisplay = document.getElementById('builderDisplay');
            
            if (!vocabularyTypeSelect || !vocabularyInput || !builderDisplay) return;
            
            const activityType = vocabularyTypeSelect.value;
            const userInput = vocabularyInput.value.trim();
            
            if (!activityType) {
                builderDisplay.innerHTML = "Please select an activity type.";
                return;
            }
            
            if (!userInput) {
                builderDisplay.innerHTML = "Please enter a word or sentence to analyze.";
                return;
            }
            
            const activityData = {
                synonyms: {
                    title: "Synonym Analysis",
                    color: "#00BFA5",
                    icon: "üîÑ",
                    analyze: function(word) {
                        const synonyms = synonymsExamples.find(item => 
                            item.word.toLowerCase() === word.toLowerCase()
                        );
                        
                        if (synonyms) {
                            return `
                                <strong>Word:</strong> ${synonyms.word}<br>
                                <strong>Synonyms:</strong> ${synonyms.synonyms.join(', ')}<br>
                                <strong>Example Sentence:</strong> ${synonyms.sentence}
                            `;
                        } else {
                            return `No synonyms found for "${word}". Try: happy, big, smart, beautiful, fast, or sad.`;
                        }
                    }
                },
                antonyms: {
                    title: "Antonym Analysis",
                    color: "#FFAB00",
                    icon: "‚öñÔ∏è",
                    analyze: function(word) {
                        const antonyms = antonymsExamples.find(item => 
                            item.word.toLowerCase() === word.toLowerCase()
                        );
                        
                        if (antonyms) {
                            return `
                                <strong>Word:</strong> ${antonyms.word}<br>
                                <strong>Antonyms:</strong> ${antonyms.antonyms.join(', ')}<br>
                                <strong>Example Sentence:</strong> ${antonyms.sentence}
                            `;
                        } else {
                            return `No antonyms found for "${word}". Try: hot, day, love, young, light, or rich.`;
                        }
                    }
                },
                homophones: {
                    title: "Homophone Analysis",
                    color: "#AA00FF",
                    icon: "üéµ",
                    analyze: function(word) {
                        const homophones = {
                            "their": "there, they're",
                            "there": "their, they're",
                            "they're": "their, there",
                            "flower": "flour",
                            "flour": "flower",
                            "pair": "pear",
                            "pear": "pair",
                            "right": "write",
                            "write": "right",
                            "sea": "see",
                            "see": "sea"
                        };
                        
                        const lowerWord = word.toLowerCase();
                        if (homophones[lowerWord]) {
                            return `
                                <strong>Word:</strong> ${word}<br>
                                <strong>Homophones:</strong> ${homophones[lowerWord]}<br>
                                <strong>Remember:</strong> Homophones sound the same but have different meanings and spellings!
                            `;
                        } else {
                            return `No homophones found for "${word}". Try: their/there/they're, flower/flour, pair/pear, right/write, or sea/see.`;
                        }
                    }
                },
                context: {
                    title: "Context Clue Analysis",
                    color: "#AA00FF",
                    icon: "üîç",
                    analyze: function(sentence) {
                        // Simple context clue analysis
                        const words = [
                            { word: "diligent", clue: "worked hard", meaning: "hard-working" },
                            { word: "enormous", clue: "very large", meaning: "very big" },
                            { word: "frugal", clue: "saved money", meaning: "careful with money" },
                            { word: "generous", clue: "shared freely", meaning: "giving" }
                        ];
                        
                        let analysis = `<strong>Sentence:</strong> "${sentence}"<br><br>`;
                        let foundWord = false;
                        
                        for (const item of words) {
                            if (sentence.toLowerCase().includes(item.word)) {
                                analysis += `
                                    <strong>Unfamiliar word detected:</strong> ${item.word}<br>
                                    <strong>Context clue:</strong> "${item.clue}"<br>
                                    <strong>Likely meaning:</strong> ${item.meaning}<br>
                                    <strong>Type of clue:</strong> ${item.clue.includes("very") || item.clue.includes("not") ? "Definition/Explanation" : "Synonym"}
                                `;
                                foundWord = true;
                                break;
                            }
                        }
                        
                        if (!foundWord) {
                            analysis += `No unfamiliar words detected. Try sentences with words like: diligent, enormous, frugal, or generous. Example: "The diligent student worked hard."`;
                        }
                        
                        return analysis;
                    }
                }
            };
            
            const data = activityData[activityType];
            if (!data) {
                builderDisplay.innerHTML = "Invalid activity type selected.";
                return;
            }
            
            const analysis = data.analyze(userInput);
            
            builderDisplay.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 1.5rem; margin-bottom: 10px; color: ${data.color};">
                        ${data.icon} ${data.title}
                    </div>
                    
                    <div style="background: var(--dark-surface); padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>Your Input:</strong><br>
                        <span style="color: ${data.color}; font-style: italic;">${userInput}</span>
                    </div>
                    
                    <div style="background: rgba(${parseInt(data.color.slice(1,3), 16)}, ${parseInt(data.color.slice(3,5), 16)}, ${parseInt(data.color.slice(5,7), 16)}, 0.1); padding: 15px; border-radius: 8px; margin: 10px 0; border: 1px solid ${data.color};">
                        ${analysis}
                    </div>
                    
                    <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 15px;">
                        <strong>Learning Tip:</strong> Practice using new words in your own sentences to remember them better!
                    </div>
                </div>
            `;
        };

        window.getWordChallenge = function() {
            const vocabularyTypeSelect = document.getElementById('vocabularyType');
            const vocabularyInput = document.getElementById('vocabularyInput');
            
            if (!vocabularyTypeSelect || !vocabularyInput) return;
            
            const activityType = vocabularyTypeSelect.value;
            
            if (!activityType) {
                alert("Please select an activity type first!");
                return;
            }
            
            const challenges = {
                synonyms: [
                    "Find 3 synonyms for: 'beautiful'",
                    "What's another word for 'intelligent'?",
                    "Give 2 synonyms for 'quick'",
                    "What word means the same as 'tiny'?",
                    "Find a synonym for 'angry'"
                ],
                antonyms: [
                    "What's the opposite of 'light'?",
                    "Give 2 antonyms for 'rich'",
                    "What's the opposite of 'begin'?",
                    "Find an antonym for 'brave'",
                    "What word means the opposite of 'full'?"
                ],
                homophones: [
                    "What homophone pair sounds like 'flower'?",
                    "Give the homophones for 'their'",
                    "What word sounds like 'right' but means to write?",
                    "Find the homophone for 'sea'",
                    "What three words sound the same but have different meanings?"
                ],
                context: [
                    "The meticulous artist took great care with every detail. What does 'meticulous' mean?",
                    "Unlike his talkative brother, he was very reticent. What does 'reticent' mean?",
                    "The voracious reader finished three books in one day. What does 'voracious' mean?",
                    "Her magnanimous act of donating all her prize money surprised everyone. What does 'magnanimous' mean?",
                    "The arid desert had very little rainfall. What does 'arid' mean?"
                ]
            };
            
            const activityChallenges = challenges[activityType];
            if (activityChallenges) {
                const randomChallenge = activityChallenges[Math.floor(Math.random() * activityChallenges.length)];
                vocabularyInput.value = randomChallenge;
                vocabularyInput.focus();
            }
        };

        window.clearBuilder = function() {
            const vocabularyInput = document.getElementById('vocabularyInput');
            const builderDisplay = document.getElementById('builderDisplay');
            
            if (vocabularyInput) vocabularyInput.value = '';
            if (builderDisplay) {
                builderDisplay.innerHTML = "Your vocabulary analysis will appear here...";
            }
        };

        function initializeWordWebDiagram() {
            const wordWebDiagram = document.getElementById('wordWebDiagram');
            if (!wordWebDiagram) return;
            
            // Create an interactive word web diagram
            wordWebDiagram.innerHTML = `
                <!-- Center Word -->
                <div class="word-element" style="background-color: var(--primary-blue); width: 120px; height: 60px; top: 50%; left: 50%; transform: translate(-50%, -50%);" onclick="showVocabularyDemo('Synonyms')">
                    <div style="font-size: 1.2rem;">Happy</div>
                    <div style="font-size: 0.8rem;">(Center)</div>
                </div>
                
                <!-- Synonyms -->
                <div class="word-element" style="background-color: var(--secondary-teal); width: 100px; height: 50px; top: 20%; left: 30%;" onclick="showVocabularyDemo('Synonyms')">
                    <div style="font-size: 1rem;">Joyful</div>
                </div>
                
                <div class="word-element" style="background-color: var(--secondary-teal); width: 100px; height: 50px; top: 20%; left: 70%;" onclick="showVocabularyDemo('Synonyms')">
                    <div style="font-size: 1rem;">Glad</div>
                </div>
                
                <!-- Antonym -->
                <div class="word-element" style="background-color: var(--accent-amber); width: 100px; height: 50px; top: 80%; left: 50%;" onclick="showVocabularyDemo('Antonyms')">
                    <div style="font-size: 1rem;">Sad</div>
                </div>
                
                <!-- Connections -->
                <div class="word-connection" style="width: 20%; top: 35%; left: 40%; transform: rotate(-30deg);"></div>
                <div class="word-connection" style="width: 20%; top: 35%; left: 50%; transform: rotate(30deg);"></div>
                <div class="word-connection" style="width: 15%; top: 65%; left: 50%;"></div>
                
                <!-- Legend -->
                <div style="position: absolute; bottom: 40px; left: 10px; color: var(--text-secondary); font-size: 0.7rem;">
                    <div><span style="color: var(--secondary-teal);">‚óè</span> Synonyms</div>
                    <div><span style="color: var(--accent-amber);">‚óè</span> Antonym</div>
                </div>
                
                <!-- Instructions -->
                <div style="position: absolute; bottom: 10px; left: 0; right: 0; text-align: center; color: var(--text-secondary); font-size: 0.8rem;">
                    Click on vocabulary cards above to explore different word relationships
                </div>
            `;
        }

        // Load current question
        function loadQuestion() {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${appState.currentQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / appState.currentQuestions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            vocabularyFact.innerHTML = '';
            conceptDisplay.innerHTML = '';
            visualizationContainer.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            vocabularyFact.appendChild(createVocabularyFact());
            conceptDisplay.appendChild(createConceptDisplay());
            visualizationContainer.appendChild(createVocabularyVisualization());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation, question.answer);
            }
            
            nextQuestionBtn.disabled = false;
            saveStateToStorage();
        }

        // Show feedback
        function showFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    const correctOption = String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65));
                    const correctText = questions.find(q => 
                        appState.currentQuestions[appState.currentQuestionIndex].question === q.question
                    )?.options[correctAnswer.charCodeAt(0) - 65];
                    
                    feedbackMessage.textContent = `Correct answer: ${correctOption} (${correctText})`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Move to next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions();
            
            saveStateToStorage();
            showPracticePage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            alert("In a complete implementation, this would navigate to the topics selection page.");
        }

        // Start practice session
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin your vocabulary journey!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            if (appState.currentQuestions.length === 0) {
                initializeQuestions();
            }
            
            saveStateToStorage();
            showPracticePage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
