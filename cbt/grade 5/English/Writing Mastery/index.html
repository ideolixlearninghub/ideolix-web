<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 5 English - Writing Mastery | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for English/Language Arts Theme */
        :root {
            --primary-indigo: #3F51B5;
            --secondary-teal: #009688;
            --accent-orange: #FF9800;
            --accent-pink: #E91E63;
            --accent-purple: #9C27B0;
            --accent-green: #4CAF50;
            --accent-amber: #FFC107;
            --accent-blue: #2196F3;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #888;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glow: 0 0 20px rgba(63, 81, 181, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Slideshow */
        .slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            position: sticky;
            top: 20px;
            z-index: 100;
            border: 1px solid var(--dark-border);
        }

        .logo {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 12px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info {
            flex: 1;
        }

        .brand-info h1 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--dark-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--glow);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-logo {
            width: 140px;
            height: 140px;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            background-color: var(--dark-surface);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .welcome-logo img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .welcome-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-indigo), var(--secondary-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            max-width: 700px;
            line-height: 1.6;
        }

        /* Writing Type Selection */
        .writing-type-selection {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
            width: 100%;
            max-width: 1000px;
        }

        @media (max-width: 768px) {
            .writing-type-selection {
                grid-template-columns: 1fr;
            }
        }

        .writing-type-card {
            background: var(--dark-surface);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 300px;
        }

        .writing-type-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
        }

        .writing-type-card.active {
            border-color: var(--primary-indigo);
            background: rgba(63, 81, 181, 0.1);
        }

        .type-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .type-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .type-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .type-features {
            text-align: left;
            font-size: 0.85rem;
            color: var(--text-muted);
            width: 100%;
        }

        .type-features li {
            margin: 5px 0;
            padding-left: 10px;
        }

        /* Narrative specific colors */
        .writing-type-card[data-type="narrative"] {
            border-color: var(--accent-purple);
        }
        
        .writing-type-card[data-type="narrative"] .type-icon {
            color: var(--accent-purple);
        }
        
        .writing-type-card[data-type="narrative"] .type-title {
            color: var(--accent-purple);
        }

        /* Descriptive specific colors */
        .writing-type-card[data-type="descriptive"] {
            border-color: var(--accent-blue);
        }
        
        .writing-type-card[data-type="descriptive"] .type-icon {
            color: var(--accent-blue);
        }
        
        .writing-type-card[data-type="descriptive"] .type-title {
            color: var(--accent-blue);
        }

        /* Expository specific colors */
        .writing-type-card[data-type="expository"] {
            border-color: var(--accent-green);
        }
        
        .writing-type-card[data-type="expository"] .type-icon {
            color: var(--accent-green);
        }
        
        .writing-type-card[data-type="expository"] .type-title {
            color: var(--accent-green);
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(63, 81, 181, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 25px;
            border: 1px solid var(--primary-indigo);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-indigo);
        }

        .input-group {
            width: 100%;
            max-width: 500px;
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            font-size: 1.1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-indigo);
            box-shadow: 0 0 0 3px rgba(63, 81, 181, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-indigo);
            color: white;
            box-shadow: 0 4px 15px rgba(63, 81, 181, 0.4);
        }

        .btn-primary:hover {
            background: #303F9F;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(63, 81, 181, 0.5);
        }

        .btn-secondary {
            background: var(--secondary-teal);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 150, 136, 0.4);
        }

        .btn-secondary:hover {
            background: #00796B;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 150, 136, 0.5);
        }

        .btn-narrative {
            background: var(--accent-purple);
            color: white;
            box-shadow: 0 4px 15px rgba(156, 39, 176, 0.4);
        }

        .btn-narrative:hover {
            background: #7B1FA2;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(156, 39, 176, 0.5);
        }

        .btn-descriptive {
            background: var(--accent-blue);
            color: white;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);
        }

        .btn-descriptive:hover {
            background: #1976D2;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.5);
        }

        .btn-expository {
            background: var(--accent-green);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-expository:hover {
            background: #388E3C;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-indigo);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Mode */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-surface);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(63, 81, 181, 0.5);
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .writing-fact {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-orange);
            font-style: italic;
            color: var(--text-secondary);
        }

        /* Content Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .question-side {
            display: flex;
            flex-direction: column;
        }

        .visualization-side {
            display: flex;
            flex-direction: column;
        }

        .concept-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .concept-box {
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 4px 15px rgba(63, 81, 181, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .concept-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .concept-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 5px;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        .option {
            padding: 18px 20px;
            background: var(--dark-surface);
            border: 2px solid var(--dark-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-indigo);
            background: rgba(63, 81, 181, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(63, 81, 181, 0.1);
            border-color: var(--primary-indigo);
            color: var(--primary-indigo);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--dark-card);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            background: var(--secondary-teal);
        }

        .option.correct .option-letter {
            background: var(--primary-indigo);
            color: white;
        }

        .option.incorrect .option-letter {
            background: #F44336;
            color: white;
        }

        .feedback-container {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(63, 81, 181, 0.1);
            border-left: 5px solid var(--primary-indigo);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 5px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--primary-indigo);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feedback-correct .feedback-title {
            color: var(--primary-indigo);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-message {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            font-style: italic;
            color: var(--text-secondary);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Visualization Components */
        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            height: 100%;
            border: 1px solid var(--dark-border);
            overflow: auto;
        }

        /* Writing Structure Displays */
        .structure-diagram {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid var(--secondary-teal);
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .structure-title {
            color: var(--secondary-teal);
            margin-bottom: 15px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .structure-element {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
        }

        .element-title {
            font-weight: bold;
            color: var(--primary-indigo);
            margin-bottom: 5px;
        }

        .element-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
        }

        /* Comparison Display */
        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .comparison-container {
                grid-template-columns: 1fr;
            }
        }

        .writing-column {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            border: 2px solid transparent;
        }

        .writing-column.narrative {
            border-color: var(--accent-purple);
        }

        .writing-column.descriptive {
            border-color: var(--accent-blue);
        }

        .writing-column.expository {
            border-color: var(--accent-green);
        }

        .column-title {
            color: var(--accent-purple);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .writing-column.descriptive .column-title {
            color: var(--accent-blue);
        }

        .writing-column.expository .column-title {
            color: var(--accent-green);
        }

        /* Features Display */
        .features-display {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .features-display {
                grid-template-columns: 1fr;
            }
        }

        .feature-item {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .feature-icon {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .feature-title {
            font-weight: bold;
            color: var(--primary-indigo);
            margin-bottom: 8px;
        }

        .feature-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Rule Cards */
        .rules-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .rules-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .rules-grid {
                grid-template-columns: 1fr;
            }
        }

        .rule-card {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: transform 0.3s ease;
        }

        .rule-card:hover {
            transform: translateY(-3px);
        }

        .rule-card.active {
            border-color: var(--primary-indigo);
            background: rgba(63, 81, 181, 0.1);
        }

        .rule-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            text-align: center;
        }

        .rule-title {
            font-weight: bold;
            color: var(--primary-indigo);
            margin-bottom: 8px;
            text-align: center;
        }

        .rule-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-align: center;
        }

        /* Writing Steps */
        .writing-steps {
            margin: 20px 0;
        }

        .writing-step {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid var(--accent-orange);
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .step-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--accent-orange);
            border-radius: 50%;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-weight: bold;
            color: var(--primary-indigo);
            margin-bottom: 5px;
        }

        .step-example {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-style: italic;
            margin-top: 5px;
        }

        /* Examples Table */
        .examples-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--dark-card);
            border-radius: 8px;
            overflow: hidden;
        }

        .examples-table th {
            background: var(--dark-surface);
            padding: 12px;
            text-align: left;
            color: var(--primary-indigo);
            border-bottom: 2px solid var(--primary-indigo);
        }

        .examples-table td {
            padding: 10px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
        }

        .examples-table tr:hover {
            background: rgba(63, 81, 181, 0.05);
        }

        /* Prompts Display */
        .prompts-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .prompts-container {
                grid-template-columns: 1fr;
            }
        }

        .prompt-card {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            border: 2px solid var(--accent-pink);
        }

        .prompt-title {
            color: var(--accent-pink);
            margin-bottom: 10px;
            font-weight: bold;
        }

        .prompt-text {
            font-style: italic;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .prompt-response {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 6px;
            font-size: 0.9rem;
            color: var(--accent-green);
        }

        /* Sensory Details Display */
        .sensory-display {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .sensory-display {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .sensory-display {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .sensory-item {
            background: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .sensory-icon {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .sensory-title {
            font-weight: bold;
            color: var(--accent-blue);
            margin-bottom: 5px;
        }

        .sensory-example {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Paragraph Structure */
        .paragraph-structure {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid var(--accent-purple);
        }

        .paragraph-title {
            color: var(--accent-purple);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .paragraph-parts {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .paragraph-part {
            background: rgba(156, 39, 176, 0.1);
            padding: 15px;
            border-radius: 6px;
        }

        .part-label {
            font-weight: bold;
            color: var(--accent-purple);
            margin-bottom: 5px;
        }

        .part-content {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Writing Samples */
        .writing-samples {
            background: var(--dark-card);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .sample-title {
            color: var(--accent-orange);
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .sample-content {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 6px;
            font-family: 'Georgia', serif;
            line-height: 1.6;
            color: var(--text-primary);
        }

        .sample-highlight {
            background: rgba(255, 193, 7, 0.2);
            padding: 2px 4px;
            border-radius: 3px;
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-indigo), var(--secondary-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-indigo), var(--secondary-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--dark-border);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 5px;
            }
            
            .concept-box {
                min-width: 140px;
                font-size: 1.5rem;
                padding: 15px 20px;
            }
            
            .rules-grid {
                grid-template-columns: 1fr;
            }
            
            .features-display {
                grid-template-columns: 1fr;
            }
            
            .sensory-display {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes grow {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .grow {
            animation: grow 0.5s ease forwards;
        }
        
        @keyframes typeWriter {
            from { width: 0 }
            to { width: 100% }
        }
        
        .typewriter {
            overflow: hidden;
            white-space: nowrap;
            animation: typeWriter 2s steps(40, end);
        }
        
        @keyframes colorShift {
            0% { color: var(--accent-purple); }
            33% { color: var(--accent-blue); }
            66% { color: var(--accent-green); }
            100% { color: var(--accent-purple); }
        }
        
        .color-shift {
            animation: colorShift 3s infinite;
        }
        
        @keyframes highlight {
            0%, 100% { background-color: transparent; }
            50% { background-color: rgba(255, 193, 7, 0.3); }
        }
        
        .highlight {
            animation: highlight 1s ease-in-out;
        }
    </style>
</head>
<body>
    <!-- Background Slideshow -->
    <div class="slideshow" id="slideshow">
        <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1519682337058-a94d519337bc?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1457369804613-52c61a468e7d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')"></div>
    </div>
    <div class="overlay"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToTopics">Other Topics</button>
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <div class="welcome-logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <h1 class="welcome-title">Grade 5 English Writing Mastery</h1>
            <p class="welcome-subtitle">Become an amazing writer! Master three essential writing types: Narrative (stories), Descriptive (vivid descriptions), and Expository (informative writing). Learn structure, techniques, and creative expression!</p>
            
            <div class="writing-type-selection" id="writingTypeSelection">
                <!-- Narrative Writing -->
                <div class="writing-type-card" data-type="narrative" id="narrativeCard">
                    <div class="type-icon">üìñ‚ú®</div>
                    <div class="type-title">Narrative Writing</div>
                    <div class="type-description">Tell captivating stories with characters, settings, and plots. Learn story structure, dialogue, and creative storytelling techniques.</div>
                    <ul class="type-features">
                        <li>Characters & Setting</li>
                        <li>Plot Structure</li>
                        <li>Dialogue Writing</li>
                        <li>Creative Storytelling</li>
                    </ul>
                </div>
                
                <!-- Descriptive Writing -->
                <div class="writing-type-card" data-type="descriptive" id="descriptiveCard">
                    <div class="type-icon">üé®üåÖ</div>
                    <div class="type-title">Descriptive Writing</div>
                    <div class="type-description">Paint pictures with words using sensory details. Master vivid descriptions that engage all five senses.</div>
                    <ul class="type-features">
                        <li>Sensory Details</li>
                        <li>Figurative Language</li>
                        <li>Vivid Vocabulary</li>
                        <li>Show, Don't Tell</li>
                    </ul>
                </div>
                
                <!-- Expository Writing -->
                <div class="writing-type-card" data-type="expository" id="expositoryCard">
                    <div class="type-icon">üìöüîç</div>
                    <div class="type-title">Expository Writing</div>
                    <div class="type-description">Explain, inform, and clarify. Learn to organize facts, write clearly, and present information effectively.</div>
                    <ul class="type-features">
                        <li>Clear Organization</li>
                        <li>Fact-Based Writing</li>
                        <li>Logical Structure</li>
                        <li>Informative Content</li>
                    </ul>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your full name:</label>
                <input type="text" id="studentName" placeholder="Your full name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startNarrative">
                    <span>Start Narrative Writing</span>
                </button>
                <button class="btn btn-primary" id="startDescriptive">
                    <span>Start Descriptive Writing</span>
                </button>
                <button class="btn btn-primary" id="startExpository">
                    <span>Start Expository Writing</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 45</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 2%"></div>
                </div>
            </div>

            <div class="question-container">
                <!-- Writing fact display -->
                <div id="writingFact"></div>
                
                <!-- Concept display area -->
                <div id="conceptDisplay"></div>
                
                <!-- Content Wrapper: Questions on left, Visualizations on right -->
                <div class="content-wrapper" id="contentWrapper">
                    <!-- Left side: Question and Options -->
                    <div class="question-side">
                        <h2 class="question-text" id="questionText"></h2>
                        
                        <div class="options-container" id="optionsContainer"></div>
                        
                        <div class="feedback-container" id="feedbackContainer">
                            <div class="feedback-header">
                                <div class="feedback-icon"></div>
                                <div class="feedback-title"></div>
                            </div>
                            <div class="feedback-message"></div>
                            <div class="feedback-explanation"></div>
                        </div>
                    </div>
                    
                    <!-- Right side: Visualizations -->
                    <div class="visualization-side">
                        <div class="visualization-container" id="visualizationContainer">
                            <!-- All visualizations will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                    <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Writing Mastery Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="retryTopic">Try Again</button>
                <button class="btn btn-secondary" id="viewTopics">Explore Other Writing Types</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize slideshow
        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 5000);
        }

        // Narrative Writing Questions (45 questions)
        const narrativeQuestions = [
            // Story Structure (1-10)
            {
                type: "story_structure",
                question: "Which part of a story introduces characters and setting?",
                options: ["Beginning", "Middle", "End", "Climax"],
                answer: "A",
                explanation: "The beginning (exposition) introduces characters, setting, and basic situation."
            },
            {
                type: "story_structure",
                question: "What is the climax of a story?",
                options: ["The most exciting part", "The introduction", "The conclusion", "The setting description"],
                answer: "A",
                explanation: "The climax is the turning point or most intense moment in the story."
            },
            {
                type: "story_structure",
                question: "Which element shows how the story ends?",
                options: ["Resolution", "Exposition", "Rising action", "Falling action"],
                answer: "A",
                explanation: "The resolution shows how the story's problems are solved and how it ends."
            },
            {
                type: "story_structure",
                question: "What comes after the climax in a story?",
                options: ["Falling action", "Rising action", "Exposition", "Introduction"],
                answer: "A",
                explanation: "Falling action comes after the climax and leads to the resolution."
            },
            {
                type: "story_structure",
                question: "Which part builds tension in a story?",
                options: ["Rising action", "Climax", "Resolution", "Conclusion"],
                answer: "A",
                explanation: "Rising action builds tension and develops the conflict."
            },

            // Characters (11-20)
            {
                type: "characters",
                question: "What is a protagonist?",
                options: ["Main character", "Villain", "Side character", "Narrator"],
                answer: "A",
                explanation: "The protagonist is the main character who drives the story forward."
            },
            {
                type: "characters",
                question: "What do we call the character who opposes the main character?",
                options: ["Antagonist", "Protagonist", "Supporting character", "Narrator"],
                answer: "A",
                explanation: "The antagonist opposes or creates conflict for the protagonist."
            },
            {
                type: "characters",
                question: "What is character development?",
                options: ["How a character changes", "Where a character lives", "What a character looks like", "When a character appears"],
                answer: "A",
                explanation: "Character development shows how a character grows or changes through the story."
            },
            {
                type: "characters",
                question: "Which shows a character's personality?",
                options: ["Their actions and words", "Their height", "Their house", "The time of day"],
                answer: "A",
                explanation: "Characters reveal their personality through what they do and say."
            },
            {
                type: "characters",
                question: "What helps readers understand a character's feelings?",
                options: ["Thoughts and dialogue", "Setting description", "Plot summary", "Title"],
                answer: "A",
                explanation: "Character thoughts and dialogue reveal inner feelings and motivations."
            },

            // Setting (21-30)
            {
                type: "setting",
                question: "What does setting include?",
                options: ["Time and place", "Only the location", "Only characters", "Only the plot"],
                answer: "A",
                explanation: "Setting includes both time (when) and place (where) the story happens."
            },
            {
                type: "setting",
                question: "Why is setting important?",
                options: ["Creates mood and atmosphere", "Only describes location", "Lists characters", "Shows the title"],
                answer: "A",
                explanation: "Setting helps create mood and makes the story feel real."
            },
            {
                type: "setting",
                question: "How can you describe a setting effectively?",
                options: ["Use sensory details", "List facts only", "Use only colors", "Ignore weather"],
                answer: "A",
                explanation: "Sensory details (sight, sound, smell, touch, taste) make settings vivid."
            },
            {
                type: "setting",
                question: "What does 'establishing the setting' mean?",
                options: ["Introducing time and place", "Creating characters", "Writing dialogue", "Ending the story"],
                answer: "A",
                explanation: "Establishing setting means introducing when and where the story happens."
            },
            {
                type: "setting",
                question: "How does setting affect characters?",
                options: ["Influences their actions", "Changes their names", "Makes them talk", "Decides the plot"],
                answer: "A",
                explanation: "Setting can influence how characters act and what choices they make."
            },

            // Dialogue (31-40)
            {
                type: "dialogue",
                question: "What is dialogue?",
                options: ["Characters talking", "Narrator describing", "Setting details", "Story title"],
                answer: "A",
                explanation: "Dialogue is conversation between characters in a story."
            },
            {
                type: "dialogue",
                question: "Why is dialogue important in stories?",
                options: ["Shows character personality", "Only fills space", "Makes stories longer", "Replaces setting"],
                answer: "A",
                explanation: "Dialogue reveals character personality, relationships, and advances the plot."
            },
            {
                type: "dialogue",
                question: "What punctuation marks show dialogue?",
                options: ["Quotation marks", "Parentheses", "Brackets", "Dashes"],
                answer: "A",
                explanation: "Quotation marks show exactly what characters are saying."
            },
            {
                type: "dialogue",
                question: "What should each new speaker have?",
                options: ["New paragraph", "Same paragraph", "No punctuation", "Different font"],
                answer: "A",
                explanation: "Each time a different character speaks, start a new paragraph."
            },
            {
                type: "dialogue",
                question: "What are dialogue tags?",
                options: ["He said, she asked", "Setting descriptions", "Plot points", "Chapter titles"],
                answer: "A",
                explanation: "Dialogue tags identify who is speaking (said, asked, replied, etc.)."
            },

            // Plot Elements (41-45)
            {
                type: "plot_elements",
                question: "What is conflict in a story?",
                options: ["The main problem", "The solution", "The setting", "The characters"],
                answer: "A",
                explanation: "Conflict is the main problem or struggle that drives the story."
            },
            {
                type: "plot_elements",
                question: "What is theme?",
                options: ["Main message or lesson", "Character names", "Setting location", "Dialogue style"],
                answer: "A",
                explanation: "Theme is the main message or lesson the author wants to convey."
            },
            {
                type: "plot_elements",
                question: "What makes a good story opening?",
                options: ["Grabs reader's attention", "Introduces all characters", "Solves the problem", "Describes everything"],
                answer: "A",
                explanation: "A good opening hooks the reader and makes them want to continue."
            },
            {
                type: "plot_elements",
                question: "What is pacing in a story?",
                options: ["Speed of events", "Character height", "Setting size", "Dialogue length"],
                answer: "A",
                explanation: "Pacing refers to how fast or slow events unfold in the story."
            },
            {
                type: "plot_elements",
                question: "What should a story conclusion do?",
                options: ["Resolve the conflict", "Introduce new characters", "Add more problems", "Ignore the plot"],
                answer: "A",
                explanation: "The conclusion should resolve the main conflict and provide closure."
            }
        ];

        // Descriptive Writing Questions (45 questions)
        const descriptiveQuestions = [
            // Sensory Details (1-10)
            {
                type: "sensory_details",
                question: "Which sense does this appeal to: 'The sweet smell of roses'?",
                options: ["Smell", "Sight", "Touch", "Taste"],
                answer: "A",
                explanation: "'Sweet smell' appeals to the sense of smell (olfactory)."
            },
            {
                type: "sensory_details",
                question: "What sense is used in: 'The rough, scratchy texture'?",
                options: ["Touch", "Sight", "Hearing", "Taste"],
                answer: "A",
                explanation: "'Rough, scratchy texture' describes how something feels to touch."
            },
            {
                type: "sensory_details",
                question: "Which sense: 'The deafening roar of thunder'?",
                options: ["Hearing", "Sight", "Smell", "Taste"],
                answer: "A",
                explanation: "'Deafening roar' describes a loud sound, appealing to hearing."
            },
            {
                type: "sensory_details",
                question: "What sense: 'The brilliant crimson sunset'?",
                options: ["Sight", "Hearing", "Touch", "Smell"],
                answer: "A",
                explanation: "Color descriptions like 'crimson' appeal to sight."
            },
            {
                type: "sensory_details",
                question: "Which sense: 'The bitter taste of medicine'?",
                options: ["Taste", "Smell", "Sight", "Hearing"],
                answer: "A",
                explanation: "'Bitter taste' directly appeals to the sense of taste."
            },

            // Figurative Language (11-20)
            {
                type: "figurative_language",
                question: "What is a simile?",
                options: ["Comparison using 'like' or 'as'", "Giving human traits to non-human", "Extreme exaggeration", "Words that imitate sounds"],
                answer: "A",
                explanation: "A simile compares two things using 'like' or 'as' (as brave as a lion)."
            },
            {
                type: "figurative_language",
                question: "What is personification?",
                options: ["Giving human traits to non-human", "Comparison without 'like' or 'as'", "Repeated consonant sounds", "Words that sound like noises"],
                answer: "A",
                explanation: "Personification gives human qualities to animals, objects, or ideas."
            },
            {
                type: "figurative_language",
                question: "What is a metaphor?",
                options: ["Direct comparison (A is B)", "Comparison using 'like' or 'as'", "Repeating vowel sounds", "Contradictory terms together"],
                answer: "A",
                explanation: "A metaphor directly states one thing is another (the world is a stage)."
            },
            {
                type: "figurative_language",
                question: "What is onomatopoeia?",
                options: ["Words that imitate sounds", "Extreme exaggeration", "Repeated consonant sounds", "Contradictory terms"],
                answer: "A",
                explanation: "Onomatopoeia uses words that sound like what they mean (buzz, crash, pop)."
            },
            {
                type: "figurative_language",
                question: "What is hyperbole?",
                options: ["Extreme exaggeration", "Comparing two things", "Giving human traits", "Repeating sounds"],
                answer: "A",
                explanation: "Hyperbole uses extreme exaggeration for emphasis (I'm so hungry I could eat a horse)."
            },

            // Show, Don't Tell (21-30)
            {
                type: "show_dont_tell",
                question: "Which shows instead of tells?",
                options: ["Her hands trembled as she spoke", "She was nervous", "He felt happy", "It was scary"],
                answer: "A",
                explanation: "Showing actions (hands trembled) is more descriptive than telling feelings (was nervous)."
            },
            {
                type: "show_dont_tell",
                question: "How can you show anger without saying 'angry'?",
                options: ["He clenched his fists", "He was mad", "He felt angry", "Anger filled him"],
                answer: "A",
                explanation: "Physical actions like clenched fists show anger without stating it directly."
            },
            {
                type: "show_dont_tell",
                question: "Which shows happiness effectively?",
                options: ["She skipped down the street, humming", "She was happy", "Happiness overwhelmed her", "She felt glad"],
                answer: "A",
                explanation: "Actions (skipped, humming) show happiness more vividly than stating the emotion."
            },
            {
                type: "show_dont_tell",
                question: "How to show cold weather without saying 'cold'?",
                options: ["Her breath formed frosty clouds", "It was freezing", "The cold was intense", "Temperature was low"],
                answer: "A",
                explanation: "Specific details (frosty breath clouds) show coldness effectively."
            },
            {
                type: "show_dont_tell",
                question: "Which shows fear effectively?",
                options: ["His heart pounded like a drum", "He was afraid", "Fear gripped him", "He felt scared"],
                answer: "A",
                explanation: "Physical reactions (heart pounding) show fear more powerfully than stating it."
            },

            // Vivid Vocabulary (31-40)
            {
                type: "vivid_vocabulary",
                question: "Which is more descriptive than 'big'?",
                options: ["Enormous", "Large", "Sizeable", "Not small"],
                answer: "A",
                explanation: "'Enormous' is more specific and vivid than the general word 'big'."
            },
            {
                type: "vivid_vocabulary",
                question: "Which is better than 'said' for excitement?",
                options: ["Exclaimed", "Spoke", "Told", "Uttered"],
                answer: "A",
                explanation: "'Exclaimed' shows excitement, while 'said' is neutral."
            },
            {
                type: "vivid_vocabulary",
                question: "What's a vivid word for 'walked slowly'?",
                options: ["Trudged", "Moved", "Proceeded", "Advanced"],
                answer: "A",
                explanation: "'Trudged' suggests slow, heavy walking with effort."
            },
            {
                type: "vivid_vocabulary",
                question: "Which is more descriptive than 'looked'?",
                options: ["Glanced", "Saw", "Viewed", "Observed"],
                answer: "A",
                explanation: "'Glanced' suggests a quick look, more specific than general 'looked'."
            },
            {
                type: "vivid_vocabulary",
                question: "Better word for 'very small'?",
                options: ["Minuscule", "Little", "Tiny", "Compact"],
                answer: "A",
                explanation: "'Minuscule' is more specific and vivid than 'very small'."
            },

            // Organization (41-45)
            {
                type: "organization",
                question: "How should you organize a descriptive paragraph?",
                options: ["Spatial order (top to bottom)", "Random order", "Alphabetical order", "By character names"],
                answer: "A",
                explanation: "Spatial order (top to bottom, left to right) helps readers visualize."
            },
            {
                type: "organization",
                question: "What should a descriptive opening do?",
                options: ["Create a strong impression", "List all details", "Introduce characters", "Solve a problem"],
                answer: "A",
                explanation: "A strong opening impression grabs attention and sets the mood."
            },
            {
                type: "organization",
                question: "How to choose details for description?",
                options: ["Most important features first", "Everything you see", "Only colors", "Only sizes"],
                answer: "A",
                explanation: "Focus on the most important or striking features first."
            },
            {
                type: "organization",
                question: "What makes descriptions effective?",
                options: ["Specific, concrete details", "Long, complicated words", "Many adjectives", "Rhyming words"],
                answer: "A",
                explanation: "Specific, concrete details create clearer mental pictures."
            },
            {
                type: "organization",
                question: "How to conclude a description?",
                options: ["End with strongest impression", "Add new details", "Introduce characters", "Ask questions"],
                answer: "A",
                explanation: "End with the strongest or most memorable impression."
            }
        ];

        // Expository Writing Questions (45 questions)
        const expositoryQuestions = [
            // Types of Expository Writing (1-10)
            {
                type: "expository_types",
                question: "What is expository writing?",
                options: ["Writing that explains or informs", "Writing that tells a story", "Writing that describes", "Writing that persuades"],
                answer: "A",
                explanation: "Expository writing explains, informs, or describes facts and information."
            },
            {
                type: "expository_types",
                question: "What is a 'how-to' essay?",
                options: ["Explains steps to do something", "Tells a personal story", "Describes a place", "Argues an opinion"],
                answer: "A",
                explanation: "A 'how-to' essay explains step-by-step how to do or make something."
            },
            {
                type: "expository_types",
                question: "What is a compare-contrast essay?",
                options: ["Shows similarities and differences", "Tells a fictional story", "Describes one thing only", "Persuades readers"],
                answer: "A",
                explanation: "Compare-contrast essays show how things are alike and different."
            },
            {
                type: "expository_types",
                question: "What is a cause-effect essay?",
                options: ["Explains reasons and results", "Describes a person", "Tells a sequence of events", "Argues a position"],
                answer: "A",
                explanation: "Cause-effect essays explain why things happen and what results they cause."
            },
            {
                type: "expository_types",
                question: "What is a problem-solution essay?",
                options: ["Identifies problem and solutions", "Tells a personal experience", "Describes an object", "Compares two things"],
                answer: "A",
                explanation: "Problem-solution essays identify a problem and propose solutions."

```html
            },

            // Organization (11-20)
            {
                type: "organization",
                question: "What is a thesis statement?",
                options: ["Main idea of the essay", "First sentence", "Conclusion", "Title"],
                answer: "A",
                explanation: "The thesis statement states the main idea or purpose of the essay."
            },
            {
                type: "organization",
                question: "What should each paragraph focus on?",
                options: ["One main idea", "Many different ideas", "Only examples", "Only facts"],
                answer: "A",
                explanation: "Each paragraph should focus on and develop one main idea."
            },
            {
                type: "organization",
                question: "What is topic sentence?",
                options: ["Main idea of paragraph", "First word", "Last sentence", "Question"],
                answer: "A",
                explanation: "The topic sentence states the main idea of a paragraph."
            },
            {
                type: "organization",
                question: "What are supporting details?",
                options: ["Facts that explain main idea", "Extra information", "New topics", "Stories"],
                answer: "A",
                explanation: "Supporting details are facts, examples, or explanations that develop the main idea."
            },
            {
                type: "organization",
                question: "What does conclusion do?",
                options: ["Summarizes main points", "Introduces new ideas", "Asks questions", "Adds more facts"],
                answer: "A",
                explanation: "The conclusion summarizes the main points and restates the thesis."
            },

            // Research & Facts (21-30)
            {
                type: "research_facts",
                question: "What are credible sources?",
                options: ["Reliable, trustworthy sources", "Any website", "Personal opinions", "Fictional stories"],
                answer: "A",
                explanation: "Credible sources are reliable and trustworthy, like books, encyclopedias, or reputable websites."
            },
            {
                type: "research_facts",
                question: "What is a fact?",
                options: ["Information that can be proven", "Personal opinion", "A feeling", "A guess"],
                answer: "A",
                explanation: "A fact is information that can be proven true or false."
            },
            {
                type: "research_facts",
                question: "What is an opinion?",
                options: ["Personal belief or view", "Provable information", "Scientific fact", "Historical date"],
                answer: "A",
                explanation: "An opinion is a personal belief that cannot be proven true or false."
            },
            {
                type: "research_facts",
                question: "How to present facts clearly?",
                options: ["Use specific numbers and details", "Use vague words", "Only use opinions", "Tell stories"],
                answer: "A",
                explanation: "Specific numbers, dates, and details make facts clearer and more convincing."
            },
            {
                type: "research_facts",
                question: "What should you avoid in expository writing?",
                options: ["Personal opinions as facts", "Clear organization", "Supporting details", "Topic sentences"],
                answer: "A",
                explanation: "Avoid presenting personal opinions as if they were proven facts."
            },

            // Clarity & Precision (31-40)
            {
                type: "clarity_precision",
                question: "What makes writing clear?",
                options: ["Simple, direct language", "Complex vocabulary", "Long sentences", "Many adjectives"],
                answer: "A",
                explanation: "Simple, direct language and clear organization make writing easy to understand."
            },
            {
                type: "clarity_precision",
                question: "Why use transition words?",
                options: ["Connect ideas smoothly", "Make writing longer", "Sound more formal", "Add decoration"],
                answer: "A",
                explanation: "Transition words (first, next, however, therefore) connect ideas and show relationships."
            },
            {
                type: "clarity_precision",
                question: "What is precise language?",
                options: ["Specific, exact words", "Vague descriptions", "General terms", "Repetitive words"],
                answer: "A",
                explanation: "Precise language uses specific, exact words instead of vague or general terms."
            },
            {
                type: "clarity_precision",
                question: "How to explain complex ideas?",
                options: ["Break into simpler parts", "Use technical terms", "Make it longer", "Add more facts"],
                answer: "A",
                explanation: "Break complex ideas into simpler, smaller parts for better understanding."
            },
            {
                type: "clarity_precision",
                question: "What is the purpose of examples?",
                options: ["Make ideas clearer", "Make writing longer", "Sound smarter", "Fill space"],
                answer: "A",
                explanation: "Examples help readers understand abstract ideas by showing concrete instances."
            },

            // Audience & Purpose (41-45)
            {
                type: "audience_purpose",
                question: "Who is the audience?",
                options: ["People reading your writing", "The author", "The characters", "The setting"],
                answer: "A",
                explanation: "The audience is the people who will read your writing."
            },
            {
                type: "audience_purpose",
                question: "Why consider your audience?",
                options: ["Use appropriate language", "Write whatever you want", "Use only big words", "Ignore their knowledge"],
                answer: "A",
                explanation: "Considering your audience helps you use appropriate language and explanations."
            },
            {
                type: "audience_purpose",
                question: "What is the purpose of expository writing?",
                options: ["Inform or explain", "Entertain readers", "Persuade people", "Tell a story"],
                answer: "A",
                explanation: "The main purpose is to inform, explain, or describe, not to entertain or persuade."
            },
            {
                type: "audience_purpose",
                question: "How to make information interesting?",
                options: ["Use engaging examples", "Add fictional stories", "Use only facts", "Make it very long"],
                answer: "A",
                explanation: "Engaging examples, analogies, and clear explanations make information interesting."
            },
            {
                type: "audience_purpose",
                question: "What tone is best for expository writing?",
                options: ["Clear and objective", "Emotional and dramatic", "Funny and silly", "Mysterious and vague"],
                answer: "A",
                explanation: "Expository writing should be clear, objective, and focused on information."
            }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            currentQuestions: [],
            studentName: "",
            writingType: "" // "narrative", "descriptive", or "expository"
        };

        // Positive feedback messages
        const positiveMessages = [
            "Excellent writing insight!",
            "Fantastic understanding of writing techniques!",
            "Great job! You're becoming a writing expert!",
            "Amazing! You understand writing structure perfectly!",
            "Well done! Perfect analysis of writing elements!",
            "You're a writing champion!",
            "Perfect! You think like a professional writer!",
            "Outstanding writing knowledge!",
            "Brilliant! You understand audience and purpose!",
            "You're on fire! Great writing skills!"
        ];

        // Writing facts for display
        const writingFacts = [
            "The word 'narrative' comes from Latin 'narrare' meaning 'to tell'!",
            "Descriptive writing activates the same brain areas as actually experiencing what's described!",
            "Expository writing is also called 'informational writing' or 'explanatory writing'!",
            "The oldest known story is the Epic of Gilgamesh, written around 2100 BC!",
            "Using specific nouns and strong verbs makes writing more powerful than using many adjectives!",
            "The 'five-paragraph essay' structure was developed in the late 19th century!",
            "Show, don't tell' is one of the oldest and most important writing rules!",
            "The average novel has about 80,000-100,000 words, but some famous books are much shorter or longer!"
        ];

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startNarrativeBtn = document.getElementById('startNarrative');
        const startDescriptiveBtn = document.getElementById('startDescriptive');
        const startExpositoryBtn = document.getElementById('startExpository');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const writingFact = document.getElementById('writingFact');
        const conceptDisplay = document.getElementById('conceptDisplay');
        const visualizationContainer = document.getElementById('visualizationContainer');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const backToHomeBtn = document.getElementById('backToHome');
        const backToTopicsBtn = document.getElementById('backToTopics');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const highestScore = document.getElementById('highestScore');
        
        // Writing type cards
        const narrativeCard = document.getElementById('narrativeCard');
        const descriptiveCard = document.getElementById('descriptiveCard');
        const expositoryCard = document.getElementById('expositoryCard');

        // Initialize the app
        function initApp() {
            initSlideshow();
            loadStateFromStorage();
            setupEventListeners();
            
            if (appState.studentName && appState.currentQuestions.length > 0) {
                showPracticePage();
            } else {
                showWelcomePage();
            }
        }

        // Load state from localStorage
        function loadStateFromStorage() {
            const savedState = localStorage.getItem('ideolixGrade5WritingMastery');
            if (savedState) {
                const parsed = JSON.parse(savedState);
                appState.studentName = parsed.studentName || "";
                appState.currentQuestionIndex = parsed.currentQuestionIndex || 0;
                appState.score = parsed.score || 0;
                appState.skipped = parsed.skipped || 0;
                appState.answered = parsed.answered || 0;
                appState.currentQuestions = parsed.currentQuestions || [];
                appState.writingType = parsed.writingType || "";
            }
        }

        // Save state to localStorage
        function saveStateToStorage() {
            localStorage.setItem('ideolixGrade5WritingMastery', JSON.stringify(appState));
        }

        // Initialize questions based on writing type
        function initializeQuestions(writingType) {
            appState.writingType = writingType;
            
            switch(writingType) {
                case "narrative":
                    appState.currentQuestions = [...narrativeQuestions];
                    break;
                case "descriptive":
                    appState.currentQuestions = [...descriptiveQuestions];
                    break;
                case "expository":
                    appState.currentQuestions = [...expositoryQuestions];
                    break;
            }
            
            shuffleArray(appState.currentQuestions);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Setup event listeners
        function setupEventListeners() {
            startNarrativeBtn.addEventListener('click', () => startPractice("narrative"));
            startDescriptiveBtn.addEventListener('click', () => startPractice("descriptive"));
            startExpositoryBtn.addEventListener('click', () => startPractice("expository"));
            
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', backToHome);
            backToTopicsBtn.addEventListener('click', backToTopics);
            viewTopicsBtn.addEventListener('click', backToTopics);
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    // Default to narrative if no specific type selected
                    startPractice("narrative");
                }
            });
            
            // Add click events to writing type cards
            narrativeCard.addEventListener('click', () => {
                clearActiveCards();
                narrativeCard.classList.add('active');
                startNarrativeBtn.classList.add('btn-narrative');
            });
            
            descriptiveCard.addEventListener('click', () => {
                clearActiveCards();
                descriptiveCard.classList.add('active');
                startDescriptiveBtn.classList.add('btn-descriptive');
            });
            
            expositoryCard.addEventListener('click', () => {
                clearActiveCards();
                expositoryCard.classList.add('active');
                startExpositoryBtn.classList.add('btn-expository');
            });
        }
        
        function clearActiveCards() {
            narrativeCard.classList.remove('active');
            descriptiveCard.classList.remove('active');
            expositoryCard.classList.remove('active');
            startNarrativeBtn.classList.remove('btn-narrative');
            startDescriptiveBtn.classList.remove('btn-descriptive');
            startExpositoryBtn.classList.remove('btn-expository');
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            
            // Set progress bar color based on writing type
            switch(appState.writingType) {
                case "narrative":
                    progressFill.style.background = "linear-gradient(to right, var(--accent-purple), #7B1FA2)";
                    break;
                case "descriptive":
                    progressFill.style.background = "linear-gradient(to right, var(--accent-blue), #1976D2)";
                    break;
                case "expository":
                    progressFill.style.background = "linear-gradient(to right, var(--accent-green), #388E3C)";
                    break;
                default:
                    progressFill.style.background = "linear-gradient(to right, var(--primary-indigo), var(--secondary-teal))";
            }
            
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const totalQuestions = appState.currentQuestions.length;
            const percentage = Math.round((appState.score / totalQuestions) * 100);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            
            const highest = localStorage.getItem(`ideolixGrade5Writing_${appState.writingType}_highestScore`) || 0;
            highestScore.textContent = Math.max(highest, appState.score);
            
            if (appState.score > highest) {
                localStorage.setItem(`ideolixGrade5Writing_${appState.writingType}_highestScore`, appState.score);
            }
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're a writing expert!";
            } else if (percentage >= 80) {
                scoreMessage.textContent = "Great job! You have excellent writing knowledge!";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good work! Keep practicing to become a writing master!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Not bad! Review writing techniques and try again!";
            } else {
                scoreMessage.textContent = "Keep learning! Writing skills grow with practice!";
            }
        }

        // Create writing fact display
        function createWritingFact() {
            const factDiv = document.createElement('div');
            factDiv.className = 'writing-fact';
            
            factDiv.innerHTML = `<strong>Writing Fact:</strong> ${writingFacts[Math.floor(Math.random() * writingFacts.length)]}`;
            
            return factDiv;
        }

        // Create concept display based on writing type
        function createConceptDisplay() {
            const display = document.createElement('div');
            display.className = 'concept-display';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            let conceptName = "";
            let conceptIcon = "";
            let conceptColor = "";
            
            switch(appState.writingType) {
                case "narrative":
                    conceptName = "Narrative Writing";
                    conceptIcon = "üìñ‚ú®";
                    conceptColor = "var(--accent-purple)";
                    break;
                case "descriptive":
                    conceptName = "Descriptive Writing";
                    conceptIcon = "üé®üåÖ";
                    conceptColor = "var(--accent-blue)";
                    break;
                case "expository":
                    conceptName = "Expository Writing";
                    conceptIcon = "üìöüîç";
                    conceptColor = "var(--accent-green)";
                    break;
            }
            
            const conceptBox = document.createElement('div');
            conceptBox.className = 'concept-box grow';
            conceptBox.style.background = `linear-gradient(135deg, ${conceptColor}, ${conceptColor}80)`;
            conceptBox.innerHTML = `
                <div class="concept-icon">${conceptIcon}</div>
                <div class="concept-text">${conceptName.toUpperCase()}</div>
            `;
            
            const label = document.createElement('div');
            label.className = 'concept-label';
            
            // Add specific label based on question type
            if (question.type.includes("story_structure") || question.type.includes("plot_elements")) {
                label.textContent = "Story Elements & Structure";
            } else if (question.type.includes("characters")) {
                label.textContent = "Character Development";
            } else if (question.type.includes("setting")) {
                label.textContent = "Setting & Atmosphere";
            } else if (question.type.includes("dialogue")) {
                label.textContent = "Dialogue & Conversation";
            } else if (question.type.includes("sensory_details")) {
                label.textContent = "Sensory Details & Description";
            } else if (question.type.includes("figurative_language")) {
                label.textContent = "Figurative Language";
            } else if (question.type.includes("show_dont_tell")) {
                label.textContent = "Show, Don't Tell";
            } else if (question.type.includes("vivid_vocabulary")) {
                label.textContent = "Vivid Vocabulary";
            } else if (question.type.includes("expository_types")) {
                label.textContent = "Types of Expository Writing";
            } else if (question.type.includes("research_facts")) {
                label.textContent = "Research & Facts";
            } else if (question.type.includes("clarity_precision")) {
                label.textContent = "Clarity & Precision";
            } else if (question.type.includes("audience_purpose")) {
                label.textContent = "Audience & Purpose";
            } else {
                label.textContent = "Writing Techniques & Skills";
            }
            
            display.appendChild(conceptBox);
            display.appendChild(label);
            
            return display;
        }

        // Create visualization based on writing type
        function createWritingVisualization() {
            const vizDiv = document.createElement('div');
            vizDiv.className = 'visualization-container';
            
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            switch(appState.writingType) {
                case "narrative":
                    vizDiv.innerHTML = createNarrativeVisualization(question);
                    break;
                case "descriptive":
                    vizDiv.innerHTML = createDescriptiveVisualization(question);
                    break;
                case "expository":
                    vizDiv.innerHTML = createExpositoryVisualization(question);
                    break;
            }
            
            return vizDiv;
        }

        // Narrative writing visualization
        function createNarrativeVisualization(question) {
            return `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-purple);">Narrative Writing Structure</h3>
                
                <div class="structure-diagram">
                    <div class="structure-title">Story Mountain</div>
                    <div style="text-align: center; margin: 20px 0;">
                        <div style="display: inline-block; padding: 10px; background: rgba(156, 39, 176, 0.1); border-radius: 8px; font-weight: bold; color: var(--accent-purple);">
                            üìñ Exposition ‚Üí üìà Rising Action ‚Üí ‚ö° Climax ‚Üí üìâ Falling Action ‚Üí üèÅ Resolution
                        </div>
                    </div>
                </div>
                
                <div class="comparison-container">
                    <div class="writing-column narrative">
                        <div class="column-title">Characters</div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Protagonist:</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Main character who drives the story</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Antagonist:</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Creates conflict for protagonist</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Character Development:</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">How characters change through the story</div>
                        </div>
                    </div>
                    
                    <div class="writing-column narrative">
                        <div class="column-title">Plot Elements</div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Conflict:</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Main problem or struggle</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Climax:</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Turning point, most exciting moment</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Resolution:</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">How the story ends, problem solved</div>
                        </div>
                    </div>
                    
                    <div class="writing-column narrative">
                        <div class="column-title">Setting & Dialogue</div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Setting:</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Time and place of story</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Dialogue:</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Character conversations in quotes</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-purple);">Theme:</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Main message or lesson</div>
                        </div>
                    </div>
                </div>
                
                <div class="writing-steps">
                    <div class="writing-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">Create Interesting Characters</div>
                            <div class="step-example">Give them personalities, goals, and flaws</div>
                        </div>
                    </div>
                    <div class="writing-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Establish Setting</div>
                            <div class="step-example">Where and when does the story happen?</div>
                        </div>
                    </div>
                    <div class="writing-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Introduce Conflict</div>
                            <div class="step-example">What problem must the character solve?</div>
                        </div>
                    </div>
                    <div class="writing-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-title">Build Rising Action</div>
                            <div class="step-example">Create tension and develop the story</div>
                        </div>
                    </div>
                    <div class="writing-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <div class="step-title">Reach Climax</div>
                            <div class="step-example">Most exciting moment, turning point</div>
                        </div>
                    </div>
                    <div class="writing-step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <div class="step-title">Resolve the Story</div>
                            <div class="step-example">Show how the conflict is resolved</div>
                        </div>
                    </div>
                </div>
                
                <div class="writing-samples">
                    <div class="sample-title">Sample Story Opening</div>
                    <div class="sample-content">
                        The old clock tower struck midnight, its chimes echoing through the empty streets. 
                        <span class="sample-highlight">[Setting: creates mood]</span> 
                        Maya tightened her grip on the flashlight, her heart pounding like a drum. 
                        <span class="sample-highlight">[Character feeling: show don't tell]</span> 
                        She knew she shouldn't be out this late, but the mysterious map she found promised treasure. 
                        <span class="sample-highlight">[Conflict: introduces problem]</span>
                        "Just a little further," she whispered to herself, the words swallowed by the darkness.
                        <span class="sample-highlight">[Dialogue: reveals character]</span>
                    </div>
                </div>
                
                <div class="prompts-container">
                    <div class="prompt-card">
                        <div class="prompt-title">Story Prompt #1</div>
                        <div class="prompt-text">Write about a character who discovers a magical object in their backyard.</div>
                        <div class="prompt-response">
                            <strong>Focus on:</strong> Character reaction, object description, and what happens next
                        </div>
                    </div>
                    <div class="prompt-card">
                        <div class="prompt-title">Story Prompt #2</div>
                        <div class="prompt-text">Create a story where the main character must overcome their biggest fear.</div>
                        <div class="prompt-response">
                            <strong>Focus on:</strong> Character development, suspense building, and resolution
                        </div>
                    </div>
                </div>
            `;
        }

        // Descriptive writing visualization
        function createDescriptiveVisualization(question) {
            return `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-blue);">Descriptive Writing Techniques</h3>
                
                <div class="sensory-display">
                    <div class="sensory-item">
                        <div class="sensory-icon">üëÅÔ∏è</div>
                        <div class="sensory-title">Sight</div>
                        <div class="sensory-example">Colors, shapes, sizes, movement</div>
                    </div>
                    <div class="sensory-item">
                        <div class="sensory-icon">üëÇ</div>
                        <div class="sensory-title">Sound</div>
                        <div class="sensory-example">Volume, pitch, rhythm, quality</div>
                    </div>
                    <div class="sensory-item">
                        <div class="sensory-icon">üëÉ</div>
                        <div class="sensory-title">Smell</div>
                        <div class="sensory-example">Sweet, pungent, fresh, musty</div>
                    </div>
                    <div class="sensory-item">
                        <div class="sensory-icon">‚úã</div>
                        <div class="sensory-title">Touch</div>
                        <div class="sensory-example">Texture, temperature, weight</div>
                    </div>
                    <div class="sensory-item">
                        <div class="sensory-icon">üëÖ</div>
                        <div class="sensory-title">Taste</div>
                        <div class="sensory-example">Sweet, sour, bitter, savory</div>
                    </div>
                </div>
                
                <div class="features-display">
                    <div class="feature-item">
                        <div class="feature-icon">üîç</div>
                        <div class="feature-title">Show, Don't Tell</div>
                        <div class="feature-description">Use actions and details instead of stating emotions</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üéØ</div>
                        <div class="feature-title">Specific Details</div>
                        <div class="feature-description">Use precise words instead of vague ones</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üåà</div>
                        <div class="feature-title">Figurative Language</div>
                        <div class="feature-description">Similes, metaphors, personification</div>
                    </div>
                </div>
                
                <div class="comparison-container">
                    <div class="writing-column descriptive">
                        <div class="column-title">Telling</div>
                        <div style="padding: 15px; background: rgba(255,255,255,0.05); border-radius: 6px; margin: 10px 0; font-style: italic;">
                            "The weather was bad."
                        </div>
                        <div style="padding: 15px; background: rgba(255,255,255,0.05); border-radius: 6px; margin: 10px 0; font-style: italic;">
                            "She was scared."
                        </div>
                        <div style="padding: 15px; background: rgba(255,255,255,0.05); border-radius: 6px; margin: 10px 0; font-style: italic;">
                            "The food tasted good."
                        </div>
                    </div>
                    
                    <div class="writing-column descriptive">
                        <div class="column-title">Showing</div>
                        <div style="padding: 15px; background: rgba(33,150,243,0.1); border-radius: 6px; margin: 10px 0; color: var(--accent-blue);">
                            "Dark clouds gathered, and cold rain began to fall."
                        </div>
                        <div style="padding: 15px; background: rgba(33,150,243,0.1); border-radius: 6px; margin: 10px 0; color: var(--accent-blue);">
                            "Her hands trembled, and she held her breath."
                        </div>
                        <div style="padding: 15px; background: rgba(33,150,243,0.1); border-radius: 6px; margin: 10px 0; color: var(--accent-blue);">
                            "The chocolate melted smoothly, sweet and rich."
                        </div>
                    </div>
                    
                    <div class="writing-column descriptive">
                        <div class="column-title">Vivid Words</div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-blue);">Instead of "big":</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">enormous, gigantic, massive, immense</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-blue);">Instead of "said":</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">whispered, exclaimed, muttered, declared</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-blue);">Instead of "walked":</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">strolled, marched, trudged, skipped</div>
                        </div>
                    </div>
                </div>
                
                <div class="writing-samples">
                    <div class="sample-title">Sample Descriptive Paragraph</div>
                    <div class="sample-content">
                        The ancient forest stood silent, its towering trees like giant sentinels guarding forgotten secrets. 
                        <span class="sample-highlight">[Metaphor: trees as sentinels]</span> 
                        Sunlight filtered through the dense canopy in golden shafts, illuminating dancing dust motes. 
                        <span class="sample-highlight">[Visual detail: specific imagery]</span> 
                        The air carried the earthy scent of damp soil and decaying leaves, mixed with the sweet perfume of unseen flowers. 
                        <span class="sample-highlight">[Olfactory: smell details]</span> 
                        Beneath my feet, the moss felt like a plush green carpet, cool and spongy. 
                        <span class="sample-highlight">[Tactile: touch sensation with simile]</span> 
                        Somewhere in the distance, a bird's melodic trill echoed, the only sound in the profound stillness.
                        <span class="sample-highlight">[Auditory: sound detail]</span>
                    </div>
                </div>
                
                <div class="prompts-container">
                    <div class="prompt-card">
                        <div class="prompt-title">Descriptive Prompt #1</div>
                        <div class="prompt-text">Describe your favorite place using all five senses.</div>
                        <div class="prompt-response">
                            <strong>Focus on:</strong> Sensory details, specific observations, and emotional connection
                        </div>
                    </div>
                    <div class="prompt-card">
                        <div class="prompt-title">Descriptive Prompt #2</div>
                        <div class="prompt-text">Describe a storm approaching without using the words "storm," "rain," or "cloud."</div>
                        <div class="prompt-response">
                            <strong>Focus on:</strong> Figurative language, atmosphere creation, and sensory hints
                        </div>
                    </div>
                </div>
            `;
        }

        // Expository writing visualization
        function createExpositoryVisualization(question) {
            return `
                <h3 style="text-align: center; margin-bottom: 20px; color: var(--accent-green);">Expository Writing Structure</h3>
                
                <div class="paragraph-structure">
                    <div class="paragraph-title">Five-Paragraph Essay Structure</div>
                    <div class="paragraph-parts">
                        <div class="paragraph-part">
                            <div class="part-label">Paragraph 1: Introduction</div>
                            <div class="part-content">Hook, background information, thesis statement</div>
                        </div>
                        <div class="paragraph-part">
                            <div class="part-label">Paragraph 2: Body Paragraph 1</div>
                            <div class="part-content">Topic sentence, supporting details, examples</div>
                        </div>
                        <div class="paragraph-part">
                            <div class="part-label">Paragraph 3: Body Paragraph 2</div>
                            <div class="part-content">Topic sentence, supporting details, examples</div>
                        </div>
                        <div class="paragraph-part">
                            <div class="part-label">Paragraph 4: Body Paragraph 3</div>
                            <div class="part-content">Topic sentence, supporting details, examples</div>
                        </div>
                        <div class="paragraph-part">
                            <div class="part-label">Paragraph 5: Conclusion</div>
                            <div class="part-content">Restate thesis, summarize main points, final thought</div>
                        </div>
                    </div>
                </div>
                
                <div class="comparison-container">
                    <div class="writing-column expository">
                        <div class="column-title">Types of Expository Writing</div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">How-to Guides</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Step-by-step instructions</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">Compare-Contrast</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Shows similarities and differences</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">Cause-Effect</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Explains reasons and results</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">Problem-Solution</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Identifies problem and solutions</div>
                        </div>
                    </div>
                    
                    <div class="writing-column expository">
                        <div class="column-title">Research & Facts</div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">Credible Sources</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Books, encyclopedias, reputable websites</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">Fact vs. Opinion</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Facts can be proven, opinions are beliefs</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">Clear Evidence</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Specific examples, statistics, quotes</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">Proper Organization</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Logical order, clear transitions</div>
                        </div>
                    </div>
                    
                    <div class="writing-column expository">
                        <div class="column-title">Clarity & Precision</div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">Simple Language</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Clear, direct, easy to understand</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">Transition Words</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">First, next, however, therefore, finally</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">Specific Examples</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Concrete instances to explain ideas</div>
                        </div>
                        <div style="margin: 15px 0;">
                            <div style="font-weight: bold; color: var(--accent-green);">Objective Tone</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Neutral, informative, not emotional</div>
                        </div>
                    </div>
                </div>
                
                <div class="writing-steps">
                    <div class="writing-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">Choose Topic & Research</div>
                            <div class="step-example">Select interesting topic, gather facts from reliable sources</div>
                        </div>
                    </div>
                    <div class="writing-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Create Thesis Statement</div>
                            <div class="step-example">Clear sentence stating main idea or purpose</div>
                        </div>
                    </div>
                    <div class="writing-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Organize Information</div>
                            <div class="step-example">Group related facts, create outline with main points</div>
                        </div>
                    </div>
                    <div class="writing-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-title">Write Body Paragraphs</div>
                            <div class="step-example">Each paragraph: topic sentence, supporting details, examples</div>
                        </div>
                    </div>
                    <div class="writing-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <div class="step-title">Write Introduction & Conclusion</div>
                            <div class="step-example">Introduction hooks reader, conclusion summarizes key points</div>
                        </div>
                    </div>
                    <div class="writing-step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <div class="step-title">Revise & Edit</div>
                            <div class="step-example">Check clarity, organization, facts, and grammar</div>
                        </div>
                    </div>
                </div>
                
                <div class="writing-samples">
                    <div class="sample-title">Sample Expository Paragraph</div>
                    <div class="sample-content">
                        <strong>Topic:</strong> Why Recycling is Important
                        <br><br>
                        Recycling plays a crucial role in protecting our environment. 
                        <span class="sample-highlight">[Topic sentence: states main idea]</span> 
                        First, recycling reduces the amount of waste sent to landfills. According to environmental studies, recycling one ton of paper can save 17 trees and 7,000 gallons of water. 
                        <span class="sample-highlight">[Fact with specific numbers]</span> 
                        Second, recycling conserves natural resources. For example, recycling aluminum cans uses 95% less energy than making new ones from raw materials. 
                        <span class="sample-highlight">[Example with statistic]</span> 
                        Finally, recycling helps reduce pollution. Manufacturing products from recycled materials typically creates less air and water pollution than using virgin materials. 
                        <span class="sample-highlight">[Clear supporting point]</span> 
                        These benefits demonstrate why recycling should be a priority for communities everywhere.
                        <span class="sample-highlight">[Conclusion sentence]</span>
                    </div>
                </div>
                
                <div class="prompts-container">
                    <div class="prompt-card">
                        <div class="prompt-title">Expository Prompt #1</div>
                        <div class="prompt-text">Explain how to prepare for a test or exam.</div>
                        <div class="prompt-response">
                            <strong>Focus on:</strong> Clear steps, logical order, and helpful tips
                        </div>
                    </div>
                    <div class="prompt-card">
                        <div class="prompt-title">Expository Prompt #2</div>
                        <div class="prompt-text">Compare and contrast two sports or games.</div>
                        <div class="prompt-response">
                            <strong>Focus on:</strong> Clear organization, specific similarities and differences
                        </div>
                    </div>
                </div>
            `;
        }

        // Load current question
        function loadQuestion() {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${appState.currentQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / appState.currentQuestions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            writingFact.innerHTML = '';
            conceptDisplay.innerHTML = '';
            visualizationContainer.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            writingFact.appendChild(createWritingFact());
            conceptDisplay.appendChild(createConceptDisplay());
            visualizationContainer.appendChild(createWritingVisualization());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = appState.currentQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation, question.answer);
            }
            
            nextQuestionBtn.disabled = false;
            saveStateToStorage();
        }

        // Show feedback
        function showFeedback(isCorrect, explanation, correctAnswer = null) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackMessage = feedbackContainer.querySelector('.feedback-message');
            const feedbackExplanation = feedbackContainer.querySelector('.feedback-explanation');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
                feedbackMessage.textContent = positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
                if (correctAnswer) {
                    const correctOption = String.fromCharCode(65 + (correctAnswer.charCodeAt(0) - 65));
                    feedbackMessage.textContent = `Correct answer: ${correctOption}`;
                }
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Move to next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Skip current question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < appState.currentQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
            
            saveStateToStorage();
        }

        // Retry the topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions(appState.writingType);
            
            saveStateToStorage();
            showPracticePage();
        }

        // Go back to home page
        function backToHome() {
            showWelcomePage();
        }

        // Go back to topics page
        function backToTopics() {
            showWelcomePage();
        }

        // Start practice session
        function startPractice(writingType) {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            initializeQuestions(writingType);
            
            saveStateToStorage();
            showPracticePage();
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
