<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 8 English - Parts of Speech | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for English Theme */
        :root {
            --primary-indigo: #3F51B5;
            --primary-teal: #009688;
            --primary-amber: #FFC107;
            --primary-deep-purple: #673AB7;
            --accent-blue: #2196F3;
            --accent-green: #4CAF50;
            --accent-orange: #FF9800;
            --accent-pink: #E91E63;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --noun-indigo: rgba(63, 81, 181, 0.3);
            --verb-teal: rgba(0, 150, 136, 0.3);
            --adjective-amber: rgba(255, 193, 7, 0.3);
            --adverb-deep-purple: rgba(103, 58, 183, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(63, 81, 181, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 150, 136, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(255, 193, 7, 0.05) 0%, transparent 70%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 10px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info h1 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--primary-indigo), var(--primary-teal), var(--primary-amber));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(63, 81, 181, 0.15);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            border: 2px solid var(--primary-indigo);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--primary-indigo);
        }

        .input-group {
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary-indigo);
            box-shadow: 0 0 0 3px rgba(63, 81, 181, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-indigo);
            color: white;
            box-shadow: 0 4px 12px rgba(63, 81, 181, 0.3);
        }

        .btn-primary:hover {
            background: #303F9F;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(63, 81, 181, 0.4);
        }

        .btn-secondary {
            background: var(--primary-teal);
            color: white;
            box-shadow: 0 4px 12px rgba(0, 150, 136, 0.3);
        }

        .btn-secondary:hover {
            background: #00796B;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 150, 136, 0.4);
        }

        .btn-amber {
            background: var(--primary-amber);
            color: #000;
            box-shadow: 0 4px 12px rgba(255, 193, 7, 0.3);
        }

        .btn-amber:hover {
            background: #FFA000;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 193, 7, 0.4);
        }

        .btn-purple {
            background: var(--primary-deep-purple);
            color: white;
            box-shadow: 0 4px 12px rgba(103, 58, 183, 0.3);
        }

        .btn-purple:hover {
            background: #512DA8;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(103, 58, 183, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--primary-indigo);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Topics Grid */
        .topics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        @media (max-width: 992px) {
            .topics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 576px) {
            .topics-grid {
                grid-template-columns: 1fr;
            }
        }

        .topic-card {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .topic-card.nouns {
            border-color: var(--primary-indigo);
            background: linear-gradient(135deg, rgba(63, 81, 181, 0.1), transparent);
        }

        .topic-card.verbs {
            border-color: var(--primary-teal);
            background: linear-gradient(135deg, rgba(0, 150, 136, 0.1), transparent);
        }

        .topic-card.sentence {
            border-color: var(--primary-amber);
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), transparent);
        }

        .topic-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .topic-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .topic-card.nouns .topic-title {
            color: var(--primary-indigo);
        }

        .topic-card.verbs .topic-title {
            color: var(--primary-teal);
        }

        .topic-card.sentence .topic-title {
            color: var(--primary-amber);
        }

        .topic-features {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--dark-border);
        }

        .topic-features h4 {
            font-size: 0.9rem;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .feature-list {
            list-style-type: none;
        }

        .feature-list li {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-bottom: 4px;
            padding-left: 15px;
            position: relative;
        }

        .feature-list li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: var(--accent-blue);
        }

        /* Practice Page */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 8px;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-indigo), var(--primary-teal), var(--primary-amber));
            border-radius: 8px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(63, 81, 181, 0.5);
        }

        .question-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .english-tip {
            background: rgba(255, 193, 7, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--primary-amber);
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: var(--primary-indigo);
            background: rgba(63, 81, 181, 0.05);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: #F44336;
            color: #F44336;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 25px;
            height: 25px;
            background: var(--primary-indigo);
            border-radius: 50%;
            margin-right: 12px;
            font-weight: bold;
            color: white;
        }

        .option.correct .option-letter {
            background: var(--accent-green);
        }

        .option.incorrect .option-letter {
            background: #F44336;
        }

        /* Feedback */
        .feedback-container {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--accent-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid #F44336;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--accent-green);
        }

        .feedback-incorrect .feedback-icon {
            background: #F44336;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .feedback-correct .feedback-title {
            color: var(--accent-green);
        }

        .feedback-incorrect .feedback-title {
            color: #F44336;
        }

        .feedback-explanation {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Navigation */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        /* Content Wrapper */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
            overflow: auto;
        }

        /* Parts of Speech Visualizer */
        .speech-visualizer {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-indigo);
        }

        .visualizer-title {
            color: var(--primary-indigo);
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .speech-canvas-container {
            width: 100%;
            height: 200px;
            position: relative;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
            border: 1px solid var(--dark-border);
        }

        .speech-canvas {
            width: 100%;
            height: 100%;
        }

        .speech-info {
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 10px;
            margin: 10px 0;
            display: none;
        }

        .speech-info.show {
            display: block;
        }

        .speech-controls {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .speech-controls {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .speech-btn {
            padding: 8px;
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 6px;
            color: var(--text-primary);
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .speech-btn:hover {
            background: rgba(63, 81, 181, 0.1);
            border-color: var(--primary-indigo);
        }

        .speech-btn.active {
            background: var(--primary-indigo);
            color: white;
        }

        /* Sentence Structure Visualizer */
        .sentence-visualizer {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-teal);
        }

        .sentence-canvas-container {
            width: 100%;
            height: 250px;
            position: relative;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
            border: 1px solid var(--dark-border);
        }

        .sentence-canvas {
            width: 100%;
            height: 100%;
        }

        .sentence-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin: 10px 0;
        }

        .sentence-btn {
            padding: 8px;
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 6px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .sentence-btn:hover {
            background: rgba(0, 150, 136, 0.1);
            border-color: var(--primary-teal);
        }

        .sentence-btn.active {
            background: var(--primary-teal);
            color: white;
        }

        /* Grammar Rules Display */
        .rules-display {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--primary-amber);
        }

        .rules-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .rules-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .rule-card {
            background: var(--dark-surface);
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }

        .rule-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .rule-card.noun {
            border-left-color: var(--primary-indigo);
        }

        .rule-card.verb {
            border-left-color: var(--primary-teal);
        }

        .rule-card.adjective {
            border-left-color: var(--primary-amber);
        }

        .rule-card.adverb {
            border-left-color: var(--primary-deep-purple);
        }

        .rule-title {
            font-size: 0.9rem;
            font-weight: bold;
            color: var(--text-primary);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .rule-value {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }

        .results-title {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--primary-indigo), var(--primary-teal), var(--primary-amber));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-indigo), var(--primary-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-indigo);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .slide-in {
            animation: slideIn 0.3s ease forwards;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 1.8rem;
            }
            
            .topics-grid {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .speech-controls {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .rules-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <h1 class="welcome-title">Grade 8 English: Advanced Grammar & Sentence Structure</h1>
            <p class="welcome-subtitle">Master advanced parts of speech, complex sentence structures, and sophisticated grammar concepts through comprehensive practice and detailed explanations.</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üìö‚úçÔ∏èüìñ</span>
                <span class="topic-name">Advanced English Grammar</span>
            </div>
            
            <div class="topics-grid">
                <div class="topic-card nouns" onclick="showTopicInfo('nouns')">
                    <div class="topic-icon">üìù</div>
                    <h3 class="topic-title">Advanced Parts of Speech</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Nouns, verbs, adjectives, adverbs and their advanced forms</p>
                    <div class="topic-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Noun types & cases</li>
                            <li>Verb tenses & moods</li>
                            <li>Adjective degrees</li>
                            <li>Adverb placement</li>
                        </ul>
                    </div>
                </div>
                
                <div class="topic-card verbs" onclick="showTopicInfo('verbs')">
                    <div class="topic-icon">‚ö°</div>
                    <h3 class="topic-title">Verb Forms & Tenses</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Complex verb structures and tense usage</p>
                    <div class="topic-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Perfect & progressive forms</li>
                            <li>Subjunctive mood</li>
                            <li>Active vs passive voice</li>
                            <li>Conditional sentences</li>
                        </ul>
                    </div>
                </div>
                
                <div class="topic-card sentence" onclick="showTopicInfo('sentence')">
                    <div class="topic-icon">üî§</div>
                    <h3 class="topic-title">Sentence Structure</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Complex and compound sentence construction</p>
                    <div class="topic-features">
                        <h4>Key Concepts:</h4>
                        <ul class="feature-list">
                            <li>Clause types</li>
                            <li>Phrase structures</li>
                            <li>Sentence patterns</li>
                            <li>Punctuation rules</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your name:</label>
                <input type="text" id="studentName" placeholder="Your name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>üìö Begin English Study</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 100</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 1%"></div>
                </div>
            </div>

            <div class="question-container">
                <div id="englishTip"></div>
                
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-explanation" id="feedbackExplanation"></div>
                </div>
            </div>
            
            <!-- Content Area -->
            <div class="content-wrapper">
                <div class="visualization-container">
                    <!-- Parts of Speech Visualizer -->
                    <div class="speech-visualizer">
                        <div class="visualizer-title">Parts of Speech Guide</div>
                        <div class="speech-canvas-container">
                            <canvas class="speech-canvas" id="speechCanvas"></canvas>
                        </div>
                        <div class="speech-info" id="speechInfo">
                            <div style="display: flex; justify-content: space-between;">
                                <div>
                                    <div style="font-weight: bold; color: var(--primary-indigo);" id="speechType"></div>
                                    <div style="font-size: 0.9rem;" id="speechFunction"></div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 0.8rem; color: var(--text-secondary);">Category</div>
                                    <div style="font-weight: bold;" id="speechCategory"></div>
                                </div>
                            </div>
                            <div style="margin-top: 10px; font-size: 0.85rem; color: var(--text-secondary);" id="speechExamples"></div>
                        </div>
                        <div class="speech-controls">
                            <div class="speech-btn active" onclick="showSpeech('noun')">Nouns</div>
                            <div class="speech-btn" onclick="showSpeech('pronoun')">Pronouns</div>
                            <div class="speech-btn" onclick="showSpeech('verb')">Verbs</div>
                            <div class="speech-btn" onclick="showSpeech('adjective')">Adjectives</div>
                            <div class="speech-btn" onclick="showSpeech('adverb')">Adverbs</div>
                            <div class="speech-btn" onclick="showSpeech('preposition')">Prepositions</div>
                            <div class="speech-btn" onclick="showSpeech('conjunction')">Conjunctions</div>
                            <div class="speech-btn" onclick="showSpeech('interjection')">Interjections</div>
                        </div>
                    </div>
                    
                    <!-- Grammar Rules Display -->
                    <div class="rules-display">
                        <div class="visualizer-title">Grammar Rules Quick Reference</div>
                        <div class="rules-grid">
                            <div class="rule-card noun" onclick="showRule('commonNoun')">
                                <div class="rule-title">üìù Common Nouns</div>
                                <div class="rule-value">General names: city, dog, book</div>
                            </div>
                            <div class="rule-card noun" onclick="showRule('properNoun')">
                                <div class="rule-title">üèõÔ∏è Proper Nouns</div>
                                <div class="rule-value">Specific names: London, Rover, Bible</div>
                            </div>
                            <div class="rule-card verb" onclick="showRule('actionVerb')">
                                <div class="rule-title">‚ö° Action Verbs</div>
                                <div class="rule-value">Show action: run, think, create</div>
                            </div>
                            <div class="rule-card verb" onclick="showRule('linkingVerb')">
                                <div class="rule-title">üîó Linking Verbs</div>
                                <div class="rule-value">Connect subject: is, seem, become</div>
                            </div>
                            <div class="rule-card adjective" onclick="showRule('descriptiveAdj')">
                                <div class="rule-title">üé® Descriptive Adjectives</div>
                                <div class="rule-value">Describe nouns: red, tall, happy</div>
                            </div>
                            <div class="rule-card adverb" onclick="showRule('mannerAdv')">
                                <div class="rule-title">üöÄ Adverbs of Manner</div>
                                <div class="rule-value">How action done: quickly, carefully</div>
                            </div>
                            <div class="rule-card verb" onclick="showRule('tense')">
                                <div class="rule-title">‚è∞ Verb Tenses</div>
                                <div class="rule-value">Time of action: past, present, future</div>
                            </div>
                            <div class="rule-card noun" onclick="showRule('plural')">
                                <div class="rule-title">üî¢ Plural Forms</div>
                                <div class="rule-value">Multiple items: cats, children, data</div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="showMoreRules()">More Rules</button>
                            <button class="btn btn-small btn-amber" onclick="testGrammarKnowledge()">Grammar Quiz</button>
                        </div>
                    </div>
                </div>
                
                <div class="visualization-container">
                    <!-- Sentence Structure Visualizer -->
                    <div class="sentence-visualizer">
                        <div class="visualizer-title">Sentence Structure Analysis</div>
                        <div class="sentence-canvas-container">
                            <canvas class="sentence-canvas" id="sentenceCanvas"></canvas>
                        </div>
                        <div class="sentence-controls">
                            <div class="sentence-btn active" onclick="showSentence('simple')">Simple Sentence</div>
                            <div class="sentence-btn" onclick="showSentence('compound')">Compound Sentence</div>
                            <div class="sentence-btn" onclick="showSentence('complex')">Complex Sentence</div>
                            <div class="sentence-btn" onclick="showSentence('compoundComplex')">Compound-Complex</div>
                            <div class="sentence-btn" onclick="showSentence('fragment')">Sentence Fragment</div>
                            <div class="sentence-btn" onclick="showSentence('runon')">Run-on Sentence</div>
                            <div class="sentence-btn" onclick="showSentence('clauses')">Clause Types</div>
                            <div class="sentence-btn" onclick="showSentence('phrases')">Phrase Types</div>
                            <div class="sentence-btn" onclick="analyzeSentence()">Analyze Sentence</div>
                        </div>
                    </div>
                    
                    <!-- Writing Tips Display -->
                    <div class="rules-display" style="border-color: var(--accent-blue);">
                        <div class="visualizer-title">Writing Improvement Tips</div>
                        <div style="margin: 10px 0; padding: 10px; background: var(--dark-surface); border-radius: 6px;">
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <div style="padding: 8px; background: rgba(33, 150, 243, 0.1); border-radius: 4px;">
                                    <div style="font-weight: bold; color: var(--accent-blue);">‚úèÔ∏è Vary Sentence Structure</div>
                                    <div style="font-size: 0.8rem; color: var(--text-secondary);">Mix simple, compound, complex</div>
                                </div>
                                <div style="padding: 8px; background: rgba(33, 150, 243, 0.1); border-radius: 4px;">
                                    <div style="font-weight: bold; color: var(--accent-blue);">üîç Be Specific</div>
                                    <div style="font-size: 0.8rem; color: var(--text-secondary);">Use precise nouns and verbs</div>
                                </div>
                                <div style="padding: 8px; background: rgba(33, 150, 243, 0.1); border-radius: 4px;">
                                    <div style="font-weight: bold; color: var(--accent-blue);">üìê Parallel Structure</div>
                                    <div style="font-size: 0.8rem; color: var(--text-secondary);">Keep lists grammatically parallel</div>
                                </div>
                                <div style="padding: 8px; background: rgba(33, 150, 243, 0.1); border-radius: 4px;">
                                    <div style="font-weight: bold; color: var(--accent-blue);">üéØ Active Voice</div>
                                    <div style="font-size: 0.8rem; color: var(--text-secondary);">Prefer active over passive</div>
                                </div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 10px;">
                            <button class="btn btn-small btn-secondary" onclick="showMoreTips()">More Tips</button>
                            <button class="btn btn-small btn-blue" onclick="showCommonErrors()">Common Errors</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-amber" id="skipQuestion">Skip Question</button>
                <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">English Study Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect Answers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="skippedQuestions">0</div>
                        <div class="stat-label">Skipped Questions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="timeSpent">0min</div>
                        <div class="stat-label">Time Spent</div>
                    </div>
                </div>
                
                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn btn-primary" id="retryTopic">Try Again</button>
                    <button class="btn btn-secondary" id="viewTopics">Other Topics</button>
                    <button class="btn btn-purple" id="printCertificate">Print Certificate</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 100 Questions on Advanced Parts of Speech & Sentence Structure
        const questions = [
            // Nouns (20 questions)
            {
                question: "Which word is a collective noun?",
                options: ["Team", "Computer", "Beautiful", "Quickly"],
                answer: "A",
                explanation: "'Team' is a collective noun referring to a group of individuals."
            },
            {
                question: "What is the plural form of 'criterion'?",
                options: ["Criteria", "Criterions", "Criterias", "Criterion"],
                answer: "A",
                explanation: "'Criteria' is the correct plural form of 'criterion'."
            },
            {
                question: "Which is an abstract noun?",
                options: ["Happiness", "Book", "Teacher", "Building"],
                answer: "A",
                explanation: "'Happiness' is an abstract noun representing an idea or quality."
            },
            {
                question: "What type of noun is 'committee'?",
                options: ["Collective noun", "Proper noun", "Abstract noun", "Material noun"],
                answer: "A",
                explanation: "'Committee' is a collective noun referring to a group of people."
            },
            {
                question: "Which is a proper noun?",
                options: ["Mount Everest", "Mountain", "Tall", "Climbing"],
                answer: "A",
                explanation: "'Mount Everest' is a proper noun, a specific name of a mountain."
            },
            {
                question: "What is the possessive form of 'children'?",
                options: ["Children's", "Childrens'", "Childrens's", "Childrens"],
                answer: "A",
                explanation: "'Children's' is the correct possessive form of the irregular plural 'children'."
            },
            {
                question: "Which is a countable noun?",
                options: ["Apple", "Water", "Air", "Information"],
                answer: "A",
                explanation: "'Apple' is countable (you can have one apple, two apples)."
            },
            {
                question: "What type of noun is 'honesty'?",
                options: ["Abstract noun", "Concrete noun", "Proper noun", "Collective noun"],
                answer: "A",
                explanation: "'Honesty' is an abstract noun representing a quality."
            },
            {
                question: "Which is the correct plural of 'phenomenon'?",
                options: ["Phenomena", "Phenomenons", "Phenomenas", "Phenomenae"],
                answer: "A",
                explanation: "'Phenomena' is the correct plural form of 'phenomenon'."
            },
            {
                question: "What is a compound noun?",
                options: ["Toothbrush", "Tooth", "Brush", "Cleaning"],
                answer: "A",
                explanation: "'Toothbrush' is a compound noun made of two words."
            },
            {
                question: "Which is an uncountable noun?",
                options: ["Knowledge", "Book", "Student", "Classroom"],
                answer: "A",
                explanation: "'Knowledge' is uncountable (you don't say 'knowledges')."
            },
            {
                question: "What is the plural of 'analysis'?",
                options: ["Analyses", "Analysises", "Analysises", "Analysii"],
                answer: "A",
                explanation: "'Analyses' is the correct plural form of 'analysis'."
            },
            {
                question: "Which is a material noun?",
                options: ["Gold", "Jewelry", "Ring", "Beautiful"],
                answer: "A",
                explanation: "'Gold' is a material noun referring to a substance."
            },
            {
                question: "What type of noun is 'audience'?",
                options: ["Collective noun", "Proper noun", "Abstract noun", "Concrete noun"],
                answer: "A",
                explanation: "'Audience' is a collective noun for a group of spectators."
            },
            {
                question: "Which is the correct possessive of 'James'?",
                options: ["James's", "James'", "Jame's", "Jameses'"],
                answer: "A",
                explanation: "Both 'James's' and 'James'' are acceptable, but 'James's' is more common for singular names."
            },
            {
                question: "What is a gerund?",
                options: ["Swimming (as a noun)", "To swim", "Swam", "Swims"],
                answer: "A",
                explanation: "A gerund is a verb form ending in -ing that functions as a noun."
            },
            {
                question: "Which is a plural possessive noun?",
                options: ["Teachers' lounge", "Teacher's lounge", "Teachers lounge", "Teacher lounge"],
                answer: "A",
                explanation: "'Teachers' lounge' shows possession by multiple teachers."
            },
            {
                question: "What is an appositive noun?",
                options: ["My brother, a doctor, is coming", "My brother doctor", "Doctor brother", "Brother who is doctor"],
                answer: "A",
                explanation: "'A doctor' is an appositive noun renaming 'my brother'."
            },
            {
                question: "Which is a verbal noun?",
                options: ["Running is fun", "He runs fast", "They ran yesterday", "She will run"],
                answer: "A",
                explanation: "'Running' functions as a noun (subject of the sentence)."
            },
            {
                question: "What type of noun is 'United Nations'?",
                options: ["Proper noun", "Common noun", "Abstract noun", "Material noun"],
                answer: "A",
                explanation: "'United Nations' is a proper noun, the specific name of an organization."
            },

            // Pronouns (15 questions)
            {
                question: "Which is a reflexive pronoun?",
                options: ["Myself", "I", "Me", "My"],
                answer: "A",
                explanation: "'Myself' is a reflexive pronoun referring back to the subject."
            },
            {
                question: "What type of pronoun is 'who'?",
                options: ["Interrogative pronoun", "Personal pronoun", "Possessive pronoun", "Demonstrative pronoun"],
                answer: "A",
                explanation: "'Who' is an interrogative pronoun used to ask questions."
            },
            {
                question: "Which is an indefinite pronoun?",
                options: ["Everyone", "He", "This", "Which"],
                answer: "A",
                explanation: "'Everyone' is an indefinite pronoun referring to unspecified people."
            },
            {
                question: "What is the possessive pronoun form of 'they'?",
                options: ["Theirs", "Their", "Them", "They're"],
                answer: "A",
                explanation: "'Theirs' is the possessive pronoun (That book is theirs)."
            },
            {
                question: "Which is a demonstrative pronoun?",
                options: ["That", "Who", "Someone", "Myself"],
                answer: "A",
                explanation: "'That' is a demonstrative pronoun pointing to something specific."
            },
            {
                question: "What type of pronoun is 'which' in 'The book which I read'?",
                options: ["Relative pronoun", "Interrogative pronoun", "Demonstrative pronoun", "Indefinite pronoun"],
                answer: "A",
                explanation: "'Which' is a relative pronoun introducing a relative clause."
            },
            {
                question: "Which is a reciprocal pronoun?",
                options: ["Each other", "Himself", "Somebody", "That"],
                answer: "A",
                explanation: "'Each other' is a reciprocal pronoun indicating mutual action."
            },
            {
                question: "What is the objective case pronoun?",
                options: ["Him", "He", "His", "Himself"],
                answer: "A",
                explanation: "'Him' is the objective case (I saw him)."
            },
            {
                question: "Which is an intensive pronoun?",
                options: ["The president himself", "Him", "His", "He"],
                answer: "A",
                explanation: "'Himself' is used intensively to emphasize 'the president'."
            },
            {
                question: "What type of pronoun is 'what' in questions?",
                options: ["Interrogative pronoun", "Relative pronoun", "Demonstrative pronoun", "Personal pronoun"],
                answer: "A",
                explanation: "'What' is an interrogative pronoun when used to ask questions."
            },
            {
                question: "Which is a possessive adjective?",
                options: ["Our house", "Ours", "We", "Us"],
                answer: "A",
                explanation: "'Our' is a possessive adjective modifying 'house'."
            },
            {
                question: "What is the reflexive form of 'you' (plural)?",
                options: ["Yourselves", "Yourself", "You", "Yours"],
                answer: "A",
                explanation: "'Yourselves' is the reflexive pronoun for plural 'you'."
            },
            {
                question: "Which is an indefinite pronoun?",
                options: ["Several", "That", "Who", "Me"],
                answer: "A",
                explanation: "'Several' is an indefinite pronoun referring to an unspecified number."
            },
            {
                question: "What type of pronoun is 'mine'?",
                options: ["Possessive pronoun", "Personal pronoun", "Reflexive pronoun", "Demonstrative pronoun"],
                answer: "A",
                explanation: "'Mine' is a possessive pronoun (That book is mine)."
            },
            {
                question: "Which pronoun case is used for subjects?",
                options: ["Nominative", "Objective", "Possessive", "Reflexive"],
                answer: "A",
                explanation: "Nominative case pronouns (I, he, she, they) are used as subjects."
            },

            // Verbs (20 questions)
            {
                question: "What is the past participle of 'swim'?",
                options: ["Swum", "Swam", "Swimmed", "Swimming"],
                answer: "A",
                explanation: "'Swum' is the past participle (I have swum)."
            },
            {
                question: "Which is a transitive verb?",
                options: ["Carry (something)", "Sleep", "Arrive", "Exist"],
                answer: "A",
                explanation: "'Carry' is transitive because it requires a direct object."
            },
            {
                question: "What is the subjunctive mood?",
                options: ["If I were you", "I was you", "I am you", "I will be you"],
                answer: "A",
                explanation: "'If I were you' uses the subjunctive mood for hypothetical situations."
            },
            {
                question: "Which verb is in the perfect progressive tense?",
                options: ["Has been working", "Works", "Worked", "Will work"],
                answer: "A",
                explanation: "'Has been working' is present perfect progressive."
            },
            {
                question: "What is an irregular verb?",
                options: ["Go (went, gone)", "Walk (walked)", "Play (played)", "Help (helped)"],
                answer: "A",
                explanation: "'Go' is irregular because its past forms don't follow the -ed pattern."
            },
            {
                question: "Which is a linking verb?",
                options: ["Become", "Run", "Jump", "Create"],
                answer: "A",
                explanation: "'Become' is a linking verb connecting subject to complement."
            },
            {
                question: "What is the passive voice?",
                options: ["The ball was thrown", "He threw the ball", "Throwing the ball", "To throw the ball"],
                answer: "A",
                explanation: "'The ball was thrown' is passive (subject receives the action)."
            },
            {
                question: "Which is a modal auxiliary verb?",
                options: ["Could", "Have", "Do", "Be"],
                answer: "A",
                explanation: "'Could' is a modal auxiliary expressing ability or possibility."
            },
            {
                question: "What is the future perfect tense?",
                options: ["Will have finished", "Will finish", "Finishes", "Finished"],
                answer: "A",
                explanation: "'Will have finished' is future perfect tense."
            },
            {
                question: "Which is an intransitive verb?",
                options: ["Sleep", "Carry", "Give", "Tell"],
                answer: "A",
                explanation: "'Sleep' is intransitive (doesn't take a direct object)."
            },
            {
                question: "What is a phrasal verb?",
                options: ["Give up", "Give", "Giving", "Given"],
                answer: "A",
                explanation: "'Give up' is a phrasal verb (verb + particle with special meaning)."
            },
            {
                question: "Which verb is in the conditional mood?",
                options: ["Would go", "Goes", "Went", "Going"],
                answer: "A",
                explanation: "'Would go' expresses conditional action."
            },
            {
                question: "What is the present participle?",
                options: ["Running", "Ran", "Run", "Runs"],
                answer: "A",
                explanation: "'Running' is the present participle."
            },
            {
                question: "Which is a finite verb?",
                options: ["She writes", "To write", "Writing", "Written"],
                answer: "A",
                explanation: "'Writes' is finite (shows tense and agrees with subject)."
            },
            {
                question: "What is an infinitive?",
                options: ["To learn", "Learning", "Learns", "Learned"],
                answer: "A",
                explanation: "'To learn' is the infinitive form."
            },
            {
                question: "Which is the past perfect tense?",
                options: ["Had eaten", "Ate", "Eats", "Has eaten"],
                answer: "A",
                explanation: "'Had eaten' is past perfect (action completed before another past action)."
            },
            {
                question: "What is a copular verb?",
                options: ["Seem", "Build", "Destroy", "Imagine"],
                answer: "A",
                explanation: "'Seem' is a copular (linking) verb connecting subject to complement."
            },
            {
                question: "Which is an auxiliary verb?",
                options: ["Have (in 'have seen')", "See", "Saw", "Seeing"],
                answer: "A",
                explanation: "'Have' is an auxiliary verb helping to form the perfect tense."
            },
            {
                question: "What is the imperative mood?",
                options: ["Close the door", "He closes the door", "Closing the door", "To close the door"],
                answer: "A",
                explanation: "'Close the door' is imperative (giving a command)."
            },
            {
                question: "Which is a dynamic verb?",
                options: ["Run", "Be", "Have", "Seem"],
                answer: "A",
                explanation: "'Run' is a dynamic verb (shows action or process)."
            },

            // Adjectives & Adverbs (15 questions)
            {
                question: "What is the superlative form of 'good'?",
                options: ["Best", "Better", "Gooder", "Goodest"],
                answer: "A",
                explanation: "'Best' is the superlative form of 'good'."
            },
            {
                question: "Which is a demonstrative adjective?",
                options: ["This book", "Book", "The book", "A book"],
                answer: "A",
                explanation: "'This' is a demonstrative adjective modifying 'book'."
            },
            {
                question: "What is an adverb of frequency?",
                options: ["Always", "Quickly", "Here", "Very"],
                answer: "A",
                explanation: "'Always' is an adverb of frequency telling how often."
            },
            {
                question: "Which is a comparative adverb?",
                options: ["More quickly", "Quickly", "Quick", "Quickest"],
                answer: "A",
                explanation: "'More quickly' is the comparative form of the adverb 'quickly'."
            },
            {
                question: "What is a possessive adjective?",
                options: ["My car", "Mine", "I", "Me"],
                answer: "A",
                explanation: "'My' is a possessive adjective modifying 'car'."
            },
            {
                question: "Which is an interrogative adjective?",
                options: ["Which book?", "Who?", "What?", "Whose?"],
                answer: "A",
                explanation: "'Which' is an interrogative adjective modifying 'book'."
            },
            {
                question: "What is the adverb form of 'happy'?",
                options: ["Happily", "Happy", "Happiness", "Happier"],
                answer: "A",
                explanation: "'Happily' is the adverb form (ending in -ly)."
            },
            {
                question: "Which is a quantitative adjective?",
                options: ["Three books", "Red book", "Interesting book", "That book"],
                answer: "A",
                explanation: "'Three' is a quantitative adjective indicating amount."
            },
            {
                question: "What is an adverb of manner?",
                options: ["Carefully", "Often", "Here", "Very"],
                answer: "A",
                explanation: "'Carefully' is an adverb of manner telling how something is done."
            },
            {
                question: "Which is the correct comparative?",
                options: ["More interesting", "Interestinger", "Most interesting", "Interesting"],
                answer: "A",
                explanation: "'More interesting' is the comparative form (two syllables or more)."
            },
            {
                question: "What is a predicative adjective?",
                options: ["The sky is blue", "Blue sky", "Sky blue", "Bluish sky"],
                answer: "A",
                explanation: "'Blue' is predicative (comes after linking verb 'is')."
            },
            {
                question: "Which is an adverb of degree?",
                options: ["Very tall", "Tall quickly", "Tall here", "Tall often"],
                answer: "A",
                explanation: "'Very' is an adverb of degree modifying 'tall'."
            },
            {
                question: "What is an attributive adjective?",
                options: ["Red car", "Car is red", "Car red", "Redly car"],
                answer: "A",
                explanation: "'Red' is attributive (comes before the noun 'car')."
            },
            {
                question: "Which is the superlative adverb?",
                options: ["Most carefully", "Carefully", "More carefully", "Careful"],
                answer: "A",
                explanation: "'Most carefully' is the superlative adverb."
            },
            {
                question: "What is a compound adjective?",
                options: ["Well-known", "Known", "Well", "Knowingly"],
                answer: "A",
                explanation: "'Well-known' is a compound adjective (hyphenated)."
            },

            // Prepositions, Conjunctions, Interjections (10 questions)
            {
                question: "Which is a coordinating conjunction?",
                options: ["And", "Because", "Although", "When"],
                answer: "A",
                explanation: "'And' is a coordinating conjunction joining equal elements."
            },
            {
                question: "What is a prepositional phrase?",
                options: ["In the house", "House in", "The house in", "House"],
                answer: "A",
                explanation: "'In the house' is a prepositional phrase (preposition + object)."
            },
            {
                question: "Which is a subordinating conjunction?",
                options: ["Although", "And", "But", "Or"],
                answer: "A",
                explanation: "'Although' is a subordinating conjunction introducing a dependent clause."
            },
            {
                question: "What is an interjection?",
                options: ["Wow!", "Quickly", "Beautiful", "Run"],
                answer: "A",
                explanation: "'Wow!' is an interjection expressing emotion."
            },
            {
                question: "Which is a correlative conjunction?",
                options: ["Either...or", "And", "But", "Because"],
                answer: "A",
                explanation: "'Either...or' is a correlative conjunction pair."
            },
            {
                question: "What type of word is 'under'?",
                options: ["Preposition", "Conjunction", "Interjection", "Adverb"],
                answer: "A",
                explanation: "'Under' is a preposition showing position."
            },
            {
                question: "Which is a compound preposition?",
                options: ["According to", "To", "From", "With"],
                answer: "A",
                explanation: "'According to' is a compound preposition."
            },
            {
                question: "What is a conjunctive adverb?",
                options: ["However", "And", "But", "Because"],
                answer: "A",
                explanation: "'However' is a conjunctive adverb connecting ideas."
            },
            {
                question: "Which is an interjection expressing pain?",
                options: ["Ouch!", "Hey!", "Wow!", "Oops!"],
                answer: "A",
                explanation: "'Ouch!' is an interjection expressing pain."
            },
            {
                question: "What type of conjunction is 'since' when showing time?",
                options: ["Subordinating conjunction", "Coordinating conjunction", "Correlative conjunction", "Conjunctive adverb"],
                answer: "A",
                explanation: "'Since' is a subordinating conjunction when showing time."
            },

            // Sentence Structure (20 questions)
            {
                question: "What is a compound sentence?",
                options: ["Two independent clauses joined", "One independent clause", "Dependent clause only", "Fragment"],
                answer: "A",
                explanation: "A compound sentence has two or more independent clauses."
            },
            {
                question: "Which is a complex sentence?",
                options: ["Although it rained, we played", "It rained and we played", "Rainy playing", "Playing in rain"],
                answer: "A",
                explanation: "A complex sentence has one independent and at least one dependent clause."
            },
            {
                question: "What is a sentence fragment?",
                options: ["Running quickly", "He runs quickly", "He is running quickly", "Quickly he runs"],
                answer: "A",
                explanation: "'Running quickly' is a fragment (missing subject or verb)."
            },
            {
                question: "Which is a run-on sentence?",
                options: ["I like cats they are cute", "I like cats because they are cute", "Cats are cute", "I like cute cats"],
                answer: "A",
                explanation: "'I like cats they are cute' is a run-on (two independent clauses improperly joined)."
            },
            {
                question: "What is an independent clause?",
                options: ["Can stand alone as a sentence", "Cannot stand alone", "Missing subject", "Missing verb"],
                answer: "A",
                explanation: "An independent clause expresses a complete thought and can stand alone."
            },
            {
                question: "Which is a dependent clause?",
                options: ["When I finish work", "I finish work", "Work finishes", "Finished work"],
                answer: "A",
                explanation: "'When I finish work' is dependent (cannot stand alone)."
            },
            {
                question: "What is a compound-complex sentence?",
                options: ["Two independent clauses and one dependent", "One independent clause", "Two dependent clauses", "Fragment"],
                answer: "A",
                explanation: "A compound-complex sentence has at least two independent clauses and one dependent clause."
            },
            {
                question: "Which is a declarative sentence?",
                options: ["The sky is blue.", "Is the sky blue?", "What a blue sky!", "Look at the blue sky."],
                answer: "A",
                explanation: "'The sky is blue.' is declarative (makes a statement)."
            },
            {
                question: "What is an imperative sentence?",
                options: ["Close the door.", "The door is closed.", "Is the door closed?", "What a closed door!"],
                answer: "A",
                explanation: "'Close the door.' is imperative (gives a command)."
            },
            {
                question: "Which is an interrogative sentence?",
                options: ["Are you coming?", "You are coming.", "Come here!", "What a surprise!"],
                answer: "A",
                explanation: "'Are you coming?' is interrogative (asks a question)."
            },
            {
                question: "What is an exclamatory sentence?",
                options: ["What a beautiful day!", "The day is beautiful.", "Is the day beautiful?", "Enjoy the beautiful day."],
                answer: "A",
                explanation: "'What a beautiful day!' is exclamatory (expresses strong emotion)."
            },
            {
                question: "Which sentence has parallel structure?",
                options: ["She likes hiking, swimming, and biking", "She likes hiking, to swim, and biking", "She likes hiking, swimming, and to bike", "She likes to hike, swimming, and biking"],
                answer: "A",
                explanation: "Parallel structure uses the same grammatical form for items in a list."
            },
            {
                question: "What is a periodic sentence?",
                options: ["Main clause at the end", "Main clause at beginning", "No main clause", "Only dependent clauses"],
                answer: "A",
                explanation: "A periodic sentence builds to the main clause at the end."
            },
            {
                question: "Which is a loose sentence?",
                options: ["Main clause first, then details", "Details first, main clause last", "No main clause", "Only phrases"],
                answer: "A",
                explanation: "A loose sentence states the main idea first, then adds details."
            },
            {
                question: "What is a balanced sentence?",
                options: ["Parallel structures on both sides", "One short clause", "Fragment", "Run-on"],
                answer: "A",
                explanation: "A balanced sentence has parallel structures of similar length."
            },
            {
                question: "Which is a simple sentence?",
                options: ["Birds sing.", "Birds sing and fly", "When birds sing", "Singing birds"],
                answer: "A",
                explanation: "A simple sentence has one independent clause."
            },
            {
                question: "What is a complex-compound sentence?",
                options: ["Two independent clauses and one dependent", "One independent clause", "Three dependent clauses", "Fragment"],
                answer: "A",
                explanation: "Same as compound-complex sentence."
            },
            {
                question: "Which contains an absolute phrase?",
                options: ["Weather permitting, we'll go", "We'll go if weather permits", "The weather permits going", "Permitting weather"],
                answer: "A",
                explanation: "'Weather permitting' is an absolute phrase (noun + participle)."
            },
            {
                question: "What is an elliptical construction?",
                options: ["Words are omitted but understood", "Extra words added", "Incomplete thought", "Run-on sentence"],
                answer: "A",
                explanation: "Elliptical construction omits words that are understood from context."
            },
            {
                question: "Which is an inverted sentence?",
                options: ["Never have I seen such beauty", "I have never seen such beauty", "Such beauty I have never seen", "I saw never such beauty"],
                answer: "A",
                explanation: "Inverted sentence has unusual word order for emphasis."
            }
        ];

        // English tips and facts
        const englishTips = [
            "There are only three articles in English: 'a', 'an', and 'the'.",
            "The word 'set' has the most definitions in the English language.",
            "A sentence without a verb is a fragment, not a complete sentence.",
            "'I am' is the shortest complete sentence in English.",
            "The most commonly used letter in English is 'E'.",
            "Prepositions should not end sentences in formal writing.",
            "The word 'noun' comes from the Latin 'nomen' meaning 'name'.",
            "English has more words than any other language.",
            "The longest word in English has 45 letters: pneumonoultramicroscopicsilicovolcanoconiosis.",
            "Shakespeare invented over 1700 English words still used today."
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            studentName: "",
            startTime: null,
            currentSpeech: 'noun',
            currentSentence: 'simple',
            quizIndex: 0,
            speechCanvas: null,
            speechCtx: null,
            sentenceCanvas: null,
            sentenceCtx: null
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const backToHomeBtn = document.getElementById('backToHome');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const englishTip = document.getElementById('englishTip');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const feedbackExplanation = document.getElementById('feedbackExplanation');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const printCertificateBtn = document.getElementById('printCertificate');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const correctAnswers = document.getElementById('correctAnswers');
        const incorrectAnswers = document.getElementById('incorrectAnswers');
        const skippedQuestions = document.getElementById('skippedQuestions');
        const timeSpent = document.getElementById('timeSpent');
        const speechInfo = document.getElementById('speechInfo');
        const speechType = document.getElementById('speechType');
        const speechFunction = document.getElementById('speechFunction');
        const speechCategory = document.getElementById('speechCategory');
        const speechExamples = document.getElementById('speechExamples');

        // Initialize
        function initApp() {
            setupEventListeners();
            showWelcomePage();
            initializeCanvases();
            drawPartsOfSpeech();
            drawSentenceStructure();
        }

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', showWelcomePage);
            printCertificateBtn.addEventListener('click', printCertificate);
            viewTopicsBtn.addEventListener('click', () => alert("Other subjects would be available here."));
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') startPractice();
            });
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            appState.startTime = new Date();
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const percentage = Math.round((appState.score / questions.length) * 100);
            const timeDiff = new Date() - appState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            correctAnswers.textContent = appState.score;
            incorrectAnswers.textContent = appState.answered - appState.score;
            skippedQuestions.textContent = appState.skipped;
            timeSpent.textContent = `${minutes}min`;
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You're an English grammar expert!";
            } else if (percentage >= 75) {
                scoreMessage.textContent = "Excellent work! You have strong grammar skills!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good job! You understand English grammar well!";
            } else if (percentage >= 50) {
                scoreMessage.textContent = "Fair understanding. Review and try again for improvement!";
            } else {
                scoreMessage.textContent = "Keep practicing! Grammar mastery comes with study and practice.";
            }
        }

        // Create English tip display
        function createEnglishTip() {
            const tipDiv = document.createElement('div');
            tipDiv.className = 'english-tip';
            tipDiv.innerHTML = `<strong>Grammar Tip:</strong> ${englishTips[Math.floor(Math.random() * englishTips.length)]}`;
            return tipDiv;
        }

        // Load question
        function loadQuestion() {
            const question = questions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${questions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            englishTip.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            englishTip.appendChild(createEnglishTip());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = questions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation);
            }
            
            nextQuestionBtn.disabled = false;
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Skip question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Retry topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            showPracticePage();
        }

        // Print certificate
        function printCertificate() {
            const percentage = Math.round((appState.score / questions.length) * 100);
            const certificateWindow = window.open('', '_blank');
            certificateWindow.document.write(`
                <html>
                <head>
                    <title>Certificate of Achievement</title>
                    <style>
                        body { font-family: Arial, sans-serif; text-align: center; padding: 50px; }
                        .certificate { border: 20px solid #3F51B5; padding: 50px; max-width: 800px; margin: 0 auto; }
                        h1 { color: #3F51B5; }
                        .name { font-size: 2em; margin: 20px 0; }
                        .grade { font-size: 1.5em; margin: 20px 0; }
                        .score { font-size: 1.2em; margin: 20px 0; }
                        .date { margin-top: 50px; }
                    </style>
                </head>
                <body>
                    <div class="certificate">
                        <h1>Certificate of Achievement</h1>
                        <p>This certifies that</p>
                        <div class="name">${appState.studentName}</div>
                        <p>has successfully completed the Grade 8 English module</p>
                        <div class="grade">Advanced Parts of Speech & Sentence Structure</div>
                        <div class="score">Score: ${appState.score}/${questions.length} (${percentage}%)</div>
                        <div class="date">Date: ${new Date().toLocaleDateString()}</div>
                        <p>Ideolix Learning Hub</p>
                    </div>
                </body>
                </html>
            `);
            certificateWindow.document.close();
            certificateWindow.print();
        }

        // Start practice
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin studying English!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            
            showPracticePage();
        }

        // Initialize canvases
        function initializeCanvases() {
            // Speech canvas
            const speechCanvas = document.getElementById('speechCanvas');
            const speechContainer = document.querySelector('.speech-canvas-container');
            speechCanvas.width = speechContainer.clientWidth;
            speechCanvas.height = speechContainer.clientHeight;
            appState.speechCanvas = speechCanvas;
            appState.speechCtx = speechCanvas.getContext('2d');
            
            // Sentence canvas
            const sentenceCanvas = document.getElementById('sentenceCanvas');
            const sentenceContainer = document.querySelector('.sentence-canvas-container');
            sentenceCanvas.width = sentenceContainer.clientWidth;
            sentenceCanvas.height = sentenceContainer.clientHeight;
            appState.sentenceCanvas = sentenceCanvas;
            appState.sentenceCtx = sentenceCanvas.getContext('2d');
        }

        // Show parts of speech
        window.showSpeech = function(speech) {
            appState.currentSpeech = speech;
            
            // Update active button
            const speechBtns = document.querySelectorAll('.speech-btn');
            speechBtns.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            drawPartsOfSpeech();
        };

        // Draw parts of speech visualization
        function drawPartsOfSpeech() {
            const ctx = appState.speechCtx;
            const canvas = appState.speechCanvas;
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Define speech part data
            const speechData = {
                noun: {
                    name: "Noun",
                    function: "Names a person, place, thing, or idea",
                    category: "Naming Word",
                    examples: "dog, city, love, team",
                    color: "#3F51B5"
                },
                pronoun: {
                    name: "Pronoun",
                    function: "Replaces a noun",
                    category: "Substitute Word",
                    examples: "he, she, it, they, which",
                    color: "#2196F3"
                },
                verb: {
                    name: "Verb",
                    function: "Shows action or state of being",
                    category: "Action Word",
                    examples: "run, is, think, become",
                    color: "#009688"
                },
                adjective: {
                    name: "Adjective",
                    function: "Describes or modifies a noun",
                    category: "Describing Word",
                    examples: "red, tall, happy, three",
                    color: "#FFC107"
                },
                adverb: {
                    name: "Adverb",
                    function: "Modifies a verb, adjective, or other adverb",
                    category: "Modifying Word",
                    examples: "quickly, very, here, often",
                    color: "#673AB7"
                },
                preposition: {
                    name: "Preposition",
                    function: "Shows relationship between words",
                    category: "Relationship Word",
                    examples: "in, on, at, with, between",
                    color: "#E91E63"
                },
                conjunction: {
                    name: "Conjunction",
                    function: "Connects words, phrases, or clauses",
                    category: "Connecting Word",
                    examples: "and, but, because, although",
                    color: "#4CAF50"
                },
                interjection: {
                    name: "Interjection",
                    function: "Expresses strong emotion",
                    category: "Exclamatory Word",
                    examples: "Wow! Ouch! Hey! Oh!",
                    color: "#FF9800"
                }
            };
            
            const speech = speechData[appState.currentSpeech];
            
            // Draw title
            ctx.fillStyle = '#FFFFFF';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(speech.name, width/2, 20);
            
            // Draw central circle for the speech part
            const centerX = width/2;
            const centerY = height/2;
            const radius = 50;
            
            // Draw circle
            ctx.fillStyle = speech.color;
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#FFFFFF';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Draw speech part name in circle
            ctx.fillStyle = '#FFFFFF';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(speech.name.toUpperCase(), centerX, centerY + 5);
            
            // Draw connecting lines to features
            const features = [
                {text: speech.function, angle: -Math.PI/4, color: '#4CAF50'},
                {text: speech.category, angle: Math.PI/4, color: '#FF9800'},
                {text: `Examples: ${speech.examples}`, angle: Math.PI*3/4, color: '#9C27B0'}
            ];
            
            features.forEach((feature, index) => {
                const lineLength = 80;
                const textX = centerX + Math.cos(feature.angle) * (radius + lineLength);
                const textY = centerY + Math.sin(feature.angle) * (radius + lineLength);
                
                // Draw line
                ctx.strokeStyle = feature.color;
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(
                    centerX + Math.cos(feature.angle) * radius,
                    centerY + Math.sin(feature.angle) * radius
                );
                ctx.lineTo(textX, textY);
                ctx.stroke();
                
                // Draw feature box
                const textWidth = ctx.measureText(feature.text).width + 20;
                const textHeight = 30;
                
                ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                ctx.fillRect(textX - textWidth/2, textY - textHeight/2, textWidth, textHeight);
                ctx.strokeStyle = feature.color;
                ctx.strokeRect(textX - textWidth/2, textY - textHeight/2, textWidth, textHeight);
                
                // Draw feature text
                ctx.fillStyle = '#FFFFFF';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                
                // Split long text
                if (feature.text.length > 30) {
                    const parts = feature.text.split(': ');
                    if (parts.length > 1) {
                        ctx.fillText(parts[0] + ':', textX, textY - 5);
                        ctx.fillText(parts[1], textX, textY + 8);
                    } else {
                        ctx.fillText(feature.text, textX, textY + 3);
                    }
                } else {
                    ctx.fillText(feature.text, textX, textY + 3);
                }
            });
            
            // Update speech info display
            speechType.textContent = speech.name;
            speechFunction.textContent = speech.function;
            speechCategory.textContent = speech.category;
            speechExamples.textContent = `Examples: ${speech.examples}`;
            speechInfo.classList.add('show');
        }

        // Show sentence structure
        window.showSentence = function(sentence) {
            appState.currentSentence = sentence;
            
            // Update active button
            const sentenceBtns = document.querySelectorAll('.sentence-btn');
            sentenceBtns.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            drawSentenceStructure();
        };

        // Draw sentence structure visualization
        function drawSentenceStructure() {
            const ctx = appState.sentenceCtx;
            const canvas = appState.sentenceCanvas;
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Define sentence structure data
            const sentenceData = {
                simple: {
                    title: "Simple Sentence",
                    description: "One independent clause",
                    example: "Birds sing.",
                    structure: "Independent Clause",
                    color: "#4CAF50"
                },
                compound: {
                    title: "Compound Sentence",
                    description: "Two or more independent clauses",
                    example: "Birds sing, and dogs bark.",
                    structure: "Independent Clause + Independent Clause",
                    color: "#2196F3"
                },
                complex: {
                    title: "Complex Sentence",
                    description: "One independent + one or more dependent clauses",
                    example: "Although it rained, we played.",
                    structure: "Dependent Clause + Independent Clause",
                    color: "#FF9800"
                },
                compoundComplex: {
                    title: "Compound-Complex Sentence",
                    description: "Two or more independent + one or more dependent clauses",
                    example: "Although it rained, we played, and we had fun.",
                    structure: "Dependent + Independent + Independent",
                    color: "#9C27B0"
                },
                fragment: {
                    title: "Sentence Fragment",
                    description: "Incomplete sentence missing essential elements",
                    example: "Running quickly.",
                    structure: "Missing subject or verb",
                    color: "#F44336"
                },
                runon: {
                    title: "Run-on Sentence",
                    description: "Two or more independent clauses improperly joined",
                    example: "I like cats they are cute.",
                    structure: "Independent + Independent (no conjunction)",
                    color: "#FF5722"
                },
                clauses: {
                    title: "Clause Types",
                    description: "Independent (complete thought) vs Dependent (incomplete)",
                    example: "Independent: She reads. Dependent: When she reads",
                    structure: "Independent = Subject + Verb (complete)",
                    color: "#3F51B5"
                },
                phrases: {
                    title: "Phrase Types",
                    description: "Group of words without subject-verb pair",
                    example: "Noun phrase: The big red ball",
                    structure: "No complete subject-verb combination",
                    color: "#009688"
                }
            };
            
            const sentence = sentenceData[appState.currentSentence];
            
            // Draw title
            ctx.fillStyle = '#FFFFFF';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(sentence.title, width/2, 25);
            
            // Draw description
            ctx.font = '12px Arial';
            ctx.fillStyle = '#B0B0B0';
            ctx.fillText(sentence.description, width/2, 45);
            
            // Draw example in a box
            const exampleY = 70;
            const exampleWidth = width - 40;
            
            ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
            ctx.fillRect(20, exampleY, exampleWidth, 40);
            ctx.strokeStyle = sentence.color;
            ctx.lineWidth = 2;
            ctx.strokeRect(20, exampleY, exampleWidth, 40);
            
            ctx.fillStyle = '#FFFFFF';
            ctx.font = 'italic 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(sentence.example, width/2, exampleY + 25);
            
            // Draw structure visualization
            const structureY = 130;
            
            if (appState.currentSentence === 'simple') {
                // Simple sentence: one box
                drawClauseBox(ctx, width/2 - 60, structureY, 120, 40, "Independent Clause", "#4CAF50");
                
            } else if (appState.currentSentence === 'compound') {
                // Compound sentence: two boxes connected
                drawClauseBox(ctx, width/2 - 140, structureY, 120, 40, "Independent", "#2196F3");
                drawClauseBox(ctx, width/2 + 20, structureY, 120, 40, "Independent", "#2196F3");
                
                // Draw connecting line with 'and'
                ctx.strokeStyle = '#FFFFFF';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(width/2 - 20, structureY + 20);
                ctx.lineTo(width/2 + 20, structureY + 20);
                ctx.stroke();
                
                ctx.fillStyle = '#FFFFFF';
                ctx.font = 'bold 12px Arial';
                ctx.fillText("and", width/2, structureY + 15);
                
            } else if (appState.currentSentence === 'complex') {
                // Complex sentence: dependent + independent
                drawClauseBox(ctx, width/2 - 140, structureY, 120, 40, "Dependent", "#FF9800");
                drawClauseBox(ctx, width/2 + 20, structureY, 120, 40, "Independent", "#4CAF50");
                
                // Draw arrow
                ctx.strokeStyle = '#FFFFFF';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(width/2 - 20, structureY + 20);
                ctx.lineTo(width/2 + 20, structureY + 20);
                ctx.stroke();
                
                // Arrowhead
                ctx.beginPath();
                ctx.moveTo(width/2 + 15, structureY + 15);
                ctx.lineTo(width/2 + 20, structureY + 20);
                ctx.lineTo(width/2 + 15, structureY + 25);
                ctx.stroke();
                
            } else if (appState.currentSentence === 'compoundComplex') {
                // Compound-complex: dependent + independent + independent
                drawClauseBox(ctx, width/2 - 200, structureY, 120, 40, "Dependent", "#FF9800");
                drawClauseBox(ctx, width/2 - 40, structureY, 120, 40, "Independent", "#4CAF50");
                drawClauseBox(ctx, width/2 + 120, structureY, 120, 40, "Independent", "#2196F3");
                
                // Draw connecting lines
                ctx.strokeStyle = '#FFFFFF';
                ctx.lineWidth = 2;
                
                // First connection
                ctx.beginPath();
                ctx.moveTo(width/2 - 80, structureY + 20);
                ctx.lineTo(width/2 - 40, structureY + 20);
                ctx.stroke();
                
                // Second connection
                ctx.beginPath();
                ctx.moveTo(width/2 + 40, structureY + 20);
                ctx.lineTo(width/2 + 120, structureY + 20);
                ctx.stroke();
                
                ctx.fillStyle = '#FFFFFF';
                ctx.font = 'bold 12px Arial';
                ctx.fillText("and", width/2 + 80, structureY + 15);
            }
            
            // Draw structure explanation
            ctx.fillStyle = '#FFFFFF';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`Structure: ${sentence.structure}`, width/2, height - 30);
        }

        // Helper function to draw clause boxes
        function drawClauseBox(ctx, x, y, width, height, text, color) {
            ctx.fillStyle = color + '40'; // Add transparency
            ctx.fillRect(x, y, width, height);
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.strokeRect(x, y, width, height);
            
            ctx.fillStyle = '#FFFFFF';
            ctx.font = 'bold 12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(text, x + width/2, y + height/2 + 4);
        }

        // Analyze sentence
        window.analyzeSentence = function() {
            alert("Sentence Analysis:\n\n" +
                  "To analyze a sentence:\n" +
                  "1. Identify the subject (who/what)\n" +
                  "2. Identify the verb (action/state)\n" +
                  "3. Check for objects (receives action)\n" +
                  "4. Identify phrases and clauses\n" +
                  "5. Determine sentence type\n\n" +
                  "Example: 'The quick brown fox jumps over the lazy dog.'\n" +
                  "‚Ä¢ Subject: fox\n" +
                  "‚Ä¢ Verb: jumps\n" +
                  "‚Ä¢ Type: Simple sentence");
        };

        // Show rule
        window.showRule = function(rule) {
            const rules = {
                commonNoun: "Common Noun:\n‚Ä¢ Names general people, places, things\n‚Ä¢ Not capitalized unless starting sentence\n‚Ä¢ Examples: city, dog, teacher, book",
                properNoun: "Proper Noun:\n‚Ä¢ Names specific people, places, things\n‚Ä¢ Always capitalized\n‚Ä¢ Examples: London, Rover, Ms. Smith, Bible",
                actionVerb: "Action Verb:\n‚Ä¢ Shows physical or mental action\n‚Ä¢ Can be transitive (needs object) or intransitive\n‚Ä¢ Examples: run, think, build, create",
                linkingVerb: "Linking Verb:\n‚Ä¢ Connects subject to complement\n‚Ä¢ Shows state of being\n‚Ä¢ Examples: is, seem, become, appear",
                descriptiveAdj: "Descriptive Adjective:\n‚Ä¢ Describes qualities of nouns\n‚Ä¢ Answers: What kind? Which one? How many?\n‚Ä¢ Examples: red, tall, three, beautiful",
                mannerAdv: "Adverb of Manner:\n‚Ä¢ Describes how action is done\n‚Ä¢ Often ends in -ly\n‚Ä¢ Examples: quickly, carefully, loudly, well",
                tense: "Verb Tenses:\n‚Ä¢ Present: I walk\n‚Ä¢ Past: I walked\n‚Ä¢ Future: I will walk\n‚Ä¢ Perfect: have/had walked\n‚Ä¢ Progressive: am/was walking",
                plural: "Plural Forms:\n‚Ä¢ Regular: add -s (cats)\n‚Ä¢ Ending in s, x, z, ch, sh: add -es (boxes)\n‚Ä¢ Irregular: children, mice, phenomena\n‚Ä¢ No change: deer, sheep"
            };
            
            if (rules[rule]) {
                alert(rules[rule]);
            }
        };

        // Show more rules
        window.showMoreRules = function() {
            alert("More Grammar Rules:\n\n" +
                  "Subject-Verb Agreement:\n‚Ä¢ Singular subject = singular verb\n‚Ä¢ Plural subject = plural verb\n‚Ä¢ Examples: She runs. They run.\n\n" +
                  "Pronoun-Antecedent Agreement:\n‚Ä¢ Pronoun must agree with its antecedent in number and gender\n‚Ä¢ Examples: Each student must bring his or her book.\n\n" +
                  "Parallel Structure:\n‚Ä¢ Use same grammatical form for items in a list\n‚Ä¢ Correct: She likes hiking, swimming, and biking\n‚Ä¢ Incorrect: She likes hiking, to swim, and biking");
        };

        // Test grammar knowledge
        window.testGrammarKnowledge = function() {
            alert("Quick Grammar Quiz:\n\n" +
                  "1. What part of speech is 'quickly'? (Adverb)\n" +
                  "2. What is the subject in 'The cat sleeps'? (cat)\n" +
                  "3. What type of sentence is 'Run!'? (Imperative)\n" +
                  "4. What is the plural of 'child'? (children)\n" +
                  "5. Correct the error: 'He don't like apples.' (doesn't)");
        };

        // Show more tips
        window.showMoreTips = function() {
            alert("More Writing Tips:\n\n" +
                  "Vary Sentence Length:\n‚Ä¢ Mix short and long sentences\n‚Ä¢ Creates rhythm and emphasis\n\n" +
                  "Use Strong Verbs:\n‚Ä¢ Instead of 'walk slowly' use 'trudge'\n‚Ä¢ Instead of 'say loudly' use 'shout'\n\n" +
                  "Eliminate Wordiness:\n‚Ä¢ 'At this point in time' ‚Üí 'Now'\n‚Ä¢ 'Due to the fact that' ‚Üí 'Because'\n\n" +
                  "Read Aloud:\n‚Ä¢ Helps catch awkward phrasing\n‚Ä¢ Identifies run-on sentences");
        };

        // Show common errors
        window.showCommonErrors = function() {
            alert("Common Grammar Errors:\n\n" +
                  "1. Their/There/They're:\n‚Ä¢ Their = possessive (their house)\n‚Ä¢ There = location (over there)\n‚Ä¢ They're = contraction (they are)\n\n" +
                  "2. Your/You're:\n‚Ä¢ Your = possessive (your book)\n‚Ä¢ You're = contraction (you are)\n\n" +
                  "3. Its/It's:\n‚Ä¢ Its = possessive (its tail)\n‚Ä¢ It's = contraction (it is)\n\n" +
                  "4. Then/Than:\n‚Ä¢ Then = time (first this, then that)\n‚Ä¢ Than = comparison (taller than)\n\n" +
                  "5. Affect/Effect:\n‚Ä¢ Affect = verb (to influence)\n‚Ä¢ Effect = noun (the result)");
        };

        // Topic information display
        window.showTopicInfo = function(topic) {
            let info = '';
            if (topic === 'nouns') {
                info = "üìù Advanced Parts of Speech üìù\n\n";
                info += "Mastering the building blocks of English grammar.\n\n";
                info += "Key Areas:\n";
                info += "‚Ä¢ Nouns: Common, proper, collective, abstract\n";
                info += "‚Ä¢ Pronouns: Personal, possessive, reflexive, relative\n";
                info += "‚Ä¢ Verbs: Action, linking, transitive, intransitive\n";
                info += "‚Ä¢ Adjectives: Descriptive, quantitative, demonstrative\n";
                info += "‚Ä¢ Adverbs: Manner, time, place, degree, frequency\n";
                info += "‚Ä¢ Prepositions, Conjunctions, Interjections\n\n";
                info += "Understanding parts of speech is essential for sentence construction and effective communication.";
            } else if (topic === 'verbs') {
                info = "‚ö° Verb Forms & Tenses ‚ö°\n\n";
                info += "Advanced verb usage and complex tense structures.\n\n";
                info += "Key Concepts:\n";
                info += "‚Ä¢ Verb Tenses: Present, past, future, perfect, progressive\n";
                info += "‚Ä¢ Verb Moods: Indicative, imperative, subjunctive\n";
                info += "‚Ä¢ Voice: Active vs. passive voice\n";
                info += "‚Ä¢ Irregular verbs and their forms\n";
                info += "‚Ä¢ Modal auxiliary verbs\n";
                info += "‚Ä¢ Phrasal verbs and idiomatic expressions\n\n";
                info += "Verbs are the engine of sentences, expressing actions, states, and relationships.";
            } else {
                info = "üî§ Sentence Structure üî§\n\n";
                info += "Building complex and effective sentences.\n\n";
                info += "Key Areas:\n";
                info += "‚Ä¢ Sentence Types: Simple, compound, complex, compound-complex\n";
                info += "‚Ä¢ Clauses: Independent and dependent clauses\n";
                info += "‚Ä¢ Phrases: Noun, verb, prepositional, absolute\n";
                info += "‚Ä¢ Sentence Patterns: SV, SVO, SVC, SVOO, SVOC\n";
                info += "‚Ä¢ Common Errors: Fragments, run-ons, comma splices\n";
                info += "‚Ä¢ Sentence Variety and Effectiveness\n\n";
                info += "Advanced sentence construction creates clarity, emphasis, and sophistication in writing.";
            }
            alert(info);
        };

        // Initialize app
        window.addEventListener('DOMContentLoaded', initApp);
        
        // Handle window resize
        window.addEventListener('resize', function() {
            initializeCanvases();
            drawPartsOfSpeech();
            drawSentenceStructure();
        });
    </script>
</body>
</html>
