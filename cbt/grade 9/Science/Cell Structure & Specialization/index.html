<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 9 Science - Cell Structure & Specialization | Ideolix Learning Hub</title>
    <style>
        /* CSS Variables for Biology Theme */
        :root {
            --cell-blue: #2196F3;
            --organelle-green: #4CAF50;
            --specialization-purple: #9C27B0;
            --function-orange: #FF9800;
            --systems-red: #F44336;
            --applications-teal: #009688;
            --dark-bg: #121212;
            --dark-surface: #1E1E1E;
            --dark-card: #252525;
            --dark-border: #333;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --biology-glow: 0 0 20px rgba(33, 150, 243, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(33, 150, 243, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(76, 175, 80, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(156, 39, 176, 0.05) 0%, transparent 50%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            background: var(--dark-surface);
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(10px);
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 10px;
            overflow: hidden;
            background-color: var(--dark-card);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .brand-info h1 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .brand-info p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Card Styles */
        .card {
            background: var(--dark-card);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid var(--dark-border);
            backdrop-filter: blur(5px);
        }

        /* Welcome Page */
        .welcome-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-title {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--cell-blue), var(--organelle-green), var(--specialization-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 800px;
            line-height: 1.6;
        }

        .topic-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(33, 150, 243, 0.15);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 20px;
            border: 2px solid var(--cell-blue);
        }

        .topic-icon {
            font-size: 1.5rem;
        }

        .topic-name {
            font-weight: 600;
            color: var(--cell-blue);
        }

        /* Biology Symbols */
        .bio-symbol {
            font-family: 'Cambria Math', 'Times New Roman', serif;
            font-weight: bold;
        }

        .cell-part {
            color: var(--organelle-green);
            font-weight: bold;
        }

        .function {
            color: var(--function-orange);
            font-style: italic;
        }

        /* Concepts Grid */
        .concepts-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin: 25px 0;
        }

        @media (max-width: 768px) {
            .concepts-grid {
                grid-template-columns: 1fr;
            }
        }

        .concept-card {
            background: var(--dark-surface);
            border-radius: 16px;
            padding: 25px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .concept-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3);
        }

        .concept-card.cell-basics {
            border-color: var(--cell-blue);
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), transparent);
        }

        .concept-card.organelles {
            border-color: var(--organelle-green);
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), transparent);
        }

        .concept-card.specialization {
            border-color: var(--specialization-purple);
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.1), transparent);
        }

        .concept-card.functions {
            border-color: var(--function-orange);
            background: linear-gradient(135deg, rgba(255, 152, 0, 0.1), transparent);
        }

        .concept-card.systems {
            border-color: var(--systems-red);
            background: linear-gradient(135deg, rgba(244, 67, 54, 0.1), transparent);
        }

        .concept-card.applications {
            border-color: var(--applications-teal);
            background: linear-gradient(135deg, rgba(0, 150, 136, 0.1), transparent);
        }

        .concept-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .concept-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .concept-card.cell-basics .concept-title {
            color: var(--cell-blue);
        }

        .concept-card.organelles .concept-title {
            color: var(--organelle-green);
        }

        .concept-card.specialization .concept-title {
            color: var(--specialization-purple);
        }

        .concept-card.functions .concept-title {
            color: var(--function-orange);
        }

        .concept-card.systems .concept-title {
            color: var(--systems-red);
        }

        .concept-card.applications .concept-title {
            color: var(--applications-teal);
        }

        .concept-description {
            color: var(--text-secondary);
            margin-bottom: 20px;
            line-height: 1.6;
            flex-grow: 1;
        }

        .concept-examples {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--dark-border);
        }

        .concept-examples h4 {
            font-size: 0.9rem;
            color: var(--text-primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .example-list {
            list-style-type: none;
        }

        .example-list li {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 6px;
            padding-left: 20px;
            position: relative;
        }

        .example-list li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: var(--cell-blue);
            font-weight: bold;
        }

        /* Input Group */
        .input-group {
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            text-align: left;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            font-size: 1rem;
            background: var(--dark-surface);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--cell-blue);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--cell-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-primary:hover {
            background: #1976D2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
        }

        .btn-green {
            background: var(--organelle-green);
            color: white;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .btn-green:hover {
            background: #388E3C;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }

        .btn-purple {
            background: var(--specialization-purple);
            color: white;
            box-shadow: 0 4px 12px rgba(156, 39, 176, 0.3);
        }

        .btn-purple:hover {
            background: #7B1FA2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(156, 39, 176, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--dark-border);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--cell-blue);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Practice Page */
        .practice-page {
            display: none;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-bar {
            height: 8px;
            background: var(--dark-surface);
            border-radius: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--cell-blue), var(--organelle-green), var(--specialization-purple));
            border-radius: 8px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(33, 150, 243, 0.5);
        }

        .question-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: 20px;
            line-height: 1.6;
            color: var(--text-primary);
        }

        .bio-tip {
            background: rgba(255, 152, 0, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--function-orange);
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: var(--dark-card);
            border: 2px solid var(--dark-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--cell-blue);
            transform: translateY(-2px);
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--organelle-green);
            color: var(--organelle-green);
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-color: var(--systems-red);
            color: var(--systems-red);
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 25px;
            height: 25px;
            background: var(--cell-blue);
            border-radius: 50%;
            margin-right: 12px;
            font-weight: bold;
            color: white;
        }

        .option.correct .option-letter {
            background: var(--organelle-green);
        }

        .option.incorrect .option-letter {
            background: var(--systems-red);
        }

        /* Feedback */
        .feedback-container {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .feedback-correct {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--organelle-green);
        }

        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid var(--systems-red);
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            color: white;
        }

        .feedback-correct .feedback-icon {
            background: var(--organelle-green);
        }

        .feedback-incorrect .feedback-icon {
            background: var(--systems-red);
        }

        .feedback-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .feedback-correct .feedback-title {
            color: var(--organelle-green);
        }

        .feedback-incorrect .feedback-title {
            color: var(--systems-red);
        }

        .feedback-explanation {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Navigation */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        /* Visualization Side */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .visualization-container {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--dark-border);
            overflow: auto;
            max-height: 800px;
        }

        /* Biology Visualizers */
        .bio-visualizer {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid;
        }

        .visualizer-title {
            color: inherit;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .bio-example {
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
            font-size: 1rem;
            line-height: 1.5;
            text-align: center;
        }

        .highlight-bio {
            background: rgba(255, 193, 7, 0.3);
            padding: 2px 4px;
            border-radius: 3px;
            cursor: pointer;
            font-weight: bold;
        }

        /* Cell Diagram */
        .cell-diagram-container {
            width: 100%;
            height: 300px;
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            position: relative;
            border: 1px solid var(--dark-border);
            overflow: hidden;
        }

        .cell-part-label {
            position: absolute;
            padding: 4px 8px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 4px;
            font-size: 0.8rem;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .cell-part-label:hover {
            background: var(--cell-blue);
            transform: scale(1.1);
        }

        .cell-nucleus {
            position: absolute;
            width: 60px;
            height: 60px;
            background: var(--specialization-purple);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
        }

        .cell-membrane {
            position: absolute;
            width: 90%;
            height: 90%;
            border: 3px solid var(--cell-blue);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .cell-cytoplasm {
            position: absolute;
            width: 85%;
            height: 85%;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .mitochondria {
            position: absolute;
            width: 25px;
            height: 40px;
            background: var(--organelle-green);
            border-radius: 20px;
            transform: rotate(45deg);
            cursor: pointer;
        }

        .ribosomes {
            position: absolute;
            width: 8px;
            height: 8px;
            background: var(--function-orange);
            border-radius: 50%;
            cursor: pointer;
        }

        .er {
            position: absolute;
            width: 40px;
            height: 60px;
            border: 2px solid var(--applications-teal);
            border-radius: 10px;
            cursor: pointer;
        }

        .golgi {
            position: absolute;
            width: 35px;
            height: 25px;
            background: var(--systems-red);
            clip-path: polygon(0% 0%, 100% 0%, 80% 100%, 20% 100%);
            cursor: pointer;
        }

        /* Comparison Table */
        .comparison-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--systems-red);
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--dark-surface);
            border-radius: 6px;
            overflow: hidden;
        }

        .comparison-table th {
            background: var(--dark-card);
            padding: 12px;
            text-align: left;
            font-size: 0.9rem;
            border-bottom: 2px solid var(--systems-red);
            color: var(--systems-red);
        }

        .comparison-table td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--dark-border);
            color: var(--text-primary);
            font-size: 0.85rem;
        }

        .comparison-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Organelle Quiz */
        .organelle-quiz {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--organelle-green);
        }

        .quiz-display {
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            font-size: 1rem;
            line-height: 1.6;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        /* Specialization Gallery */
        .cell-gallery {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .cell-gallery {
                grid-template-columns: 1fr;
            }
        }

        .cell-type-card {
            background: var(--dark-surface);
            border-radius: 6px;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .cell-type-card:hover {
            transform: translateY(-3px);
            border-color: var(--specialization-purple);
        }

        .cell-icon {
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .cell-name {
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .cell-function {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* Microscope Simulator */
        .microscope-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--cell-blue);
        }

        .microscope-view {
            width: 100%;
            height: 150px;
            background: var(--dark-surface);
            border-radius: 6px;
            margin: 10px 0;
            position: relative;
            overflow: hidden;
            border: 2px solid var(--dark-border);
        }

        .specimen {
            position: absolute;
            border-radius: 50%;
            opacity: 0.8;
            transition: all 0.5s ease;
        }

        /* Flash Cards */
        .flashcard-section {
            background: var(--dark-card);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid var(--function-orange);
        }

        .flashcard {
            width: 100%;
            height: 120px;
            background: var(--dark-surface);
            border-radius: 8px;
            perspective: 1000px;
            margin: 10px 0;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            border-radius: 8px;
        }

        .flashcard-front {
            background: linear-gradient(135deg, var(--cell-blue), var(--organelle-green));
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .flashcard-back {
            background: linear-gradient(135deg, var(--specialization-purple), var(--systems-red));
            color: white;
            transform: rotateY(180deg);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        /* Results Page */
        .results-page {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }

        .results-title {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--cell-blue), var(--organelle-green), var(--specialization-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .score-card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--dark-border);
        }

        .score-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--cell-blue), var(--organelle-green), var(--specialization-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .score-percentage {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .stats-container {
                grid-template-columns: 1fr;
            }
        }

        .stat-item {
            background: var(--dark-surface);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--cell-blue);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Biology Badge */
        .bio-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-left: 8px;
            text-transform: uppercase;
        }

        .cell-badge {
            background: rgba(33, 150, 243, 0.2);
            color: var(--cell-blue);
        }

        .organelle-badge {
            background: rgba(76, 175, 80, 0.2);
            color: var(--organelle-green);
        }

        .specialization-badge {
            background: rgba(156, 39, 176, 0.2);
            color: var(--specialization-purple);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes highlight {
            0% { background-color: transparent; }
            50% { background-color: rgba(33, 150, 243, 0.2); }
            100% { background-color: transparent; }
        }

        .highlight {
            animation: highlight 1s ease;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .float {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes cellGlow {
            0% { box-shadow: 0 0 5px currentColor; }
            50% { box-shadow: 0 0 20px currentColor; }
            100% { box-shadow: 0 0 5px currentColor; }
        }

        .cell-glow {
            animation: cellGlow 2s infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 1.8rem;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-buttons .btn {
                width: 100%;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .cell-gallery {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ideolixlearninghub/ideolix-web/main/ideolix%20LOGO.jpg" alt="Ideolix Logo">
            </div>
            <div class="brand-info">
                <h1>Ideolix Learning Hub</h1>
                <p>Building learners for a digital future.</p>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline btn-small" id="backToHome">Home</button>
            </div>
        </header>

        <!-- Welcome Page -->
        <div class="welcome-page card fade-in" id="welcomePage">
            <h1 class="welcome-title">Grade 9 Science: Cell Structure & Specialization</h1>
            <p class="welcome-subtitle">Explore the building blocks of life! Learn about cell organelles, their functions, and how cells specialize to form tissues and organs. Discover the incredible world of microscopic life.</p>
            
            <div class="topic-badge">
                <span class="topic-icon">üî¨üß¨</span>
                <span class="topic-name">Cell Theory, Organelles, Specialization, Systems</span>
            </div>
            
            <div class="concepts-grid">
                <div class="concept-card cell-basics" onclick="showConceptDetail('cell-basics')">
                    <div class="concept-icon">üß´</div>
                    <h3 class="concept-title">Cell Basics & Theory</h3>
                    <p class="concept-description">The fundamental unit of life. Understanding cell theory, types of cells, and their basic structures.</p>
                    <div class="concept-examples">
                        <h4>Key Concepts:</h4>
                        <ul class="example-list">
                            <li>Cell Theory Principles</li>
                            <li>Prokaryotic vs Eukaryotic</li>
                            <li>Plant vs Animal Cells</li>
                        </ul>
                    </div>
                </div>
                
                <div class="concept-card organelles" onclick="showConceptDetail('organelles')">
                    <div class="concept-icon">üîÑ</div>
                    <h3 class="concept-title">Cell Organelles</h3>
                    <p class="concept-description">Specialized structures within cells that perform specific functions essential for life.</p>
                    <div class="concept-examples">
                        <h4>Examples:</h4>
                        <ul class="example-list">
                            <li>Nucleus - Control Center</li>
                            <li>Mitochondria - Powerhouse</li>
                            <li>Chloroplasts - Photosynthesis</li>
                        </ul>
                    </div>
                </div>

                <div class="concept-card specialization" onclick="showConceptDetail('specialization')">
                    <div class="concept-icon">üîß</div>
                    <h3 class="concept-title">Cell Specialization</h3>
                    <p class="concept-description">How cells develop specific structures and functions to perform particular roles in multicellular organisms.</p>
                    <div class="concept-examples">
                        <h4>Examples:</h4>
                        <ul class="example-list">
                            <li>Red Blood Cells - Oxygen transport</li>
                            <li>Neurons - Signal transmission</li>
                            <li>Muscle Cells - Contraction</li>
                        </ul>
                    </div>
                </div>

                <div class="concept-card functions" onclick="showConceptDetail('functions')">
                    <div class="concept-icon">‚öôÔ∏è</div>
                    <h3 class="concept-title">Cellular Functions</h3>
                    <p class="concept-description">Essential processes that occur within cells to maintain life and enable organism function.</p>
                    <div class="concept-examples">
                        <h4>Examples:</h4>
                        <ul class="example-list">
                            <li>Protein Synthesis</li>
                            <li>Cellular Respiration</li>
                            <li>Cell Division</li>
                        </ul>
                    </div>
                </div>

                <div class="concept-card systems" onclick="showConceptDetail('systems')">
                    <div class="concept-icon">üîÑ</div>
                    <h3 class="concept-title">Biological Organization</h3>
                    <p class="concept-description">How cells work together to form tissues, organs, and systems in multicellular organisms.</p>
                    <div class="concept-examples">
                        <h4>Levels:</h4>
                        <ul class="example-list">
                            <li>Cells ‚Üí Tissues ‚Üí Organs</li>
                            <li>Organ Systems ‚Üí Organism</li>
                            <li>Population ‚Üí Ecosystem</li>
                        </ul>
                    </div>
                </div>

                <div class="concept-card applications" onclick="showConceptDetail('applications')">
                    <div class="concept-icon">üè•</div>
                    <h3 class="concept-title">Real Applications</h3>
                    <p class="concept-description">How cell biology impacts medicine, biotechnology, agriculture, and environmental science.</p>
                    <div class="concept-examples">
                        <h4>Examples:</h4>
                        <ul class="example-list">
                            <li>Stem Cell Therapy</li>
                            <li>Genetic Engineering</li>
                            <li>Cancer Research</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="input-group">
                <label for="studentName">Enter your name:</label>
                <input type="text" id="studentName" placeholder="Your name">
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="startPractice">
                    <span>üî¨ Begin Cell Biology Practice</span>
                </button>
            </div>
        </div>

        <!-- Practice Page -->
        <div class="practice-page card fade-in" id="practicePage">
            <div class="progress-container">
                <div class="progress-info">
                    <span id="studentNameDisplay"></span>
                    <span id="progressText">Question 1 of 80</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 1.25%"></div>
                </div>
            </div>

            <div class="question-container">
                <div id="bioTip"></div>
                
                <h2 class="question-text" id="questionText"></h2>
                
                <div class="options-container" id="optionsContainer"></div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <div class="feedback-header">
                        <div class="feedback-icon"></div>
                        <div class="feedback-title"></div>
                    </div>
                    <div class="feedback-explanation" id="feedbackExplanation"></div>
                </div>
            </div>
            
            <!-- Visualization Area -->
            <div class="content-wrapper">
                <div class="visualization-container">
                    <!-- Interactive Cell Diagram -->
                    <div class="bio-visualizer" style="border-color: var(--cell-blue)">
                        <div class="visualizer-title">Interactive Cell Diagram</div>
                        
                        <div class="cell-diagram-container" id="cellDiagram">
                            <!-- Cell parts will be generated by JavaScript -->
                        </div>
                        
                        <div id="cellPartInfo" class="bio-example" style="min-height: 60px;">
                            Click on any cell part to learn about its function
                        </div>
                        
                        <div class="btn-group">
                            <button class="btn btn-small btn-primary" onclick="showAnimalCell()">Animal Cell</button>
                            <button class="btn btn-small btn-green" onclick="showPlantCell()">Plant Cell</button>
                            <button class="btn btn-small btn-outline" onclick="explainCellParts()">All Parts</button>
                        </div>
                    </div>
                    
                    <!-- Organelle Quiz -->
                    <div class="organelle-quiz">
                        <div class="visualizer-title">Organelle Identification Quiz</div>
                        
                        <div class="quiz-display" id="organelleQuestion">
                            Which organelle is known as the "powerhouse of the cell"?
                        </div>
                        
                        <div class="cell-gallery" id="organelleOptions">
                            <!-- Options will be generated by JavaScript -->
                        </div>
                        
                        <div id="organelleFeedback" style="margin: 10px 0; color: var(--text-secondary); font-size: 0.9rem; text-align: center;">
                            Click the correct organelle
                        </div>
                        
                        <div class="btn-group">
                            <button class="btn btn-small btn-green" onclick="newOrganelleQuestion()">New Question</button>
                            <button class="btn btn-small btn-outline" onclick="showOrganelleTable()">Organelle Table</button>
                        </div>
                    </div>
                    
                    <!-- Cell Specialization Gallery -->
                    <div class="bio-visualizer" style="border-color: var(--specialization-purple)">
                        <div class="visualizer-title">Specialized Cell Types</div>
                        
                        <div class="cell-gallery" id="cellGallery">
                            <!-- Cell types will be generated by JavaScript -->
                        </div>
                        
                        <div id="specializationInfo" class="bio-example" style="min-height: 60px; margin-top: 10px;">
                            Click on a cell type to learn about its specialization
                        </div>
                        
                        <div class="btn-group">
                            <button class="btn btn-small btn-purple" onclick="newCellGallery()">More Cells</button>
                            <button class="btn btn-small btn-outline" onclick="explainSpecialization()">What is Specialization?</button>
                        </div>
                    </div>
                    
                    <!-- Microscope Simulator -->
                    <div class="microscope-section">
                        <div class="visualizer-title">Virtual Microscope</div>
                        
                        <div class="microscope-view" id="microscopeView">
                            <!-- Specimens will be generated by JavaScript -->
                        </div>
                        
                        <div style="text-align: center; margin: 10px 0; color: var(--text-secondary); font-size: 0.9rem;">
                            Magnification: <span id="magnification">100x</span>
                        </div>
                        
                        <div class="btn-group">
                            <button class="btn btn-small btn-primary" onclick="increaseMagnification()">Zoom In (+)</button>
                            <button class="btn btn-small btn-outline" onclick="decreaseMagnification()">Zoom Out (-)</button>
                            <button class="btn btn-small btn-green" onclick="changeSpecimen()">New Specimen</button>
                        </div>
                        
                        <div id="specimenInfo" style="margin-top: 10px; color: var(--text-secondary); font-size: 0.85rem; text-align: center;">
                            Currently viewing: Cheek Cells
                        </div>
                    </div>
                    
                    <!-- Flash Cards -->
                    <div class="flashcard-section">
                        <div class="visualizer-title">Cell Biology Flash Cards</div>
                        
                        <div class="flashcard" id="flashcard1" onclick="flipCard('flashcard1')">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    What organelle contains DNA?
                                </div>
                                <div class="flashcard-back">
                                    <strong>Nucleus</strong><br>
                                    The control center of the cell that contains genetic material (DNA) and directs cell activities.
                                </div>
                            </div>
                        </div>
                        
                        <div class="flashcard" id="flashcard2" onclick="flipCard('flashcard2')">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    Site of photosynthesis?
                                </div>
                                <div class="flashcard-back">
                                    <strong>Chloroplast</strong><br>
                                    Found only in plant cells, contains chlorophyll and converts light energy to chemical energy.
                                </div>
                            </div>
                        </div>
                        
                        <div class="btn-group">
                            <button class="btn btn-small btn-orange" onclick="newFlashcards()">New Cards</button>
                            <button class="btn btn-small btn-outline" onclick="resetFlashcards()">Reset All</button>
                        </div>
                    </div>
                    
                    <!-- Comparison Table: Plant vs Animal Cells -->
                    <div class="comparison-section">
                        <div class="visualizer-title">Plant vs Animal Cells</div>
                        
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Feature</th>
                                    <th>Plant Cell</th>
                                    <th>Animal Cell</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr onclick="explainDifference('cell-wall')">
                                    <td>Cell Wall</td>
                                    <td>‚úÖ Present (cellulose)</td>
                                    <td>‚ùå Absent</td>
                                </tr>
                                <tr onclick="explainDifference('chloroplast')">
                                    <td>Chloroplasts</td>
                                    <td>‚úÖ Present</td>
                                    <td>‚ùå Absent</td>
                                </tr>
                                <tr onclick="explainDifference('vacuole')">
                                    <td>Central Vacuole</td>
                                    <td>‚úÖ Large, central</td>
                                    <td>‚úÖ Small, multiple</td>
                                </tr>
                                <tr onclick="explainDifference('shape')">
                                    <td>Shape</td>
                                    <td>Rectangular/fixed</td>
                                    <td>Round/irregular</td>
                                </tr>
                                <tr onclick="explainDifference('centrioles')">
                                    <td>Centrioles</td>
                                    <td>‚ùå Usually absent</td>
                                    <td>‚úÖ Present</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div id="differenceDetail" style="margin-top: 15px; padding: 10px; background: var(--dark-surface); border-radius: 6px; color: var(--text-secondary); font-size: 0.85rem; display: none;">
                            Click a row for detailed explanation
                        </div>
                    </div>
                    
                    <!-- Biological Organization -->
                    <div class="bio-visualizer" style="border-color: var(--systems-red)">
                        <div class="visualizer-title">Levels of Biological Organization</div>
                        
                        <div style="text-align: center; margin: 15px 0;">
                            <div style="display: inline-block; text-align: left;">
                                <div style="margin: 5px 0; padding: 8px 15px; background: var(--dark-surface); border-radius: 5px; border-left: 4px solid var(--cell-blue);">
                                    <strong>1. Cells</strong> - Basic unit of life
                                </div>
                                <div style="text-align: center; margin: 5px 0;">‚Üì</div>
                                <div style="margin: 5px 0; padding: 8px 15px; background: var(--dark-surface); border-radius: 5px; border-left: 4px solid var(--organelle-green);">
                                    <strong>2. Tissues</strong> - Groups of similar cells
                                </div>
                                <div style="text-align: center; margin: 5px 0;">‚Üì</div>
                                <div style="margin: 5px 0; padding: 8px 15px; background: var(--dark-surface); border-radius: 5px; border-left: 4px solid var(--specialization-purple);">
                                    <strong>3. Organs</strong> - Different tissues working together
                                </div>
                                <div style="text-align: center; margin: 5px 0;">‚Üì</div>
                                <div style="margin: 5px 0; padding: 8px 15px; background: var(--dark-surface); border-radius: 5px; border-left: 4px solid var(--function-orange);">
                                    <strong>4. Organ Systems</strong> - Groups of organs
                                </div>
                                <div style="text-align: center; margin: 5px 0;">‚Üì</div>
                                <div style="margin: 5px 0; padding: 8px 15px; background: var(--dark-surface); border-radius: 5px; border-left: 4px solid var(--systems-red);">
                                    <strong>5. Organism</strong> - Complete living thing
                                </div>
                            </div>
                        </div>
                        
                        <div class="btn-group">
                            <button class="btn btn-small btn-red" onclick="explainOrganization()">Explain Levels</button>
                            <button class="btn btn-small btn-outline" onclick="showExamples()">Examples</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button class="btn btn-outline" id="skipQuestion">Skip Question</button>
                <button class="btn btn-primary" id="nextQuestion" disabled>Next Question</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="results-page card fade-in" id="resultsPage">
            <h2 class="results-title">Cell Biology Practice Complete!</h2>
            
            <div class="score-card">
                <div class="score-value" id="finalScore">0</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
                <div class="score-message" id="scoreMessage"></div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="cellBasicsScore">0</div>
                        <div class="stat-label">Cell Basics</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="organellesScore">0</div>
                        <div class="stat-label">Organelles</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="specializationScore">0</div>
                        <div class="stat-label">Specialization</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="timeSpent">0min</div>
                        <div class="stat-label">Time Spent</div>
                    </div>
                </div>
                
                <div class="btn-group" style="margin-top: 20px;">
                    <button class="btn btn-primary" id="retryTopic">Try Again</button>
                    <button class="btn btn-green" id="viewTopics">Other Topics</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Comprehensive questions array - 80+ questions on Cell Biology
        const questions = [
            // Cell Basics & Theory (1-15)
            {
                question: "What is the basic unit of life?",
                options: ["Cell", "Atom", "Molecule", "Organ"],
                answer: "A",
                explanation: "The cell is the basic structural and functional unit of all living organisms.",
                type: "cell-basics"
            },
            {
                question: "Which statement is part of the cell theory?",
                options: ["All living things are made of cells", "Cells are only found in animals", "Cells can form spontaneously", "Plant cells are not true cells"],
                answer: "A",
                explanation: "Cell theory states: 1) All living things are composed of cells, 2) Cells are the basic unit of life, 3) All cells come from pre-existing cells.",
                type: "cell-basics"
            },
            {
                question: "Who first observed cells using a microscope?",
                options: ["Robert Hooke", "Anton van Leeuwenhoek", "Louis Pasteur", "Gregor Mendel"],
                answer: "A",
                explanation: "Robert Hooke first observed cells in cork in 1665 and coined the term 'cell'.",
                type: "cell-basics"
            },
            {
                question: "What did Anton van Leeuwenhoek call his discoveries?",
                options: ["Animalcules", "Microbes", "Bacteria", "Cells"],
                answer: "A",
                explanation: "Leeuwenhoek called microorganisms 'animalcules' (little animals).",
                type: "cell-basics"
            },
            {
                question: "Which type of cell has no nucleus?",
                options: ["Prokaryotic cell", "Eukaryotic cell", "Plant cell", "Animal cell"],
                answer: "A",
                explanation: "Prokaryotic cells (bacteria) lack a nucleus and membrane-bound organelles.",
                type: "cell-basics"
            },
            {
                question: "Which cells have membrane-bound organelles?",
                options: ["Eukaryotic cells", "Prokaryotic cells", "Bacterial cells", "Archaeal cells"],
                answer: "A",
                explanation: "Eukaryotic cells have membrane-bound organelles like nucleus, mitochondria, etc.",
                type: "cell-basics"
            },
            {
                question: "What is the main difference between plant and animal cells?",
                options: ["Plant cells have cell walls and chloroplasts", "Animal cells are larger", "Plant cells have no nucleus", "Animal cells have chloroplasts"],
                answer: "A",
                explanation: "Plant cells have cell walls and chloroplasts; animal cells do not.",
                type: "cell-basics"
            },
            {
                question: "What surrounds all cells and controls what enters and leaves?",
                options: ["Cell membrane", "Cell wall", "Cytoplasm", "Nucleus"],
                answer: "A",
                explanation: "The cell membrane (plasma membrane) is selectively permeable and controls movement in/out of cell.",
                type: "cell-basics"
            },
            {
                question: "Where is DNA found in eukaryotic cells?",
                options: ["Nucleus", "Cytoplasm", "Cell membrane", "Mitochondria"],
                answer: "A",
                explanation: "In eukaryotic cells, DNA is primarily located in the nucleus.",
                type: "cell-basics"
            },
            {
                question: "What is the jelly-like substance inside cells?",
                options: ["Cytoplasm", "Nucleoplasm", "Cell sap", "Protoplasm"],
                answer: "A",
                explanation: "Cytoplasm is the jelly-like substance that fills the cell and contains organelles.",
                type: "cell-basics"
            },
            {
                question: "Which scientist proposed that all cells come from pre-existing cells?",
                options: ["Rudolf Virchow", "Robert Hooke", "Louis Pasteur", "Matthias Schleiden"],
                answer: "A",
                explanation: "Rudolf Virchow added the third part of cell theory: 'Omnis cellula e cellula' (all cells come from cells).",
                type: "cell-basics"
            },
            {
                question: "What are unicellular organisms?",
                options: ["Organisms made of one cell", "Organisms with specialized cells", "Organisms with tissues", "Dead organisms"],
                answer: "A",
                explanation: "Unicellular organisms consist of a single cell that performs all life functions.",
                type: "cell-basics"
            },
            {
                question: "What are multicellular organisms?",
                options: ["Organisms made of many cells", "Single-celled organisms", "Non-living things", "Only plants"],
                answer: "A",
                explanation: "Multicellular organisms consist of many specialized cells working together.",
                type: "cell-basics"
            },
            {
                question: "Which microscope is commonly used in school labs?",
                options: ["Light microscope", "Electron microscope", "Telescope", "Periscope"],
                answer: "A",
                explanation: "Light microscopes use visible light and are commonly used in school laboratories.",
                type: "cell-basics"
            },
            {
                question: "What magnification is typically needed to see cells?",
                options: ["100x to 400x", "10x", "1000x", "50,000x"],
                answer: "A",
                explanation: "Most cells are visible at 100x-400x magnification with a light microscope.",
                type: "cell-basics"
            },

            // Organelles (16-35)
            {
                question: "What is the function of the nucleus?",
                options: ["Control center of the cell", "Energy production", "Protein synthesis", "Storage"],
                answer: "A",
                explanation: "The nucleus contains DNA and controls cell activities.",
                type: "organelles"
            },
            {
                question: "Which organelle is the 'powerhouse' of the cell?",
                options: ["Mitochondria", "Nucleus", "Ribosome", "Golgi apparatus"],
                answer: "A",
                explanation: "Mitochondria produce ATP through cellular respiration - the energy currency of cells.",
                type: "organelles"
            },
            {
                question: "Where are proteins made in the cell?",
                options: ["Ribosomes", "Nucleus", "Mitochondria", "Vacuole"],
                answer: "A",
                explanation: "Ribosomes are the sites of protein synthesis.",
                type: "organelles"
            },
            {
                question: "What is the function of chloroplasts?",
                options: ["Photosynthesis", "Cellular respiration", "Protein synthesis", "Waste removal"],
                answer: "A",
                explanation: "Chloroplasts contain chlorophyll and perform photosynthesis in plant cells.",
                type: "organelles"
            },
            {
                question: "Which organelle modifies, sorts, and packages proteins?",
                options: ["Golgi apparatus", "Endoplasmic reticulum", "Lysosome", "Vacuole"],
                answer: "A",
                explanation: "The Golgi apparatus processes and packages proteins for transport.",
                type: "organelles"
            },
            {
                question: "What is the function of lysosomes?",
                options: ["Digestion and waste removal", "Energy production", "Protein synthesis", "Support"],
                answer: "A",
                explanation: "Lysosomes contain digestive enzymes to break down waste materials and cellular debris.",
                type: "organelles"
            },
            {
                question: "Which organelle is involved in lipid synthesis and detoxification?",
                options: ["Smooth ER", "Rough ER", "Golgi apparatus", "Mitochondria"],
                answer: "A",
                explanation: "Smooth endoplasmic reticulum (ER) is involved in lipid synthesis and detoxification.",
                type: "organelles"
            },
            {
                question: "Which organelle has ribosomes attached?",
                options: ["Rough ER", "Smooth ER", "Golgi apparatus", "Lysosome"],
                answer: "A",
                explanation: "Rough endoplasmic reticulum has ribosomes attached and is involved in protein synthesis.",
                type: "organelles"
            },
            {
                question: "What is the function of vacuoles?",
                options: ["Storage of materials", "Energy production", "Protein synthesis", "Cell movement"],
                answer: "A",
                explanation: "Vacuoles store water, nutrients, and waste products. Plant cells have large central vacuoles.",
                type: "organelles"
            },
            {
                question: "Which structure provides support and protection in plant cells?",
                options: ["Cell wall", "Cell membrane", "Cytoskeleton", "Nuclear envelope"],
                answer: "A",
                explanation: "The cell wall made of cellulose provides structural support and protection in plant cells.",
                type: "organelles"
            },
            {
                question: "What is the cytoskeleton?",
                options: ["Network of protein filaments", "Energy-producing organelle", "Genetic material", "Outer covering"],
                answer: "A",
                explanation: "The cytoskeleton is a network of protein filaments that provides shape and enables movement.",
                type: "organelles"
            },
            {
                question: "Which organelle contains digestive enzymes?",
                options: ["Lysosome", "Mitochondria", "Chloroplast", "Ribosome"],
                answer: "A",
                explanation: "Lysosomes contain hydrolytic enzymes for digestion of cellular waste.",
                type: "organelles"
            },
            {
                question: "Where is chlorophyll found?",
                options: ["Chloroplasts", "Mitochondria", "Nucleus", "Cytoplasm"],
                answer: "A",
                explanation: "Chlorophyll, the green pigment for photosynthesis, is found in chloroplasts.",
                type: "organelles"
            },
            {
                question: "Which organelle converts glucose to ATP?",
                options: ["Mitochondria", "Chloroplast", "Nucleus", "Ribosome"],
                answer: "A",
                explanation: "Mitochondria convert glucose to ATP through cellular respiration.",
                type: "organelles"
            },
            {
                question: "What is the function of centrioles?",
                options: ["Organize cell division", "Protein synthesis", "Photosynthesis", "Detoxification"],
                answer: "A",
                explanation: "Centrioles organize microtubules during cell division (mitosis and meiosis).",
                type: "organelles"
            },
            {
                question: "Which organelle is only found in animal cells?",
                options: ["Centrioles", "Chloroplasts", "Cell wall", "Large central vacuole"],
                answer: "A",
                explanation: "Centrioles are typically found only in animal cells, not plant cells.",
                type: "organelles"
            },
            {
                question: "What is the nuclear envelope?",
                options: ["Double membrane around nucleus", "DNA inside nucleus", "Ribosomes on ER", "Cell boundary"],
                answer: "A",
                explanation: "The nuclear envelope is a double membrane that surrounds the nucleus.",
                type: "organelles"
            },
            {
                question: "What are chromatin?",
                options: ["DNA and protein in nucleus", "Ribosomes in cytoplasm", "Enzymes in lysosomes", "Pigments in chloroplasts"],
                answer: "A",
                explanation: "Chromatin is the complex of DNA and proteins (histones) found in the nucleus.",
                type: "organelles"
            },
            {
                question: "Which organelle makes ribosomes?",
                options: ["Nucleolus", "Mitochondria", "Golgi apparatus", "Endoplasmic reticulum"],
                answer: "A",
                explanation: "The nucleolus inside the nucleus produces ribosomes.",
                type: "organelles"
            },
            {
                question: "What is the endoplasmic reticulum (ER)?",
                options: ["Network of membranes for transport", "Energy production site", "Protein synthesis organelle", "Storage sac"],
                answer: "A",
                explanation: "ER is a network of membranes involved in protein and lipid synthesis and transport.",
                type: "organelles"
            },

            // Cell Specialization (36-50)
            {
                question: "What is cell specialization?",
                options: ["Cells developing specific functions", "All cells being identical", "Cells losing function", "Random cell changes"],
                answer: "A",
                explanation: "Cell specialization (differentiation) is when cells develop specific structures and functions.",
                type: "specialization"
            },
            {
                question: "Why do multicellular organisms need specialized cells?",
                options: ["To perform different functions efficiently", "To all look the same", "To reduce energy use", "To avoid reproduction"],
                answer: "A",
                explanation: "Specialization allows cells to perform specific functions efficiently, enabling complex organisms.",
                type: "specialization"
            },
            {
                question: "What is a tissue?",
                options: ["Group of similar cells working together", "Single cell", "Different cell types", "Organ system"],
                answer: "A",
                explanation: "A tissue is a group of similar cells working together to perform a specific function.",
                type: "specialization"
            },
            {
                question: "Which cell is specialized for contraction?",
                options: ["Muscle cell", "Nerve cell", "Red blood cell", "Skin cell"],
                answer: "A",
                explanation: "Muscle cells contain contractile proteins (actin and myosin) for movement.",
                type: "specialization"
            },
            {
                question: "Which cell transmits electrical signals?",
                options: ["Neuron (nerve cell)", "Muscle cell", "Red blood cell", "Guard cell"],
                answer: "A",
                explanation: "Neurons are specialized to transmit electrical impulses (nerve signals).",
                type: "specialization"
            },
            {
                question: "What is the function of red blood cells?",
                options: ["Carry oxygen", "Fight infection", "Transmit signals", "Store energy"],
                answer: "A",
                explanation: "Red blood cells contain hemoglobin to transport oxygen throughout the body.",
                type: "specialization"
            },
            {
                question: "Why do red blood cells lack a nucleus?",
                options: ["More space for hemoglobin", "They don't need DNA", "To be smaller", "To divide faster"],
                answer: "A",
                explanation: "Mature red blood cells lack a nucleus to maximize space for hemoglobin (oxygen-carrying protein).",
                type: "specialization"
            },
            {
                question: "Which cell produces antibodies?",
                options: ["White blood cell (lymphocyte)", "Red blood cell", "Muscle cell", "Nerve cell"],
                answer: "A",
                explanation: "White blood cells (lymphocytes) produce antibodies to fight infections.",
                type: "specialization"
            },
            {
                question: "What is the function of guard cells?",
                options: ["Control stomata opening", "Photosynthesis", "Water transport", "Support"],
                answer: "A",
                explanation: "Guard cells control the opening and closing of stomata for gas exchange in plants.",
                type: "specialization"
            },
            {
                question: "Which plant cell transports water?",
                options: ["Xylem vessel", "Palisade cell", "Guard cell", "Root hair cell"],
                answer: "A",
                explanation: "Xylem vessels are specialized to transport water and minerals from roots to leaves.",
                type: "specialization"
            },
            {
                question: "What is the function of root hair cells?",
                options: ["Absorb water and minerals", "Photosynthesis", "Gas exchange", "Support"],
                answer: "A",
                explanation: "Root hair cells increase surface area for absorption of water and minerals from soil.",
                type: "specialization"
            },
            {
                question: "Which cell contains many chloroplasts for photosynthesis?",
                options: ["Palisade mesophyll cell", "Xylem cell", "Guard cell", "Root hair cell"],
                answer: "A",
                explanation: "Palisade mesophyll cells contain many chloroplasts for maximum photosynthesis.",
                type: "specialization"
            },
            {
                question: "What is an organ?",
                options: ["Group of tissues working together", "Single cell", "Group of cells", "Organ system"],
                answer: "A",
                explanation: "An organ is a structure composed of different tissues working together (e.g., heart, leaf).",
                type: "specialization"
            },
            {
                question: "What is an organ system?",
                options: ["Group of organs working together", "Single tissue", "Group of cells", "Single organ"],
                answer: "A",
                explanation: "An organ system is a group of organs working together (e.g., digestive system).",
                type: "specialization"
            },
            {
                question: "What are stem cells?",
                options: ["Undifferentiated cells that can become specialized", "Fully specialized cells", "Dead cells", "Plant cells only"],
                answer: "A",
                explanation: "Stem cells are undifferentiated cells that can differentiate into various specialized cell types.",
                type: "specialization"
            },

            // Cellular Functions (51-65)
            {
                question: "What is photosynthesis?",
                options: ["Process plants use to make food", "Breaking down glucose", "Cell division", "Protein synthesis"],
                answer: "A",
                explanation: "Photosynthesis: carbon dioxide + water + light ‚Üí glucose + oxygen (in chloroplasts).",
                type: "functions"
            },
            {
                question: "What is cellular respiration?",
                options: ["Process that releases energy from glucose", "Making food in plants", "Cell division", "Protein synthesis"],
                answer: "A",
                explanation: "Cellular respiration: glucose + oxygen ‚Üí carbon dioxide + water + ATP (in mitochondria).",
                type: "functions"
            },
            {
                question: "What is mitosis?",
                options: ["Cell division for growth and repair", "Cell division for reproduction", "Protein synthesis", "Energy production"],
                answer: "A",
                explanation: "Mitosis produces two identical daughter cells for growth, repair, and asexual reproduction.",
                type: "functions"
            },
            {
                question: "What is meiosis?",
                options: ["Cell division that produces gametes", "Cell division for growth", "Energy production", "Protein synthesis"],
                answer: "A",
                explanation: "Meiosis produces four genetically different haploid cells (gametes: sperm/egg).",
                type: "functions"
            },
            {
                question: "What is diffusion?",
                options: ["Movement from high to low concentration", "Movement requiring energy", "Active transport", "Cell division"],
                answer: "A",
                explanation: "Diffusion is passive movement of particles from high to low concentration (no energy needed).",
                type: "functions"
            },
            {
                question: "What is osmosis?",
                options: ["Diffusion of water across membrane", "Diffusion of oxygen", "Active transport", "Cell eating"],
                answer: "A",
                explanation: "Osmosis is diffusion of water across a selectively permeable membrane.",
                type: "functions"
            },
            {
                question: "What is active transport?",
                options: ["Movement against concentration gradient using energy", "Passive diffusion", "Osmosis", "Facilitated diffusion"],
                answer: "A",
                explanation: "Active transport moves substances against concentration gradient using ATP.",
                type: "functions"
            },
            {
                question: "What is protein synthesis?",
                options: ["Making proteins from amino acids", "Breaking down proteins", "Making DNA", "Cell division"],
                answer: "A",
                explanation: "Protein synthesis involves transcription (DNA‚ÜímRNA) and translation (mRNA‚Üíprotein at ribosomes).",
                type: "functions"
            },
            {
                question: "What is homeostasis?",
                options: ["Maintaining stable internal conditions", "Cell division", "Energy production", "Growth"],
                answer: "A",
                explanation: "Homeostasis is maintaining stable internal environment despite external changes.",
                type: "functions"
            },
            {
                question: "What is metabolism?",
                options: ["All chemical reactions in an organism", "Only digestion", "Only respiration", "Cell division only"],
                answer: "A",
                explanation: "Metabolism includes all chemical reactions: catabolism (breakdown) and anabolism (building).",
                type: "functions"
            },
            {
                question: "What is the cell cycle?",
                options: ["Life cycle of a cell", "Only mitosis", "Only interphase", "Only cytokinesis"],
                answer: "A",
                explanation: "The cell cycle includes interphase (G1, S, G2) and mitotic phase (mitosis + cytokinesis).",
                type: "functions"
            },
            {
                question: "What happens during interphase?",
                options: ["Cell grows and DNA replicates", "Cell divides", "Chromosomes separate", "Cytoplasm divides"],
                answer: "A",
                explanation: "Interphase: G1 (growth), S (DNA synthesis), G2 (preparation for division).",
                type: "functions"
            },
            {
                question: "What is cytokinesis?",
                options: ["Division of cytoplasm", "Division of nucleus", "DNA replication", "Chromosome condensation"],
                answer: "A",
                explanation: "Cytokinesis is division of cytoplasm following nuclear division (mitosis/meiosis).",
                type: "functions"
            },
            {
                question: "What is DNA replication?",
                options: ["Copying DNA before cell division", "Making proteins", "Breaking down DNA", "Cell movement"],
                answer: "A",
                explanation: "DNA replication occurs during S phase of interphase to produce identical copies of DNA.",
                type: "functions"
            },
            {
                question: "What are enzymes?",
                options: ["Proteins that speed up reactions", "Energy molecules", "Genetic material", "Structural proteins"],
                answer: "A",
                explanation: "Enzymes are biological catalysts that speed up chemical reactions without being consumed.",
                type: "functions"
            },

            // Systems & Applications (66-80)
            {
                question: "Which system transports oxygen and nutrients?",
                options: ["Circulatory system", "Digestive system", "Nervous system", "Respiratory system"],
                answer: "A",
                explanation: "Circulatory system (heart, blood vessels, blood) transports oxygen, nutrients, and wastes.",
                type: "systems"
            },
            {
                question: "Which system breaks down food?",
                options: ["Digestive system", "Circulatory system", "Nervous system", "Respiratory system"],
                answer: "A",
                explanation: "Digestive system breaks down food into nutrients that can be absorbed by cells.",
                type: "systems"
            },
            {
                question: "Which system controls body activities?",
                options: ["Nervous system", "Muscular system", "Skeletal system", "Integumentary system"],
                answer: "A",
                explanation: "Nervous system (brain, spinal cord, nerves) controls and coordinates body activities.",
                type: "systems"
            },
            {
                question: "Which system exchanges gases?",
                options: ["Respiratory system", "Circulatory system", "Digestive system", "Excretory system"],
                answer: "A",
                explanation: "Respiratory system (lungs, trachea) exchanges oxygen and carbon dioxide.",
                type: "systems"
            },
            {
                question: "What is biotechnology?",
                options: ["Using living organisms for practical purposes", "Study of rocks", "Study of stars", "Making machines"],
                answer: "A",
                explanation: "Biotechnology uses living organisms or their components to develop products.",
                type: "applications"
            },
            {
                question: "What are stem cells used for in medicine?",
                options: ["Tissue repair and regeneration", "Making food", "Producing energy", "Cleaning water"],
                answer: "A",
                explanation: "Stem cells can differentiate into various cell types for repairing damaged tissues.",
                type: "applications"
            },
            {
                question: "What is genetic engineering?",
                options: ["Modifying an organism's DNA", "Breeding plants", "Making chemicals", "Studying ecosystems"],
                answer: "A",
                explanation: "Genetic engineering involves directly manipulating an organism's DNA.",
                type: "applications"
            },
            {
                question: "What is cancer?",
                options: ["Uncontrolled cell division", "Viral infection", "Bacterial infection", "Genetic disorder"],
                answer: "A",
                explanation: "Cancer results from uncontrolled cell division forming tumors.",
                type: "applications"
            },
            {
                question: "What is a vaccine?",
                options: ["Substance that stimulates immunity", "Antibiotic drug", "Pain reliever", "Vitamin supplement"],
                answer: "A",
                explanation: "Vaccines stimulate the immune system to develop immunity against specific diseases.",
                type: "applications"
            },
            {
                question: "What is antibiotic resistance?",
                options: ["Bacteria surviving antibiotic treatment", "Virus surviving treatment", "Fungus killing bacteria", "Human immunity"],
                answer: "A",
                explanation: "Antibiotic resistance occurs when bacteria evolve to survive antibiotic treatment.",
                type: "applications"
            },
            {
                question: "What is cloning?",
                options: ["Producing genetically identical organisms", "Cross-breeding", "Mutation", "Natural selection"],
                answer: "A",
                explanation: "Cloning produces genetically identical copies of an organism.",
                type: "applications"
            },
            {
                question: "What is tissue culture?",
                options: ["Growing cells in artificial medium", "Studying tissues under microscope", "Making tissues from chemicals", "Breaking down tissues"],
                answer: "A",
                explanation: "Tissue culture grows cells or tissues in artificial nutrient medium.",
                type: "applications"
            },
            {
                question: "What is recombinant DNA technology?",
                options: ["Combining DNA from different sources", "Copying DNA", "Breaking DNA", "Studying DNA structure"],
                answer: "A",
                explanation: "Recombinant DNA technology combines DNA from different organisms.",
                type: "applications"
            },
            {
                question: "What is gene therapy?",
                options: ["Treating diseases by modifying genes", "Using genes to make drugs", "Studying gene function", "Removing genes"],
                answer: "A",
                explanation: "Gene therapy treats genetic disorders by introducing, removing, or altering genetic material.",
                type: "applications"
            },
            {
                question: "What is PCR used for?",
                options: ["Amplifying DNA", "Breaking proteins", "Making RNA", "Growing cells"],
                answer: "A",
                explanation: "Polymerase Chain Reaction (PCR) amplifies (makes many copies of) specific DNA sequences.",
                type: "applications"
            }
        ];

        // Additional questions
        const additionalQuestions = [
            {
                question: "What is the function of cilia and flagella?",
                options: ["Cell movement", "Protein synthesis", "Energy production", "DNA storage"],
                answer: "A",
                explanation: "Cilia (short, numerous) and flagella (long, few) are structures for cell movement.",
                type: "organelles"
            },
            {
                question: "What are peroxisomes?",
                options: ["Break down fatty acids and detoxify", "Make proteins", "Store water", "Produce energy"],
                answer: "A",
                explanation: "Peroxisomes break down fatty acids and detoxify harmful substances like hydrogen peroxide.",
                type: "organelles"
            },
            {
                question: "What is the endomembrane system?",
                options: ["Group of interacting organelles", "Only mitochondria", "Only nucleus", "Cell wall system"],
                answer: "A",
                explanation: "The endomembrane system includes ER, Golgi, vesicles, and lysosomes that work together.",
                type: "organelles"
            },
            {
                question: "What are meristematic cells in plants?",
                options: ["Plant stem cells for growth", "Photosynthetic cells", "Water transport cells", "Protective cells"],
                answer: "A",
                explanation: "Meristematic cells are undifferentiated plant cells that can divide and differentiate.",
                type: "specialization"
            },
            {
                question: "What is apoptosis?",
                options: ["Programmed cell death", "Cell division", "Cell movement", "Cell fusion"],
                answer: "A",
                explanation: "Apoptosis is programmed cell death, important for development and removing damaged cells.",
                type: "functions"
            }
        ];

        // Combine all questions
        const allQuestions = [...questions, ...additionalQuestions];

        // Biology tips
        const biologyTips = [
            "Tip: All living things are made of cells - this is the foundation of cell theory.",
            "Tip: Mitochondria = powerhouse (energy production), Chloroplasts = food factory (photosynthesis).",
            "Tip: Plant cells have cell walls and chloroplasts; animal cells do not.",
            "Tip: Specialized cells have specific structures adapted to their functions.",
            "Tip: Red blood cells carry oxygen, white blood cells fight infection.",
            "Tip: Diffusion moves from HIGH concentration to LOW concentration (passive transport).",
            "Tip: Active transport requires energy (ATP) to move against concentration gradient.",
            "Tip: Stem cells can become any cell type - they're undifferentiated."
        ];

        // Organelle data for interactive diagram
        const organelles = {
            nucleus: {
                name: "Nucleus",
                function: "Control center of the cell. Contains DNA and directs cell activities.",
                color: "#9C27B0",
                foundIn: ["animal", "plant"]
            },
            mitochondria: {
                name: "Mitochondria",
                function: "Powerhouse of the cell. Produces ATP through cellular respiration.",
                color: "#4CAF50",
                foundIn: ["animal", "plant"]
            },
            ribosomes: {
                name: "Ribosomes",
                function: "Site of protein synthesis. Can be free in cytoplasm or attached to ER.",
                color: "#FF9800",
                foundIn: ["animal", "plant"]
            },
            er: {
                name: "Endoplasmic Reticulum",
                function: "Transport system of the cell. Rough ER has ribosomes; Smooth ER makes lipids.",
                color: "#009688",
                foundIn: ["animal", "plant"]
            },
            golgi: {
                name: "Golgi Apparatus",
                function: "Modifies, sorts, and packages proteins for transport.",
                color: "#F44336",
                foundIn: ["animal", "plant"]
            },
            lysosome: {
                name: "Lysosome",
                function: "Contains digestive enzymes. Breaks down waste materials and cellular debris.",
                color: "#E91E63",
                foundIn: ["animal"] // Rare in plant cells
            },
            chloroplast: {
                name: "Chloroplast",
                function: "Site of photosynthesis. Contains chlorophyll and converts light energy to chemical energy.",
                color: "#4CAF50",
                foundIn: ["plant"]
            },
            vacuole: {
                name: "Vacuole",
                function: "Storage of water, nutrients, and waste. Plant cells have large central vacuoles.",
                color: "#2196F3",
                foundIn: ["animal", "plant"]
            },
            cellWall: {
                name: "Cell Wall",
                function: "Provides structural support and protection. Made of cellulose in plant cells.",
                color: "#795548",
                foundIn: ["plant", "bacteria", "fungi"]
            },
            centriole: {
                name: "Centriole",
                function: "Organizes microtubules during cell division (mitosis and meiosis).",
                color: "#9E9E9E",
                foundIn: ["animal"]
            }
        };

        // Specialized cell types
        const specializedCells = [
            {
                name: "Red Blood Cell",
                icon: "üî¥",
                function: "Carries oxygen throughout the body using hemoglobin",
                adaptation: "Biconcave shape increases surface area; no nucleus allows more space for hemoglobin",
                type: "animal"
            },
            {
                name: "Neuron",
                icon: "‚ö°",
                function: "Transmits electrical signals (nerve impulses)",
                adaptation: "Long axons for signal transmission; dendrites receive signals; myelin sheath speeds conduction",
                type: "animal"
            },
            {
                name: "Muscle Cell",
                icon: "üí™",
                function: "Contracts to produce movement",
                adaptation: "Contains many mitochondria for energy; has contractile proteins (actin and myosin)",
                type: "animal"
            },
            {
                name: "Guard Cell",
                icon: "üåø",
                function: "Controls opening and closing of stomata",
                adaptation: "Kidney-shaped; changes shape due to water pressure to open/close stomata",
                type: "plant"
            },
            {
                name: "Palisade Cell",
                icon: "‚òÄÔ∏è",
                function: "Main site of photosynthesis",
                adaptation: "Columnar shape packed with chloroplasts; located near top of leaf for maximum light",
                type: "plant"
            },
            {
                name: "Root Hair Cell",
                icon: "üå±",
                function: "Absorbs water and minerals from soil",
                adaptation: "Long hair-like extension increases surface area for absorption; thin walls for easy uptake",
                type: "plant"
            },
            {
                name: "White Blood Cell",
                icon: "üõ°Ô∏è",
                function: "Fights infection and disease",
                adaptation: "Can change shape to engulf pathogens; produces antibodies",
                type: "animal"
            },
            {
                name: "Sperm Cell",
                icon: "üë∂",
                function: "Fertilizes egg cell",
                adaptation: "Streamlined with flagellum for swimming; contains enzymes to penetrate egg",
                type: "animal"
            }
        ];

        // Microscope specimens
        const specimens = [
            { name: "Cheek Cells", color: "#FFCCBC", shape: "irregular", size: "medium" },
            { name: "Onion Cells", color: "#FFF9C4", shape: "rectangular", size: "medium" },
            { name: "Elodea Cells", color: "#C8E6C9", shape: "rectangular", size: "medium" },
            { name: "Blood Cells", color: "#FFCDD2", shape: "circular", size: "small" },
            { name: "Bacteria", color: "#E1BEE7", shape: "rod/spiral", size: "tiny" },
            { name: "Pond Water Organisms", color: "#B3E5FC", shape: "varied", size: "varied" }
        ];

        // Flash cards
        const flashCards = [
            {
                front: "Powerhouse of the cell?",
                back: "Mitochondria - produces ATP through cellular respiration"
            },
            {
                front: "Site of photosynthesis?",
                back: "Chloroplast - contains chlorophyll, found only in plant cells"
            },
            {
                front: "Control center of the cell?",
                back: "Nucleus - contains DNA and directs cell activities"
            },
            {
                front: "Makes proteins?",
                back: "Ribosomes - can be free or attached to endoplasmic reticulum"
            },
            {
                front: "Digests waste materials?",
                back: "Lysosome - contains digestive enzymes (animal cells mainly)"
            },
            {
                front: "Modifies and packages proteins?",
                back: "Golgi apparatus - processes proteins for transport"
            },
            {
                front: "Provides structural support in plant cells?",
                back: "Cell wall - made of cellulose, outside cell membrane"
            },
            {
                front: "Stores materials in cells?",
                back: "Vacuole - large central vacuole in plant cells, smaller in animal cells"
            }
        ];

        // App state
        let appState = {
            currentQuestionIndex: 0,
            score: 0,
            skipped: 0,
            answered: 0,
            studentName: "",
            startTime: null,
            currentCellType: "animal",
            currentOrganelleIndex: 0,
            currentCellIndex: 0,
            currentSpecimen: 0,
            magnification: 100,
            currentFlashcards: [0, 1],
            cellBasicsScore: 0,
            organellesScore: 0,
            specializationScore: 0,
            functionsScore: 0,
            systemsScore: 0,
            applicationsScore: 0
        };

        // DOM elements
        const welcomePage = document.getElementById('welcomePage');
        const practicePage = document.getElementById('practicePage');
        const resultsPage = document.getElementById('resultsPage');
        const studentNameInput = document.getElementById('studentName');
        const startPracticeBtn = document.getElementById('startPractice');
        const backToHomeBtn = document.getElementById('backToHome');
        const studentNameDisplay = document.getElementById('studentNameDisplay');
        const progressText = document.getElementById('progressText');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const bioTip = document.getElementById('bioTip');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const feedbackExplanation = document.getElementById('feedbackExplanation');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const retryTopicBtn = document.getElementById('retryTopic');
        const viewTopicsBtn = document.getElementById('viewTopics');
        const finalScore = document.getElementById('finalScore');
        const scorePercentage = document.getElementById('scorePercentage');
        const scoreMessage = document.getElementById('scoreMessage');
        const cellBasicsScore = document.getElementById('cellBasicsScore');
        const organellesScore = document.getElementById('organellesScore');
        const specializationScore = document.getElementById('specializationScore');
        const timeSpent = document.getElementById('timeSpent');
        const cellDiagram = document.getElementById('cellDiagram');
        const cellPartInfo = document.getElementById('cellPartInfo');
        const organelleQuestion = document.getElementById('organelleQuestion');
        const organelleOptions = document.getElementById('organelleOptions');
        const organelleFeedback = document.getElementById('organelleFeedback');
        const cellGallery = document.getElementById('cellGallery');
        const specializationInfo = document.getElementById('specializationInfo');
        const microscopeView = document.getElementById('microscopeView');
        const magnificationDisplay = document.getElementById('magnification');
        const specimenInfo = document.getElementById('specimenInfo');
        const differenceDetail = document.getElementById('differenceDetail');

        // Initialize
        function initApp() {
            setupEventListeners();
            showWelcomePage();
            setupVisualizationTools();
        }

        // Setup visualization tools
        function setupVisualizationTools() {
            showAnimalCell();
            newOrganelleQuestion();
            populateCellGallery();
            setupMicroscope();
            setupFlashcards();
        }

        // Interactive cell diagram
        function showAnimalCell() {
            appState.currentCellType = "animal";
            createCellDiagram("animal");
        }

        function showPlantCell() {
            appState.currentCellType = "plant";
            createCellDiagram("plant");
        }

        function createCellDiagram(cellType) {
            cellDiagram.innerHTML = '';
            cellPartInfo.textContent = "Click on any cell part to learn about its function";
            
            // Create cell membrane
            const membrane = document.createElement('div');
            membrane.className = 'cell-membrane';
            membrane.title = "Cell Membrane: Selectively permeable boundary that controls what enters/leaves the cell";
            membrane.onclick = () => showCellPartInfo("Cell Membrane", "Selectively permeable boundary that controls what enters and leaves the cell. Made of phospholipid bilayer with proteins.");
            cellDiagram.appendChild(membrane);
            
            // Create cytoplasm
            const cytoplasm = document.createElement('div');
            cytoplasm.className = 'cell-cytoplasm';
            cytoplasm.title = "Cytoplasm: Jelly-like substance that fills the cell";
            cytoplasm.onclick = () => showCellPartInfo("Cytoplasm", "Jelly-like substance that fills the cell. Contains organelles and is where many metabolic reactions occur.");
            cellDiagram.appendChild(cytoplasm);
            
            // Create organelles based on cell type
            const positions = [
                { top: '40%', left: '50%' }, // Nucleus
                { top: '30%', left: '30%' }, // Mitochondria 1
                { top: '60%', left: '70%' }, // Mitochondria 2
                { top: '50%', left: '20%' }, // Ribosome cluster 1
                { top: '20%', left: '60%' }, // Ribosome cluster 2
                { top: '70%', left: '40%' }, // Ribosome cluster 3
                { top: '30%', left: '70%' }, // ER
                { top: '60%', left: '30%' }, // Golgi
                { top: '70%', left: '70%' }  // Vacuole/Lysosome
            ];
            
            let posIndex = 0;
            
            // Nucleus
            const nucleus = document.createElement('div');
            nucleus.className = 'cell-nucleus';
            nucleus.style.top = positions[posIndex].top;
            nucleus.style.left = positions[posIndex].left;
            nucleus.title = "Nucleus: Control center containing DNA";
            nucleus.onclick = () => showCellPartInfo("Nucleus", organelles.nucleus.function);
            cellDiagram.appendChild(nucleus);
            
            const nucleusLabel = document.createElement('div');
            nucleusLabel.className = 'cell-part-label';
            nucleusLabel.textContent = "Nucleus";
            nucleusLabel.style.top = 'calc(40% - 40px)';
            nucleusLabel.style.left = 'calc(50% - 25px)';
            nucleusLabel.onclick = () => showCellPartInfo("Nucleus", organelles.nucleus.function);
            cellDiagram.appendChild(nucleusLabel);
            
            posIndex++;
            
            // Mitochondria
            for (let i = 0; i < 2; i++) {
                const mitochondria = document.createElement('div');
                mitochondria.className = 'mitochondria';
                mitochondria.style.top = positions[posIndex].top;
                mitochondria.style.left = positions[posIndex].left;
                mitochondria.style.background = organelles.mitochondria.color;
                mitochondria.title = "Mitochondria: Powerhouse of the cell";
                mitochondria.onclick = () => showCellPartInfo("Mitochondria", organelles.mitochondria.function);
                cellDiagram.appendChild(mitochondria);
                posIndex++;
            }
            
            // Ribosomes (clusters)
            for (let i = 0; i < 3; i++) {
                for (let j = 0; j < 5; j++) {
                    const ribosome = document.createElement('div');
                    ribosome.className = 'ribosomes';
                    ribosome.style.top = `calc(${positions[posIndex].top} + ${j * 5}px)`;
                    ribosome.style.left = `calc(${positions[posIndex].left} + ${i * 10}px)`;
                    ribosome.style.background = organelles.ribosomes.color;
                    ribosome.title = "Ribosomes: Sites of protein synthesis";
                    ribosome.onclick = () => showCellPartInfo("Ribosomes", organelles.ribosomes.function);
                    cellDiagram.appendChild(ribosome);
                }
                posIndex++;
            }
            
            // Endoplasmic Reticulum
            const er = document.createElement('div');
            er.className = 'er';
            er.style.top = positions[posIndex].top;
            er.style.left = positions[posIndex].left;
            er.style.borderColor = organelles.er.color;
            er.title = "Endoplasmic Reticulum: Transport system";
            er.onclick = () => showCellPartInfo("Endoplasmic Reticulum", organelles.er.function);
            cellDiagram.appendChild(er);
            posIndex++;
            
            // Golgi Apparatus
            const golgi = document.createElement('div');
            golgi.className = 'golgi';
            golgi.style.top = positions[posIndex].top;
            golgi.style.left = positions[posIndex].left;
            golgi.style.background = organelles.golgi.color;
            golgi.title = "Golgi Apparatus: Modifies and packages proteins";
            golgi.onclick = () => showCellPartInfo("Golgi Apparatus", organelles.golgi.function);
            cellDiagram.appendChild(golgi);
            posIndex++;
            
            // Vacuole or Lysosome based on cell type
            const storage = document.createElement('div');
            if (cellType === "plant") {
                // Large central vacuole for plant cell
                storage.className = 'cell-nucleus';
                storage.style.width = '80px';
                storage.style.height = '80px';
                storage.style.background = organelles.vacuole.color;
                storage.style.opacity = '0.7';
                storage.title = "Central Vacuole: Stores water, nutrients, waste";
                storage.onclick = () => showCellPartInfo("Vacuole", organelles.vacuole.function);
                
                // Also add cell wall
                const cellWall = document.createElement('div');
                cellWall.className = 'cell-membrane';
                cellWall.style.width = '95%';
                cellWall.style.height = '95%';
                cellWall.style.borderColor = organelles.cellWall.color;
                cellWall.style.borderWidth = '5px';
                cellWall.title = "Cell Wall: Provides structural support";
                cellWall.onclick = () => showCellPartInfo("Cell Wall", organelles.cellWall.function);
                cellDiagram.appendChild(cellWall);
                
                // Chloroplasts for plant cell
                const chloroplast = document.createElement('div');
                chloroplast.className = 'mitochondria';
                chloroplast.style.top = '20%';
                chloroplast.style.left = '20%';
                chloroplast.style.background = organelles.chloroplast.color;
                chloroplast.style.transform = 'rotate(0deg)';
                chloroplast.title = "Chloroplast: Site of photosynthesis";
                chloroplast.onclick = () => showCellPartInfo("Chloroplast", organelles.chloroplast.function);
                cellDiagram.appendChild(chloroplast);
                
                const chloroplastLabel = document.createElement('div');
                chloroplastLabel.className = 'cell-part-label';
                chloroplastLabel.textContent = "Chloroplast";
                chloroplastLabel.style.top = '15%';
                chloroplastLabel.style.left = '15%';
                chloroplastLabel.onclick = () => showCellPartInfo("Chloroplast", organelles.chloroplast.function);
                cellDiagram.appendChild(chloroplastLabel);
            } else {
                // Lysosome for animal cell
                storage.className = 'cell-nucleus';
                storage.style.width = '30px';
                storage.style.height = '30px';
                storage.style.background = organelles.lysosome.color;
                storage.title = "Lysosome: Contains digestive enzymes";
                storage.onclick = () => showCellPartInfo("Lysosome", organelles.lysosome.function);
                
                // Centrioles for animal cell
                const centriole1 = document.createElement('div');
                centriole1.className = 'mitochondria';
                centriole1.style.top = '80%';
                centriole1.style.left = '20%';
                centriole1.style.width = '15px';
                centriole1.style.height = '15px';
                centriole1.style.background = organelles.centriole.color;
                centriole1.style.transform = 'rotate(90deg)';
                centriole1.title = "Centriole: Organizes cell division";
                centriole1.onclick = () => showCellPartInfo("Centriole", organelles.centriole.function);
                cellDiagram.appendChild(centriole1);
                
                const centriole2 = document.createElement('div');
                centriole2.className = 'mitochondria';
                centriole2.style.top = '80%';
                centriole2.style.left = '25%';
                centriole2.style.width = '15px';
                centriole2.style.height = '15px';
                centriole2.style.background = organelles.centriole.color;
                centriole2.style.transform = 'rotate(90deg)';
                centriole2.title = "Centriole: Organizes cell division";
                centriole2.onclick = () => showCellPartInfo("Centriole", organelles.centriole.function);
                cellDiagram.appendChild(centriole2);
            }
            
            storage.style.top = positions[posIndex].top;
            storage.style.left = positions[posIndex].left;
            cellDiagram.appendChild(storage);
            
            // Add title
            const title = document.createElement('div');
            title.textContent = cellType === "animal" ? "Animal Cell" : "Plant Cell";
            title.style.position = 'absolute';
            title.style.top = '10px';
            title.style.left = '50%';
            title.style.transform = 'translateX(-50%)';
            title.style.color = 'var(--text-primary)';
            title.style.fontWeight = 'bold';
            cellDiagram.appendChild(title);
        }

        function showCellPartInfo(partName, partFunction) {
            cellPartInfo.innerHTML = `<strong>${partName}:</strong> ${partFunction}`;
            cellPartInfo.classList.add('highlight');
            setTimeout(() => cellPartInfo.classList.remove('highlight'), 1000);
        }

        function explainCellParts() {
            let info = "CELL ORGANELLES AND THEIR FUNCTIONS:\n\n";
            
            Object.values(organelles).forEach(organelle => {
                info += `‚Ä¢ ${organelle.name}: ${organelle.function}\n`;
            });
            
            info += "\nKey Differences:\n";
            info += "‚Ä¢ Plant cells have: Cell wall, Chloroplasts, Large central vacuole\n";
            info += "‚Ä¢ Animal cells have: Centrioles, Lysosomes (more common)\n";
            info += "‚Ä¢ Both have: Nucleus, Mitochondria, Ribosomes, ER, Golgi, Cell membrane";
            
            alert(info);
        }

        // Organelle quiz
        function newOrganelleQuestion() {
            const questions = [
                {
                    question: "Which organelle is known as the 'powerhouse of the cell'?",
                    correct: "Mitochondria",
                    options: ["Mitochondria", "Nucleus", "Ribosome", "Golgi"]
                },
                {
                    question: "Where is DNA stored in eukaryotic cells?",
                    correct: "Nucleus",
                    options: ["Nucleus", "Mitochondria", "Cytoplasm", "Cell membrane"]
                },
                {
                    question: "Which organelle performs photosynthesis?",
                    correct: "Chloroplast",
                    options: ["Chloroplast", "Mitochondria", "Vacuole", "Lysosome"]
                },
                {
                    question: "Which organelle makes proteins?",
                    correct: "Ribosome",
                    options: ["Ribosome", "Nucleus", "Golgi", "Mitochondria"]
                },
                {
                    question: "Which organelle contains digestive enzymes?",
                    correct: "Lysosome",
                    options: ["Lysosome", "Vacuole", "Chloroplast", "Ribosome"]
                },
                {
                    question: "Which organelle modifies and packages proteins?",
                    correct: "Golgi apparatus",
                    options: ["Golgi apparatus", "Endoplasmic reticulum", "Mitochondria", "Nucleus"]
                }
            ];
            
            appState.currentOrganelleIndex = (appState.currentOrganelleIndex + 1) % questions.length;
            const q = questions[appState.currentOrganelleIndex];
            
            organelleQuestion.textContent = q.question;
            organelleOptions.innerHTML = '';
            organelleFeedback.textContent = "Click the correct organelle";
            organelleFeedback.style.color = "var(--text-secondary)";
            
            // Shuffle options
            const shuffledOptions = [...q.options].sort(() => Math.random() - 0.5);
            
            shuffledOptions.forEach(option => {
                const card = document.createElement('div');
                card.className = 'cell-type-card';
                card.innerHTML = `
                    <div class="cell-icon">${getOrganelleIcon(option)}</div>
                    <div class="cell-name">${option}</div>
                `;
                card.onclick = () => checkOrganelleAnswer(option, q.correct);
                organelleOptions.appendChild(card);
            });
        }

        function getOrganelleIcon(organelle) {
            const icons = {
                "Mitochondria": "üîã",
                "Nucleus": "üéØ",
                "Chloroplast": "üåø",
                "Ribosome": "üß©",
                "Lysosome": "üßº",
                "Golgi apparatus": "üì¶",
                "Vacuole": "üíß",
                "Endoplasmic reticulum": "üîÑ"
            };
            return icons[organelle] || "üî¨";
        }

        function checkOrganelleAnswer(selected, correct) {
            if (selected === correct) {
                organelleFeedback.innerHTML = `<span style="color: var(--organelle-green)">Correct! ${correct} is right!</span>`;
                organelleFeedback.classList.add('highlight');
                setTimeout(() => {
                    organelleFeedback.classList.remove('highlight');
                    newOrganelleQuestion();
                }, 1500);
            } else {
                organelleFeedback.innerHTML = `<span style="color: var(--systems-red)">Incorrect. The correct answer is: ${correct}</span>`;
            }
        }

        function showOrganelleTable() {
            let table = "MAJOR CELL ORGANELLES:\n\n";
            table += "ORGANELLE\t\tFUNCTION\n";
            table += "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\t\t‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n";
            table += "Nucleus\t\t\tControl center, contains DNA\n";
            table += "Mitochondria\t\tPowerhouse, produces ATP\n";
            table += "Ribosomes\t\tMake proteins\n";
            table += "Endoplasmic Reticulum\tTransport system\n";
            table += "Golgi Apparatus\t\tModifies & packages proteins\n";
            table += "Lysosomes\t\tDigest waste (animal cells)\n";
            table += "Chloroplasts\t\tPhotosynthesis (plant cells)\n";
            table += "Vacuoles\t\tStore materials\n";
            table += "Cell Wall\t\tSupport (plant cells)\n";
            table += "Cell Membrane\t\tControls entry/exit\n";
            
            alert(table);
        }

        // Cell specialization gallery
        function populateCellGallery() {
            cellGallery.innerHTML = '';
            
            // Display first 4 cells
            for (let i = 0; i < 4; i++) {
                const index = (appState.currentCellIndex + i) % specializedCells.length;
                const cell = specializedCells[index];
                
                const card = document.createElement('div');
                card.className = 'cell-type-card';
                card.innerHTML = `
                    <div class="cell-icon">${cell.icon}</div>
                    <div class="cell-name">${cell.name}</div>
                    <div class="cell-function">${cell.function.substring(0, 40)}...</div>
                `;
                card.onclick = () => showCellSpecialization(cell);
                cellGallery.appendChild(card);
            }
        }

        function newCellGallery() {
            appState.currentCellIndex = (appState.currentCellIndex + 4) % specializedCells.length;
            populateCellGallery();
        }

        function showCellSpecialization(cell) {
            specializationInfo.innerHTML = `
                <strong>${cell.name}</strong><br>
                <span style="color: var(--organelle-green)">Function:</span> ${cell.function}<br>
                <span style="color: var(--function-orange)">Special Adaptation:</span> ${cell.adaptation}<br>
                <span style="color: var(--specialization-purple)">Type:</span> ${cell.type === "animal" ? "Animal Cell" : "Plant Cell"}
            `;
            specializationInfo.classList.add('highlight');
            setTimeout(() => specializationInfo.classList.remove('highlight'), 1000);
        }

        function explainSpecialization() {
            alert(`CELL SPECIALIZATION (DIFFERENTIATION)

What is it?
Cells develop specific structures and functions to perform particular roles.

Why does it occur?
In multicellular organisms, different cells perform different functions efficiently.

Examples:
1. Muscle Cells ‚Üí Contract for movement
   Adaptation: Many mitochondria for energy, contractile proteins

2. Nerve Cells (Neurons) ‚Üí Transmit signals
   Adaptation: Long axons, dendrites, myelin sheath

3. Red Blood Cells ‚Üí Carry oxygen
   Adaptation: Biconcave shape, no nucleus, hemoglobin

4. Root Hair Cells ‚Üí Absorb water
   Adaptation: Long hair-like extension, thin walls

5. Guard Cells ‚Üí Control stomata
   Adaptation: Kidney-shaped, change with water pressure

Levels of Organization:
Cells ‚Üí Tissues ‚Üí Organs ‚Üí Organ Systems ‚Üí Organism

Specialized cells work together to form tissues, then organs, then systems.`);
        }

        // Microscope simulator
        function setupMicroscope() {
            changeSpecimen();
        }

        function changeSpecimen() {
            appState.currentSpecimen = (appState.currentSpecimen + 1) % specimens.length;
            const specimen = specimens[appState.currentSpecimen];
            
            microscopeView.innerHTML = '';
            specimenInfo.textContent = `Currently viewing: ${specimen.name}`;
            
            // Create cells based on specimen
            const cellCount = specimen.size === "tiny" ? 50 : specimen.size === "small" ? 30 : 20;
            
            for (let i = 0; i < cellCount; i++) {
                const cell = document.createElement('div');
                cell.className = 'specimen';
                cell.style.background = specimen.color;
                cell.style.width = specimen.size === "tiny" ? '8px' : specimen.size === "small" ? '15px' : '25px';
                cell.style.height = specimen.size === "tiny" ? '8px' : specimen.size === "small" ? '15px' : '25px';
                
                if (specimen.shape === "rectangular") {
                    cell.style.borderRadius = '2px';
                } else if (specimen.shape === "rod/spiral") {
                    cell.style.borderRadius = '20px';
                    cell.style.width = '5px';
                    cell.style.height = '20px';
                }
                
                // Random position
                const left = 10 + Math.random() * 80;
                const top = 10 + Math.random() * 80;
                cell.style.left = `${left}%`;
                cell.style.top = `${top}%`;
                
                // Add some variation
                if (Math.random() > 0.7 && specimen.name !== "Bacteria") {
                    // Add nucleus
                    const nucleus = document.createElement('div');
                    nucleus.style.position = 'absolute';
                    nucleus.style.width = '40%';
                    nucleus.style.height = '40%';
                    nucleus.style.background = '#9C27B0';
                    nucleus.style.borderRadius = '50%';
                    nucleus.style.top = '30%';
                    nucleus.style.left = '30%';
                    cell.appendChild(nucleus);
                }
                
                microscopeView.appendChild(cell);
            }
            
            // Add magnification effect
            updateMagnification();
        }

        function increaseMagnification() {
            if (appState.magnification < 1000) {
                appState.magnification *= 1.5;
                updateMagnification();
            }
        }

        function decreaseMagnification() {
            if (appState.magnification > 40) {
                appState.magnification /= 1.5;
                updateMagnification();
            }
        }

        function updateMagnification() {
            magnificationDisplay.textContent = `${Math.round(appState.magnification)}x`;
            
            // Adjust cell sizes based on magnification
            const cells = microscopeView.querySelectorAll('.specimen');
            cells.forEach(cell => {
                const baseSize = parseFloat(cell.style.width);
                cell.style.width = `${baseSize * (appState.magnification / 100)}px`;
                cell.style.height = `${baseSize * (appState.magnification / 100)}px`;
            });
        }

        // Flash cards
        function setupFlashcards() {
            // Already set up in HTML
        }

        function flipCard(cardId) {
            const card = document.getElementById(cardId);
            card.classList.toggle('flipped');
        }

        function newFlashcards() {
            // Get two new random cards
            const indices = [];
            while (indices.length < 2) {
                const randomIndex = Math.floor(Math.random() * flashCards.length);
                if (!indices.includes(randomIndex) && !appState.currentFlashcards.includes(randomIndex)) {
                    indices.push(randomIndex);
                }
            }
            
            appState.currentFlashcards = indices;
            
            // Update flashcards
            const card1 = document.getElementById('flashcard1');
            const card2 = document.getElementById('flashcard2');
            
            card1.querySelector('.flashcard-front').textContent = flashCards[indices[0]].front;
            card1.querySelector('.flashcard-back').innerHTML = `<strong>${flashCards[indices[0]].back.split(' - ')[0]}</strong><br>${flashCards[indices[0]].back.split(' - ')[1] || flashCards[indices[0]].back}`;
            
            card2.querySelector('.flashcard-front').textContent = flashCards[indices[1]].front;
            card2.querySelector('.flashcard-back').innerHTML = `<strong>${flashCards[indices[1]].back.split(' - ')[0]}</strong><br>${flashCards[indices[1]].back.split(' - ')[1] || flashCards[indices[1]].back}`;
            
            // Ensure cards are not flipped
            card1.classList.remove('flipped');
            card2.classList.remove('flipped');
        }

        function resetFlashcards() {
            const card1 = document.getElementById('flashcard1');
            const card2 = document.getElementById('flashcard2');
            
            // Reset to original content
            card1.querySelector('.flashcard-front').textContent = "What organelle contains DNA?";
            card1.querySelector('.flashcard-back').innerHTML = "<strong>Nucleus</strong><br>The control center of the cell that contains genetic material (DNA) and directs cell activities.";
            
            card2.querySelector('.flashcard-front').textContent = "Site of photosynthesis?";
            card2.querySelector('.flashcard-back').innerHTML = "<strong>Chloroplast</strong><br>Found only in plant cells, contains chlorophyll and converts light energy to chemical energy.";
            
            // Ensure cards are not flipped
            card1.classList.remove('flipped');
            card2.classList.remove('flipped');
            
            appState.currentFlashcards = [0, 1];
        }

        // Comparison table explanations
        function explainDifference(difference) {
            const explanations = {
                'cell-wall': {
                    title: "Cell Wall",
                    explanation: "Plant cells have a rigid cell wall made of cellulose outside the cell membrane. It provides structural support, protection, and maintains cell shape. Animal cells lack cell walls, giving them more flexibility."
                },
                'chloroplast': {
                    title: "Chloroplasts",
                    explanation: "Chloroplasts are organelles found only in plant cells (and some algae). They contain chlorophyll and perform photosynthesis - converting light energy into chemical energy (glucose). Animal cells cannot perform photosynthesis."
                },
                'vacuole': {
                    title: "Vacuoles",
                    explanation: "Plant cells typically have one large central vacuole that occupies most of the cell volume. It stores water, nutrients, and waste, and helps maintain turgor pressure. Animal cells have smaller, multiple vacuoles."
                },
                'shape': {
                    title: "Cell Shape",
                    explanation: "Plant cells usually have a fixed rectangular or square shape due to the rigid cell wall. Animal cells are more irregular and round in shape, allowing flexibility for movement and shape changes."
                },
                'centrioles': {
                    title: "Centrioles",
                    explanation: "Centrioles are cylindrical structures that organize microtubules during cell division. They are present in animal cells but usually absent in plant cells. Plant cells use different mechanisms to organize cell division."
                }
            };
            
            const exp = explanations[difference];
            differenceDetail.innerHTML = `
                <strong style="color: var(--systems-red)">${exp.title}</strong><br>
                ${exp.explanation}
            `;
            differenceDetail.style.display = 'block';
        }

        // Organization explanation
        function explainOrganization() {
            alert(`LEVELS OF BIOLOGICAL ORGANIZATION:

1. CELLS
   ‚Ä¢ Basic unit of life
   ‚Ä¢ Can be specialized (e.g., muscle cell, neuron)
   
2. TISSUES
   ‚Ä¢ Groups of similar cells working together
   ‚Ä¢ Four main types in animals: epithelial, connective, muscle, nervous
   ‚Ä¢ Three main types in plants: dermal, ground, vascular
   
3. ORGANS
   ‚Ä¢ Different tissues working together
   ‚Ä¢ Examples: heart, leaf, stomach
   
4. ORGAN SYSTEMS
   ‚Ä¢ Groups of organs working together
   ‚Ä¢ Examples: circulatory system, digestive system
   
5. ORGANISM
   ‚Ä¢ Complete living thing
   ‚Ä¢ Can be unicellular or multicellular

Beyond the organism:
‚Ä¢ Population ‚Üí Group of same species
‚Ä¢ Community ‚Üí Different populations interacting
‚Ä¢ Ecosystem ‚Üí Community + environment
‚Ä¢ Biosphere ‚Üí All ecosystems on Earth

This organization allows for division of labor and efficient functioning in multicellular organisms.`);
        }

        function showExamples() {
            alert(`EXAMPLES OF BIOLOGICAL ORGANIZATION:

Human Example:
‚Ä¢ Cell: Muscle cell
‚Ä¢ Tissue: Muscle tissue (cardiac, skeletal, smooth)
‚Ä¢ Organ: Heart
‚Ä¢ Organ System: Circulatory system (heart, blood vessels, blood)
‚Ä¢ Organism: Human

Plant Example:
‚Ä¢ Cell: Palisade mesophyll cell
‚Ä¢ Tissue: Photosynthetic tissue (in leaves)
‚Ä¢ Organ: Leaf
‚Ä¢ Organ System: Shoot system (stems, leaves, flowers)
‚Ä¢ Organism: Rose plant

Each level has emergent properties - characteristics not present at lower levels. For example, consciousness emerges at the organism level, not at the cellular level.`);
        }

        // Concept detail
        window.showConceptDetail = function(concept) {
            let info = "";
            
            if (concept === 'cell-basics') {
                info = `üß´ CELL BASICS & THEORY

The Cell Theory:
1. All living organisms are composed of cells
2. The cell is the basic unit of life
3. All cells arise from pre-existing cells

Historical Discoveries:
‚Ä¢ 1665: Robert Hooke observes cork cells
‚Ä¢ 1674: Anton van Leeuwenhoek observes living cells
‚Ä¢ 1838: Schleiden - plants are made of cells
‚Ä¢ 1839: Schwann - animals are made of cells
‚Ä¢ 1855: Virchow - cells come from cells

Types of Cells:
1. PROKARYOTIC CELLS
   ‚Ä¢ Simple structure, no nucleus
   ‚Ä¢ No membrane-bound organelles
   ‚Ä¢ Example: Bacteria
   ‚Ä¢ Size: 1-10 micrometers

2. EUKARYOTIC CELLS
   ‚Ä¢ Complex structure with nucleus
   ‚Ä¢ Have membrane-bound organelles
   ‚Ä¢ Examples: Plant, animal, fungi, protist cells
   ‚Ä¢ Size: 10-100 micrometers

Basic Cell Structures:
‚Ä¢ Cell Membrane: Selective barrier
‚Ä¢ Cytoplasm: Jelly-like interior
‚Ä¢ Genetic Material: DNA
‚Ä¢ Ribosomes: Protein synthesis

Cell Size: Most cells are microscopic (10-100 Œºm)
Why cells are small: Surface area to volume ratio allows efficient exchange.`;
            } else if (concept === 'organelles') {
                info = `üîÑ CELL ORGANELLES

Organelles = "Little organs" within cells
Each has specific functions essential for life.

ANIMAL CELL ORGANELLES:

1. Nucleus
   ‚Ä¢ Control center
   ‚Ä¢ Contains DNA (chromosomes)
   ‚Ä¢ Surrounded by nuclear envelope
   ‚Ä¢ Contains nucleolus (makes ribosomes)

2. Mitochondria
   ‚Ä¢ Powerhouse of cell
   ‚Ä¢ Double membrane
   ‚Ä¢ Produces ATP through cellular respiration
   ‚Ä¢ Has its own DNA

3. Ribosomes
   ‚Ä¢ Sites of protein synthesis
   ‚Ä¢ Made of RNA and protein
   ‚Ä¢ Can be free or attached to ER

4. Endoplasmic Reticulum (ER)
   ‚Ä¢ Network of membranes
   ‚Ä¢ Rough ER: Has ribosomes, protein synthesis
   ‚Ä¢ Smooth ER: Lipid synthesis, detoxification

5. Golgi Apparatus
   ‚Ä¢ Modifies, sorts, packages proteins
   ‚Ä¢ "Post office" of cell
   ‚Ä¢ Forms vesicles for transport

6. Lysosomes
   ‚Ä¢ Contain digestive enzymes
   ‚Ä¢ Break down waste, old organelles
   ‚Ä¢ "Stomach" of cell

7. Vacuoles
   ‚Ä¢ Storage sacs
   ‚Ä¢ Store water, nutrients, waste

8. Cytoskeleton
   ‚Ä¢ Network of protein filaments
   ‚Ä¢ Provides shape, enables movement
   ‚Ä¢ Includes microtubules, microfilaments

9. Centrioles
   ‚Ä¢ Organize cell division
   ‚Ä¢ Form spindle fibers

PLANT-SPECIFIC ORGANELLES:

10. Chloroplasts
    ‚Ä¢ Site of photosynthesis
    ‚Ä¢ Contain chlorophyll (green pigment)
    ‚Ä¢ Double membrane, thylakoids inside
    ‚Ä¢ Has its own DNA

11. Cell Wall
    ‚Ä¢ Rigid outer layer
    ‚Ä¢ Made of cellulose
    ‚Ä¢ Provides support, protection

12. Large Central Vacuole
    ‚Ä¢ Occupies most of plant cell
    ‚Ä¢ Stores water, maintains turgor pressure`;
            } else if (concept === 'specialization') {
                info = `üîß CELL SPECIALIZATION

What is Cell Specialization?
Also called differentiation - cells develop specific structures and functions.

Why Specialize?
Multicellular organisms need different cells to perform different functions efficiently.

How Cells Specialize:
‚Ä¢ All cells have same DNA
‚Ä¢ Different genes are activated/deactivated
‚Ä¢ Cells produce specific proteins
‚Ä¢ Cells develop specific structures

ANIMAL CELL SPECIALIZATIONS:

1. Red Blood Cells (Erythrocytes)
   ‚Ä¢ Function: Carry oxygen
   ‚Ä¢ Adaptations: Biconcave shape (more surface area), no nucleus (more space for hemoglobin), flexible

2. White Blood Cells (Leukocytes)
   ‚Ä¢ Function: Fight infection
   ‚Ä¢ Adaptations: Can change shape (engulf pathogens), produce antibodies

3. Muscle Cells (Myocytes)
   ‚Ä¢ Function: Contract for movement
   ‚Ä¢ Adaptations: Many mitochondria (energy), contractile proteins (actin, myosin), arranged in fibers

4. Nerve Cells (Neurons)
   ‚Ä¢ Function: Transmit electrical signals
   ‚Ä¢ Adaptations: Long axons (transmit), dendrites (receive), myelin sheath (insulates, speeds signals)

5. Sperm Cells
   ‚Ä¢ Function: Fertilize egg
   ‚Ä¢ Adaptations: Flagellum (swimming), streamlined, enzymes to penetrate egg

PLANT CELL SPECIALIZATIONS:

6. Root Hair Cells
   ‚Ä¢ Function: Absorb water and minerals
   ‚Ä¢ Adaptations: Long extension (more surface area), thin walls

7. Palisade Mesophyll Cells
   ‚Ä¢ Function: Main photosynthesis site
   ‚Ä¢ Adaptations: Columnar shape, packed with chloroplasts, near top of leaf

8. Guard Cells
   ‚Ä¢ Function: Control stomata
   ‚Ä¢ Adaptations: Kidney-shaped, change shape with water pressure

9. Xylem Vessels
   ‚Ä¢ Function: Transport water
   ‚Ä¢ Adaptations: Hollow, dead at maturity, lignin rings for strength

Stem Cells:
‚Ä¢ Undifferentiated cells
‚Ä¢ Can become any cell type
‚Ä¢ Found in embryos, bone marrow
‚Ä¢ Used in medicine for regeneration`;
            } else if (concept === 'functions') {
                info = `‚öôÔ∏è CELLULAR FUNCTIONS

Essential Processes for Life:

1. METABOLISM
   ‚Ä¢ All chemical reactions in cell
   ‚Ä¢ Catabolism: Breaking down (e.g., cellular respiration)
   ‚Ä¢ Anabolism: Building up (e.g., protein synthesis)

2. HOMEOSTASIS
   ‚Ä¢ Maintaining stable internal conditions
   ‚Ä¢ Examples: Temperature, pH, water balance
   ‚Ä¢ Achieved through feedback mechanisms

3. CELLULAR RESPIRATION
   ‚Ä¢ Glucose + Oxygen ‚Üí CO‚ÇÇ + Water + ATP
   ‚Ä¢ Occurs in mitochondria
   ‚Ä¢ ATP = energy currency of cell
   ‚Ä¢ C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + 6O‚ÇÇ ‚Üí 6CO‚ÇÇ + 6H‚ÇÇO + 36ATP

4. PHOTOSYNTHESIS (Plant cells)
   ‚Ä¢ CO‚ÇÇ + Water + Light ‚Üí Glucose + Oxygen
   ‚Ä¢ Occurs in chloroplasts
   ‚Ä¢ 6CO‚ÇÇ + 6H‚ÇÇO + Light ‚Üí C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + 6O‚ÇÇ

5. PROTEIN SYNTHESIS
   ‚Ä¢ Transcription: DNA ‚Üí mRNA (in nucleus)
   ‚Ä¢ Translation: mRNA ‚Üí Protein (at ribosomes)
   ‚Ä¢ Involves: DNA, mRNA, tRNA, ribosomes, amino acids

6. CELL DIVISION
   ‚Ä¢ MITOSIS: Growth, repair, asexual reproduction
     - Produces 2 identical daughter cells
     - Phases: Prophase, Metaphase, Anaphase, Telophase
   
   ‚Ä¢ MEIOSIS: Sexual reproduction
     - Produces 4 genetically different gametes
     - Two divisions: Meiosis I and II

7. TRANSPORT ACROSS MEMBRANES
   ‚Ä¢ DIFFUSION: High to low concentration (passive)
   ‚Ä¢ OSMOSIS: Diffusion of water
   ‚Ä¢ FACILITATED DIFFUSION: With carrier proteins (passive)
   ‚Ä¢ ACTIVE TRANSPORT: Against gradient, needs ATP

8. CELL COMMUNICATION
   ‚Ä¢ Chemical signals (hormones, neurotransmitters)
   ‚Ä¢ Receptor proteins on cell membrane
   ‚Ä¢ Signal transduction pathways

Cell Cycle:
‚Ä¢ Interphase (G1, S, G2): Growth, DNA replication
‚Ä¢ Mitotic Phase: Mitosis + Cytokinesis
‚Ä¢ Checkpoints ensure proper division`;
            } else if (concept === 'systems') {
                info = `üîÑ BIOLOGICAL ORGANIZATION

Hierarchy of Life:

1. ATOMS ‚Üí MOLECULES ‚Üí ORGANELLES

2. CELLS
   ‚Ä¢ Basic unit of life
   ‚Ä¢ Can be specialized

3. TISSUES
   ‚Ä¢ Groups of similar cells
   ‚Ä¢ Animal tissues: Epithelial, connective, muscle, nervous
   ‚Ä¢ Plant tissues: Dermal, ground, vascular

4. ORGANS
   ‚Ä¢ Different tissues working together
   ‚Ä¢ Animal examples: Heart, lung, brain, stomach
   ‚Ä¢ Plant examples: Leaf, stem, root, flower

5. ORGAN SYSTEMS
   ‚Ä¢ Groups of organs working together

   HUMAN ORGAN SYSTEMS:
   ‚Ä¢ Circulatory: Heart, blood vessels (transport)
   ‚Ä¢ Digestive: Stomach, intestines (breakdown)
   ‚Ä¢ Nervous: Brain, nerves (control)
   ‚Ä¢ Respiratory: Lungs (gas exchange)
   ‚Ä¢ Muscular: Muscles (movement)
   ‚Ä¢ Skeletal: Bones (support)
   ‚Ä¢ Integumentary: Skin (protection)
   ‚Ä¢ Endocrine: Glands (hormones)
   ‚Ä¢ Excretory: Kidneys (waste removal)
   ‚Ä¢ Reproductive: Ovaries/testes (reproduction)
   ‚Ä¢ Immune: White blood cells (defense)

   PLANT ORGAN SYSTEMS:
   ‚Ä¢ Root System: Anchorage, absorption
   ‚Ä¢ Shoot System: Stems, leaves, flowers

6. ORGANISM
   ‚Ä¢ Complete living thing
   ‚Ä¢ Unicellular or multicellular

BEYOND THE ORGANISM:

7. POPULATION
   ‚Ä¢ Group of same species in area

8. COMMUNITY
   ‚Ä¢ Different populations interacting

9. ECOSYSTEM
   ‚Ä¢ Community + physical environment

10. BIOSPHERE
    ‚Ä¢ All ecosystems on Earth

Emergent Properties:
‚Ä¢ Characteristics at higher levels not present at lower levels
‚Ä¢ Example: Consciousness emerges at organism level
‚Ä¢ "The whole is greater than the sum of its parts"`;
            } else {
                info = `üè• REAL APPLICATIONS OF CELL BIOLOGY

1. MEDICINE & HEALTHCARE
   ‚Ä¢ Stem Cell Therapy: Repair damaged tissues
   ‚Ä¢ Cancer Research: Understanding uncontrolled cell division
   ‚Ä¢ Genetic Disorders: Studying cellular basis of diseases
   ‚Ä¢ Vaccines: Stimulating immune cell response
   ‚Ä¢ Antibiotics: Targeting bacterial cell structures

2. BIOTECHNOLOGY
   ‚Ä¢ Genetic Engineering: Modifying cell DNA
   ‚Ä¢ Cloning: Producing genetically identical cells/organisms
   ‚Ä¢ Tissue Culture: Growing cells in lab
   ‚Ä¢ Recombinant DNA Technology: Combining genes from different sources

3. AGRICULTURE
   ‚Ä¢ Genetically Modified Crops: Pest resistance, higher yield
   ‚Ä¢ Tissue Culture Propagation: Rapid plant multiplication
   ‚Ä¢ Biofertilizers: Using beneficial microorganisms

4. ENVIRONMENTAL SCIENCE
   ‚Ä¢ Bioremediation: Using cells to clean pollution
   ‚Ä¢ Biofuels: Algae/bacterial cells producing energy
   ‚Ä¢ Waste Treatment: Microbial digestion of waste

5. FORENSIC SCIENCE
   ‚Ä¢ DNA Fingerprinting: Identifying individuals
   ‚Ä¢ Cell Analysis: Crime scene investigation

6. PHARMACEUTICALS
   ‚Ä¢ Drug Development: Testing on cell cultures
   ‚Ä¢ Antibiotic Production: Using microorganisms
   ‚Ä¢ Insulin Production: Genetically engineered bacteria

7. FOOD INDUSTRY
   ‚Ä¢ Fermentation: Yeast/bacteria for food production
   ‚Ä¢ Probiotics: Beneficial bacterial cultures
   ‚Ä¢ Food Preservation: Controlling microbial growth

Ethical Considerations:
‚Ä¢ Stem Cell Research: Source of stem cells
‚Ä¢ Genetic Modification: Long-term effects
‚Ä¢ Cloning: Moral implications
‚Ä¢ Privacy: Genetic information security

Future Directions:
‚Ä¢ Personalized Medicine: Treatments based on individual cells
‚Ä¢ Organ Regeneration: Growing replacement organs
‚Ä¢ Synthetic Biology: Designing new cellular functions
‚Ä¢ Nanomedicine: Cellular-level drug delivery

Cell biology impacts nearly every aspect of modern life!`;
            }
            
            alert(info);
        };

        // Setup event listeners
        function setupEventListeners() {
            startPracticeBtn.addEventListener('click', startPractice);
            nextQuestionBtn.addEventListener('click', nextQuestion);
            skipQuestionBtn.addEventListener('click', skipQuestion);
            retryTopicBtn.addEventListener('click', retryTopic);
            backToHomeBtn.addEventListener('click', showWelcomePage);
            viewTopicsBtn.addEventListener('click', () => alert("Other Science topics would be available here."));
            
            studentNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') startPractice();
            });
        }

        // Create biology tip display
        function createBiologyTip() {
            const tipDiv = document.createElement('div');
            tipDiv.className = 'bio-tip';
            tipDiv.innerHTML = `<strong>Biology Tip:</strong> ${biologyTips[Math.floor(Math.random() * biologyTips.length)]}`;
            return tipDiv;
        }

        // Show welcome page
        function showWelcomePage() {
            welcomePage.style.display = 'flex';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'none';
            studentNameInput.value = appState.studentName || '';
        }

        // Show practice page
        function showPracticePage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'block';
            resultsPage.style.display = 'none';
            studentNameDisplay.textContent = appState.studentName;
            appState.startTime = new Date();
            loadQuestion();
        }

        // Show results page
        function showResultsPage() {
            welcomePage.style.display = 'none';
            practicePage.style.display = 'none';
            resultsPage.style.display = 'block';
            
            const percentage = Math.round((appState.score / allQuestions.length) * 100);
            const timeDiff = new Date() - appState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            
            finalScore.textContent = appState.score;
            scorePercentage.textContent = `${percentage}%`;
            cellBasicsScore.textContent = appState.cellBasicsScore;
            organellesScore.textContent = appState.organellesScore;
            specializationScore.textContent = appState.specializationScore;
            timeSpent.textContent = `${minutes}min`;
            
            if (percentage >= 90) {
                scoreMessage.textContent = "Outstanding! You've mastered cell biology!";
            } else if (percentage >= 75) {
                scoreMessage.textContent = "Excellent work! Your understanding of cells is impressive!";
            } else if (percentage >= 60) {
                scoreMessage.textContent = "Good job! You're developing strong biology knowledge!";
            } else {
                scoreMessage.textContent = "Keep practicing! Cells are the building blocks of life!";
            }
        }

        // Load question
        function loadQuestion() {
            const question = allQuestions[appState.currentQuestionIndex];
            
            progressText.textContent = `Question ${appState.currentQuestionIndex + 1} of ${allQuestions.length}`;
            progressFill.style.width = `${((appState.currentQuestionIndex + 1) / allQuestions.length) * 100}%`;
            
            questionText.textContent = question.question;
            
            bioTip.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackContainer.style.display = 'none';
            nextQuestionBtn.disabled = true;
            
            bioTip.appendChild(createBiologyTip());
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
        }

        // Handle option selection
        function selectOption(optionElement, selectedIndex) {
            const question = allQuestions[appState.currentQuestionIndex];
            const correctIndex = question.answer.charCodeAt(0) - 65;
            
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            allOptions[correctIndex].classList.add('correct');
            
            if (selectedIndex === correctIndex) {
                optionElement.classList.add('correct');
                appState.score++;
                appState.answered++;
                
                // Track scores by question type
                if (question.type === 'cell-basics') appState.cellBasicsScore++;
                if (question.type === 'organelles') appState.organellesScore++;
                if (question.type === 'specialization') appState.specializationScore++;
                if (question.type === 'functions') appState.functionsScore++;
                if (question.type === 'systems') appState.systemsScore++;
                if (question.type === 'applications') appState.applicationsScore++;
                
                optionElement.classList.add('pulse');
                showFeedback(true, question.explanation);
            } else {
                optionElement.classList.add('incorrect');
                appState.answered++;
                showFeedback(false, question.explanation);
            }
            
            nextQuestionBtn.disabled = false;
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            const feedbackTitle = feedbackContainer.querySelector('.feedback-title');
            const feedbackIcon = feedbackContainer.querySelector('.feedback-icon');
            
            if (isCorrect) {
                feedbackContainer.className = 'feedback-container feedback-correct';
                feedbackIcon.textContent = '‚úì';
                feedbackTitle.textContent = 'Correct!';
            } else {
                feedbackContainer.className = 'feedback-container feedback-incorrect';
                feedbackIcon.textContent = '‚úó';
                feedbackTitle.textContent = 'Incorrect';
            }
            
            feedbackExplanation.textContent = explanation;
            feedbackContainer.style.display = 'block';
            feedbackContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Next question
        function nextQuestion() {
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < allQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Skip question
        function skipQuestion() {
            appState.skipped++;
            appState.currentQuestionIndex++;
            
            if (appState.currentQuestionIndex < allQuestions.length) {
                loadQuestion();
            } else {
                showResultsPage();
            }
        }

        // Retry topic
        function retryTopic() {
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            appState.cellBasicsScore = 0;
            appState.organellesScore = 0;
            appState.specializationScore = 0;
            appState.functionsScore = 0;
            appState.systemsScore = 0;
            appState.applicationsScore = 0;
            showPracticePage();
        }

        // Start practice
        function startPractice() {
            const name = studentNameInput.value.trim();
            if (!name) {
                alert("Please enter your name to begin cell biology practice!");
                studentNameInput.focus();
                return;
            }
            
            appState.studentName = name;
            appState.currentQuestionIndex = 0;
            appState.score = 0;
            appState.skipped = 0;
            appState.answered = 0;
            appState.cellBasicsScore = 0;
            appState.organellesScore = 0;
            appState.specializationScore = 0;
            appState.functionsScore = 0;
            appState.systemsScore = 0;
            appState.applicationsScore = 0;
            
            showPracticePage();
        }

        // Initialize app
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
